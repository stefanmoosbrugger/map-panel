/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/ui","@grafana/runtime","lodash","@emotion/css","rxjs"],((t,e,n,o,r,i,a)=>(()=>{var s={3929:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,'.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-singlebar-even{\n  background-color: #000000;\n}\n.ol-scale-singlebar-odd{\n  background-color: #ffffff;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',"",{version:3,sources:["webpack://./../node_modules/ol/ol.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,oCAAoC;EACpC,uCAAuC;AACzC;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,8BAA8B;EAC9B,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,4BAA4B;EAC5B,qBAAqB;AACvB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;AACA;EACE,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,WAAW;EACX,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;AACA;EACE,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,0CAA0C;AAC5C;AACA;EACE,UAAU;AACZ;AACA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,uCAAuC;EACvC,kBAAkB;EAClB,YAAY;AACd;AACA;EACE,uCAAuC;AACzC;AACA;EACE,SAAS;EACT,UAAU;AACZ;AACA;EACE,SAAS;EACT,WAAW;EACX,qDAAqD;AACvD;AACA;EACE,UAAU;EACV,kBAAkB;EAClB,0DAA0D;AAC5D;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,oCAAoC;EACpC,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,UAAU;AACZ;AACA;;EAEE,qBAAqB;EACrB,oCAAoC;AACtC;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,0BAA0B;AAC5B;;;AAGA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,6BAA6B;EAC7B,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,SAAS;EACT,iBAAiB;EACjB,WAAW;EACX,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;EACE,eAAe;EACf,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,SAAS;EACT,QAAQ;EACR,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,UAAU;EACV,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,aAAa;AACf;AACA;EACE,SAAS;EACT,OAAO;EACP,wBAAwB;AAC1B;AACA;;EAEE,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,SAAS;EACT,kBAAkB;AACpB;AACA;;EAEE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,qCAAqC;AACvC;;AAEA;EACE,YAAY;AACd",sourcesContent:['.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-singlebar-even{\n  background-color: #000000;\n}\n.ol-scale-singlebar-odd{\n  background-color: #ffffff;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'],sourceRoot:""}]);const s=a},1064:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var o=n(559),r=n.n(o),i=n(3476),a=n.n(i)()(r());a.push([t.id,".ol-control.layer-switcher {\n  top: 0.5em;\n  right: 0.5em;\n  text-align: right;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click {\n  padding-right: 0.5em;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > button {\n  right: 0;\n  border-left: 0;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > .panel {\n  display: block;\n}\n.ol-control.layer-switcher.layer-switcher-activation-mode-click > .panel {\n  display: none;\n}\n.ol-control.layer-switcher button {\n  right: 0;\n  border-left: 0;\n}\n\n.ol-control.layer-switcher li.layer {\n  list-style: none;\n}\n\n\n.data-layer-add { \n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 10px;\n}\n\n.data-layer-remove { \n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n  margin-top: 10px;\n}","",{version:3,sources:["webpack://./GeomapPanel.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,oBAAoB;AACtB;AACA;EACE,QAAQ;EACR,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,QAAQ;EACR,cAAc;AAChB;;AAEA;EACE,gBAAgB;AAClB;;;AAGA;IACI,aAAa;IACb,yBAAyB;IACzB,mBAAmB;AACvB;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,gBAAgB;AAClB",sourcesContent:[".ol-control.layer-switcher {\n  top: 0.5em;\n  right: 0.5em;\n  text-align: right;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click {\n  padding-right: 0.5em;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > button {\n  right: 0;\n  border-left: 0;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > .panel {\n  display: block;\n}\n.ol-control.layer-switcher.layer-switcher-activation-mode-click > .panel {\n  display: none;\n}\n.ol-control.layer-switcher button {\n  right: 0;\n  border-left: 0;\n}\n\n.ol-control.layer-switcher li.layer {\n  list-style: none;\n}\n\n\n.data-layer-add { \n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 10px;\n}\n\n.data-layer-remove { \n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n  margin-top: 10px;\n}"],sourceRoot:""}]);const s=a},374:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var o=n(559),r=n.n(o),i=n(3476),a=n.n(i),s=n(1678),l=n.n(s),c=new URL(n(6058),n.b),u=new URL(n(5305),n.b),h=new URL(n(6747),n.b),f=new URL(n(4120),n.b),p=a()(r()),d=l()(c),g=l()(c,{hash:"#iefix"}),m=l()(u),y=l()(h),A=l()(f,{hash:"#fontmaki"});p.push([t.id,"/** Maki is a clean point of interest icon set made for web cartography\r\n\tby Mapbox https://www.mapbox.com/maki/\r\n*/\r\n@font-face {\r\n  font-family: 'fontmaki';\r\n  src: url("+d+");\r\n  src: url("+g+") format('embedded-opentype'),\r\n       url("+m+") format('woff'),\r\n       url("+y+") format('truetype'),\r\n       url("+A+") format('svg');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n}\r\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\r\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\r\n/*\r\n@media screen and (-webkit-min-device-pixel-ratio:0) {\r\n  @font-face {\r\n    font-family: 'fontmaki';\r\n    src: url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\r\n  }\r\n}\r\n*/\r\n \r\n [class^=\"maki-\"]:before, [class*=\" maki-\"]:before {\r\n  font-family: \"fontmaki\";\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  speak: none;\r\n \r\n  display: inline-block;\r\n  text-decoration: inherit;\r\n  width: 1em;\r\n  margin-right: .2em;\r\n  text-align: center;\r\n  /* opacity: .8; */\r\n \r\n  /* For safety - reset parent styles, that can break glyph codes*/\r\n  font-variant: normal;\r\n  text-transform: none;\r\n \r\n  /* fix buttons height, for twitter bootstrap */\r\n  line-height: 1em;\r\n \r\n  /* Animation center compensation - margins should be symmetric */\r\n  /* remove if not needed */\r\n  margin-left: .2em;\r\n \r\n  /* you can be more comfortable with increased icons size */\r\n  /* font-size: 120%; */\r\n \r\n  /* Font smoothing. That was taken from TWBS */\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n \r\n  /* Uncomment for 3D effect */\r\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\r\n}\r\n \r\n.maki-bicycle:before { content: '\\e800'; } /* '' */\r\n.maki-building:before { content: '\\e801'; } /* '' */\r\n.maki-bus:before { content: '\\e802'; } /* '' */\r\n.maki-cafe:before { content: '\\e803'; } /* '' */\r\n.maki-camera:before { content: '\\e804'; } /* '' */\r\n.maki-campsite:before { content: '\\e805'; } /* '' */\r\n.maki-car:before { content: '\\e806'; } /* '' */\r\n.maki-cemetery:before { content: '\\e807'; } /* '' */\r\n.maki-chemist:before { content: '\\e808'; } /* '' */\r\n.maki-cinema:before { content: '\\e809'; } /* '' */\r\n.maki-circle:before { content: '\\e80a'; } /* '' */\r\n.maki-circle_stroked:before { content: '\\e80b'; } /* '' */\r\n.maki-city:before { content: '\\e80c'; } /* '' */\r\n.maki-clothing_store:before { content: '\\e80d'; } /* '' */\r\n.maki-college:before { content: '\\e80e'; } /* '' */\r\n.maki-commercial:before { content: '\\e80f'; } /* '' */\r\n.maki-cricket:before { content: '\\e810'; } /* '' */\r\n.maki-cross:before { content: '\\e811'; } /* '' */\r\n.maki-dam:before { content: '\\e812'; } /* '' */\r\n.maki-danger:before { content: '\\e813'; } /* '' */\r\n.maki-dentist:before { content: '\\e814'; } /* '' */\r\n.maki-disability:before { content: '\\e815'; } /* '' */\r\n.maki-dog_park:before { content: '\\e816'; } /* '' */\r\n.maki-embassy:before { content: '\\e817'; } /* '' */\r\n.maki-emergency_telephone:before { content: '\\e818'; } /* '' */\r\n.maki-entrance:before { content: '\\e819'; } /* '' */\r\n.maki-farm:before { content: '\\e81a'; } /* '' */\r\n.maki-fast_food:before { content: '\\e81b'; } /* '' */\r\n.maki-ferry:before { content: '\\e81c'; } /* '' */\r\n.maki-fire_station:before { content: '\\e81d'; } /* '' */\r\n.maki-fuel:before { content: '\\e81e'; } /* '' */\r\n.maki-garden:before { content: '\\e81f'; } /* '' */\r\n.maki-gift:before { content: '\\e820'; } /* '' */\r\n.maki-golf:before { content: '\\e821'; } /* '' */\r\n.maki-grocery:before { content: '\\e822'; } /* '' */\r\n.maki-hairdresser:before { content: '\\e823'; } /* '' */\r\n.maki-harbor:before { content: '\\e824'; } /* '' */\r\n.maki-heart:before { content: '\\e825'; } /* '' */\r\n.maki-heliport:before { content: '\\e826'; } /* '' */\r\n.maki-hospital:before { content: '\\e827'; } /* '' */\r\n.maki-ice_cream:before { content: '\\e828'; } /* '' */\r\n.maki-industrial:before { content: '\\e829'; } /* '' */\r\n.maki-land_use:before { content: '\\e82a'; } /* '' */\r\n.maki-laundry:before { content: '\\e82b'; } /* '' */\r\n.maki-library:before { content: '\\e82c'; } /* '' */\r\n.maki-lighthouse:before { content: '\\e82d'; } /* '' */\r\n.maki-lodging:before { content: '\\e82e'; } /* '' */\r\n.maki-logging:before { content: '\\e82f'; } /* '' */\r\n.maki-london_underground:before { content: '\\e830'; } /* '' */\r\n.maki-marker:before { content: '\\e831'; } /* '' */\r\n.maki-minefield:before { content: '\\e832'; } /* '' */\r\n.maki-marker_stroked:before { content: '\\e833'; } /* '' */\r\n.maki-mobilephone:before { content: '\\e834'; } /* '' */\r\n.maki-monument:before { content: '\\e835'; } /* '' */\r\n.maki-museum:before { content: '\\e836'; } /* '' */\r\n.maki-music:before { content: '\\e837'; } /* '' */\r\n.maki-oil_well:before { content: '\\e838'; } /* '' */\r\n.maki-park:before { content: '\\e839'; } /* '' */\r\n.maki-park2:before { content: '\\e83a'; } /* '' */\r\n.maki-parking:before { content: '\\e83b'; } /* '' */\r\n.maki-parking_garage:before { content: '\\e83c'; } /* '' */\r\n.maki-pharmacy:before { content: '\\e83d'; } /* '' */\r\n.maki-pitch:before { content: '\\e83e'; } /* '' */\r\n.maki-playground:before { content: '\\e83f'; } /* '' */\r\n.maki-police:before { content: '\\e840'; } /* '' */\r\n.maki-polling_place:before { content: '\\e841'; } /* '' */\r\n.maki-post:before { content: '\\e842'; } /* '' */\r\n.maki-prison:before { content: '\\e843'; } /* '' */\r\n.maki-rail:before { content: '\\e844'; } /* '' */\r\n.maki-rail_above:before { content: '\\e845'; } /* '' */\r\n.maki-rail_light:before { content: '\\e846'; } /* '' */\r\n.maki-rail_metro:before { content: '\\e847'; } /* '' */\r\n.maki-rail_underground:before { content: '\\e848'; } /* '' */\r\n.maki-religious-christian:before { content: '\\e849'; } /* '' */\r\n.maki-religious-jewish:before { content: '\\e84a'; } /* '' */\r\n.maki-religious-muslim:before { content: '\\e84b'; } /* '' */\r\n.maki-religious-place_of_worship:before { content: '\\e84c'; } /* '' */\r\n.maki-restaurant:before { content: '\\e84d'; } /* '' */\r\n.maki-roadblock:before { content: '\\e84e'; } /* '' */\r\n.maki-rocket:before { content: '\\e84f'; } /* '' */\r\n.maki-school:before { content: '\\e850'; } /* '' */\r\n.maki-scooter:before { content: '\\e851'; } /* '' */\r\n.maki-shop:before { content: '\\e852'; } /* '' */\r\n.maki-skiing:before { content: '\\e853'; } /* '' */\r\n.maki-slaughterhouse:before { content: '\\e854'; } /* '' */\r\n.maki-soccer:before { content: '\\e855'; } /* '' */\r\n.maki-square:before { content: '\\e856'; } /* '' */\r\n.maki-square_stroked:before { content: '\\e857'; } /* '' */\r\n.maki-star:before { content: '\\e858'; } /* '' */\r\n.maki-star_stroked:before { content: '\\e859'; } /* '' */\r\n.maki-suitcase:before { content: '\\e85a'; } /* '' */\r\n.maki-swimming:before { content: '\\e85b'; } /* '' */\r\n.maki-telephone:before { content: '\\e85c'; } /* '' */\r\n.maki-tennis:before { content: '\\e85d'; } /* '' */\r\n.maki-theatre:before { content: '\\e85e'; } /* '' */\r\n.maki-toilets:before { content: '\\e85f'; } /* '' */\r\n.maki-town:before { content: '\\e860'; } /* '' */\r\n.maki-town_hall:before { content: '\\e861'; } /* '' */\r\n.maki-triangle:before { content: '\\e862'; } /* '' */\r\n.maki-triangle_stroked:before { content: '\\e863'; } /* '' */\r\n.maki-village:before { content: '\\e864'; } /* '' */\r\n.maki-warehouse:before { content: '\\e865'; } /* '' */\r\n.maki-waste_basket:before { content: '\\e866'; } /* '' */\r\n.maki-water:before { content: '\\e867'; } /* '' */\r\n.maki-wetland:before { content: '\\e868'; } /* '' */\r\n.maki-zoo:before { content: '\\e869'; } /* '' */\r\n.maki-aerialway:before { content: '\\e86a'; } /* '' */\r\n.maki-airfield:before { content: '\\e86b'; } /* '' */\r\n.maki-airport:before { content: '\\e86c'; } /* '' */\r\n.maki-alcohol_shop:before { content: '\\e86d'; } /* '' */\r\n.maki-america_football:before { content: '\\e86e'; } /* '' */\r\n.maki-art_gallery:before { content: '\\e86f'; } /* '' */\r\n.maki-bakery:before { content: '\\e870'; } /* '' */\r\n.maki-bank:before { content: '\\e871'; } /* '' */\r\n.maki-bar:before { content: '\\e872'; } /* '' */\r\n.maki-baseball:before { content: '\\e873'; } /* '' */\r\n.maki-basketball:before { content: '\\e874'; } /* '' */\r\n.maki-beer:before { content: '\\e875'; } /* '' */","",{version:3,sources:["webpack://./static/css/fontmaki.css"],names:[],mappings:"AAAA;;CAEC;AACD;EACE,uBAAuB;EACvB,4CAAyC;EACzC;;;4DAGgE;EAChE,mBAAmB;EACnB,kBAAkB;AACpB;AACA,gGAAgG;AAChG,2FAA2F;AAC3F;;;;;;;CAOC;;CAEA;EACC,uBAAuB;EACvB,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;;EAEX,qBAAqB;EACrB,wBAAwB;EACxB,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;;EAEjB,gEAAgE;EAChE,oBAAoB;EACpB,oBAAoB;;EAEpB,8CAA8C;EAC9C,gBAAgB;;EAEhB,gEAAgE;EAChE,yBAAyB;EACzB,iBAAiB;;EAEjB,0DAA0D;EAC1D,qBAAqB;;EAErB,6CAA6C;EAC7C,mCAAmC;EACnC,kCAAkC;;EAElC,4BAA4B;EAC5B,uDAAuD;AACzD;;AAEA,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,mBAAmB,gBAAgB,EAAE,EAAE,QAAQ;AAC/C,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,mBAAmB,gBAAgB,EAAE,EAAE,QAAQ;AAC/C,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,mBAAmB,gBAAgB,EAAE,EAAE,QAAQ;AAC/C,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,mCAAmC,gBAAgB,EAAE,EAAE,QAAQ;AAC/D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,kCAAkC,gBAAgB,EAAE,EAAE,QAAQ;AAC9D,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,mCAAmC,gBAAgB,EAAE,EAAE,QAAQ;AAC/D,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,0CAA0C,gBAAgB,EAAE,EAAE,QAAQ;AACtE,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,mBAAmB,gBAAgB,EAAE,EAAE,QAAQ;AAC/C,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,mBAAmB,gBAAgB,EAAE,EAAE,QAAQ;AAC/C,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ",sourcesContent:["/** Maki is a clean point of interest icon set made for web cartography\r\n\tby Mapbox https://www.mapbox.com/maki/\r\n*/\r\n@font-face {\r\n  font-family: 'fontmaki';\r\n  src: url('../font/fontmaki.eot?66752613');\r\n  src: url('../font/fontmaki.eot?66752613#iefix') format('embedded-opentype'),\r\n       url('../font/fontmaki.woff?66752613') format('woff'),\r\n       url('../font/fontmaki.ttf?66752613') format('truetype'),\r\n       url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n}\r\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\r\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\r\n/*\r\n@media screen and (-webkit-min-device-pixel-ratio:0) {\r\n  @font-face {\r\n    font-family: 'fontmaki';\r\n    src: url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\r\n  }\r\n}\r\n*/\r\n \r\n [class^=\"maki-\"]:before, [class*=\" maki-\"]:before {\r\n  font-family: \"fontmaki\";\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  speak: none;\r\n \r\n  display: inline-block;\r\n  text-decoration: inherit;\r\n  width: 1em;\r\n  margin-right: .2em;\r\n  text-align: center;\r\n  /* opacity: .8; */\r\n \r\n  /* For safety - reset parent styles, that can break glyph codes*/\r\n  font-variant: normal;\r\n  text-transform: none;\r\n \r\n  /* fix buttons height, for twitter bootstrap */\r\n  line-height: 1em;\r\n \r\n  /* Animation center compensation - margins should be symmetric */\r\n  /* remove if not needed */\r\n  margin-left: .2em;\r\n \r\n  /* you can be more comfortable with increased icons size */\r\n  /* font-size: 120%; */\r\n \r\n  /* Font smoothing. That was taken from TWBS */\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n \r\n  /* Uncomment for 3D effect */\r\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\r\n}\r\n \r\n.maki-bicycle:before { content: '\\e800'; } /* '' */\r\n.maki-building:before { content: '\\e801'; } /* '' */\r\n.maki-bus:before { content: '\\e802'; } /* '' */\r\n.maki-cafe:before { content: '\\e803'; } /* '' */\r\n.maki-camera:before { content: '\\e804'; } /* '' */\r\n.maki-campsite:before { content: '\\e805'; } /* '' */\r\n.maki-car:before { content: '\\e806'; } /* '' */\r\n.maki-cemetery:before { content: '\\e807'; } /* '' */\r\n.maki-chemist:before { content: '\\e808'; } /* '' */\r\n.maki-cinema:before { content: '\\e809'; } /* '' */\r\n.maki-circle:before { content: '\\e80a'; } /* '' */\r\n.maki-circle_stroked:before { content: '\\e80b'; } /* '' */\r\n.maki-city:before { content: '\\e80c'; } /* '' */\r\n.maki-clothing_store:before { content: '\\e80d'; } /* '' */\r\n.maki-college:before { content: '\\e80e'; } /* '' */\r\n.maki-commercial:before { content: '\\e80f'; } /* '' */\r\n.maki-cricket:before { content: '\\e810'; } /* '' */\r\n.maki-cross:before { content: '\\e811'; } /* '' */\r\n.maki-dam:before { content: '\\e812'; } /* '' */\r\n.maki-danger:before { content: '\\e813'; } /* '' */\r\n.maki-dentist:before { content: '\\e814'; } /* '' */\r\n.maki-disability:before { content: '\\e815'; } /* '' */\r\n.maki-dog_park:before { content: '\\e816'; } /* '' */\r\n.maki-embassy:before { content: '\\e817'; } /* '' */\r\n.maki-emergency_telephone:before { content: '\\e818'; } /* '' */\r\n.maki-entrance:before { content: '\\e819'; } /* '' */\r\n.maki-farm:before { content: '\\e81a'; } /* '' */\r\n.maki-fast_food:before { content: '\\e81b'; } /* '' */\r\n.maki-ferry:before { content: '\\e81c'; } /* '' */\r\n.maki-fire_station:before { content: '\\e81d'; } /* '' */\r\n.maki-fuel:before { content: '\\e81e'; } /* '' */\r\n.maki-garden:before { content: '\\e81f'; } /* '' */\r\n.maki-gift:before { content: '\\e820'; } /* '' */\r\n.maki-golf:before { content: '\\e821'; } /* '' */\r\n.maki-grocery:before { content: '\\e822'; } /* '' */\r\n.maki-hairdresser:before { content: '\\e823'; } /* '' */\r\n.maki-harbor:before { content: '\\e824'; } /* '' */\r\n.maki-heart:before { content: '\\e825'; } /* '' */\r\n.maki-heliport:before { content: '\\e826'; } /* '' */\r\n.maki-hospital:before { content: '\\e827'; } /* '' */\r\n.maki-ice_cream:before { content: '\\e828'; } /* '' */\r\n.maki-industrial:before { content: '\\e829'; } /* '' */\r\n.maki-land_use:before { content: '\\e82a'; } /* '' */\r\n.maki-laundry:before { content: '\\e82b'; } /* '' */\r\n.maki-library:before { content: '\\e82c'; } /* '' */\r\n.maki-lighthouse:before { content: '\\e82d'; } /* '' */\r\n.maki-lodging:before { content: '\\e82e'; } /* '' */\r\n.maki-logging:before { content: '\\e82f'; } /* '' */\r\n.maki-london_underground:before { content: '\\e830'; } /* '' */\r\n.maki-marker:before { content: '\\e831'; } /* '' */\r\n.maki-minefield:before { content: '\\e832'; } /* '' */\r\n.maki-marker_stroked:before { content: '\\e833'; } /* '' */\r\n.maki-mobilephone:before { content: '\\e834'; } /* '' */\r\n.maki-monument:before { content: '\\e835'; } /* '' */\r\n.maki-museum:before { content: '\\e836'; } /* '' */\r\n.maki-music:before { content: '\\e837'; } /* '' */\r\n.maki-oil_well:before { content: '\\e838'; } /* '' */\r\n.maki-park:before { content: '\\e839'; } /* '' */\r\n.maki-park2:before { content: '\\e83a'; } /* '' */\r\n.maki-parking:before { content: '\\e83b'; } /* '' */\r\n.maki-parking_garage:before { content: '\\e83c'; } /* '' */\r\n.maki-pharmacy:before { content: '\\e83d'; } /* '' */\r\n.maki-pitch:before { content: '\\e83e'; } /* '' */\r\n.maki-playground:before { content: '\\e83f'; } /* '' */\r\n.maki-police:before { content: '\\e840'; } /* '' */\r\n.maki-polling_place:before { content: '\\e841'; } /* '' */\r\n.maki-post:before { content: '\\e842'; } /* '' */\r\n.maki-prison:before { content: '\\e843'; } /* '' */\r\n.maki-rail:before { content: '\\e844'; } /* '' */\r\n.maki-rail_above:before { content: '\\e845'; } /* '' */\r\n.maki-rail_light:before { content: '\\e846'; } /* '' */\r\n.maki-rail_metro:before { content: '\\e847'; } /* '' */\r\n.maki-rail_underground:before { content: '\\e848'; } /* '' */\r\n.maki-religious-christian:before { content: '\\e849'; } /* '' */\r\n.maki-religious-jewish:before { content: '\\e84a'; } /* '' */\r\n.maki-religious-muslim:before { content: '\\e84b'; } /* '' */\r\n.maki-religious-place_of_worship:before { content: '\\e84c'; } /* '' */\r\n.maki-restaurant:before { content: '\\e84d'; } /* '' */\r\n.maki-roadblock:before { content: '\\e84e'; } /* '' */\r\n.maki-rocket:before { content: '\\e84f'; } /* '' */\r\n.maki-school:before { content: '\\e850'; } /* '' */\r\n.maki-scooter:before { content: '\\e851'; } /* '' */\r\n.maki-shop:before { content: '\\e852'; } /* '' */\r\n.maki-skiing:before { content: '\\e853'; } /* '' */\r\n.maki-slaughterhouse:before { content: '\\e854'; } /* '' */\r\n.maki-soccer:before { content: '\\e855'; } /* '' */\r\n.maki-square:before { content: '\\e856'; } /* '' */\r\n.maki-square_stroked:before { content: '\\e857'; } /* '' */\r\n.maki-star:before { content: '\\e858'; } /* '' */\r\n.maki-star_stroked:before { content: '\\e859'; } /* '' */\r\n.maki-suitcase:before { content: '\\e85a'; } /* '' */\r\n.maki-swimming:before { content: '\\e85b'; } /* '' */\r\n.maki-telephone:before { content: '\\e85c'; } /* '' */\r\n.maki-tennis:before { content: '\\e85d'; } /* '' */\r\n.maki-theatre:before { content: '\\e85e'; } /* '' */\r\n.maki-toilets:before { content: '\\e85f'; } /* '' */\r\n.maki-town:before { content: '\\e860'; } /* '' */\r\n.maki-town_hall:before { content: '\\e861'; } /* '' */\r\n.maki-triangle:before { content: '\\e862'; } /* '' */\r\n.maki-triangle_stroked:before { content: '\\e863'; } /* '' */\r\n.maki-village:before { content: '\\e864'; } /* '' */\r\n.maki-warehouse:before { content: '\\e865'; } /* '' */\r\n.maki-waste_basket:before { content: '\\e866'; } /* '' */\r\n.maki-water:before { content: '\\e867'; } /* '' */\r\n.maki-wetland:before { content: '\\e868'; } /* '' */\r\n.maki-zoo:before { content: '\\e869'; } /* '' */\r\n.maki-aerialway:before { content: '\\e86a'; } /* '' */\r\n.maki-airfield:before { content: '\\e86b'; } /* '' */\r\n.maki-airport:before { content: '\\e86c'; } /* '' */\r\n.maki-alcohol_shop:before { content: '\\e86d'; } /* '' */\r\n.maki-america_football:before { content: '\\e86e'; } /* '' */\r\n.maki-art_gallery:before { content: '\\e86f'; } /* '' */\r\n.maki-bakery:before { content: '\\e870'; } /* '' */\r\n.maki-bank:before { content: '\\e871'; } /* '' */\r\n.maki-bar:before { content: '\\e872'; } /* '' */\r\n.maki-baseball:before { content: '\\e873'; } /* '' */\r\n.maki-basketball:before { content: '\\e874'; } /* '' */\r\n.maki-beer:before { content: '\\e875'; } /* '' */"],sourceRoot:""}]);const v=p},6320:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var o=n(559),r=n.n(o),i=n(3476),a=n.n(i),s=n(1678),l=n.n(s),c=new URL(n(7709),n.b),u=new URL(n(9103),n.b),h=new URL(n(4193),n.b),f=new URL(n(8119),n.b),p=new URL(n(7562),n.b),d=a()(r()),g=l()(c),m=l()(c,{hash:"#iefix"}),y=l()(u),A=l()(h),v=l()(f),_=l()(p,{hash:"#fontmaki2"});d.push([t.id,"@font-face {\n  font-family: 'fontmaki2';\n  src: url("+g+");\n  src: url("+m+") format('embedded-opentype'),\n       url("+y+") format('woff2'),\n       url("+A+") format('woff'),\n       url("+v+") format('truetype'),\n       url("+_+") format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontmaki2';\n    src: url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\n  }\n}\n*/\n \n [class^=\"maki2-\"]:before, [class*=\" maki2-\"]:before {\n  font-family: \"fontmaki2\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.maki2-aerialway:before { content: '\\e800'; } /* '' */\n.maki2-airfield:before { content: '\\e801'; } /* '' */\n.maki2-airport:before { content: '\\e802'; } /* '' */\n.maki2-alcohol-shop:before { content: '\\e803'; } /* '' */\n.maki2-america-football:before { content: '\\e804'; } /* '' */\n.maki2-amusement-park:before { content: '\\e805'; } /* '' */\n.maki2-aquarium:before { content: '\\e806'; } /* '' */\n.maki2-art-gallery:before { content: '\\e807'; } /* '' */\n.maki2-attraction:before { content: '\\e808'; } /* '' */\n.maki2-bakery:before { content: '\\e809'; } /* '' */\n.maki2-bank:before { content: '\\e80a'; } /* '' */\n.maki2-bar:before { content: '\\e80b'; } /* '' */\n.maki2-barrier:before { content: '\\e80c'; } /* '' */\n.maki2-baseball:before { content: '\\e80d'; } /* '' */\n.maki2-basketball:before { content: '\\e80e'; } /* '' */\n.maki2-bbq:before { content: '\\e80f'; } /* '' */\n.maki2-beer:before { content: '\\e810'; } /* '' */\n.maki2-bicycle:before { content: '\\e811'; } /* '' */\n.maki2-bicycle-share:before { content: '\\e812'; } /* '' */\n.maki2-blood-bank:before { content: '\\e813'; } /* '' */\n.maki2-buddhism:before { content: '\\e814'; } /* '' */\n.maki2-building:before { content: '\\e815'; } /* '' */\n.maki2-building-alt1:before { content: '\\e816'; } /* '' */\n.maki2-bus:before { content: '\\e817'; } /* '' */\n.maki2-cafe:before { content: '\\e818'; } /* '' */\n.maki2-campsite:before { content: '\\e819'; } /* '' */\n.maki2-car:before { content: '\\e81a'; } /* '' */\n.maki2-car-rental:before { content: '\\e81b'; } /* '' */\n.maki2-car-repair:before { content: '\\e81c'; } /* '' */\n.maki2-casino:before { content: '\\e81d'; } /* '' */\n.maki2-castle:before { content: '\\e81e'; } /* '' */\n.maki2-cemetery:before { content: '\\e81f'; } /* '' */\n.maki2-charging-station:before { content: '\\e820'; } /* '' */\n.maki2-cinema:before { content: '\\e821'; } /* '' */\n.maki2-circle:before { content: '\\e822'; } /* '' */\n.maki2-circle-stroked:before { content: '\\e823'; } /* '' */\n.maki2-city:before { content: '\\e824'; } /* '' */\n.maki2-clothing-store:before { content: '\\e825'; } /* '' */\n.maki2-college:before { content: '\\e826'; } /* '' */\n.maki2-commercial:before { content: '\\e827'; } /* '' */\n.maki2-cricket:before { content: '\\e828'; } /* '' */\n.maki2-cross:before { content: '\\e829'; } /* '' */\n.maki2-dam:before { content: '\\e82a'; } /* '' */\n.maki2-danger:before { content: '\\e82b'; } /* '' */\n.maki2-defibrillator:before { content: '\\e82c'; } /* '' */\n.maki2-dentist:before { content: '\\e82d'; } /* '' */\n.maki2-doctor:before { content: '\\e82e'; } /* '' */\n.maki2-dog-park:before { content: '\\e82f'; } /* '' */\n.maki2-drinking-water:before { content: '\\e830'; } /* '' */\n.maki2-embassy:before { content: '\\e831'; } /* '' */\n.maki2-emergency-phone:before { content: '\\e832'; } /* '' */\n.maki2-entrance:before { content: '\\e833'; } /* '' */\n.maki2-entrance-alt1:before { content: '\\e834'; } /* '' */\n.maki2-farm:before { content: '\\e835'; } /* '' */\n.maki2-fast-food:before { content: '\\e836'; } /* '' */\n.maki2-fence:before { content: '\\e837'; } /* '' */\n.maki2-ferry:before { content: '\\e838'; } /* '' */\n.maki2-fire-station:before { content: '\\e839'; } /* '' */\n.maki2-florist:before { content: '\\e83a'; } /* '' */\n.maki2-fuel:before { content: '\\e83b'; } /* '' */\n.maki2-furniture:before { content: '\\e83c'; } /* '' */\n.maki2-gaming:before { content: '\\e83d'; } /* '' */\n.maki2-garden:before { content: '\\e83e'; } /* '' */\n.maki2-garden-center:before { content: '\\e83f'; } /* '' */\n.maki2-gift:before { content: '\\e840'; } /* '' */\n.maki2-globe:before { content: '\\e841'; } /* '' */\n.maki2-golf:before { content: '\\e842'; } /* '' */\n.maki2-grocery:before { content: '\\e843'; } /* '' */\n.maki2-hairdresser:before { content: '\\e844'; } /* '' */\n.maki2-harbor:before { content: '\\e845'; } /* '' */\n.maki2-hardware:before { content: '\\e846'; } /* '' */\n.maki2-heart:before { content: '\\e847'; } /* '' */\n.maki2-heliport:before { content: '\\e848'; } /* '' */\n.maki2-home:before { content: '\\e849'; } /* '' */\n.maki2-horse-riding:before { content: '\\e84a'; } /* '' */\n.maki2-hospital:before { content: '\\e84b'; } /* '' */\n.maki2-ice-cream:before { content: '\\e84c'; } /* '' */\n.maki2-industry:before { content: '\\e84d'; } /* '' */\n.maki2-information:before { content: '\\e84e'; } /* '' */\n.maki2-jewelry:before { content: '\\e84f'; } /* '' */\n.maki2-karaoke:before { content: '\\e850'; } /* '' */\n.maki2-landmark:before { content: '\\e851'; } /* '' */\n.maki2-landuse:before { content: '\\e852'; } /* '' */\n.maki2-laundry:before { content: '\\e853'; } /* '' */\n.maki2-library:before { content: '\\e854'; } /* '' */\n.maki2-lighthouse:before { content: '\\e855'; } /* '' */\n.maki2-lodging:before { content: '\\e856'; } /* '' */\n.maki2-logging:before { content: '\\e857'; } /* '' */\n.maki2-marker:before { content: '\\e858'; } /* '' */\n.maki2-marker-stroked:before { content: '\\e859'; } /* '' */\n.maki2-mobile-phone:before { content: '\\e85a'; } /* '' */\n.maki2-monument:before { content: '\\e85b'; } /* '' */\n.maki2-mountain:before { content: '\\e85c'; } /* '' */\n.maki2-museum:before { content: '\\e85d'; } /* '' */\n.maki2-music:before { content: '\\e85e'; } /* '' */\n.maki2-natural:before { content: '\\e85f'; } /* '' */\n.maki2-optician:before { content: '\\e860'; } /* '' */\n.maki2-paint:before { content: '\\e861'; } /* '' */\n.maki2-park:before { content: '\\e862'; } /* '' */\n.maki2-park-alt1:before { content: '\\e863'; } /* '' */\n.maki2-parking:before { content: '\\e864'; } /* '' */\n.maki2-parking-garage:before { content: '\\e865'; } /* '' */\n.maki2-pharmacy:before { content: '\\e866'; } /* '' */\n.maki2-picnic-site:before { content: '\\e867'; } /* '' */\n.maki2-pitch:before { content: '\\e868'; } /* '' */\n.maki2-place-of-worship:before { content: '\\e869'; } /* '' */\n.maki2-playground:before { content: '\\e86a'; } /* '' */\n.maki2-police:before { content: '\\e86b'; } /* '' */\n.maki2-post:before { content: '\\e86c'; } /* '' */\n.maki2-prison:before { content: '\\e86d'; } /* '' */\n.maki2-rail:before { content: '\\e86e'; } /* '' */\n.maki2-rail-light:before { content: '\\e86f'; } /* '' */\n.maki2-rail-metro:before { content: '\\e870'; } /* '' */\n.maki2-ranger-station:before { content: '\\e871'; } /* '' */\n.maki2-recycling:before { content: '\\e872'; } /* '' */\n.maki2-religious-christian:before { content: '\\e873'; } /* '' */\n.maki2-religious-jewish:before { content: '\\e874'; } /* '' */\n.maki2-religious-muslim:before { content: '\\e875'; } /* '' */\n.maki2-residential-community:before { content: '\\e876'; } /* '' */\n.maki2-restaurant:before { content: '\\e877'; } /* '' */\n.maki2-roadblock:before { content: '\\e878'; } /* '' */\n.maki2-rocket:before { content: '\\e879'; } /* '' */\n.maki2-school:before { content: '\\e87a'; } /* '' */\n.maki2-scooter:before { content: '\\e87b'; } /* '' */\n.maki2-shelter:before { content: '\\e87c'; } /* '' */\n.maki2-shoe:before { content: '\\e87d'; } /* '' */\n.maki2-shop:before { content: '\\e87e'; } /* '' */\n.maki2-skiing:before { content: '\\e87f'; } /* '' */\n.maki2-slaughterhouse:before { content: '\\e880'; } /* '' */\n.maki2-snowmobile:before { content: '\\e881'; } /* '' */\n.maki2-soccer:before { content: '\\e882'; } /* '' */\n.maki2-square:before { content: '\\e883'; } /* '' */\n.maki2-square-stroked:before { content: '\\e884'; } /* '' */\n.maki2-stadium:before { content: '\\e885'; } /* '' */\n.maki2-star:before { content: '\\e886'; } /* '' */\n.maki2-star-stroked:before { content: '\\e887'; } /* '' */\n.maki2-suitcase:before { content: '\\e888'; } /* '' */\n.maki2-sushi:before { content: '\\e889'; } /* '' */\n.maki2-swimming:before { content: '\\e88a'; } /* '' */\n.maki2-teahouse:before { content: '\\e88b'; } /* '' */\n.maki2-telephone:before { content: '\\e88c'; } /* '' */\n.maki2-tennis:before { content: '\\e88d'; } /* '' */\n.maki2-theatre:before { content: '\\e88e'; } /* '' */\n.maki2-toilet:before { content: '\\e88f'; } /* '' */\n.maki2-town:before { content: '\\e890'; } /* '' */\n.maki2-town-hall:before { content: '\\e891'; } /* '' */\n.maki2-triangle:before { content: '\\e892'; } /* '' */\n.maki2-triangle-stroked:before { content: '\\e893'; } /* '' */\n.maki2-veterinary:before { content: '\\e894'; } /* '' */\n.maki2-village:before { content: '\\e895'; } /* '' */\n.maki2-volcano:before { content: '\\e896'; } /* '' */\n.maki2-warehouse:before { content: '\\e897'; } /* '' */\n.maki2-waste-basket:before { content: '\\e898'; } /* '' */\n.maki2-watch:before { content: '\\e899'; } /* '' */\n.maki2-water:before { content: '\\e89a'; } /* '' */\n.maki2-watermill:before { content: '\\e89b'; } /* '' */\n.maki2-wetland:before { content: '\\e89c'; } /* '' */\n.maki2-wheelchair:before { content: '\\e89d'; } /* '' */\n.maki2-windmill:before { content: '\\e89e'; } /* '' */\n.maki2-zoo:before { content: '\\e89f'; } /* '' */","",{version:3,sources:["webpack://./static/css/fontmaki2.css"],names:[],mappings:"AAAA;EACE,wBAAwB;EACxB,4CAA0C;EAC1C;;;;4DAIkE;EAClE,mBAAmB;EACnB,kBAAkB;AACpB;AACA,gGAAgG;AAChG,2FAA2F;AAC3F;;;;;;;CAOC;;CAEA;EACC,wBAAwB;EACxB,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;;EAEX,qBAAqB;EACrB,wBAAwB;EACxB,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;;EAEjB,gEAAgE;EAChE,oBAAoB;EACpB,oBAAoB;;EAEpB,8CAA8C;EAC9C,gBAAgB;;EAEhB,gEAAgE;EAChE,yBAAyB;EACzB,iBAAiB;;EAEjB,0DAA0D;EAC1D,qBAAqB;;EAErB,6CAA6C;EAC7C,mCAAmC;EACnC,kCAAkC;;EAElC,4BAA4B;EAC5B,uDAAuD;AACzD;;AAEA,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,oCAAoC,gBAAgB,EAAE,EAAE,QAAQ;AAChE,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,sCAAsC,gBAAgB,EAAE,EAAE,QAAQ;AAClE,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ",sourcesContent:["@font-face {\n  font-family: 'fontmaki2';\n  src: url('../font/fontmaki2.eot?38664031');\n  src: url('../font/fontmaki2.eot?38664031#iefix') format('embedded-opentype'),\n       url('../font/fontmaki2.woff2?38664031') format('woff2'),\n       url('../font/fontmaki2.woff?38664031') format('woff'),\n       url('../font/fontmaki2.ttf?38664031') format('truetype'),\n       url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontmaki2';\n    src: url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\n  }\n}\n*/\n \n [class^=\"maki2-\"]:before, [class*=\" maki2-\"]:before {\n  font-family: \"fontmaki2\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.maki2-aerialway:before { content: '\\e800'; } /* '' */\n.maki2-airfield:before { content: '\\e801'; } /* '' */\n.maki2-airport:before { content: '\\e802'; } /* '' */\n.maki2-alcohol-shop:before { content: '\\e803'; } /* '' */\n.maki2-america-football:before { content: '\\e804'; } /* '' */\n.maki2-amusement-park:before { content: '\\e805'; } /* '' */\n.maki2-aquarium:before { content: '\\e806'; } /* '' */\n.maki2-art-gallery:before { content: '\\e807'; } /* '' */\n.maki2-attraction:before { content: '\\e808'; } /* '' */\n.maki2-bakery:before { content: '\\e809'; } /* '' */\n.maki2-bank:before { content: '\\e80a'; } /* '' */\n.maki2-bar:before { content: '\\e80b'; } /* '' */\n.maki2-barrier:before { content: '\\e80c'; } /* '' */\n.maki2-baseball:before { content: '\\e80d'; } /* '' */\n.maki2-basketball:before { content: '\\e80e'; } /* '' */\n.maki2-bbq:before { content: '\\e80f'; } /* '' */\n.maki2-beer:before { content: '\\e810'; } /* '' */\n.maki2-bicycle:before { content: '\\e811'; } /* '' */\n.maki2-bicycle-share:before { content: '\\e812'; } /* '' */\n.maki2-blood-bank:before { content: '\\e813'; } /* '' */\n.maki2-buddhism:before { content: '\\e814'; } /* '' */\n.maki2-building:before { content: '\\e815'; } /* '' */\n.maki2-building-alt1:before { content: '\\e816'; } /* '' */\n.maki2-bus:before { content: '\\e817'; } /* '' */\n.maki2-cafe:before { content: '\\e818'; } /* '' */\n.maki2-campsite:before { content: '\\e819'; } /* '' */\n.maki2-car:before { content: '\\e81a'; } /* '' */\n.maki2-car-rental:before { content: '\\e81b'; } /* '' */\n.maki2-car-repair:before { content: '\\e81c'; } /* '' */\n.maki2-casino:before { content: '\\e81d'; } /* '' */\n.maki2-castle:before { content: '\\e81e'; } /* '' */\n.maki2-cemetery:before { content: '\\e81f'; } /* '' */\n.maki2-charging-station:before { content: '\\e820'; } /* '' */\n.maki2-cinema:before { content: '\\e821'; } /* '' */\n.maki2-circle:before { content: '\\e822'; } /* '' */\n.maki2-circle-stroked:before { content: '\\e823'; } /* '' */\n.maki2-city:before { content: '\\e824'; } /* '' */\n.maki2-clothing-store:before { content: '\\e825'; } /* '' */\n.maki2-college:before { content: '\\e826'; } /* '' */\n.maki2-commercial:before { content: '\\e827'; } /* '' */\n.maki2-cricket:before { content: '\\e828'; } /* '' */\n.maki2-cross:before { content: '\\e829'; } /* '' */\n.maki2-dam:before { content: '\\e82a'; } /* '' */\n.maki2-danger:before { content: '\\e82b'; } /* '' */\n.maki2-defibrillator:before { content: '\\e82c'; } /* '' */\n.maki2-dentist:before { content: '\\e82d'; } /* '' */\n.maki2-doctor:before { content: '\\e82e'; } /* '' */\n.maki2-dog-park:before { content: '\\e82f'; } /* '' */\n.maki2-drinking-water:before { content: '\\e830'; } /* '' */\n.maki2-embassy:before { content: '\\e831'; } /* '' */\n.maki2-emergency-phone:before { content: '\\e832'; } /* '' */\n.maki2-entrance:before { content: '\\e833'; } /* '' */\n.maki2-entrance-alt1:before { content: '\\e834'; } /* '' */\n.maki2-farm:before { content: '\\e835'; } /* '' */\n.maki2-fast-food:before { content: '\\e836'; } /* '' */\n.maki2-fence:before { content: '\\e837'; } /* '' */\n.maki2-ferry:before { content: '\\e838'; } /* '' */\n.maki2-fire-station:before { content: '\\e839'; } /* '' */\n.maki2-florist:before { content: '\\e83a'; } /* '' */\n.maki2-fuel:before { content: '\\e83b'; } /* '' */\n.maki2-furniture:before { content: '\\e83c'; } /* '' */\n.maki2-gaming:before { content: '\\e83d'; } /* '' */\n.maki2-garden:before { content: '\\e83e'; } /* '' */\n.maki2-garden-center:before { content: '\\e83f'; } /* '' */\n.maki2-gift:before { content: '\\e840'; } /* '' */\n.maki2-globe:before { content: '\\e841'; } /* '' */\n.maki2-golf:before { content: '\\e842'; } /* '' */\n.maki2-grocery:before { content: '\\e843'; } /* '' */\n.maki2-hairdresser:before { content: '\\e844'; } /* '' */\n.maki2-harbor:before { content: '\\e845'; } /* '' */\n.maki2-hardware:before { content: '\\e846'; } /* '' */\n.maki2-heart:before { content: '\\e847'; } /* '' */\n.maki2-heliport:before { content: '\\e848'; } /* '' */\n.maki2-home:before { content: '\\e849'; } /* '' */\n.maki2-horse-riding:before { content: '\\e84a'; } /* '' */\n.maki2-hospital:before { content: '\\e84b'; } /* '' */\n.maki2-ice-cream:before { content: '\\e84c'; } /* '' */\n.maki2-industry:before { content: '\\e84d'; } /* '' */\n.maki2-information:before { content: '\\e84e'; } /* '' */\n.maki2-jewelry:before { content: '\\e84f'; } /* '' */\n.maki2-karaoke:before { content: '\\e850'; } /* '' */\n.maki2-landmark:before { content: '\\e851'; } /* '' */\n.maki2-landuse:before { content: '\\e852'; } /* '' */\n.maki2-laundry:before { content: '\\e853'; } /* '' */\n.maki2-library:before { content: '\\e854'; } /* '' */\n.maki2-lighthouse:before { content: '\\e855'; } /* '' */\n.maki2-lodging:before { content: '\\e856'; } /* '' */\n.maki2-logging:before { content: '\\e857'; } /* '' */\n.maki2-marker:before { content: '\\e858'; } /* '' */\n.maki2-marker-stroked:before { content: '\\e859'; } /* '' */\n.maki2-mobile-phone:before { content: '\\e85a'; } /* '' */\n.maki2-monument:before { content: '\\e85b'; } /* '' */\n.maki2-mountain:before { content: '\\e85c'; } /* '' */\n.maki2-museum:before { content: '\\e85d'; } /* '' */\n.maki2-music:before { content: '\\e85e'; } /* '' */\n.maki2-natural:before { content: '\\e85f'; } /* '' */\n.maki2-optician:before { content: '\\e860'; } /* '' */\n.maki2-paint:before { content: '\\e861'; } /* '' */\n.maki2-park:before { content: '\\e862'; } /* '' */\n.maki2-park-alt1:before { content: '\\e863'; } /* '' */\n.maki2-parking:before { content: '\\e864'; } /* '' */\n.maki2-parking-garage:before { content: '\\e865'; } /* '' */\n.maki2-pharmacy:before { content: '\\e866'; } /* '' */\n.maki2-picnic-site:before { content: '\\e867'; } /* '' */\n.maki2-pitch:before { content: '\\e868'; } /* '' */\n.maki2-place-of-worship:before { content: '\\e869'; } /* '' */\n.maki2-playground:before { content: '\\e86a'; } /* '' */\n.maki2-police:before { content: '\\e86b'; } /* '' */\n.maki2-post:before { content: '\\e86c'; } /* '' */\n.maki2-prison:before { content: '\\e86d'; } /* '' */\n.maki2-rail:before { content: '\\e86e'; } /* '' */\n.maki2-rail-light:before { content: '\\e86f'; } /* '' */\n.maki2-rail-metro:before { content: '\\e870'; } /* '' */\n.maki2-ranger-station:before { content: '\\e871'; } /* '' */\n.maki2-recycling:before { content: '\\e872'; } /* '' */\n.maki2-religious-christian:before { content: '\\e873'; } /* '' */\n.maki2-religious-jewish:before { content: '\\e874'; } /* '' */\n.maki2-religious-muslim:before { content: '\\e875'; } /* '' */\n.maki2-residential-community:before { content: '\\e876'; } /* '' */\n.maki2-restaurant:before { content: '\\e877'; } /* '' */\n.maki2-roadblock:before { content: '\\e878'; } /* '' */\n.maki2-rocket:before { content: '\\e879'; } /* '' */\n.maki2-school:before { content: '\\e87a'; } /* '' */\n.maki2-scooter:before { content: '\\e87b'; } /* '' */\n.maki2-shelter:before { content: '\\e87c'; } /* '' */\n.maki2-shoe:before { content: '\\e87d'; } /* '' */\n.maki2-shop:before { content: '\\e87e'; } /* '' */\n.maki2-skiing:before { content: '\\e87f'; } /* '' */\n.maki2-slaughterhouse:before { content: '\\e880'; } /* '' */\n.maki2-snowmobile:before { content: '\\e881'; } /* '' */\n.maki2-soccer:before { content: '\\e882'; } /* '' */\n.maki2-square:before { content: '\\e883'; } /* '' */\n.maki2-square-stroked:before { content: '\\e884'; } /* '' */\n.maki2-stadium:before { content: '\\e885'; } /* '' */\n.maki2-star:before { content: '\\e886'; } /* '' */\n.maki2-star-stroked:before { content: '\\e887'; } /* '' */\n.maki2-suitcase:before { content: '\\e888'; } /* '' */\n.maki2-sushi:before { content: '\\e889'; } /* '' */\n.maki2-swimming:before { content: '\\e88a'; } /* '' */\n.maki2-teahouse:before { content: '\\e88b'; } /* '' */\n.maki2-telephone:before { content: '\\e88c'; } /* '' */\n.maki2-tennis:before { content: '\\e88d'; } /* '' */\n.maki2-theatre:before { content: '\\e88e'; } /* '' */\n.maki2-toilet:before { content: '\\e88f'; } /* '' */\n.maki2-town:before { content: '\\e890'; } /* '' */\n.maki2-town-hall:before { content: '\\e891'; } /* '' */\n.maki2-triangle:before { content: '\\e892'; } /* '' */\n.maki2-triangle-stroked:before { content: '\\e893'; } /* '' */\n.maki2-veterinary:before { content: '\\e894'; } /* '' */\n.maki2-village:before { content: '\\e895'; } /* '' */\n.maki2-volcano:before { content: '\\e896'; } /* '' */\n.maki2-warehouse:before { content: '\\e897'; } /* '' */\n.maki2-waste-basket:before { content: '\\e898'; } /* '' */\n.maki2-watch:before { content: '\\e899'; } /* '' */\n.maki2-water:before { content: '\\e89a'; } /* '' */\n.maki2-watermill:before { content: '\\e89b'; } /* '' */\n.maki2-wetland:before { content: '\\e89c'; } /* '' */\n.maki2-wheelchair:before { content: '\\e89d'; } /* '' */\n.maki2-windmill:before { content: '\\e89e'; } /* '' */\n.maki2-zoo:before { content: '\\e89f'; } /* '' */"],sourceRoot:""}]);const b=d},3476:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);o&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},1678:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},559:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},8885:function(t,e,n){t.exports=function(t,e,n){"use strict";t="default"in t?t.default:t,n="default"in n?n.default:n;const o="layer-switcher-";class r extends t{constructor(t){const e=Object.assign({},t),n=document.createElement("div");super({element:n,target:e.target}),this.activationMode=e.activationMode||"mouseover",this.startActive=!0===e.startActive,this.label=void 0!==e.label?e.label:"",this.collapseLabel=void 0!==e.collapseLabel?e.collapseLabel:"»",this.tipLabel=e.tipLabel?e.tipLabel:"Legend",this.collapseTipLabel=e.collapseTipLabel?e.collapseTipLabel:"Collapse legend",this.groupSelectStyle=r.getGroupSelectStyle(e.groupSelectStyle),this.reverse=!1!==e.reverse,this.mapListeners=[],this.hiddenClassName="ol-unselectable ol-control layer-switcher",r.isTouchDevice_()&&(this.hiddenClassName+=" touch"),this.shownClassName="shown",n.className=this.hiddenClassName,this.button=document.createElement("button"),n.appendChild(this.button),this.panel=document.createElement("div"),this.panel.className="panel",n.appendChild(this.panel),r.enableTouchScroll_(this.panel),n.classList.add(o+"group-select-style-"+this.groupSelectStyle),n.classList.add(o+"activation-mode-"+this.activationMode),"click"===this.activationMode?(n.classList.add("activationModeClick"),this.button.onclick=t=>{const e=t||window.event;this.element.classList.contains(this.shownClassName)?this.hidePanel():this.showPanel(),e.preventDefault()}):(this.button.onmouseover=()=>{this.showPanel()},this.button.onclick=t=>{const e=t||window.event;this.showPanel(),e.preventDefault()},this.panel.onmouseout=t=>{this.panel.contains(t.relatedTarget)||this.hidePanel()}),this.updateButton()}setMap(t){for(let t=0;t<this.mapListeners.length;t++)e.unByKey(this.mapListeners[t]);this.mapListeners.length=0,super.setMap(t),t&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(t.on("pointerdown",(()=>{this.hidePanel()}))))}showPanel(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.updateButton(),this.renderPanel()),this.dispatchEvent("show")}hidePanel(){this.element.classList.contains(this.shownClassName)&&(this.element.classList.remove(this.shownClassName),this.updateButton()),this.dispatchEvent("hide")}updateButton(){this.element.classList.contains(this.shownClassName)?(this.button.textContent=this.collapseLabel,this.button.setAttribute("title",this.collapseTipLabel),this.button.setAttribute("aria-label",this.collapseTipLabel)):(this.button.textContent=this.label,this.button.setAttribute("title",this.tipLabel),this.button.setAttribute("aria-label",this.tipLabel))}renderPanel(){this.dispatchEvent("render"),r.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}static renderPanel(t,e,n){const o=new Event("render");for(e.dispatchEvent(o),(n=n||{}).groupSelectStyle=r.getGroupSelectStyle(n.groupSelectStyle),r.ensureTopVisibleBaseLayerShown(t,n.groupSelectStyle);e.firstChild;)e.removeChild(e.firstChild);r.forEachRecursive(t,(function(t,e,n){t.set("indeterminate",!1)})),"children"===n.groupSelectStyle||"none"===n.groupSelectStyle?r.setGroupVisibility(t):"group"===n.groupSelectStyle&&r.setChildVisibility(t);const i=document.createElement("ul");e.appendChild(i),r.renderLayers_(t,t,i,n,(function(o){r.renderPanel(t,e,n)}));const a=new Event("rendercomplete");e.dispatchEvent(a)}static isBaseGroup(t){if(t instanceof n){const e=t.getLayers().getArray();return e.length&&"base"===e[0].get("type")}return!1}static setGroupVisibility(t){r.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!r.isBaseGroup(t)})).reverse().forEach((function(t){const e=t.getLayersArray().map((function(t){return t.getVisible()}));e.every((function(t){return!0===t}))?(t.setVisible(!0),t.set("indeterminate",!1)):e.every((function(t){return!1===t}))?(t.setVisible(!1),t.set("indeterminate",!1)):(t.setVisible(!0),t.set("indeterminate",!0))}))}static setChildVisibility(t){r.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!r.isBaseGroup(t)})).forEach((function(t){const e=t,n=e.getVisible(),o=e.get("indeterminate");e.getLayers().getArray().forEach((function(t){t.set("indeterminate",!1),n&&!o||!t.getVisible()||t.set("indeterminate",!0)}))}))}static ensureTopVisibleBaseLayerShown(t,e){let n;r.forEachRecursive(t,(function(t,e,o){"base"===t.get("type")&&t.getVisible()&&(n=t)})),n&&r.setVisible_(t,n,!0,e)}static getGroupsAndLayers(t,e){const n=[];return e=e||function(t,e,n){return!0},r.forEachRecursive(t,(function(t,o,r){t.get("title")&&e(t,o,r)&&n.push(t)})),n}static setVisible_(t,e,o,i){e.setVisible(o),o&&"base"===e.get("type")&&r.forEachRecursive(t,(function(t,n,o){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})),e instanceof n&&!e.get("combine")&&"children"===i&&e.getLayers().forEach((n=>{r.setVisible_(t,n,e.getVisible(),i)}))}static renderLayer_(t,e,i,a,s){const l=document.createElement("li"),c=e.get("title"),u=r.uuid(),h=document.createElement("label");if(e instanceof n&&!e.get("combine")){const n=r.isBaseGroup(e);if(l.classList.add("group"),n&&l.classList.add(o+"base-group"),e.get("fold")){l.classList.add(o+"fold"),l.classList.add(o+e.get("fold"));const t=document.createElement("button");t.onclick=function(t){const n=t||window.event;r.toggleFold_(e,l),n.preventDefault()},l.appendChild(t)}if(!n&&"none"!=a.groupSelectStyle){const n=document.createElement("input");n.type="checkbox",n.id=u,n.checked=e.getVisible(),n.indeterminate=e.get("indeterminate"),n.onchange=function(n){const o=n.target;r.setVisible_(t,e,o.checked,a.groupSelectStyle),s(e)},l.appendChild(n),h.htmlFor=u}h.innerHTML=c,l.appendChild(h);const i=document.createElement("ul");l.appendChild(i),r.renderLayers_(t,e,i,a,s)}else{l.className="layer";const n=document.createElement("input");"base"===e.get("type")?n.type="radio":n.type="checkbox",n.id=u,n.checked=e.get("visible"),n.indeterminate=e.get("indeterminate"),n.onchange=function(n){const o=n.target;r.setVisible_(t,e,o.checked,a.groupSelectStyle),s(e)},l.appendChild(n),h.htmlFor=u,h.innerHTML=c;const o=t.getView().getResolution();if(o>=e.getMaxResolution()||o<e.getMinResolution())h.className+=" disabled";else if(e.getMinZoom&&e.getMaxZoom){const n=t.getView().getZoom();(n<=e.getMinZoom()||n>e.getMaxZoom())&&(h.className+=" disabled")}l.appendChild(h)}return l}static renderLayers_(t,e,n,o,i){let a=e.getLayers().getArray().slice();o.reverse&&(a=a.reverse());for(let e,s=0;s<a.length;s++)e=a[s],e.get("title")&&n.appendChild(r.renderLayer_(t,e,s,o,i))}static forEachRecursive(t,e){t.getLayers().forEach((function(t,o,i){e(t,o,i),t instanceof n&&r.forEachRecursive(t,e)}))}static uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}static enableTouchScroll_(t){if(r.isTouchDevice_()){let e=0;t.addEventListener("touchstart",(function(t){e=this.scrollTop+t.touches[0].pageY}),!1),t.addEventListener("touchmove",(function(t){this.scrollTop=e-t.touches[0].pageY}),!1)}}static isTouchDevice_(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}static toggleFold_(t,e){e.classList.remove(o+t.get("fold")),t.set("fold","open"===t.get("fold")?"close":"open"),e.classList.add(o+t.get("fold"))}static getGroupSelectStyle(t){return["none","children","group"].indexOf(t)>=0?t:"children"}}return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=r),r}(n(3371),n(2889),n(5598))},8476:function(t){t.exports=function(){"use strict";function t(t,o,r,i,a){!function t(n,o,r,i,a){for(;i>r;){if(i-r>600){var s=i-r+1,l=o-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);t(n,o,Math.max(r,Math.floor(o-l*u/s+h)),Math.min(i,Math.floor(o+(s-l)*u/s+h)),a)}var f=n[o],p=r,d=i;for(e(n,r,o),a(n[i],f)>0&&e(n,r,i);p<d;){for(e(n,p,d),p++,d--;a(n[p],f)<0;)p++;for(;a(n[d],f)>0;)d--}0===a(n[r],f)?e(n,r,d):e(n,++d,i),d<=o&&(r=d+1),o<=d&&(i=d-1)}}(t,o,r||0,i||t.length-1,a||n)}function e(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function n(t,e){return t<e?-1:t>e?1:0}var o=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,e,n){if(!n)return e.indexOf(t);for(var o=0;o<e.length;o++)if(n(t,e[o]))return o;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,o,r){r||(r=d(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var i=e;i<n;i++){var a=t.children[i];s(r,t.leaf?o(a):a)}return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,o,r,i){for(var a=[n,o];a.length;)if(!((o=a.pop())-(n=a.pop())<=r)){var s=n+Math.ceil((o-n)/r/2)*r;t(e,s,n,o,i),a.push(n,s,s,o)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var o=this.toBBox,r=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?o(a):a;p(t,s)&&(e.leaf?n.push(a):f(t,s)?this._all(a,n):r.push(a))}e=r.pop()}return n},o.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var o=0;o<e.children.length;o++){var r=e.children[o],i=e.leaf?this.toBBox(r):r;if(p(t,i)){if(e.leaf||f(t,i))return!0;n.push(r)}}e=n.pop()}return!1},o.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},o.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},o.prototype.clear=function(){return this.data=d([]),this},o.prototype.remove=function(t,e){if(!t)return this;for(var n,o,i,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),o=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=r(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!f(a,s)?o?(n++,a=o.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,o=a,a=a.children[0])}return this},o.prototype.toBBox=function(t){return t},o.prototype.compareMinX=function(t,e){return t.minX-e.minX},o.prototype.compareMinY=function(t,e){return t.minY-e.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(t){return this.data=t,this},o.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},o.prototype._build=function(t,e,n,o){var r,a=n-e+1,s=this._maxEntries;if(a<=s)return i(r=d(t.slice(e,n+1)),this.toBBox),r;o||(o=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,o-1))),(r=d([])).leaf=!1,r.height=o;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));g(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var h=Math.min(u+c-1,n);g(t,u,h,l,this.compareMinY);for(var f=u;f<=h;f+=l){var p=Math.min(f+l-1,h);r.children.push(this._build(t,f,p,o-1))}}return i(r,this.toBBox),r},o.prototype._chooseSubtree=function(t,e,n,o){for(;o.push(e),!e.leaf&&o.length-1!==n;){for(var r=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),h=(f=t,p=l,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-c);h<i?(i=h,r=c<r?c:r,a=l):h===i&&c<r&&(r=c,a=l)}e=a||e.children[0]}var f,p;return e},o.prototype._insert=function(t,e,n){var o=n?t:this.toBBox(t),r=[],i=this._chooseSubtree(o,this.data,e,r);for(i.children.push(t),s(i,o);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(o,r,e)},o.prototype._split=function(t,e){var n=t[e],o=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,o);var a=this._chooseSplitIndex(n,r,o),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},o.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(t,e,n){for(var o,r,i,s,l,c,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),m=a(t,d,n,this.toBBox),y=(r=g,i=m,void 0,void 0,void 0,void 0,s=Math.max(r.minX,i.minX),l=Math.max(r.minY,i.minY),c=Math.min(r.maxX,i.maxX),h=Math.min(r.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,h-l)),A=u(g)+u(m);y<f?(f=y,o=d,p=A<p?A:p):y===f&&A<p&&(p=A,o=d)}return o||n-e},o.prototype._chooseSplitAxis=function(t,e,n){var o=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,o)<this._allDistMargin(t,e,n,r)&&t.children.sort(o)},o.prototype._allDistMargin=function(t,e,n,o){t.children.sort(o);for(var r=this.toBBox,i=a(t,0,e,r),l=a(t,n-e,n,r),c=h(i)+h(l),u=e;u<n-e;u++){var f=t.children[u];s(i,t.leaf?r(f):f),c+=h(i)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(l,t.leaf?r(d):d),c+=h(l)}return c},o.prototype._adjustParentBBoxes=function(t,e,n){for(var o=n;o>=0;o--)s(e[o],t)},o.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},o}()},5464:(t,e,n)=>{t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,r=(o=n(2))&&o.__esModule?o:{default:o};e.default=r.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function r(t){return t&&t.__esModule?t:{default:t}}e.default=c;var i=n(3),a=r(n(4)),s=n(14),l=r(n(15));function c(t){var e=t.activeClassName,n=void 0===e?"":e,r=t.activeIndex,a=void 0===r?-1:r,c=t.activeStyle,u=t.autoEscape,h=t.caseSensitive,f=void 0!==h&&h,p=t.className,d=t.findChunks,g=t.highlightClassName,m=void 0===g?"":g,y=t.highlightStyle,A=void 0===y?{}:y,v=t.highlightTag,_=void 0===v?"mark":v,b=t.sanitize,E=t.searchWords,x=t.textToHighlight,w=t.unhighlightClassName,C=void 0===w?"":w,k=t.unhighlightStyle,S=function(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}(t,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),B=(0,i.findAll)({autoEscape:u,caseSensitive:f,findChunks:d,sanitize:b,searchWords:E,textToHighlight:x}),T=_,O=-1,P="",R=void 0,I=(0,l.default)((function(t){var e={};for(var n in t)e[n.toLowerCase()]=t[n];return e}));return(0,s.createElement)("span",o({className:p},S,{children:B.map((function(t,e){var o=x.substr(t.start,t.end-t.start);if(t.highlight){O++;var r;r="object"==typeof m?f?m[o]:(m=I(m))[o.toLowerCase()]:m;var i=O===+a;P=r+" "+(i?n:""),R=!0===i&&null!=c?Object.assign({},A,c):A;var l={children:o,className:P,key:e,style:R};return"string"!=typeof T&&(l.highlightIndex=O),(0,s.createElement)(T,l)}return(0,s.createElement)("span",{children:o,className:C,key:e,style:k})}))}))}c.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},t.exports=e.default},function(t,e){t.exports=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);Object.defineProperty(e,"combineChunks",{enumerable:!0,get:function(){return o.combineChunks}}),Object.defineProperty(e,"fillInChunks",{enumerable:!0,get:function(){return o.fillInChunks}}),Object.defineProperty(e,"findAll",{enumerable:!0,get:function(){return o.findAll}}),Object.defineProperty(e,"findChunks",{enumerable:!0,get:function(){return o.findChunks}})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findAll=function(t){var e=t.autoEscape,i=t.caseSensitive,a=void 0!==i&&i,s=t.findChunks,l=void 0===s?o:s,c=t.sanitize,u=t.searchWords,h=t.textToHighlight;return r({chunksToHighlight:n({chunks:l({autoEscape:e,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:h})}),totalLength:h?h.length:0})};var n=e.combineChunks=function(t){var e=t.chunks;return e.sort((function(t,e){return t.start-e.start})).reduce((function(t,e){if(0===t.length)return[e];var n=t.pop();if(e.start<=n.end){var o=Math.max(n.end,e.end);t.push({start:n.start,end:o})}else t.push(n,e);return t}),[])},o=function(t){var e=t.autoEscape,n=t.caseSensitive,o=t.sanitize,r=void 0===o?i:o,a=t.searchWords,s=t.textToHighlight;return s=r(s),a.filter((function(t){return t})).reduce((function(t,o){o=r(o),e&&(o=o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var i=new RegExp(o,n?"g":"gi"),a=void 0;a=i.exec(s);){var l=a.index,c=i.lastIndex;c>l&&t.push({start:l,end:c}),a.index==i.lastIndex&&i.lastIndex++}return t}),[])};e.findChunks=o;var r=e.fillInChunks=function(t){var e=t.chunksToHighlight,n=t.totalLength,o=[],r=function(t,e,n){e-t>0&&o.push({start:t,end:e,highlight:n})};if(0===e.length)r(0,n,!1);else{var i=0;e.forEach((function(t){r(i,t.start,!1),r(t.start,t.end,!0),i=t.end})),r(i,n,!1)}return o};function i(t){return t}}])},function(t,e,n){(function(e){if("production"!==e.env.NODE_ENV){var o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n(6)((function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}),!0)}else t.exports=n(13)()}).call(e,n(5))},function(t,e){var n,o,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,c=[],u=!1,h=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++h<e;)l&&l[h].run();h=-1,e=c.length}l=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var o=n(7),r=n(8),i=n(9),a=n(10),s=n(11),l=n(12);t.exports=function(t,n){var c="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",h={array:d("array"),bool:d("boolean"),func:d("function"),number:d("number"),object:d("object"),string:d("string"),symbol:d("symbol"),any:p(o.thatReturnsNull),arrayOf:function(t){return p((function(e,n,o,r,i){if("function"!=typeof t)return new f("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new f("Invalid "+r+" `"+i+"` of type `"+m(a)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<a.length;l++){var c=t(a,l,o,r,i+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:p((function(e,n,o,r,i){var a=e[n];return t(a)?null:new f("Invalid "+r+" `"+i+"` of type `"+m(a)+"` supplied to `"+o+"`, expected a single ReactElement.")})),instanceOf:function(t){return p((function(e,n,o,r,i){if(!(e[n]instanceof t)){var a=t.name||u;return new f("Invalid "+r+" `"+i+"` of type `"+((s=e[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+o+"`, expected instance of `"+a+"`.")}var s;return null}))},node:p((function(t,e,n,o,r){return g(t[e])?null:new f("Invalid "+o+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return p((function(e,n,o,r,i){if("function"!=typeof t)return new f("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var a=e[n],l=m(a);if("object"!==l)return new f("Invalid "+r+" `"+i+"` of type `"+l+"` supplied to `"+o+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=t(a,c,o,r,i+"."+c,s);if(u instanceof Error)return u}return null}))},oneOf:function(t){return Array.isArray(t)?p((function(e,n,o,r,i){for(var a=e[n],s=0;s<t.length;s++)if(l=a,c=t[s],l===c?0!==l||1/l==1/c:l!=l&&c!=c)return null;var l,c;return new f("Invalid "+r+" `"+i+"` of value `"+a+"` supplied to `"+o+"`, expected one of "+JSON.stringify(t)+".")})):("production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),o.thatReturnsNull)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),o.thatReturnsNull;for(var n=0;n<t.length;n++){var r=t[n];if("function"!=typeof r)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",A(r),n),o.thatReturnsNull}return p((function(e,n,o,r,i){for(var a=0;a<t.length;a++)if(null==(0,t[a])(e,n,o,r,i,s))return null;return new f("Invalid "+r+" `"+i+"` supplied to `"+o+"`.")}))},shape:function(t){return p((function(e,n,o,r,i){var a=e[n],l=m(a);if("object"!==l)return new f("Invalid "+r+" `"+i+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var c in t){var u=t[c];if(u){var h=u(a,c,o,r,i+"."+c,s);if(h)return h}}return null}))},exact:function(t){return p((function(e,n,o,r,i){var l=e[n],c=m(l);if("object"!==c)return new f("Invalid "+r+" `"+i+"` of type `"+c+"` supplied to `"+o+"`, expected `object`.");var u=a({},e[n],t);for(var h in u){var p=t[h];if(!p)return new f("Invalid "+r+" `"+i+"` key `"+h+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var d=p(l,h,o,r,i+"."+h,s);if(d)return d}return null}))}};function f(t){this.message=t,this.stack=""}function p(t){if("production"!==e.env.NODE_ENV)var o={},a=0;function l(l,c,h,p,d,g,m){if(p=p||u,g=g||h,m!==s)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==e.env.NODE_ENV&&"undefined"!=typeof console){var y=p+":"+h;!o[y]&&a<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",g,p),o[y]=!0,a++)}return null==c[h]?l?null===c[h]?new f("The "+d+" `"+g+"` is marked as required in `"+p+"`, but its value is `null`."):new f("The "+d+" `"+g+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:t(c,h,p,d,g)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function d(t){return p((function(e,n,o,r,i,a){var s=e[n];return m(s)!==t?new f("Invalid "+r+" `"+i+"` of type `"+y(s)+"` supplied to `"+o+"`, expected `"+t+"`."):null}))}function g(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(g);if(null===e||t(e))return!0;var n=function(t){var e=t&&(c&&t[c]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!n)return!1;var o,r=n.call(e);if(n!==e.entries){for(;!(o=r.next()).done;)if(!g(o.value))return!1}else for(;!(o=r.next()).done;){var i=o.value;if(i&&!g(i[1]))return!1}return!0;default:return!1}}function m(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function y(t){if(null==t)return""+t;var e=m(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function A(t){var e=y(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return f.prototype=Error.prototype,h.checkPropTypes=l,h.PropTypes=h,h}}).call(e,n(5))},function(t,e){"use strict";function n(t){return function(){return t}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},function(t,e,n){(function(e){"use strict";var n=function(t){};"production"!==e.env.NODE_ENV&&(n=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=function(t,e,o,r,i,a,s,l){if(n(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[o,r,i,a,s,l],h=0;(c=new Error(e.replace(/%s/g,(function(){return u[h++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(e,n(5))},function(t,e,n){(function(e){"use strict";var o=n(7);if("production"!==e.env.NODE_ENV){var r=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];var r=0,i="Warning: "+t.replace(/%s/g,(function(){return n[r++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(t){}};o=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];r.apply(void 0,[e].concat(o))}}}t.exports=o}).call(e,n(5))},function(t,e){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var a,s,l=i(t),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))o.call(a,u)&&(l[u]=a[u]);if(n){s=n(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(e){"use strict";if("production"!==e.env.NODE_ENV)var o=n(8),r=n(9),i=n(11),a={};t.exports=function(t,n,s,l,c){if("production"!==e.env.NODE_ENV)for(var u in t)if(t.hasOwnProperty(u)){var h;try{o("function"==typeof t[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,u,typeof t[u]),h=t[u](n,u,l,s,null,i)}catch(t){h=t}if(r(!h||h instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof h),h instanceof Error&&!(h.message in a)){a[h.message]=!0;var f=c?c():"";r(!1,"Failed %s type: %s%s",s,h.message,null!=f?f:"")}}}}).call(e,n(5))},function(t,e,n){"use strict";var o=n(7),r=n(8),i=n(11);t.exports=function(){function t(t,e,n,o,a,s){s!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e){t.exports=n(2650)},function(t,e){"use strict";var n=function(t,e){return t===e};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,o=void 0,r=[],i=void 0,a=!1,s=function(t,n){return e(t,r[n])},l=function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return a&&o===this&&n.length===r.length&&n.every(s)?i:(a=!0,o=this,r=n,i=t.apply(this,n))};return l}}])},1892:t=>{"use strict";var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},a=[],s=0;s<t.length;s++){var l=t[s],c=o.base?l[0]+o.base:l[0],u=i[c]||0,h="".concat(c," ").concat(u);i[c]=u+1;var f=n(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var d=r(p,o);o.byIndex=s,e.splice(s,0,{identifier:h,updater:d,references:1})}a.push(h)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var l=o(t,r),c=0;c<i.length;c++){var u=n(i[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=l}}},8311:t=>{"use strict";var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},8060:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},8192:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},5760:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4865:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},3198:(t,e,n)=>{var o;!function(r){var i=/^\s+/,a=/\s+$/,s=0,l=r.round,c=r.min,u=r.max,h=r.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var n=function(t){var e,n,o,s={r:0,g:0,b:0},l=1,h=null,f=null,p=null,d=!1,g=!1;return"string"==typeof t&&(t=function(t){t=t.replace(i,"").replace(a,"").toLowerCase();var e,n=!1;if(O[t])t=O[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=Z.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=Z.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=Z.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=Z.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=Z.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=Z.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=Z.hex8.exec(t))?{r:F(e[1]),g:F(e[2]),b:F(e[3]),a:N(e[4]),format:n?"name":"hex8"}:(e=Z.hex6.exec(t))?{r:F(e[1]),g:F(e[2]),b:F(e[3]),format:n?"name":"hex"}:(e=Z.hex4.exec(t))?{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=Z.hex3.exec(t))&&{r:F(e[1]+""+e[1]),g:F(e[2]+""+e[2]),b:F(e[3]+""+e[3]),format:n?"name":"hex"}}(t)),"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(e=t.r,n=t.g,o=t.b,s={r:255*I(e,255),g:255*I(n,255),b:255*I(o,255)},d=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(h=M(t.s),f=M(t.v),s=function(t,e,n){t=6*I(t,360),e=I(e,100),n=I(n,100);var o=r.floor(t),i=t-o,a=n*(1-e),s=n*(1-i*e),l=n*(1-(1-i)*e),c=o%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(t.h,h,f),d=!0,g="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(h=M(t.s),p=M(t.l),s=function(t,e,n){var o,r,i;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=I(t,360),e=I(e,100),n=I(n,100),0===e)o=r=i=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;o=a(l,s,t+1/3),r=a(l,s,t),i=a(l,s,t-1/3)}return{r:255*o,g:255*r,b:255*i}}(t.h,h,p),d=!0,g="hsl"),t.hasOwnProperty("a")&&(l=t.a)),l=R(l),{ok:d,format:t.format||g,r:c(255,u(s.r,0)),g:c(255,u(s.g,0)),b:c(255,u(s.b,0)),a:l}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var o,r,i=u(t,e,n),a=c(t,e,n),s=(i+a)/2;if(i==a)o=r=0;else{var l=i-a;switch(r=s>.5?l/(2-i-a):l/(i+a),i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:r,l:s}}function d(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var o,r,i=u(t,e,n),a=c(t,e,n),s=i,l=i-a;if(r=0===i?0:l/i,i==a)o=0;else{switch(i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:r,v:s}}function g(t,e,n,o){var r=[L(l(t).toString(16)),L(l(e).toString(16)),L(l(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function m(t,e,n,o){return[L(j(o)),L(l(t).toString(16)),L(l(e).toString(16)),L(l(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s-=e/100,n.s=D(n.s),f(n)}function A(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.s+=e/100,n.s=D(n.s),f(n)}function v(t){return f(t).desaturate(100)}function _(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l+=e/100,n.l=D(n.l),f(n)}function b(t,e){e=0===e?0:e||10;var n=f(t).toRgb();return n.r=u(0,c(255,n.r-l(-e/100*255))),n.g=u(0,c(255,n.g-l(-e/100*255))),n.b=u(0,c(255,n.b-l(-e/100*255))),f(n)}function E(t,e){e=0===e?0:e||10;var n=f(t).toHsl();return n.l-=e/100,n.l=D(n.l),f(n)}function x(t,e){var n=f(t).toHsl(),o=(n.h+e)%360;return n.h=o<0?360+o:o,f(n)}function w(t){var e=f(t).toHsl();return e.h=(e.h+180)%360,f(e)}function C(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+120)%360,s:e.s,l:e.l}),f({h:(n+240)%360,s:e.s,l:e.l})]}function k(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+90)%360,s:e.s,l:e.l}),f({h:(n+180)%360,s:e.s,l:e.l}),f({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=f(t).toHsl(),n=e.h;return[f(t),f({h:(n+72)%360,s:e.s,l:e.l}),f({h:(n+216)%360,s:e.s,l:e.l})]}function B(t,e,n){e=e||6,n=n||30;var o=f(t).toHsl(),r=360/n,i=[f(t)];for(o.h=(o.h-(r*e>>1)+720)%360;--e;)o.h=(o.h+r)%360,i.push(f(o));return i}function T(t,e){e=e||6;for(var n=f(t).toHsv(),o=n.h,r=n.s,i=n.v,a=[],s=1/e;e--;)a.push(f({h:o,s:r,v:i})),i=(i+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,o=this.toRgb();return t=o.r/255,e=o.g/255,n=o.b/255,.2126*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=R(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),o=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+o+"%)":"hsva("+e+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),o=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+o+"%)":"hsla("+e+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return g(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,o,r){var i=[L(l(t).toString(16)),L(l(e).toString(16)),L(l(n).toString(16)),L(j(o))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*I(this._r,255))+"%",g:l(100*I(this._g,255))+"%",b:l(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%)":"rgba("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(P[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+m(this._r,this._g,this._b,this._a),n=e,o=this._gradientType?"GradientType = 1, ":"";if(t){var r=f(t);n="#"+m(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,o=this._a<1&&this._a>=0;return e||!o||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(v,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]="a"===o?t[o]:M(t[o]));t=n}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:h(),g:h(),b:h()})},f.mix=function(t,e,n){n=0===n?0:n||50;var o=f(t).toRgb(),r=f(e).toRgb(),i=n/100;return f({r:(r.r-o.r)*i+o.r,g:(r.g-o.g)*i+o.g,b:(r.b-o.b)*i+o.b,a:(r.a-o.a)*i+o.a})},f.readability=function(t,e){var n=f(t),o=f(e);return(r.max(n.getLuminance(),o.getLuminance())+.05)/(r.min(n.getLuminance(),o.getLuminance())+.05)},f.isReadable=function(t,e,n){var o,r,i,a,s,l=f.readability(t,e);switch(r=!1,(i=n,"AA"!==(a=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(i.size||"small").toLowerCase())&&"large"!==s&&(s="small"),o={level:a,size:s}).level+o.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},f.mostReadable=function(t,e,n){var o,r,i,a,s=null,l=0;r=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<e.length;c++)(o=f.readability(t,e[c]))>l&&(l=o,s=f(e[c]));return f.isReadable(t,s,{level:i,size:a})||!r?s:(n.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],n))};var O=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=f.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(O);function R(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function I(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(e,u(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),r.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function D(t){return c(1,u(0,t))}function F(t){return parseInt(t,16)}function L(t){return 1==t.length?"0"+t:""+t}function M(t){return t<=1&&(t=100*t+"%"),t}function j(t){return r.round(255*parseFloat(t)).toString(16)}function N(t){return F(t)/255}var z,G,Q,Z=(G="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",Q="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+G),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+G),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+G),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!Z.CSS_UNIT.exec(t)}t.exports?t.exports=f:void 0===(o=function(){return f}.call(e,n,e,t))||(t.exports=o)}(Math)},6058:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts35712664df5bcd4c683b.eot"},4120:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/img/2c3a67768445e6d10eb1.svg"},6747:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts6ebc71fd9ffb63669976.ttf"},5305:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts1275a1f2f874e02e47f5.woff"},7709:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fontsde8e6d4bc5ceacebaa57.eot"},7562:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/img/b138b9e0f6033c5f0356.svg"},8119:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts71695544162dc8d4f376.ttf"},9103:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fontsedd66aeabbf03a44589f.woff2"},4193:t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fontse0b6b3fc480dde6d468e.woff"},7644:t=>{"use strict";t.exports=i},3305:e=>{"use strict";e.exports=t},3545:t=>{"use strict";t.exports=o},7388:t=>{"use strict";t.exports=n},5980:t=>{"use strict";t.exports=r},2650:t=>{"use strict";t.exports=e},1177:t=>{"use strict";t.exports=a},8393:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var o,r=n(7705),i=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const a=function(t){function e(e){var n=this,o="Assertion failed. See https://openlayers.org/en/"+("latest"===r.q4?r.q4:"v"+r.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,o)||this).code=e,n.name="AssertionError",n.message=o,n}return i(e,t),e}(Error)},5083:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var o,r=n(8393),i=n(6331),a=n(4119),s=n(1815),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c="length",u=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.element=n,r.index=o,r}return l(e,t),e}(s.ZP);const h=function(t){function e(e,n){var o=t.call(this)||this;o.on,o.once,o.un;var r=n||{};if(o.unique_=!!r.unique,o.array_=e||[],o.unique_)for(var i=0,a=o.array_.length;i<a;++i)o.assertUnique_(o.array_[i],i);return o.updateLength_(),o}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(c)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(a.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(a.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(a.Z.REMOVE,o,t)),this.dispatchEvent(new u(a.Z.ADD,e,t))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(c,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,o=this.array_.length;n<o;++n)if(this.array_[n]===t&&n!==e)throw new r.Z(58)},e}(i.Z)},4119:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={ADD:"add",REMOVE:"remove"}},2130:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}()},9121:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}},6331:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var o,r=n(1815),i=n(8765),a=n(2889),s=n(9011),l=n(7705),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.key=n,r.oldValue=o,r}return c(e,t),e}(r.ZP);const h=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,(0,l.sq)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return c(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,s.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new u(n,t,e)),n=i.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new u(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},e.prototype.set=function(t,e,n){var o=this.values_||(this.values_={});if(n)o[t]=e;else{var r=o[t];o[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&(0,s.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],(0,s.xb)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(a.default)},8765:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={PROPERTYCHANGE:"propertychange"}},2889:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u,unByKey:()=>c});var o,r=n(8022),i=n(7782),a=n(1570),s=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),r=0;r<n;++r)o[r]=(0,a.oL)(this,t[r],e);return o}return(0,a.oL)(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var o=t.length;n=new Array(o);for(var r=0;r<o;++r)n[r]=(0,a.Vx)(this,t[r],e)}else n=(0,a.Vx)(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)c(n);else if(Array.isArray(t))for(var o=0,r=t.length;o<r;++o)this.removeEventListener(t[o],e);else this.removeEventListener(t,e)},e}(r.Z);function c(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,a.bN)(t[e]);else(0,a.bN)(t)}l.prototype.on,l.prototype.once,l.prototype.un;const u=l},7770:(t,e,n)=>{"use strict";function o(t,e,n){for(var o,i,a=n||r,s=0,l=t.length,c=!1;s<l;)(i=+a(t[o=s+(l-s>>1)],e))<0?s=o+1:(l=o,c=!i);return c?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function i(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(e<=t[o-1])return o-1;var r=void 0;if(n>0){for(r=1;r<o;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<o;++r)if(t[r]<=e)return r}else for(r=1;r<o;++r){if(t[r]==e)return r;if(t[r]<e)return"function"==typeof n?n(e,t[r-1],t[r])>0?r-1:r:t[r-1]-e<e-t[r]?r-1:r}return o-1}function a(t,e,n){for(;e<n;){var o=t[e];t[e]=t[n],t[n]=o,++e,--n}}function s(t,e){for(var n=Array.isArray(e)?e:[e],o=n.length,r=0;r<o;r++)t[t.length]=n[r]}function l(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function c(t,e,n){var o=e||r;return t.every((function(e,r){if(0===r)return!0;var i=o(t[r-1],e);return!(i>0||n&&0===i)}))}n.d(e,{FZ:()=>a,fS:()=>l,h7:()=>i,kK:()=>r,l7:()=>s,pT:()=>c,ry:()=>o})},9341:(t,e,n)=>{"use strict";n.d(e,{h:()=>r});var o=n(8393);function r(t,e){if(!t)throw new o.Z(e)}},3371:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var o,r=n(6331),i=n(9121),a=n(7625),s=n(1570),l=n(6872),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const u=function(t){function e(e){var n=t.call(this)||this,o=e.element;return!o||e.target||o.style.pointerEvents||(o.style.pointerEvents="auto"),n.element=o||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return c(e,t),e.prototype.disposeInternal=function(){(0,l.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,l.ZF)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,s.bN)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.Zn&&this.listenerKeys.push((0,s.oL)(t,i.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(r.Z)},6872:(t,e,n)=>{"use strict";n.d(e,{$H:()=>a,E4:()=>r,ZF:()=>s,ep:()=>l,hF:()=>c,jy:()=>i});var o=n(5770);function r(t,e,n,r){var i;return i=n&&n.length?n.shift():o.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function i(t){var e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function c(t,e){for(var n=t.childNodes,o=0;;++o){var r=n[o],i=e[o];if(!r&&!i)break;r!==i&&(r?i?t.insertBefore(i,r):(t.removeChild(r),--o):t.appendChild(i))}}},1570:(t,e,n)=>{"use strict";n.d(e,{Vx:()=>i,bN:()=>a,oL:()=>r});var o=n(9011);function r(t,e,n,o,r){if(o&&o!==t&&(n=n.bind(o)),r){var i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function i(t,e,n,o){return r(t,e,n,o,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,o.ZH)(t))}},1815:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>o});const o=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},7782:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},8022:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var o,r=n(2130),i=n(1815),a=n(7625),s=n(9011),l=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),o=n[t]||(n[t]=[]);-1===o.indexOf(e)&&o.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t,n=e?t:t.type,o=this.listeners_&&this.listeners_[n];if(o){var r=e?new i.ZP(t):t;r.target||(r.target=this.eventTarget_||this);var s,l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});n in l||(l[n]=0,c[n]=0),++l[n];for(var u=0,h=o.length;u<h;++u)if(!1===(s="handleEvent"in o[u]?o[u].handleEvent(r):o[u].call(this,r))||r.propagationStopped){s=!1;break}if(0==--l[n]){var f=c[n];for(delete c[n];f--;)this.removeEventListener(n,a.Zn);delete l[n]}return s}},e.prototype.disposeInternal=function(){this.listeners_&&(0,s.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var o=n.indexOf(e);-1!==o&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[o]=a.Zn,++this.pendingRemovals_[t]):(n.splice(o,1),0===n.length&&delete this.listeners_[t]))}},e}(r.Z)},5758:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>Q,Cr:()=>P,EO:()=>j,Ed:()=>R,GN:()=>y,H6:()=>x,H9:()=>N,HK:()=>m,I7:()=>z,MV:()=>Z,Ne:()=>G,T9:()=>d,Wj:()=>_,Xv:()=>D,YN:()=>g,b8:()=>c,bg:()=>w,d9:()=>s,dY:()=>O,dz:()=>F,f3:()=>a,fS:()=>A,g0:()=>B,hC:()=>C,hI:()=>i,jE:()=>h,kK:()=>L,l7:()=>v,lJ:()=>p,p8:()=>T,pX:()=>f,qP:()=>b,qf:()=>l,qg:()=>S,r4:()=>u,rL:()=>I,w$:()=>k,xb:()=>M});var o=n(4111),r=n(9341);function i(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,o=t.length;n<o;++n)_(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){var o,r;return(o=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*o+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function c(t,e){return h(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function h(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function f(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],l=e[1],c=o.Z.UNKNOWN;return s<n?c|=o.Z.LEFT:s>i&&(c|=o.Z.RIGHT),l<r?c|=o.Z.BELOW:l>a&&(c|=o.Z.ABOVE),c===o.Z.UNKNOWN&&(c=o.Z.INTERSECTING),c}function p(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,n,o,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=o,r):[t,e,n,o]}function g(t){return d(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var n=t[0],o=t[1];return d(n,o,n,o,e)}function y(t,e,n,o,r){return b(g(r),t,e,n,o)}function A(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function v(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function _(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function b(t,e,n,o,r){for(;n<o;n+=r)E(t,e[n],e[n+1]);return t}function E(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function x(t,e){var n;return(n=e(C(t)))||(n=e(k(t)))||(n=e(D(t)))?n:(n=e(I(t)))||!1}function w(t){var e=0;return M(t)||(e=F(t)*P(t)),e}function C(t){return[t[0],t[1]]}function k(t){return[t[2],t[1]]}function S(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function B(t,e){var n;return"bottom-left"===e?n=C(t):"bottom-right"===e?n=k(t):"top-left"===e?n=I(t):"top-right"===e?n=D(t):(0,r.h)(!1,13),n}function T(t,e,n,o,r){var i=O(t,e,n,o),a=i[0],s=i[1],l=i[2],c=i[3],u=i[4],h=i[5],f=i[6],p=i[7];return d(Math.min(a,l,u,f),Math.min(s,c,h,p),Math.max(a,l,u,f),Math.max(s,c,h,p),r)}function O(t,e,n,o){var r=e*o[0]/2,i=e*o[1]/2,a=Math.cos(n),s=Math.sin(n),l=r*a,c=r*s,u=i*a,h=i*s,f=t[0],p=t[1];return[f-l+h,p-c-u,f-l-h,p-c+u,f+l-h,p+c+u,f+l+h,p+c-u,f-l+h,p-c-u]}function P(t){return t[3]-t[1]}function R(t,e,n){var o=n||[1/0,1/0,-1/0,-1/0];return L(t,e)?(t[0]>e[0]?o[0]=t[0]:o[0]=e[0],t[1]>e[1]?o[1]=t[1]:o[1]=e[1],t[2]<e[2]?o[2]=t[2]:o[2]=e[2],t[3]<e[3]?o[3]=t[3]:o[3]=e[3]):g(o),o}function I(t){return[t[0],t[3]]}function D(t){return[t[2],t[3]]}function F(t){return t[2]-t[0]}function L(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function M(t){return t[2]<t[0]||t[3]<t[1]}function j(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function N(t,e){var n=(t[2]-t[0])/2*(e-1),o=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=o,t[3]+=o}function z(t,e,n){var r=!1,i=f(t,e),a=f(t,n);if(i===o.Z.INTERSECTING||a===o.Z.INTERSECTING)r=!0;else{var s=t[0],l=t[1],c=t[2],u=t[3],h=e[0],p=e[1],d=n[0],g=n[1],m=(g-p)/(d-h),y=void 0,A=void 0;a&o.Z.ABOVE&&!(i&o.Z.ABOVE)&&(r=(y=d-(g-u)/m)>=s&&y<=c),r||!(a&o.Z.RIGHT)||i&o.Z.RIGHT||(r=(A=g-(d-c)*m)>=l&&A<=u),r||!(a&o.Z.BELOW)||i&o.Z.BELOW||(r=(y=d-(g-l)/m)>=s&&y<=c),r||!(a&o.Z.LEFT)||i&o.Z.LEFT||(r=(A=g-(d-s)*m)>=l&&A<=u)}return r}function G(t,e,n,o){var r=[];if(o>1)for(var i=t[2]-t[0],a=t[3]-t[1],s=0;s<o;++s)r.push(t[0]+i*s/o,t[1],t[2],t[1]+a*s/o,t[2]-i*s/o,t[3],t[0],t[3]-a*s/o);else r=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(r,r,2);for(var l=[],c=[],u=(s=0,r.length);s<u;s+=2)l.push(r[s]),c.push(r[s+1]);return function(t,e,n){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(l,c,n)}function Q(t,e){var n=e.getExtent(),o=S(t);if(e.canWrapX()&&(o[0]<n[0]||o[0]>=n[2])){var r=F(n),i=Math.floor((o[0]-n[0])/r)*r;t[0]-=i,t[2]-=i}return t}function Z(t,e){if(e.canWrapX()){var n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];Q(t,e);var o=F(n);if(F(t)>o)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+o,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-o,t[3]]]}return[t]}},4111:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},7625:(t,e,n)=>{"use strict";n.d(e,{Dv:()=>i,Zn:()=>a,qe:()=>s,uX:()=>r});var o=n(7770);function r(){return!0}function i(){return!1}function a(){}function s(t){var e,n,r,i=!1;return function(){var a=Array.prototype.slice.call(arguments);return i&&this===r&&(0,o.fS)(a,n)||(i=!0,r=this,n=a,e=t.apply(this,arguments)),e}}},5770:(t,e,n)=>{"use strict";n.d(e,{G$:()=>a,Id:()=>c,ME:()=>i,MP:()=>l,Tp:()=>u,V:()=>r,bM:()=>h,tK:()=>s});var o="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",r=-1!==o.indexOf("firefox"),i=-1!==o.indexOf("safari")&&-1==o.indexOf("chrom")&&!!(o.indexOf("version/15.4")>=0||o.match(/cpu (os|iphone os) 15_4 like mac os x/)),a=-1!==o.indexOf("webkit")&&-1==o.indexOf("edge"),s=-1!==o.indexOf("macintosh"),l="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,c="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!=typeof Image&&Image.prototype.decode,h=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},4668:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var o,r=n(6331),i=n(3281),a=n(7705),s=n(9341),l=n(9011),c=n(9810),u=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const h=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var o=(0,l.f0)({},e);return"object"==typeof e.properties&&(delete o.properties,(0,l.f0)(o,e.properties)),o[i.Z.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,s.h)("number"==typeof o[i.Z.OPACITY],64),o[i.Z.VISIBLE]=void 0===e.visible||e.visible,o[i.Z.Z_INDEX]=e.zIndex,o[i.Z.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,o[i.Z.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,o[i.Z.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,o[i.Z.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==o.className?o.className:"ol-layer",delete o.className,n.setProperties(o),n.state_=null,n}return u(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,c.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,a.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,a.O3)()},e.prototype.getExtent=function(){return this.get(i.Z.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(i.Z.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(i.Z.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(i.Z.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(i.Z.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(i.Z.OPACITY)},e.prototype.getSourceState=function(){return(0,a.O3)()},e.prototype.getVisible=function(){return this.get(i.Z.VISIBLE)},e.prototype.getZIndex=function(){return this.get(i.Z.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(i.Z.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(i.Z.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(i.Z.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(i.Z.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(i.Z.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){(0,s.h)("number"==typeof t,64),this.set(i.Z.OPACITY,t)},e.prototype.setVisible=function(t){this.set(i.Z.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(i.Z.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(r.Z)},5598:(t,e,n)=>{"use strict";n.r(e),n.d(e,{GroupEvent:()=>m,default:()=>A});var o,r=n(4668),i=n(5083),a=n(4119),s=n(1815),l=n(7782),c=n(8765),u=n(9341),h=n(9011),f=n(5758),p=n(7705),d=n(1570),g=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=function(t){function e(e,n){var o=t.call(this,e)||this;return o.layer=n,o}return g(e,t),e}(s.ZP),y="layers";const A=function(t){function e(e){var n=this,o=e||{},r=(0,h.f0)({},o);delete r.layers;var a=o.layers;return(n=t.call(this,r)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(y,n.handleLayersChanged_),a?Array.isArray(a)?a=new i.Z(a.slice(),{unique:!0}):(0,u.h)("function"==typeof a.getArray,43):a=new i.Z(void 0,{unique:!0}),n.setLayers(a),n}return g(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,d.oL)(t,a.Z.ADD,this.handleLayersAdd_,this),(0,d.oL)(t,a.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(d.bN);(0,h.ZH)(this.listenerKeys_);for(var n=t.getArray(),o=0,r=n.length;o<r;o++){var i=n[o];this.registerLayerListeners_(i),this.dispatchEvent(new m("addlayer",i))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[(0,d.oL)(t,c.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.oL)(t,l.Z.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push((0,d.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,d.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,p.sq)(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new m("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new m("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new m("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,p.sq)(e);this.listenerKeys_[n].forEach(d.bN),delete this.listenerKeys_[n],this.dispatchEvent(new m("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(y)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),o=0,r=n.length;o<r;++o)this.dispatchEvent(new m("removelayer",n[o]));this.set(y,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var o=this.getLayerState(),r=o.zIndex;t||void 0!==o.zIndex||(r=0);for(var i=n,a=e.length;i<a;i++){var s=e[i];s.opacity*=o.opacity,s.visible=s.visible&&o.visible,s.maxResolution=Math.min(s.maxResolution,o.maxResolution),s.minResolution=Math.max(s.minResolution,o.minResolution),s.minZoom=Math.max(s.minZoom,o.minZoom),s.maxZoom=Math.min(s.maxZoom,o.maxZoom),void 0!==o.extent&&(void 0!==s.extent?s.extent=(0,f.Ed)(s.extent,o.extent):s.extent=o.extent),void 0===s.zIndex&&(s.zIndex=r)}return e},e.prototype.getSourceState=function(){return"ready"},e}(r.Z)},3281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const o={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},9810:(t,e,n)=>{"use strict";function o(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,{$W:()=>u,GW:()=>p,SV:()=>l,Yr:()=>c,bI:()=>s,f9:()=>r,k3:()=>i,mD:()=>d,rU:()=>a,t7:()=>h,uZ:()=>o});var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},i="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function a(t,e,n,o,r,i){var a=r-n,l=i-o;if(0!==a||0!==l){var c=((t-n)*a+(e-o)*l)/(a*a+l*l);c>1?(n=r,o=i):c>0&&(n+=a*c,o+=l*c)}return s(t,e,n,o)}function s(t,e,n,o){var r=n-t,i=o-e;return r*r+i*i}function l(t){for(var e=t.length,n=0;n<e;n++){for(var o=n,r=Math.abs(t[n][n]),i=n+1;i<e;i++){var a=Math.abs(t[i][n]);a>r&&(r=a,o=i)}if(0===r)return null;var s=t[o];t[o]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function c(t){return t*Math.PI/180}function u(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}function f(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function p(t,e){return Math.floor(f(t,e))}function d(t,e){return Math.ceil(f(t,e))}},9011:(t,e,n)=>{"use strict";n.d(e,{KX:()=>i,ZH:()=>r,f0:()=>o,xb:()=>a});var o="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,r=arguments.length;o<r;++o){var i=arguments[o];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])}return n};function r(t){for(var e in t)delete t[e]}var i="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function a(t){var e;for(e in t)return!1;return!e}},7705:(t,e,n)=>{"use strict";function o(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,{O3:()=>o,q4:()=>a,sq:()=>i});var r=0;function i(t){return t.ol_uid||(t.ol_uid=String(++r))}var a="6.15.1"}},l={};function c(t){var e=l[t];if(void 0!==e)return e.exports;var n=l[t]={id:t,exports:{}};return s[t].call(n.exports,n,n.exports,c),n.exports}c.m=s,c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.b=document.baseURI||self.location.href,c.nc=void 0;var u={};return(()=>{"use strict";c.r(u),c.d(u,{plugin:()=>Cd});var t=c(3305),e=c(2650),n=c.n(e),o=c(7388),r=c(7782),i=c(8022);var a=c(7705);function s(t){return Math.pow(t,3)}function l(t){return 1-s(1-t)}function h(t){return 3*t*t-2*t*t*t}function f(t){return t}var p,d=(p=function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(e,n,o){var r=t.call(this)||this,i=o||{};return r.tileCoord=e,r.state=n,r.interimTile=null,r.key="",r.transition_=void 0===i.transition?250:i.transition,r.transitionStarts_={},r.interpolate=!!i.interpolate,r}return d(e,t),e.prototype.changed=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(2==t.getState())return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(2==t.getState()){t.interimTile=null;break}1==t.getState()?e=t:0==t.getState()?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(3!==this.state&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,a.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var o=e-n+1e3/60;return o>=this.transition_?1:s(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(i.Z);const m=g;var y=c(6872),A=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const v=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.extent=e,i.pixelRatio_=o,i.resolution=n,i.state=r,i}return A(e,t),e.prototype.changed=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,a.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,a.O3)()},e}(i.Z);var _=c(5770),b=c(5758),E=c(1570),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function w(t,e,n){var o=t,i=!0,a=!1,s=!1,l=[(0,E.Vx)(o,r.Z.LOAD,(function(){s=!0,a||e()}))];return o.src&&_.Tp?(a=!0,o.decode().then((function(){i&&e()})).catch((function(t){i&&(s?e():n())}))):l.push((0,E.Vx)(o,r.Z.ERROR,n)),function(){i=!1,l.forEach(E.bN)}}!function(t){function e(e,n,o,r,i,a){var s=t.call(this,e,n,o,0)||this;return s.src_=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.state=0,s.imageLoadFunction_=a,s}x(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=3,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,b.Cr)(this.extent)/this.image_.height),this.state=2,this.unlistenImage_(),this.changed()},e.prototype.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=w(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=(0,b.Cr)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(v);var C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const k=function(t){function e(e,n,o,r,i,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=r,s.src_=o,s.key=o,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.tileLoadFunction_=i,s}return C(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=2,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=3,this.unlistenImage_(),this.image_=((t=(0,y.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()},e.prototype.load=function(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=w(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(m);var S={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},B={};B[S.RADIANS]=6370997/(2*Math.PI),B[S.DEGREES]=2*Math.PI*6370997/360,B[S.FEET]=.3048,B[S.METERS]=1,B[S.USFEET]=1200/3937;const T=S;var O=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||B[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const P=O;var R=c(9810),I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),D=6378137,F=Math.PI*D,L=[-F,-F,F,F],M=[-180,-85,180,85],j=D*Math.log(Math.tan(Math.PI/2)),N=function(t){function e(e){return t.call(this,{code:e,units:T.METERS,extent:L,global:!0,worldExtent:M,getPointResolution:function(t,e){return t/(0,R.f9)(e[1]/D)}})||this}return I(e,t),e}(P),z=[new N("EPSG:3857"),new N("EPSG:102100"),new N("EPSG:102113"),new N("EPSG:900913"),new N("http://www.opengis.net/def/crs/EPSG/0/3857"),new N("http://www.opengis.net/gml/srs/epsg.xml#3857")];var G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Q=[-180,-90,180,90],Z=6378137*Math.PI/180,V=function(t){function e(e,n){return t.call(this,{code:e,units:T.DEGREES,extent:Q,axisOrientation:n,global:!0,metersPerUnit:Z,worldExtent:Q})||this}return G(e,t),e}(P),W=[new V("CRS:84"),new V("EPSG:4326","neu"),new V("urn:ogc:def:crs:OGC:1.3:CRS84"),new V("urn:ogc:def:crs:OGC:2:84"),new V("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new V("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new V("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],q={},U={};function X(t,e,n){var o=t.getCode(),r=e.getCode();o in U||(U[o]={}),U[o][r]=n}function Y(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function K(t,e){for(var n=!0,o=t.length-1;o>=0;--o)if(t[o]!=e[o]){n=!1;break}return n}function H(t,e){var n=Math.cos(e),o=Math.sin(e),r=t[0]*n-t[1]*o,i=t[1]*n+t[0]*o;return t[0]=r,t[1]=i,t}function $(t,e){return t[0]*=e,t[1]*=e,t}function J(t,e){if(e.canWrapX()){var n=(0,b.dz)(e.getExtent()),o=function(t,e,n){var o=e.getExtent(),r=0;if(e.canWrapX()&&(t[0]<o[0]||t[0]>o[2])){var i=n||(0,b.dz)(o);r=Math.floor((t[0]-o[0])/i)}return r}(t,e,n);o&&(t[0]-=o*n)}return t}function tt(t,e,n){var o=n||6371008.8,r=(0,R.Yr)(t[1]),i=(0,R.Yr)(e[1]),a=(i-r)/2,s=(0,R.Yr)(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var et=!0;function nt(t){et=!(void 0===t||t)}function ot(t,e,n){var o;if(void 0!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];o=e}else o=t.slice();return o}function rt(t,e,n){if(void 0!==e&&t!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];t=e}return t}function it(t){!function(t,e){q[t]=e}(t.getCode(),t),X(t,t,ot)}function at(t){return"string"==typeof t?q[e=t]||q[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function st(t,e,n,o){var r,i=(t=at(t)).getPointResolutionFunc();if(i)r=i(e,n),o&&o!==t.getUnits()&&(s=t.getMetersPerUnit())&&(r=r*s/B[o]);else{var a=t.getUnits();if(a==T.DEGREES&&!o||o==T.DEGREES)r=e;else{var s,l=pt(t,at("EPSG:4326"));if(l===rt&&a!==T.DEGREES)r=e*t.getMetersPerUnit();else{var c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(tt((c=l(c,c,2)).slice(0,2),c.slice(2,4))+tt(c.slice(4,6),c.slice(6,8)))/2}void 0!==(s=o?B[o]:t.getMetersPerUnit())&&(r/=s)}}return r}function lt(t){!function(t){t.forEach(it)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&X(e,t,ot)}))}))}function ct(t,e){return t?"string"==typeof t?at(t):t:at(e)}function ut(t,e){return nt(),gt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function ht(t,e){var n=gt(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),o=n[0];return(o<-180||o>180)&&(n[0]=(0,R.$W)(o+180,360)-180),n}function ft(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||pt(t,e)===ot)&&n}function pt(t,e){var n=function(t,e){var n;return t in U&&e in U[t]&&(n=U[t][e]),n}(t.getCode(),e.getCode());return n||(n=rt),n}function dt(t,e){return pt(at(t),at(e))}function gt(t,e,n){return dt(e,n)(t,void 0,t.length)}var mt,yt,At,vt=null;function _t(){return vt}function bt(t,e){return t}function Et(t,e){return et&&!K(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(et=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function xt(t,e){return t}function wt(t,e){return t}function Ct(t,e){return t}lt(z),lt(W),mt=z,yt=function(t,e,n){var o=t.length,r=n>1?n:2,i=e;void 0===i&&(i=r>2?t.slice():new Array(o));for(var a=0;a<o;a+=r){i[a]=F*t[a]/180;var s=D*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>j?s=j:s<-j&&(s=-j),i[a+1]=s}return i},At=function(t,e,n){var o=t.length,r=n>1?n:2,i=e;void 0===i&&(i=r>2?t.slice():new Array(o));for(var a=0;a<o;a+=r)i[a]=180*t[a]/F,i[a+1]=360*Math.atan(Math.exp(t[a+1]/D))/Math.PI-90;return i},W.forEach((function(t){mt.forEach((function(e){X(t,e,yt),X(e,t,At)}))}));const kt=function(){function t(t,e,n,o,r,i){this.sourceProj_=t,this.targetProj_=e;var a={},s=dt(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=o,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&(0,b.dz)(o)==(0,b.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,b.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,b.dz)(this.targetProj_.getExtent()):null;var l=(0,b.rL)(n),c=(0,b.Xv)(n),u=(0,b.w$)(n),h=(0,b.hC)(n),f=this.transformInv_(l),p=this.transformInv_(c),d=this.transformInv_(u),g=this.transformInv_(h),m=10+(i?Math.max(0,Math.ceil((0,R.k3)((0,b.bg)(n)/(i*i*256*256)))):0);if(this.addQuad_(l,c,u,h,f,p,d,g,m),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,o,r,i){this.triangles_.push({source:[o,r,i],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,o,r,i,a,s,l){var c=(0,b.hI)([r,i,a,s]),u=this.sourceWorldWidth_?(0,b.dz)(c)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=(0,b.hI)([t,e,n,o]);p=(0,b.dz)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||(0,b.kK)(c,this.maxSourceExtent_)){var g=0;if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)p=!0;else if(1!=(g=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(i[0])&&isFinite(i[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=g&&4!=g&&8!=g)return;if(l>0){if(!p){var m=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(m),A=void 0;A=f?((0,R.$W)(r[0],h)+(0,R.$W)(a[0],h))/2-(0,R.$W)(y[0],h):(r[0]+a[0])/2-y[0];var v=(r[1]+a[1])/2-y[1];p=A*A+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(_),x=[(o[0]+t[0])/2,(o[1]+t[1])/2],w=this.transformInv_(x);this.addQuad_(t,e,_,x,r,i,E,w,l-1),this.addQuad_(x,_,n,o,w,E,a,s,l-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],k=this.transformInv_(C),S=[(n[0]+o[0])/2,(n[1]+o[1])/2],B=this.transformInv_(S);this.addQuad_(t,C,S,o,r,k,B,s,l-1),this.addQuad_(C,e,n,S,k,i,a,B,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&g)&&this.addTriangle_(t,n,o,r,a,s),0==(14&g)&&this.addTriangle_(t,n,e,r,a,i),g&&(0==(13&g)&&this.addTriangle_(e,o,t,i,s,r),0==(7&g)&&this.addTriangle_(e,o,n,i,s,a))}},t.prototype.calculateSourceExtent=function(){var t=(0,b.lJ)();return this.triangles_.forEach((function(e,n,o){var r=e.source;(0,b.Wj)(t,r[0]),(0,b.Wj)(t,r[1]),(0,b.Wj)(t,r[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var St,Bt={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Tt={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Ot=c(9011),Pt=[];function Rt(t,e,n,o,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(o,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,o)+1,Math.max(n,r)),t.restore()}function It(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Dt(t,e,n,o){var r=gt(n,e,t),i=st(e,o,n),a=e.getMetersPerUnit();void 0!==a&&(i*=a);var s=t.getMetersPerUnit();void 0!==s&&(i/=s);var l=t.getExtent();if(!l||(0,b.b8)(l,r)){var c=st(t,i,r)/i;isFinite(c)&&c>0&&(i/=c)}return i}function Ft(t,e,n,o,r,i,a,s,l,c,u,h){var f=(0,y.E4)(Math.round(n*t),Math.round(n*e),Pt);if(h||(0,Ot.f0)(f,Bt),0===l.length)return f.canvas;function p(t){return Math.round(t*n)/n}f.scale(n,n),f.globalCompositeOperation="lighter";var d=(0,b.lJ)();l.forEach((function(t,e,n){(0,b.l7)(d,t.extent)}));var g=(0,b.dz)(d),m=(0,b.Cr)(d),A=(0,y.E4)(Math.round(n*g/o),Math.round(n*m/o));h||(0,Ot.f0)(A,Bt);var v=n/o;l.forEach((function(t,e,n){var o=t.extent[0]-d[0],r=-(t.extent[3]-d[3]),i=(0,b.dz)(t.extent),a=(0,b.Cr)(t.extent);t.image.width>0&&t.image.height>0&&A.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,o*v,r*v,i*v,a*v)}));var _=(0,b.rL)(a);return s.getTriangles().forEach((function(t,e,r){var a=t.source,s=t.target,l=a[0][0],c=a[0][1],u=a[1][0],g=a[1][1],m=a[2][0],y=a[2][1],v=p((s[0][0]-_[0])/i),b=p(-(s[0][1]-_[1])/i),E=p((s[1][0]-_[0])/i),x=p(-(s[1][1]-_[1])/i),w=p((s[2][0]-_[0])/i),C=p(-(s[2][1]-_[1])/i),k=l,S=c;l=0,c=0;var B=[[u-=k,g-=S,0,0,E-v],[m-=k,y-=S,0,0,w-v],[0,0,u,g,x-b],[0,0,m,y,C-b]],T=(0,R.SV)(B);if(T){if(f.save(),f.beginPath(),function(){if(void 0===St){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",Rt(t,4,5,4,0),Rt(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;St=It(e,0)||It(e,4)||It(e,8)}return St}()||!h){f.moveTo(E,x);for(var O=v-E,P=b-x,I=0;I<4;I++)f.lineTo(E+p((I+1)*O/4),x+p(I*P/3)),3!=I&&f.lineTo(E+p((I+1)*O/4),x+p((I+1)*P/3));f.lineTo(w,C)}else f.moveTo(E,x),f.lineTo(v,b),f.lineTo(w,C);f.clip(),f.transform(T[0],T[2],T[1],T[3],v,b),f.translate(d[0]-k,d[3]-S),f.scale(o/n,-o/n),f.drawImage(A.canvas,0,0),f.restore()}})),u&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var o=t.target,r=(o[0][0]-_[0])/i,a=-(o[0][1]-_[1])/i,s=(o[1][0]-_[0])/i,l=-(o[1][1]-_[1])/i,c=(o[2][0]-_[0])/i,u=-(o[2][1]-_[1])/i;f.beginPath(),f.moveTo(s,l),f.lineTo(r,a),f.lineTo(c,u),f.closePath(),f.stroke()})),f.restore()),f.canvas}var Lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Mt=function(t){function e(e,n,o,r,i,a,s,l,c,u,h,f){var p=t.call(this,i,0,{interpolate:!!f})||this;p.renderEdges_=void 0!==h&&h,p.pixelRatio_=s,p.gutter_=l,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=r,p.wrappedTileCoord_=a||i,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var d=r.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?(0,b.Ed)(d,g):d;if(0===(0,b.bg)(y))return p.state=4,p;var A=e.getExtent();A&&(m=m?(0,b.Ed)(m,A):A);var v=r.getResolution(p.wrappedTileCoord_[0]),_=function(t,e,n,o){var r=(0,b.qg)(n),i=Dt(t,e,r,o);return(!isFinite(i)||i<=0)&&(0,b.H6)(n,(function(n){return i=Dt(t,e,n,o),isFinite(i)&&i>0})),i}(e,o,y,v);if(!isFinite(_)||_<=0)return p.state=4,p;var E=void 0!==u?u:.5;if(p.triangulation_=new kt(e,o,y,m,_*E,v),0===p.triangulation_.getTriangles().length)return p.state=4,p;p.sourceZ_=n.getZForResolution(_);var x=p.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(x[1]=(0,R.uZ)(x[1],m[1],m[3]),x[3]=(0,R.uZ)(x[3],m[1],m[3])):x=(0,b.Ed)(x,m)),(0,b.bg)(x)){for(var w=n.getTileRangeForExtentAndZ(x,p.sourceZ_),C=w.minX;C<=w.maxX;C++)for(var k=w.minY;k<=w.maxY;k++){var S=c(p.sourceZ_,C,k,s);S&&p.sourceTiles_.push(S)}0===p.sourceTiles_.length&&(p.state=4)}else p.state=4;return p}return Lt(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,o){e&&2==e.getState()&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=3;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),o="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ft(o,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=2}this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,o){var i=e.getState();if(0==i||1==i){t++;var a=(0,E.oL)(e,r.Z.CHANGE,(function(n){var o=e.getState();2!=o&&3!=o&&4!=o||((0,E.bN)(a),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(a)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){0==t.getState()&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(E.bN),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&((0,y.jy)(this.canvas_.getContext("2d")),Pt.push(this.canvas_),this.canvas_=null),t.prototype.release.call(this)},e}(m);var jt=c(9341);const Nt=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return(0,jt.h)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,jt.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,jt.h)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function zt(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function Gt(t,e,n){return t+"/"+e+"/"+n}function Qt(t){return Gt(t[0],t[1],t[2])}function Zt(t){return t.split("/").map(Number)}var Vt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Vt(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=Zt(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Qt(e.tileCoord)),e.release())}.bind(this))}},e}(Nt);var qt=c(1815),Ut=c(6331),Xt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yt=function(t){function e(e){var n=t.call(this)||this;n.projection=at(e.projection),n.attributions_=Kt(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var o=n;return n.viewPromise_=new Promise((function(t,e){o.viewResolver=t,o.viewRejector=e})),n}return Xt(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return(0,a.O3)()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Kt(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(Ut.Z);function Kt(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const Ht=Yt;var $t=function(){function t(t,e,n,o){this.minX=t,this.maxX=e,this.minY=n,this.maxY=o}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Jt(t,e,n,o,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=o,r):new $t(t,e,n,o)}const te=$t;function ee(t,e,n,o,r){var i;for(e+=o;e<n;e+=o)if(i=r(t.slice(e-o,e),t.slice(e,e+o)))return i;return!1}function ne(t,e,n,o,r){return!(0,b.H6)(r,(function(r){return!oe(t,e,n,o,r[0],r[1])}))}function oe(t,e,n,o,r,i){for(var a=0,s=t[n-o],l=t[n-o+1];e<n;e+=o){var c=t[e],u=t[e+1];l<=i?u>i&&(c-s)*(i-l)-(r-s)*(u-l)>0&&a++:u<=i&&(c-s)*(i-l)-(r-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function re(t,e,n,o,r,i){if(0===n.length)return!1;if(!oe(t,e,n[0],o,r,i))return!1;for(var a=1,s=n.length;a<s;++a)if(oe(t,n[a-1],n[a],o,r,i))return!1;return!0}function ie(t,e,n,o,r){var i=(0,b.qP)((0,b.lJ)(),t,e,n,o);return!!(0,b.kK)(r,i)&&(!!(0,b.r4)(r,i)||i[0]>=r[0]&&i[2]<=r[2]||i[1]>=r[1]&&i[3]<=r[3]||ee(t,e,n,o,(function(t,e){return(0,b.I7)(r,t,e)})))}function ae(t,e,n,o,r){return!!(ie(t,e,n,o,r)||oe(t,e,n,o,r[0],r[1])||oe(t,e,n,o,r[0],r[3])||oe(t,e,n,o,r[2],r[1])||oe(t,e,n,o,r[2],r[3]))}function se(t,e,n,o,r){if(!ae(t,e,n[0],o,r))return!1;if(1===n.length)return!0;for(var i=1,a=n.length;i<a;++i)if(ne(t,n[i-1],n[i],o,r)&&!ie(t,n[i-1],n[i],o,r))return!1;return!0}var le=c(7770);function ce(t){return t[0]>0&&t[1]>0}function ue(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var he=[0,0,0],fe=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,jt.h)((0,le.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,jt.h)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,b.rL)(r)),(0,jt.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,jt.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,(0,jt.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new te(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(r){var o=this.getTileRangeForExtentAndZ(r,e);n.minX=Math.max(o.minX,n.minX),n.maxX=Math.min(o.maxX,n.maxX),n.minY=Math.max(o.minY,n.minY),n.maxY=Math.min(o.maxY,n.maxY)}return n}),this):r&&this.calculateTileRanges_(r)}return t.prototype.forEachTileCoord=function(t,e,n){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,i=o.maxX;r<=i;++r)for(var a=o.minY,s=o.maxY;a<=s;++a)n([e,r,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,o){var r,i,a=null,s=t[0]-1;for(2===this.zoomFactor_?(r=t[1],i=t[2]):a=this.getTileCoordExtent(t,o);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Jt(r=Math.floor(r/2),r,i=Math.floor(i/2),i,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var o=2*t[1],r=2*t[2];return Jt(o,o+1,r,r+1,e)}var i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var o=t[0],r=t[1],i=t[2];if(e===o)return Jt(r,i,r,i,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-o),s=Math.floor(r*a),l=Math.floor(i*a);return e<o?Jt(s,s,l,l,n):Jt(s,Math.floor(a*(r+1))-1,l,Math.floor(a*(i+1))-1,n)}var c=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var o=this.getOrigin(t),r=this.getResolution(t),i=ue(this.getTileSize(t),this.tmpSize_),a=o[0]+e.minX*i[0]*r,s=o[0]+(e.maxX+1)*i[0]*r,l=o[1]+e.minY*i[1]*r,c=o[1]+(e.maxY+1)*i[1]*r;return(0,b.T9)(a,l,s,c,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var o=he;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,o);var r=o[1],i=o[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,o),Jt(r,o[1],i,o[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),o=ue(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*n,e[1]-(t[2]+.5)*o[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),o=this.getResolution(t[0]),r=ue(this.getTileSize(t[0]),this.tmpSize_),i=n[0]+t[1]*r[0]*o,a=n[1]-(t[2]+1)*r[1]*o,s=i+r[0]*o,l=a+r[1]*o;return(0,b.T9)(i,a,s,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,o,r){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),l=ue(this.getTileSize(i),this.tmpSize_),c=a*(t-s[0])/n/l[0],u=a*(s[1]-e)/n/l[1];return o?(c=(0,R.mD)(c,5)-1,u=(0,R.mD)(u,5)-1):(c=(0,R.GW)(c,5),u=(0,R.GW)(u,5)),zt(i,c,u,r)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,o,r){var i=this.getOrigin(n),a=this.getResolution(n),s=ue(this.getTileSize(n),this.tmpSize_),l=(t-i[0])/a/s[0],c=(i[1]-e)/a/s[1];return o?(l=(0,R.mD)(l,5)-1,c=(0,R.mD)(c,5)-1):(l=(0,R.GW)(l,5),c=(0,R.GW)(c,5)),zt(n,l,c,r)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var n=(0,le.h7)(this.resolutions_,t,e||0);return(0,R.uZ)(n,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(t,e){return ae(e,0,e.length,2,this.getTileCoordExtent(t))},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),o=this.minZoom;o<e;++o)n[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=n},t}();const pe=fe;function de(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,o){return function(t,e,n,o){var r=me(t,undefined,n);return new pe({extent:t,origin:(0,b.g0)(t,"top-left"),resolutions:r,tileSize:n})}(ye(t),0,void 0)}(t),t.setDefaultTileGrid(e)),e}function ge(t){var e=t||{},n=e.extent||at("EPSG:3857").getExtent(),o={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:me(n,e.maxZoom,e.tileSize,e.maxResolution)};return new pe(o)}function me(t,e,n,o){for(var r=void 0!==e?e:42,i=(0,b.Cr)(t),a=(0,b.dz)(t),s=ue(void 0!==n?n:256),l=o>0?o:Math.max(a/s[0],i/s[1]),c=r+1,u=new Array(c),h=0;h<c;++h)u[h]=l/Math.pow(2,h);return u}function ye(t){var e=(t=at(t)).getExtent();if(!e){var n=180*B[T.DEGREES]/t.getMetersPerUnit();e=(0,b.T9)(-n,-n,n,n)}return e}var Ae=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ve=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;return n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,n.tileGrid&&ue(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),[256,256]),n.tileCache=new Wt(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return Ae(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,o){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var i,a,s,l=!0,c=n.minX;c<=n.maxX;++c)for(var u=n.minY;u<=n.maxY;++u)a=Gt(e,c,u),s=!1,r.containsKey(a)&&(s=2===(i=r.get(a)).getState())&&(s=!1!==o(i)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,n,o,r){return(0,a.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:de(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return(0,jt.h)(null===e||ft(e,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var o,r,i,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=ue(a.getTileSize(t),this.tmpSize);return 1==s?l:(o=l,r=s,void 0===(i=this.tmpSize)&&(i=[0,0]),i[0]=o[0]*r+.5|0,i[1]=o[1]*r+.5|0,i)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),o=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var o=e[0],r=t.getTileCoordCenter(e),i=ye(n);if((0,b.b8)(i,r))return e;var a=(0,b.dz)(i),s=Math.ceil((i[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,o)}(o,t,n)),function(t,e){var n=t[0],o=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var i=e.getFullTileRange(n);return!i||i.containsXY(o,r)}(t,o)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,o){},e}(Ht),_e=function(t){function e(e,n){var o=t.call(this,e)||this;return o.tile=n,o}return Ae(e,t),e}(qt.ZP);const be=ve;function Ee(t,e){var n=/\{z\}/g,o=/\{x\}/g,r=/\{y\}/g,i=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(r,a[2].toString()).replace(i,(function(){var t=a[0],n=e.getFullTileRange(t);return(0,jt.h)(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}var xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),we=function(t){function e(n){var o=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return o.generateTileUrlFunction_=o.tileUrlFunction===e.prototype.tileUrlFunction,o.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(o.tileUrlFunction=n.tileUrlFunction),o.urls=null,n.urls?o.setUrls(n.urls):n.url&&o.setUrl(n.url),o.tileLoadingKeys_={},o}return xe(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=(0,a.sq)(n),r=n.getState();1==r?(this.tileLoadingKeys_[o]=!0,e="tileloadstart"):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=3==r?"tileloaderror":2==r?"tileloadend":void 0),null!=e&&this.dispatchEvent(new _e(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o=n[1].charCodeAt(0),r=n[2].charCodeAt(0),i=void 0;for(i=o;i<=r;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(function(t,e){for(var n=t.length,o=new Array(n),r=0;r<n;++r)o[r]=Ee(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,o){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),i=(0,R.$W)(r,t.length);return t[i](e,n,o)}}}(o)}(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var o=Gt(t,e,n);this.tileCache.containsKey(o)&&this.tileCache.get(o)},e}(be);const Ce=we;var ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Se=function(t){function e(e){var n=this,o=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(o=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Be,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:o,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:k,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return ke(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var o in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[o];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!ft(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!ft(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!ft(e,t)){var n=(0,a.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=de(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||ft(e,t))return this.tileCache;var n=(0,a.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Wt(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,o,i,a){var s=[t,e,n],l=this.getTileCoordForTileUrlFunction(s,i),c=l?this.tileUrlFunction(l,o,i):void 0,u=new this.tileClass(s,void 0!==c?0:4,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=a,u.addEventListener(r.Z.CHANGE,this.handleTileChange.bind(this)),u},e.prototype.getTile=function(t,e,n,o,r){var i=this.getProjection();if(i&&r&&!ft(i,r)){var a=this.getTileCacheForProjection(r),s=[t,e,n],l=void 0,c=Qt(s);a.containsKey(c)&&(l=a.get(c));var u=this.getKey();if(l&&l.key==u)return l;var h=this.getTileGridForProjection(i),f=this.getTileGridForProjection(r),p=this.getTileCoordForTileUrlFunction(s,r),d=new Mt(i,h,r,f,s,p,this.getTilePixelRatio(o),this.getGutter(),function(t,e,n,o){return this.getTileInternal(t,e,n,o,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,o,i||r)},e.prototype.getTileInternal=function(t,e,n,o,r){var i=null,a=Gt(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((i=this.tileCache.get(a)).key!=s){var l=i;i=this.createTile_(t,e,n,o,r,s),0==l.getState()?i.interimTile=l.interimTile:i.interimTile=l,i.refreshInterimChain(),this.tileCache.replace(a,i)}}else i=this.createTile_(t,e,n,o,r,s),this.tileCache.set(a,i);return i},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=at(t);if(n){var o=(0,a.sq)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}},e}(Ce);function Be(t,e){t.getImage().src=e}const Te=Se;var Oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Pe=function(t){function e(e){var n=this,o=e||{},r=void 0===o.imageSmoothing||o.imageSmoothing;void 0!==o.interpolate&&(r=o.interpolate);var i=void 0!==o.projection?o.projection:"EPSG:3857",a=void 0!==o.tileGrid?o.tileGrid:ge({extent:ye(i),maxResolution:o.maxResolution,maxZoom:o.maxZoom,minZoom:o.minZoom,tileSize:o.tileSize});return(n=t.call(this,{attributions:o.attributions,cacheSize:o.cacheSize,crossOrigin:o.crossOrigin,interpolate:r,opaque:o.opaque,projection:i,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:o.tileLoadFunction,tilePixelRatio:o.tilePixelRatio,tileUrlFunction:o.tileUrlFunction,url:o.url,urls:o.urls,wrapX:void 0===o.wrapX||o.wrapX,transition:o.transition,attributionsCollapsible:o.attributionsCollapsible,zDirection:o.zDirection})||this).gutter_=void 0!==o.gutter?o.gutter:0,n}return Oe(e,t),e.prototype.getGutter=function(){return this.gutter_},e}(Te);const Re=Pe;var Ie=c(4668),De=c(3281);const Fe="prerender",Le="postrender",Me="precompose",je="postcompose",Ne="rendercomplete";var ze=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ge=function(t){function e(e){var n=this,o=(0,Ot.f0)({},e);delete o.source,(n=t.call(this,o)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(De.Z.SOURCE,n.handleSourcePropertyChange_);var r=e.source?e.source:null;return n.setSource(r),n}return ze(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(De.Z.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,E.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,E.oL)(t,r.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.getData=function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(De.Z.MAP,t)},e.prototype.getMapInternal=function(){return this.get(De.Z.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,E.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,E.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,E.oL)(t,Me,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,jt.h)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=(0,E.oL)(this,r.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(De.Z.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Ie.Z);function Qe(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var o=e.zoom;return o>t.minZoom&&o<=t.maxZoom}const Ze=Ge,Ve="preload",We="useInterimTilesOnError";var qe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ue=function(t){function e(e){var n=this,o=e||{},r=(0,Ot.f0)({},o);return delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).on,n.once,n.un,n.setPreload(void 0!==o.preload?o.preload:0),n.setUseInterimTilesOnError(void 0===o.useInterimTilesOnError||o.useInterimTilesOnError),n}return qe(e,t),e.prototype.getPreload=function(){return this.get(Ve)},e.prototype.setPreload=function(t){this.set(Ve,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(We)},e.prototype.setUseInterimTilesOnError=function(t){this.set(We,t)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(Ze);const Xe=Ue;var Ye=c(2889),Ke=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const He=function(t){function e(e){var n=t.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return Ke(e,t),e.prototype.getFeatures=function(t){return(0,a.O3)()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return(0,a.O3)()},e.prototype.renderFrame=function(t,e){return(0,a.O3)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(o,r){var i=this.loadedTileCallback.bind(this,n,o);return t.forEachLoadedTile(e,o,r,i)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){2===t.target.getState()&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return 2!=e&&3!=e&&t.addEventListener(r.Z.CHANGE,this.boundHandleImageChange_),0==e&&(t.load(),e=t.getState()),2==e},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},e}(Ye.default);var $e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Je=function(t){function e(e,n,o,r){var i=t.call(this,e)||this;return i.inversePixelTransform=n,i.frameState=o,i.context=r,i}return $e(e,t),e}(qt.ZP);var tn,en=new Array(6);function nn(t){return rn(t,1,0,0,1,0,0)}function on(t,e){var n=t[0],o=t[1],r=t[2],i=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*l+r*c,t[1]=o*l+i*c,t[2]=n*u+r*h,t[3]=o*u+i*h,t[4]=n*f+r*p+a,t[5]=o*f+i*p+s,t}function rn(t,e,n,o,r,i,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=r,t[4]=i,t[5]=a,t}function an(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function sn(t,e,n){return on(t,rn(en,e,0,0,n,0,0))}function ln(t,e,n){return on(t,rn(en,1,0,0,1,e,n))}function cn(t,e,n,o,r,i,a,s){var l=Math.sin(i),c=Math.cos(i);return t[0]=o*c,t[1]=r*l,t[2]=-o*l,t[3]=r*c,t[4]=a*o*c-s*o*l+e,t[5]=a*r*l+s*r*c+n,t}function un(t,e){var n,o=(n=e)[0]*n[3]-n[1]*n[2];(0,jt.h)(0!==o,32);var r=e[0],i=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/o,t[1]=-i/o,t[2]=-a/o,t[3]=r/o,t[4]=(a*c-s*l)/o,t[5]=-(r*c-i*l)/o,t}function hn(t){var e="matrix("+t.join(", ")+")";if(_.Id)return e;var n=tn||(tn=document.createElement("div"));return n.style.transform=e,n.style.transform}var fn=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,pn=/^([a-z]*)$|^hsla?\(.*\)$/i;function dn(t){return"string"==typeof t?t:An(t)}var gn=function(){var t={},e=0;return function(n){var o;if(t.hasOwnProperty(n))o=t[n];else{if(e>=1024){var r=0;for(var i in t)0==(3&r++)&&(delete t[i],--e)}o=function(t){var e,n,o,r,i;if(pn.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),fn.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var l=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),o=parseInt(t.substr(1+2*a,a),16),r=l?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,o=(o<<4)+o,l&&(r=(r<<4)+r)),i=[e,n,o,r/255]}else 0==t.indexOf("rgba(")?yn(i=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((i=t.slice(4,-1).split(",").map(Number)).push(1),yn(i)):(0,jt.h)(!1,14);return i}(n),t[n]=o,++e}return o}}();function mn(t){return Array.isArray(t)?t:gn(t)}function yn(t){return t[0]=(0,R.uZ)(t[0]+.5|0,0,255),t[1]=(0,R.uZ)(t[1]+.5|0,0,255),t[2]=(0,R.uZ)(t[2]+.5|0,0,255),t[3]=(0,R.uZ)(t[3],0,1),t}function An(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];return o!=(0|o)&&(o=o+.5|0),"rgba("+e+","+n+","+o+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}var vn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_n=[],bn=null,En=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return vn(e,t),e.prototype.getImageData=function(t,e,n){var o,r;bn||((o=document.createElement("canvas")).width=1,o.height=1,bn=o.getContext("2d")),bn.clearRect(0,0,1,1);try{bn.drawImage(t,e,n,1,1,0,0,1,1),r=bn.getImageData(0,0,1,1).data}catch(t){return bn=null,null}return r},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n){var o,r,i=this.getLayer().getClassName();if(t&&t.className===i&&(!n||t&&t.style.backgroundColor&&(0,le.fS)(mn(t.style.backgroundColor),mn(n)))&&(s=t.firstElementChild)instanceof HTMLCanvasElement&&(r=s.getContext("2d")),r&&r.canvas.style.transform===e?(this.container=t,this.context=r,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(o=document.createElement("div")).className=i;var a=o.style;a.position="absolute",a.width="100%",a.height="100%";var s=(r=(0,y.E4)()).canvas;o.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=o,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)},e.prototype.clipUnrotated=function(t,e,n){var o=(0,b.rL)(n),r=(0,b.Xv)(n),i=(0,b.w$)(n),a=(0,b.hC)(n);an(e.coordinateToPixelTransform,o),an(e.coordinateToPixelTransform,r),an(e.coordinateToPixelTransform,i),an(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;an(s,o),an(s,r),an(s,i),an(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){var r=new Je(t,this.inversePixelTransform,n,e);o.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(Fe,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Le,t,e)},e.prototype.getRenderTransform=function(t,e,n,o,r,i,a){var s=r/2,l=i/2,c=o/e,u=-c,h=-t[0]+a,f=-t[1];return cn(this.tempTransform,s,l,c,u,-n,h,f)},e.prototype.getDataAtPixel=function(t,e,n){var o=an(this.inversePixelTransform,t.slice()),r=this.context,i=this.getLayer().getExtent();if(i){var a=an(e.pixelToCoordinateTransform,t.slice());if(!(0,b.b8)(i,a))return null}var s,l=Math.round(o[0]),c=Math.round(o[1]),u=this.pixelContext_;if(!u){var h=document.createElement("canvas");h.width=1,h.height=1,u=h.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(r.canvas,l,c,1,1,0,0,1,1),s=u.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):s}return 0===s[3]?null:s},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(He);const xn=En;var wn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Cn=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,b.lJ)(),n.tmpTileRange_=new te(0,0,0,0),n}return wn(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),o=e.getUseInterimTilesOnError();return 2==n||4==n||3==n&&!o},e.prototype.getTile=function(t,e,n,o){var r=o.pixelRatio,i=o.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,r,i);return 3==s.getState()&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(2)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),o=an(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!(0,b.b8)(r,o))return null;for(var i=e.pixelRatio,a=e.viewState.projection,s=e.viewState,l=n.getRenderSource(),c=l.getTileGridForProjection(s.projection),u=l.getTilePixelRatio(e.pixelRatio),h=c.getZForResolution(s.resolution);h>=c.getMinZoom();--h){var f=c.getTileCoordForCoordAndZ(o,h),p=l.getTile(h,f[1],f[2],i,a);if(!(p instanceof k||p instanceof Mt))return null;if(2===p.getState()){var d=c.getOrigin(h),g=ue(c.getTileSize(h)),m=c.getResolution(h),y=Math.floor(u*((o[0]-d[0])/m-f[1]*g[0])),A=Math.floor(u*((d[1]-o[1])/m-f[2]*g[1])),v=Math.round(u*l.getGutterForProjection(s.projection));return this.getImageData(p.getImage(),y+v,A+v)}}return null},e.prototype.loadedTileCallback=function(e,n,o){return!!this.isDrawableTile(o)&&t.prototype.loadedTileCallback.call(this,e,n,o)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,r=o.projection,i=o.resolution,s=o.center,l=o.rotation,c=t.pixelRatio,u=this.getLayer(),h=u.getSource(),f=h.getRevision(),p=h.getTileGridForProjection(r),d=p.getZForResolution(i,h.zDirection),g=p.getResolution(d),m=t.extent,y=t.viewState.resolution,A=h.getTilePixelRatio(c),v=Math.round((0,b.dz)(m)/y*c),_=Math.round((0,b.Cr)(m)/y*c),E=n.extent&&wt(n.extent);E&&(m=(0,b.Ed)(m,wt(n.extent)));var x=g*v/2/A,w=g*_/2/A,C=[s[0]-x,s[1]-w,s[0]+x,s[1]+w],k=p.getTileRangeForExtentAndZ(m,d),S={};S[d]={};var B=this.createLoadedTileFinder(h,r,S),T=this.tmpExtent,O=this.tmpTileRange_;this.newTiles_=!1;for(var P=l?(0,b.dY)(o.center,y,l,t.size):void 0,R=k.minX;R<=k.maxX;++R)for(var I=k.minY;I<=k.maxY;++I)if(!l||p.tileCoordIntersectsViewport([d,R,I],P)){var D=this.getTile(d,R,I,t);if(this.isDrawableTile(D)){var F=(0,a.sq)(this);if(2==D.getState()&&(S[d][D.tileCoord.toString()]=D,(rt=D.inTransition(F))&&1!==n.opacity&&(D.endTransition(F),rt=!1),this.newTiles_||!rt&&-1!==this.renderedTiles.indexOf(D)||(this.newTiles_=!0)),1===D.getAlpha(F,t.time))continue}var L=p.getTileCoordChildTileRange(D.tileCoord,O,T),M=!1;L&&(M=B(d+1,L)),M||p.forEachTileCoordParentTileRange(D.tileCoord,B,O,T)}var j=g/i*c/A;cn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,l,-v/2,-_/2);var N=hn(this.pixelTransform);this.useContainer(e,N,this.getBackground(t));var z=this.context,G=z.canvas;un(this.inversePixelTransform,this.pixelTransform),cn(this.tempTransform,v/2,_/2,j,j,0,-v/2,-_/2),G.width!=v||G.height!=_?(G.width=v,G.height=_):this.containerReused||z.clearRect(0,0,v,_),E&&this.clipUnrotated(z,t,E),h.getInterpolate()||(0,Ot.f0)(z,Bt),this.preRender(z,t),this.renderedTiles.length=0;var Q,Z,V,W=Object.keys(S).map(Number);W.sort(le.kK),1!==n.opacity||this.containerReused&&!h.getOpaque(t.viewState.projection)?(Q=[],Z=[]):W=W.reverse();for(var q=W.length-1;q>=0;--q){var U=W[q],X=h.getTilePixelSize(U,c,r),Y=p.getResolution(U)/g,K=X[0]*Y*j,H=X[1]*Y*j,$=p.getTileCoordForCoordAndZ((0,b.rL)(C),U),J=p.getTileCoordExtent($),tt=an(this.tempTransform,[A*(J[0]-C[0])/g,A*(C[3]-J[3])/g]),et=A*h.getGutterForProjection(r),nt=S[U];for(var ot in nt){var rt,it=(D=nt[ot]).tileCoord,at=$[1]-it[1],st=Math.round(tt[0]-(at-1)*K),lt=$[2]-it[2],ct=Math.round(tt[1]-(lt-1)*H),ut=st-(R=Math.round(tt[0]-at*K)),ht=ct-(I=Math.round(tt[1]-lt*H)),ft=d===U,pt=!1;if(!(rt=ft&&1!==D.getAlpha((0,a.sq)(this),t.time)))if(Q){V=[R,I,R+ut,I,R+ut,I+ht,R,I+ht];for(var dt=0,gt=Q.length;dt<gt;++dt)if(d!==U&&U<Z[dt]){var mt=Q[dt];(0,b.kK)([R,I,R+ut,I+ht],[mt[0],mt[3],mt[4],mt[7]])&&(pt||(z.save(),pt=!0),z.beginPath(),z.moveTo(V[0],V[1]),z.lineTo(V[2],V[3]),z.lineTo(V[4],V[5]),z.lineTo(V[6],V[7]),z.moveTo(mt[6],mt[7]),z.lineTo(mt[4],mt[5]),z.lineTo(mt[2],mt[3]),z.lineTo(mt[0],mt[1]),z.clip())}Q.push(V),Z.push(U)}else z.clearRect(R,I,ut,ht);this.drawTileImage(D,t,R,I,ut,ht,et,ft),Q&&!rt?(pt&&z.restore(),this.renderedTiles.unshift(D)):this.renderedTiles.push(D),this.updateUsedTiles(t.usedTiles,h,D)}}return this.renderedRevision=f,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!(0,b.fS)(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=c,this.renderedProjection=r,this.manageTilePyramid(t,h,p,c,r,m,d,u.getPreload()),this.scheduleExpireCache(t,h),this.postRender(z,t),n.extent&&z.restore(),(0,Ot.f0)(z,Tt),N!==G.style.transform&&(G.style.transform=N),this.container},e.prototype.drawTileImage=function(t,e,n,o,r,i,s,l){var c=this.getTileImage(t);if(c){var u=(0,a.sq)(this),h=e.layerStatesArray[e.layerIndex],f=h.opacity*(l?t.getAlpha(u,e.time):1),p=f!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,n,o,r,i),p&&this.context.restore(),f!==h.opacity?e.animate=!0:l&&t.endTransition(u)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var o=(0,a.sq)(t);o in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[o])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var o=(0,a.sq)(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,o,r,i,s,l,c){var u=(0,a.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var h,f,p,d,g,m,y=t.wantedTiles[u],A=t.tileQueue,v=n.getMinZoom(),_=t.viewState.rotation,E=_?(0,b.dY)(t.viewState.center,t.viewState.resolution,_,t.size):void 0,x=0;for(m=v;m<=s;++m)for(f=n.getTileRangeForExtentAndZ(i,m,f),p=n.getResolution(m),d=f.minX;d<=f.maxX;++d)for(g=f.minY;g<=f.maxY;++g)_&&!n.tileCoordIntersectsViewport([m,d,g],E)||(s-m<=l?(++x,0==(h=e.getTile(m,d,g,o,r)).getState()&&(y[h.getKey()]=!0,A.isKeyQueued(h.getKey())||A.enqueue([h,u,n.getTileCoordCenter(h.tileCoord),p])),void 0!==c&&c(h)):e.useTile(m,d,g,r));e.updateCacheSize(x,r)},e}(xn);const kn=Cn;var Sn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Bn=function(t){function e(e){return t.call(this,e)||this}return Sn(e,t),e.prototype.createRenderer=function(){return new kn(this)},e}(Xe);function Tn(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pn;!function(t){t.Auto="auto",t.Light="light",t.Dark="dark"}(Pn||(Pn={}));const Rn={theme:Pn.Auto,showLabels:!0},In={id:"carto",name:"CARTO reference map",isBaseMap:!0,defaultOptions:Rn,create:(Dn=function*(t,e,n){return{init:()=>{const t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){On(t,e,n[e])}))}return t}({},Rn,e.config);let o=t.theme;return o&&o!==Pn.Auto||(o=n.isDark?"dark":"light"),t.showLabels?o+="_all":o+="_nolabels",new Bn({source:new Re({attributions:'<a href="https://carto.com/attribution/">© CARTO</a>',url:`https://{1-4}.basemaps.cartocdn.com/${o}/{z}/{x}/{y}.png`})})}}},Fn=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=Dn.apply(t,e);function i(t){Tn(r,n,o,i,a,"next",t)}function a(t){Tn(r,n,o,i,a,"throw",t)}i(void 0)}))},function(t,e,n){return Fn.apply(this,arguments)}),registerOptionsUI:t=>{t.addRadio({path:"config.theme",name:"Theme",settings:{options:[{value:Pn.Auto,label:"Auto",description:"Match grafana theme"},{value:Pn.Light,label:"Light"},{value:Pn.Dark,label:"Dark"}]},defaultValue:Rn.theme}).addBooleanSwitch({path:"config.showLabels",name:"Show labels",description:"",defaultValue:Rn.showLabels})}};var Dn,Fn;const Ln=[In];var Mn,jn,Nn=c(3545);const zn=Boolean((null===(Mn=Nn.config.panels)||void 0===Mn||null===(jn=Mn.debug)||void 0===jn?void 0:jn.state)===t.PluginState.alpha);function Gn(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Qn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Zn="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",Vn={url:Zn+"/tile/{z}/{y}/{x}",attribution:`Tiles © <a href="${Zn}">ArcGIS</a>`},Wn={id:"xyz",name:"XYZ Tile layer",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Gn(i,o,r,a,s,"next",t)}function s(t){Gn(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e,n){return{init:()=>{const t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Qn(t,e,n[e])}))}return t}({},e.config);var n;return t.url||(t.url=Vn.url,t.attribution=null!==(n=t.attribution)&&void 0!==n?n:Vn.attribution),new Bn({source:new Re({url:t.url,attributions:t.attribution}),minZoom:t.minZoom,maxZoom:t.maxZoom})}}}));return function(e,n,o){return t.apply(this,arguments)}}(),registerOptionsUI:t=>{t.addTextInput({path:"config.url",name:"URL template",description:"Must include {x}, {y} or {-y}, and {z} placeholders",settings:{placeholder:Vn.url}}).addTextInput({path:"config.attribution",name:"Attribution",settings:{placeholder:Vn.attribution}})}},qn=[Wn];function Un(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Xn(t,e,n[e])}))}return t}const Kn="custom",Hn="streets",$n=new t.Registry((()=>[{id:Hn,name:"World Street Map",slug:"World_Street_Map"},{id:"world-imagery",name:"World Imagery",slug:"World_Imagery"},{id:"world-physical",name:"World Physical",slug:"World_Physical_Map"},{id:"topo",name:"Topographic",slug:"World_Topo_Map"},{id:"usa-topo",name:"USA Topographic",slug:"USA_Topo_Maps"},{id:"ocean",name:"World Ocean",slug:"Ocean/World_Ocean_Base"},{id:Kn,name:"Custom MapServer",description:"Use a custom MapServer with pre-cached values",slug:""}])),Jn={id:"esri-xyz",name:"ArcGIS MapServer",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Un(i,o,r,a,s,"next",t)}function s(t){Un(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e,n){const o=Yn({},e.config);var r;const i=$n.getIfExists(null!==(r=o.server)&&void 0!==r?r:Hn);if(i.id!==Kn){const t="https://services.arcgisonline.com/ArcGIS/rest/services/";o.url=`${t}${i.slug}/MapServer/tile/{z}/{y}/{x}`,o.attribution=`Tiles © <a href="${t}${i.slug}/MapServer">ArcGIS</a>`}const a=(s=Yn({},e),l=null!=(l={config:o})?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(l)).forEach((function(t){Object.defineProperty(s,t,Object.getOwnPropertyDescriptor(l,t))})),s);var s,l;return Wn.create(t,a,n)}));return function(e,n,o){return t.apply(this,arguments)}}(),registerOptionsUI:t=>{t.addSelect({path:"config.server",name:"Server instance",settings:{options:$n.selectOptions().options}}).addTextInput({path:"config.url",name:"URL template",description:"Must include {x}, {y} or {-y}, and {z} placeholders",settings:{placeholder:Vn.url},showIf:t=>{var e;return(null===(e=t.config)||void 0===e?void 0:e.server)===Kn}}).addTextInput({path:"config.attribution",name:"Attribution",settings:{placeholder:Vn.attribution},showIf:t=>{var e;return(null===(e=t.config)||void 0===e?void 0:e.server)===Kn}})},defaultOptions:{server:Hn}},to=[Jn];var eo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),no=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var o=e;n.setGeometry(o)}else{var r=e;n.setProperties(r)}return n}return eo(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,E.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,E.oL)(t,r.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,jt.h)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(Ut.Z);const oo=no;var ro=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var o=e.dataProjection?at(e.dataProjection):this.readProjection(t);e.extent&&o&&o.getUnits()===T.TILE_PIXELS&&(o=at(o)).setWorldExtent(e.extent),n={dataProjection:o,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return(0,Ot.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,a.O3)()},t.prototype.readFeature=function(t,e){return(0,a.O3)()},t.prototype.readFeatures=function(t,e){return(0,a.O3)()},t.prototype.readGeometry=function(t,e){return(0,a.O3)()},t.prototype.readProjection=function(t){return(0,a.O3)()},t.prototype.writeFeature=function(t,e){return(0,a.O3)()},t.prototype.writeFeatures=function(t,e){return(0,a.O3)()},t.prototype.writeGeometry=function(t,e){return(0,a.O3)()},t}();const io=ro;function ao(t,e,n){var o,r=n?at(n.featureProjection):null,i=n?at(n.dataProjection):null;if(o=r&&i&&!ft(r,i)?(e?t.clone():t).transform(e?r:i,e?i:r):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);o===t&&(o=t.clone()),o.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return o}var so=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function lo(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}const co=function(t){function e(){return t.call(this)||this}return so(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(lo(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(lo(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,a.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,a.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(lo(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,a.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(lo(t))},e.prototype.readProjectionFromObject=function(t){return(0,a.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,a.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,a.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,a.O3)()},e}(io),uo="XY",ho="XYM",fo="XYZM";var po=c(7625);function go(t,e,n,o,r,i){for(var a=i||[],s=0,l=e;l<n;l+=o){var c=t[l],u=t[l+1];a[s++]=r[0]*c+r[2]*u+r[4],a[s++]=r[1]*c+r[3]*u+r[5]}return i&&a.length!=s&&(a.length=s),a}function mo(t,e,n,o,r,i,a){for(var s=a||[],l=Math.cos(r),c=Math.sin(r),u=i[0],h=i[1],f=0,p=e;p<n;p+=o){var d=t[p]-u,g=t[p+1]-h;s[f++]=u+d*l-g*c,s[f++]=h+d*c+g*l;for(var m=p+2;m<p+o;++m)s[f++]=t[m]}return a&&s.length!=f&&(s.length=f),s}var yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ao=[1,0,0,1,0,0],vo=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,b.lJ)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,po.qe)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var o=this.clone();return o.applyTransform(n),o.getSimplifiedGeometry(e)})),e}return yo(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,a.O3)()},e.prototype.closestPointXY=function(t,e,n,o){return(0,a.O3)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,a.O3)()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,b.YN)(e),this.extentRevision_=this.getRevision()}return(0,b.EO)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,a.O3)()},e.prototype.scale=function(t,e,n){(0,a.O3)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,a.O3)()},e.prototype.getType=function(){return(0,a.O3)()},e.prototype.applyTransform=function(t){(0,a.O3)()},e.prototype.intersectsExtent=function(t){return(0,a.O3)()},e.prototype.translate=function(t,e){(0,a.O3)()},e.prototype.transform=function(t,e){var n=at(t),o=n.getUnits()==T.TILE_PIXELS?function(t,o,r){var i=n.getExtent(),a=n.getWorldExtent(),s=(0,b.Cr)(a)/(0,b.Cr)(i);return cn(Ao,a[0],a[3],s,-s,0,0,0),go(t,0,t.length,r,Ao,o),dt(n,e)(t,o,r)}:dt(n,e);return this.applyTransform(o),this},e}(Ut.Z);const _o=vo;var bo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Eo=function(t){function e(){var e=t.call(this)||this;return e.layout=uo,e.stride=2,e.flatCoordinates=null,e}return bo(e,t),e.prototype.computeExtent=function(t){return(0,b.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,a.O3)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=xo(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,a.O3)()},e.prototype.setLayout=function(t,e,n){var o;if(t)o=xo(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=uo,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=uo:3==t?e="XYZ":4==t&&(e=fo),e}(o=e.length)}this.layout=t,this.stride=o},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();mo(n,0,n.length,o,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var r=n;r||(r=(0,b.qg)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();!function(t,e,n,o,r,i,a,s){for(var l=s||[],c=a[0],u=a[1],h=0,f=0;f<n;f+=o){var p=t[f]-c,d=t[f+1]-u;l[h++]=c+r*p,l[h++]=u+i*d;for(var g=f+2;g<f+o;++g)l[h++]=t[g]}s&&l.length!=h&&(l.length=h)}(i,0,i.length,a,t,o,r,i),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();!function(t,e,n,o,r,i,a){for(var s=a||[],l=0,c=0;c<n;c+=o){s[l++]=t[c]+r,s[l++]=t[c+1]+i;for(var u=c+2;u<c+o;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,o,t,e,n),this.changed()}},e}(_o);function xo(t){var e;return t==uo?e=2:"XYZ"==t||t==ho?e=3:t==fo&&(e=4),e}const wo=Eo;function Co(t,e,n,o,r,i,a){var s,l=t[e],c=t[e+1],u=t[n]-l,h=t[n+1]-c;if(0===u&&0===h)s=e;else{var f=((r-l)*u+(i-c)*h)/(u*u+h*h);if(f>1)s=n;else{if(f>0){for(var p=0;p<o;++p)a[p]=(0,R.t7)(t[e+p],t[n+p],f);return void(a.length=o)}s=e}}for(p=0;p<o;++p)a[p]=t[s+p];a.length=o}function ko(t,e,n,o,r){var i=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],l=t[e+1],c=(0,R.bI)(i,a,s,l);c>r&&(r=c),i=s,a=l}return r}function So(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){var s=n[i];r=ko(t,e,s,o,r),e=s}return r}function Bo(t,e,n,o,r,i,a,s,l,c,u){if(e==n)return c;var h,f;if(0===r){if((f=(0,R.bI)(a,s,t[e],t[e+1]))<c){for(h=0;h<o;++h)l[h]=t[e+h];return l.length=o,f}return c}for(var p=u||[NaN,NaN],d=e+o;d<n;)if(Co(t,d-o,d,o,a,s,p),(f=(0,R.bI)(a,s,p[0],p[1]))<c){for(c=f,h=0;h<o;++h)l[h]=p[h];l.length=o,d+=o}else d+=o*Math.max((Math.sqrt(f)-Math.sqrt(c))/r|0,1);if(i&&(Co(t,n-o,e,o,a,s,p),(f=(0,R.bI)(a,s,p[0],p[1]))<c)){for(c=f,h=0;h<o;++h)l[h]=p[h];l.length=o}return c}function To(t,e,n,o,r,i,a,s,l,c,u){for(var h=u||[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];c=Bo(t,e,d,o,r,i,a,s,l,c,h),e=d}return c}function Oo(t,e,n,o){for(var r=0,i=n.length;r<i;++r)for(var a=n[r],s=0;s<o;++s)t[e++]=a[s];return e}function Po(t,e,n,o,r){for(var i=r||[],a=0,s=0,l=n.length;s<l;++s){var c=Oo(t,e,n[s],o);i[a++]=c,e=c}return i.length=a,i}function Ro(t,e,n,o,r,i,a){var s=(n-e)/o;if(s<3){for(;e<n;e+=o)i[a++]=t[e],i[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var c=[e,n-o],u=0;c.length>0;){for(var h=c.pop(),f=c.pop(),p=0,d=t[f],g=t[f+1],m=t[h],y=t[h+1],A=f+o;A<h;A+=o){var v=t[A],_=t[A+1],b=(0,R.rU)(v,_,d,g,m,y);b>p&&(u=A,p=b)}p>r&&(l[(u-e)/o]=1,f+o<u&&c.push(f,u),u+o<h&&c.push(u,h))}for(A=0;A<s;++A)l[A]&&(i[a++]=t[e+A*o],i[a++]=t[e+A*o+1]);return a}function Io(t,e){return e*Math.round(t/e)}function Do(t,e,n,o,r,i,a){if(e==n)return a;var s,l,c=Io(t[e],r),u=Io(t[e+1],r);e+=o,i[a++]=c,i[a++]=u;do{if(s=Io(t[e],r),l=Io(t[e+1],r),(e+=o)==n)return i[a++]=s,i[a++]=l,a}while(s==c&&l==u);for(;e<n;){var h=Io(t[e],r),f=Io(t[e+1],r);if(e+=o,h!=s||f!=l){var p=s-c,d=l-u,g=h-c,m=f-u;p*m==d*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(d<0&&m<d||d==m||d>0&&m>d)?(s=h,l=f):(i[a++]=s,i[a++]=l,c=s,u=l,s=h,l=f)}}return i[a++]=s,i[a++]=l,a}function Fo(t,e,n,o,r,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=Do(t,e,u,o,r,i,a),s.push(a),e=u}return a}function Lo(t,e,n,o,r){for(var i=void 0!==r?r:[],a=0,s=e;s<n;s+=o)i[a++]=t.slice(s,s+o);return i.length=a,i}function Mo(t,e,n,o,r){for(var i=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=Lo(t,e,c,o,i[a]),e=c}return i.length=a,i}function jo(t,e,n,o,r){for(var i=void 0!==r?r:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=Mo(t,e,c,o,i[a]),e=c[c.length-1]}return i.length=a,i}function No(t,e,n,o,r,i,a){var s,l,c=(n-e)/o;if(1===c)s=e;else if(2===c)s=e,l=r;else if(0!==c){for(var u=t[e],h=t[e+1],f=0,p=[0],d=e+o;d<n;d+=o){var g=t[d],m=t[d+1];f+=Math.sqrt((g-u)*(g-u)+(m-h)*(m-h)),p.push(f),u=g,h=m}var y=r*f,A=(0,le.ry)(p,y);A<0?(l=(y-p[-A-2])/(p[-A-1]-p[-A-2]),s=e+(-A-2)*o):s=e+A*o}var v=a>1?a:2,_=i||new Array(v);for(d=0;d<v;++d)_[d]=void 0===s?NaN:void 0===l?t[s+d]:(0,R.t7)(t[s+d],t[s+o+d],l);return _}function zo(t,e,n,o,r,i){if(n==e)return null;var a;if(r<t[e+o-1])return i?((a=t.slice(e,e+o))[o-1]=r,a):null;if(t[n-1]<r)return i?((a=t.slice(n-o,n))[o-1]=r,a):null;if(r==t[e+o-1])return t.slice(e,e+o);for(var s=e/o,l=n/o;s<l;){var c=s+l>>1;r<t[(c+1)*o-1]?l=c:s=c+1}var u=t[s*o-1];if(r==u)return t.slice((s-1)*o,(s-1)*o+o);var h=(r-u)/(t[(s+1)*o-1]-u);a=[];for(var f=0;f<o-1;++f)a.push((0,R.t7)(t[(s-1)*o+f],t[s*o+f],h));return a.push(r),a}function Go(t,e,n,o){for(var r=t[e],i=t[e+1],a=0,s=e+o;s<n;s+=o){var l=t[s],c=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(c-i)*(c-i)),r=l,i=c}return a}var Qo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zo=function(t){function e(e,n){var o=t.call(this)||this;return o.flatMidpoint_=null,o.flatMidpointRevision_=-1,o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?o.setCoordinates(e,n):o.setFlatCoordinates(n,e),o}return Qo(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,le.l7)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){return o<(0,b.qf)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ko(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,o))},e.prototype.forEachSegment=function(t){return ee(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=ho&&this.layout!=fo)return null;var n=void 0!==e&&e;return zo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Lo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return No(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return Go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,uo)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return ie(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wo);const Vo=Zo;var Wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qo=function(t){function e(e,n,o){var r=t.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(e[0]))r.setCoordinates(e,n);else if(void 0!==n&&o)r.setFlatCoordinates(n,e),r.ends_=o;else{for(var i=r.getLayout(),a=e,s=[],l=[],c=0,u=a.length;c<u;++c){var h=a[c];0===c&&(i=h.getLayout()),(0,le.l7)(s,h.getFlatCoordinates()),l.push(s.length)}r.setFlatCoordinates(i,s),r.ends_=l}return r}return Wo(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,le.l7)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){return o<(0,b.qf)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(So(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),To(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,o))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=ho&&this.layout!=fo||0===this.flatCoordinates.length)return null;var o=void 0!==e&&e,r=void 0!==n&&n;return function(t,e,n,o,r,i,a){if(a)return zo(t,e,n[n.length-1],o,r,i);var s;if(r<t[o-1])return i?((s=t.slice(0,o))[o-1]=r,s):null;if(t[t.length-1]<r)return i?((s=t.slice(t.length-o))[o-1]=r,s):null;for(var l=0,c=n.length;l<c;++l){var u=n[l];if(e!=u){if(r<t[e+o-1])return null;if(r<=t[u-1])return zo(t,e,u,o,r,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,o,r)},e.prototype.getCoordinates=function(){return Mo(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Vo(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,o=[],r=0,i=0,a=e.length;i<a;++i){var s=e[i],l=new Vo(t.slice(r,s),n);o.push(l),r=s}return o},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,o=this.ends_,r=this.stride,i=0,a=o.length;i<a;++i){var s=o[i],l=No(e,n,s,r,.5);(0,le.l7)(t,l),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],o=[];return n.length=function(t,e,n,o,r,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=Ro(t,e,u,o,r,i,a),s.push(a),e=u}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,o),new e(n,uo,o)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){if(ie(t,e,n[i],o,r))return!0;e=n[i]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Po(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(wo);const Uo=qo;var Xo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yo=function(t){function e(e,n){var o=t.call(this)||this;return o.setCoordinates(e,n),o}return Xo(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){var r=this.flatCoordinates,i=(0,R.bI)(t,e,r[0],r[1]);if(i<o){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,i}return o},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,b.HK)(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return(0,b.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,o){for(var r=0,i=n.length;r<i;++r)t[e++]=n[r];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wo);const Ko=Yo;var Ho=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$o=function(t){function e(e,n){var o=t.call(this)||this;return n&&!Array.isArray(e[0])?o.setFlatCoordinates(n,e):o.setCoordinates(e,n),o}return Ho(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,le.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){if(o<(0,b.qf)(this.getExtent(),t,e))return o;for(var r=this.flatCoordinates,i=this.stride,a=0,s=r.length;a<s;a+=i){var l=(0,R.bI)(t,e,r[a],r[a+1]);if(l<o){o=l;for(var c=0;c<i;++c)n[c]=r[a+c];n.length=i}}return o},e.prototype.getCoordinates=function(){return Lo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Ko(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,o=[],r=0,i=t.length;r<i;r+=n){var a=new Ko(t.slice(r,r+n),e);o.push(a)}return o},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,o=0,r=e.length;o<r;o+=n){var i=e[o],a=e[o+1];if((0,b.jE)(t,i,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wo);const Jo=$o;function tr(t,e,n,o){for(var r=0,i=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],l=t[e+1];r+=a*s-i*l,i=s,a=l}return r/2}function er(t,e,n,o){for(var r=0,i=0,a=n.length;i<a;++i){var s=n[i];r+=tr(t,e,s,o),e=s}return r}var nr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),or=function(t){function e(e,n){var o=t.call(this)||this;return o.maxDelta_=-1,o.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?o.setCoordinates(e,n):o.setFlatCoordinates(n,e),o}return nr(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,o){return o<(0,b.qf)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ko(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,o))},e.prototype.getArea=function(){return tr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Lo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,uo)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(wo);const rr=or;function ir(t,e,n,o,r,i,a){for(var s,l,c,u,h,f,p,d=r[i+1],g=[],m=0,y=n.length;m<y;++m){var A=n[m];for(u=t[A-o],f=t[A-o+1],s=e;s<A;s+=o)h=t[s],p=t[s+1],(d<=f&&p<=d||f<=d&&d<=p)&&(c=(d-f)/(p-f)*(h-u)+u,g.push(c)),u=h,f=p}var v=NaN,_=-1/0;for(g.sort(le.kK),u=g[0],s=1,l=g.length;s<l;++s){h=g[s];var b=Math.abs(h-u);b>_&&re(t,e,n,o,c=(u+h)/2,d)&&(v=c,_=b),u=h}return isNaN(v)&&(v=r[i]),a?(a.push(v,d,_),a):[v,d,_]}function ar(t,e,n,o){for(;e<n-o;){for(var r=0;r<o;++r){var i=t[e+r];t[e+r]=t[n-o+r],t[n-o+r]=i}e+=o,n-=o}}function sr(t,e,n,o){for(var r=0,i=t[n-o],a=t[n-o+1];e<n;e+=o){var s=t[e],l=t[e+1];r+=(s-i)*(l+a),i=s,a=l}return 0===r?void 0:r>0}function lr(t,e,n,o,r){for(var i=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],c=sr(t,e,l,o);if(0===a){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function cr(t,e,n,o,r){for(var i=void 0!==r&&r,a=0,s=n.length;a<s;++a){var l=n[a],c=sr(t,e,l,o);(0===a?i&&c||!i&&!c:i&&!c||!i&&c)&&ar(t,e,l,o),e=l}return e}function ur(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i)e=cr(t,e,n[i],o,r);return e}var hr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fr=function(t){function e(e,n,o){var r=t.call(this)||this;return r.ends_=[],r.flatInteriorPointRevision_=-1,r.flatInteriorPoint_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,void 0!==n&&o?(r.setFlatCoordinates(n,e),r.ends_=o):r.setCoordinates(e,n),r}return hr(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,le.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){return o<(0,b.qf)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(So(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),To(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,o))},e.prototype.containsXY=function(t,e){return re(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return er(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?cr(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,Mo(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,b.qg)(this.getExtent());this.flatInteriorPoint_=ir(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ko(this.getFlatInteriorPoint(),ho)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new rr(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,o=[],r=0,i=0,a=n.length;i<a;++i){var s=n[i],l=new rr(e.slice(r,s),t);o.push(l),r=s}return o},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;lr(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=cr(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],o=[];return n.length=Fo(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,o),new e(n,uo,o)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return se(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Po(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(wo);const pr=fr;function dr(t){var e=t[0],n=t[1],o=t[2],r=t[3],i=[e,n,e,r,o,r,o,n,e,n];return new fr(i,uo,[i.length])}var gr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mr=function(t){function e(e,n,o){var r=t.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!o&&!Array.isArray(e[0])){for(var i=r.getLayout(),a=e,s=[],l=[],c=0,u=a.length;c<u;++c){var h=a[c];0===c&&(i=h.getLayout());for(var f=s.length,p=h.getEnds(),d=0,g=p.length;d<g;++d)p[d]+=f;(0,le.l7)(s,h.getFlatCoordinates()),l.push(p)}n=i,e=s,o=l}return void 0!==n&&o?(r.setFlatCoordinates(n,e),r.endss_=o):r.setCoordinates(e,n),r}return gr(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,le.l7)(this.flatCoordinates,t.getFlatCoordinates());for(var o=0,r=(e=t.getEnds().slice()).length;o<r;++o)e[o]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),o=0;o<t;++o)n[o]=this.endss_[o].slice();var r=new e(this.flatCoordinates.slice(),this.layout,n);return r.applyProperties(this),r},e.prototype.closestPointXY=function(t,e,n,o){return o<(0,b.qf)(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){var s=n[i];r=So(t,e,s,o,r),e=s[s.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,o,r,i,a,s,l,c,u){for(var h=[NaN,NaN],f=0,p=n.length;f<p;++f){var d=n[f];c=To(t,e,d,o,r,true,a,s,l,c,h),e=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,o))},e.prototype.containsXY=function(t,e){return function(t,e,n,o,r,i){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(re(t,e,l,o,r,i))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,o){for(var r=0,i=0,a=n.length;i<a;++i){var s=n[i];r+=er(t,e,s,o),e=s[s.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?ur(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,jo(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,o){for(var r=[],i=(0,b.lJ)(),a=0,s=n.length;a<s;++a){var l=n[a];i=(0,b.GN)(t,e,l[0],o),r.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,o,r){for(var i=[],a=0,s=n.length;a<s;++a){var l=n[a];i=ir(t,e,l,o,r,2*a,i),e=l[l.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Jo(this.getFlatInteriorPoints().slice(),ho)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(!lr(t,e,s,o,undefined))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ur(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],o=[];return n.length=function(t,e,n,o,r,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l],h=[];a=Fo(t,e,u,o,r,i,a,h),s.push(h),e=u[u.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,o),new e(n,uo,o)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var o=this.endss_[t].slice(),r=o[o.length-1];if(0!==e)for(var i=0,a=o.length;i<a;++i)o[i]-=e;return new pr(this.flatCoordinates.slice(e,r),this.layout,o)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,o=[],r=0,i=0,a=n.length;i<a;++i){var s=n[i].slice(),l=s[s.length-1];if(0!==r)for(var c=0,u=s.length;c<u;++c)s[c]-=r;var h=new pr(e.slice(r,l),t,s);o.push(h),r=l}return o},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(se(t,e,s,o,r))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,o,r){for(var i=r||[],a=0,s=0,l=n.length;s<l;++s){var c=Po(t,e,n[s],o,i[a]);i[a++]=c,e=c[c.length-1]}return i.length=a,i}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var o=n[n.length-1];this.flatCoordinates.length=0===o.length?0:o[o.length-1]}this.changed()},e}(wo);const yr=mr;var Ar=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vr=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.layerName_=o.layerName,n.layers_=o.layers?o.layers:null,n.dataProjection=at(o.dataProjection?o.dataProjection:"EPSG:4326"),n}return Ar(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var n=t,o=void 0,r=null,i=null;n.transform&&(r=(o=n.transform).scale,i=o.translate);var a=n.arcs;o&&function(t,e,n){for(var o=0,r=t.length;o<r;++o)wr(t[o],e,n)}(a,r,i);var s=[],l=n.objects,c=this.layerName_,u=void 0;for(var h in l)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===l[h].type?(u=l[h],s.push.apply(s,Er(u,a,r,i,c,h,e))):(u=l[h],s.push(xr(u,a,r,i,c,h,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(co),_r={Point:function(t,e,n){var o=t.coordinates;return e&&n&&Cr(o,e,n),new Ko(o)},LineString:function(t,e){var n=br(t.arcs,e);return new Vo(n)},Polygon:function(t,e){for(var n=[],o=0,r=t.arcs.length;o<r;++o)n[o]=br(t.arcs[o],e);return new pr(n)},MultiPoint:function(t,e,n){var o=t.coordinates;if(e&&n)for(var r=0,i=o.length;r<i;++r)Cr(o[r],e,n);return new Jo(o)},MultiLineString:function(t,e){for(var n=[],o=0,r=t.arcs.length;o<r;++o)n[o]=br(t.arcs[o],e);return new Uo(n)},MultiPolygon:function(t,e){for(var n=[],o=0,r=t.arcs.length;o<r;++o){for(var i=t.arcs[o],a=[],s=0,l=i.length;s<l;++s)a[s]=br(i[s],e);n[o]=a}return new yr(n)}};function br(t,e){for(var n,o=[],r=0,i=t.length;r<i;++r)if(n=t[r],r>0&&o.pop(),n>=0)for(var a=0,s=(l=e[n]).length;a<s;++a)o.push(l[a].slice(0));else{var l;for(a=(l=e[~n]).length-1;a>=0;--a)o.push(l[a].slice(0))}return o}function Er(t,e,n,o,r,i,a){for(var s=t.geometries,l=[],c=0,u=s.length;c<u;++c)l[c]=xr(s[c],e,n,o,r,i,a);return l}function xr(t,e,n,o,r,i,a){var s=null,l=t.type;if(l){var c=_r[l];s=ao(s="Point"===l||"MultiPoint"===l?c(t,n,o):c(t,e),!1,a)}var u=new oo({geometry:s});void 0!==t.id&&u.setId(t.id);var h=t.properties;return r&&(h||(h={}),h[r]=i),h&&u.setProperties(h,!0),u}function wr(t,e,n){for(var o=0,r=0,i=0,a=t.length;i<a;++i){var s=t[i];o+=s[0],r+=s[1],s[0]=o,s[1]=r,Cr(s,e,n)}}function Cr(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}const kr=vr;var Sr=c(8476),Br=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=ue(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return(0,a.O3)()},t.prototype.getImage=function(t){return(0,a.O3)()},t.prototype.getHitDetectionImage=function(){return(0,a.O3)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return(0,a.O3)()},t.prototype.getImageSize=function(){return(0,a.O3)()},t.prototype.getOrigin=function(){return(0,a.O3)()},t.prototype.getSize=function(){return(0,a.O3)()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=ue(t)},t.prototype.listenImageChange=function(t){(0,a.O3)()},t.prototype.load=function(){(0,a.O3)()},t.prototype.unlistenImageChange=function(t){(0,a.O3)()},t}();const Tr=Br;function Or(t){return Array.isArray(t)?An(t):t}var Pr="ol-hidden",Rr="ol-control",Ir=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),Dr=["style","variant","weight","size","lineHeight","family"],Fr=function(t){var e=t.match(Ir);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,r=Dr.length;o<r;++o){var i=e[o+1];void 0!==i&&(n[Dr[o]]=i)}return n.families=n.family.split(/,\s?/),n},Lr="10px sans-serif",Mr="#000",jr="round",Nr=[],zr="round",Gr="#000",Qr="center",Zr="middle",Vr=[0,0,0,0],Wr=new Ut.Z;(new i.Z).setSize=function(){console.warn("labelCache is deprecated.")};var qr,Ur,Xr=null,Yr={},Kr=function(){var t,e,n="32px ",o=["monospace","serif"],r=o.length,i="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var l=!0,c=0;c<r;++c){var u=o[c];if(e=Jr(t+" "+a+" "+n+u,i),s!=u){var h=Jr(t+" "+a+" "+n+s+","+u,i);l=l&&h!=e}}return!!l}function s(){for(var e=!0,n=Wr.getKeys(),o=0,r=n.length;o<r;++o){var i=n[o];Wr.get(i)<100&&(a.apply(this,i.split("\n"))?((0,Ot.ZH)(Yr),Xr=null,qr=void 0,Wr.set(i,100)):(Wr.set(i,Wr.get(i)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=Fr(e);if(n)for(var o=n.families,r=0,i=o.length;r<i;++r){var l=o[r],c=n.style+"\n"+n.weight+"\n"+l;void 0===Wr.get(c)&&(Wr.set(c,100,!0),a(n.style,n.weight,l)||(Wr.set(c,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),Hr=function(t){var e=Yr[t];if(null==e){if(_.Id){var n=Fr(t),o=$r(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else Ur||((Ur=document.createElement("div")).innerHTML="M",Ur.style.minHeight="0",Ur.style.maxHeight="none",Ur.style.height="auto",Ur.style.padding="0",Ur.style.border="none",Ur.style.position="absolute",Ur.style.display="block",Ur.style.left="-99999px"),Ur.style.font=t,document.body.appendChild(Ur),e=Ur.offsetHeight,document.body.removeChild(Ur);Yr[t]=e}return e};function $r(t,e){return Xr||(Xr=(0,y.E4)(1,1)),t!=qr&&(Xr.font=t,qr=Xr.font),Xr.measureText(e)}function Jr(t,e){return $r(t,e).width}function ti(t,e,n){if(e in n)return n[e];var o=e.split("\n").reduce((function(e,n){return Math.max(e,Jr(t,n))}),0);return n[e]=o,o}var ei=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ni=function(t){function e(e){var n=this,o=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:o,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return ei(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,o=(0,y.E4)(n.size*t,n.size*t);this.draw_(n,o,t),e=o.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return 2},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var o=this.radius_,r=void 0===this.radius2_?o:this.radius2_;if(o<r){var i=o;o=r,r=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),c=o-Math.sqrt(r*r-l*l),u=Math.sqrt(l*l+c*c),h=u/l;if("miter"===t&&h<=n)return h*e;var f=e/2/h,p=e/2*(c/u),d=Math.sqrt((o+f)*(o+f)+p*p)-o;if(void 0===this.radius2_||"bevel"===t)return 2*d;var g=o*Math.sin(s),m=r-Math.sqrt(o*o-g*g),y=Math.sqrt(g*g+m*m)/g;if(y<=n){var A=y*e/2-r-o;return 2*Math.max(d,A)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=zr,n=0,o=null,r=0,i=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=Gr),t=Or(t),void 0===(i=this.stroke_.getWidth())&&(i=1),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=zr),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,i,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:i,size:Math.ceil(2*s+a),lineDash:o,lineDashOffset:r,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();null===o&&(o=Mr),e.fillStyle=Or(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=mn(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var o=(0,y.E4)(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var o=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var r=this.angle_-Math.PI/2,i=2*Math.PI/e,a=0;a<e;a++){var s=r+a*i,l=a%2==0?n:o;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Mr,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(Tr);const oi=ni;var ri=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ii=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0],declutterMode:n.declutterMode})||this}return ri(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(oi);const ai=ii;var si=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const li=si;var ci=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();const ui=ci;var hi=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=di,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=di,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),fi=null;function pi(t,e){if(!fi){var n=new li({color:"rgba(255,255,255,0.4)"}),o=new ui({color:"#3399CC",width:1.25});fi=[new hi({image:new ai({fill:n,stroke:o,radius:5}),fill:n,stroke:o})]}return fi}function di(t){return t.getGeometry()}const gi=hi;var mi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),yi="renderOrder",Ai=function(t){function e(e){var n=this,o=e||{},r=(0,Ot.f0)({},o);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(n=t.call(this,r)||this).declutter_=void 0!==o.declutter&&o.declutter,n.renderBuffer_=void 0!==o.renderBuffer?o.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(o.style),n.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,n.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,n}return mi(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(yi)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new Sr(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(yi,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:pi,this.styleFunction_=null===t?void 0:function(t){var e,n;"function"==typeof t?e=t:(Array.isArray(t)?n=t:((0,jt.h)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n});return e}(this.style_),this.changed()},e}(Ze);const vi=Ai;var _i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},bi=[_i.FILL],Ei=[_i.STROKE],xi=[_i.BEGIN_PATH],wi=[_i.CLOSE_PATH];const Ci=_i;var ki=c(4111);const Si=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,o){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var Bi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ti=function(t){function e(e,n,o,r){var i=t.call(this)||this;return i.tolerance=e,i.maxExtent=n,i.pixelRatio=r,i.maxLineWidth=0,i.resolution=o,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return Bi(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,r=this.coordinates,i=r.length,a=0,s=t.length;a<s;a+=e)o[0]=t[a],o[1]=t[a+1],(0,b.b8)(n,o)&&(r[i++]=o[0],r[i++]=o[1]);return i},e.prototype.appendFlatLineCoordinates=function(t,e,n,o,r,i){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();i&&(e+=o);var c,u,h,f=t[e],p=t[e+1],d=this.tmpCoordinate_,g=!0;for(c=e+o;c<n;c+=o)d[0]=t[c],d[1]=t[c+1],(h=(0,b.pX)(l,d))!==u?(g&&(a[s++]=f,a[s++]=p,g=!1),a[s++]=d[0],a[s++]=d[1]):h===ki.Z.INTERSECTING?(a[s++]=d[0],a[s++]=d[1],g=!1):g=!0,f=d[0],p=d[1],u=h;return(r&&g||c===e+o)&&(a[s++]=f,a[s++]=p),s},e.prototype.drawCustomCoordinates_=function(t,e,n,o,r){for(var i=0,a=n.length;i<a;++i){var s=n[i],l=this.appendFlatLineCoordinates(t,e,s,o,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n,o){this.beginGeometry(t,e);var r,i,a,s,l,c=t.getType(),u=t.getStride(),h=this.coordinates.length;switch(c){case"MultiPolygon":r=t.getOrientedFlatCoordinates(),s=[];var f=t.getEndss();l=0;for(var p=0,d=f.length;p<d;++p){var g=[];l=this.drawCustomCoordinates_(r,l,f[p],u,g),s.push(g)}this.instructions.push([Ci.CUSTOM,h,s,t,n,jo]),this.hitDetectionInstructions.push([Ci.CUSTOM,h,s,t,o||n,jo]);break;case"Polygon":case"MultiLineString":a=[],r="Polygon"==c?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,t.getEnds(),u,a),this.instructions.push([Ci.CUSTOM,h,a,t,n,Mo]),this.hitDetectionInstructions.push([Ci.CUSTOM,h,a,t,o||n,Mo]);break;case"LineString":case"Circle":r=t.getFlatCoordinates(),i=this.appendFlatLineCoordinates(r,0,r.length,u,!1,!1),this.instructions.push([Ci.CUSTOM,h,i,t,n,Lo]),this.hitDetectionInstructions.push([Ci.CUSTOM,h,i,t,o||n,Lo]);break;case"MultiPoint":r=t.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(r,u))>h&&(this.instructions.push([Ci.CUSTOM,h,i,t,n,Lo]),this.hitDetectionInstructions.push([Ci.CUSTOM,h,i,t,o||n,Lo]));break;case"Point":r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([Ci.CUSTOM,h,i,t,n]),this.hitDetectionInstructions.push([Ci.CUSTOM,h,i,t,o||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ci.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ci.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,o,r=e.length,i=-1;for(t=0;t<r;++t)(o=(n=e[t])[0])==Ci.END_GEOMETRY?i=t:o==Ci.BEGIN_GEOMETRY&&(n[2]=t,(0,le.FZ)(this.hitDetectionInstructions,i,t),i=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var o=t.getColor();n.fillStyle=Or(o||Mr)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Or(r||Gr);var i=e.getLineCap();n.lineCap=void 0!==i?i:jr;var a=e.getLineDash();n.lineDash=a?a.slice():Nr;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:zr;var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Ci.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ci.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,o=t.lineCap,r=t.lineDash,i=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=o||r!=t.currentLineDash&&!(0,le.fS)(t.currentLineDash,r)||t.currentLineDashOffset!=i||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=o,t.currentLineDash=r,t.currentLineDashOffset=i,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ci.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,b.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,b.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Si);const Oi=Ti;var Pi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Ri=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.hitDetectionImage_=null,i.image_=null,i.imagePixelRatio_=void 0,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i.declutterMode_=void 0,i.declutterImageWithText_=void 0,i}return Pi(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),r=this.coordinates.length,i=this.appendFlatPointCoordinates(n,o);this.instructions.push([Ci.DRAW_IMAGE,r,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ci.DRAW_IMAGE,r,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),r=this.coordinates.length,i=this.appendFlatPointCoordinates(n,o);this.instructions.push([Ci.DRAW_IMAGE,r,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ci.DRAW_IMAGE,r,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),o=t.getSize(),r=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(Oi);var Ii=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Di=function(t){function e(e,n,o,r){return t.call(this,e,n,o,r)||this}return Ii(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,o){var r=this.coordinates.length,i=this.appendFlatLineCoordinates(t,e,n,o,!1,!1),a=[Ci.MOVE_TO_LINE_TO,r,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,o=n.strokeStyle,r=n.lineWidth;if(void 0!==o&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Nr,0],xi);var i=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(Ei),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,o=n.strokeStyle,r=n.lineWidth;if(void 0!==o&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],xi);for(var i=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinates_(a,l,i[c],s);this.hitDetectionInstructions.push(Ei),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Ei),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ei),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(xi)},e}(Oi);var Fi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Li=function(t){function e(e,n,o,r){return t.call(this,e,n,o,r)||this}return Fi(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,o){var r=this.state,i=void 0!==r.fillStyle,a=void 0!==r.strokeStyle,s=n.length;this.instructions.push(xi),this.hitDetectionInstructions.push(xi);for(var l=0;l<s;++l){var c=n[l],u=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,c,o,!0,!a),f=[Ci.MOVE_TO_LINE_TO,u,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(wi),this.hitDetectionInstructions.push(wi)),e=c}return i&&(this.instructions.push(bi),this.hitDetectionInstructions.push(bi)),a&&(this.instructions.push(Ei),this.hitDetectionInstructions.push(Ei)),e},e.prototype.drawCircle=function(t,e){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ci.SET_FILL_STYLE,Mr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,a,!1,!1);var l=[Ci.CIRCLE,s];this.instructions.push(xi,l),this.hitDetectionInstructions.push(xi,l),void 0!==n.fillStyle&&(this.instructions.push(bi),this.hitDetectionInstructions.push(bi)),void 0!==n.strokeStyle&&(this.instructions.push(Ei),this.hitDetectionInstructions.push(Ei)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ci.SET_FILL_STYLE,Mr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,o=n.fillStyle,r=n.strokeStyle;if(void 0!==o||void 0!==r){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ci.SET_FILL_STYLE,Mr]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ci.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinatess_(a,l,i[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,o=0,r=n.length;o<r;++o)n[o]=Io(n[o],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Oi);const Mi=Li;function ji(t,e,n,o,r){var i,a,s,l,c,u,h,f,p,d=n,g=n,m=0,y=0,A=n;for(i=n;i<o;i+=r){var v=e[i],_=e[i+1];void 0!==l&&(f=v-l,p=_-c,s=Math.sqrt(f*f+p*p),void 0!==u&&(y+=a,Math.acos((u*f+h*p)/(a*s))>t&&(y>m&&(m=y,d=A,g=i),y=0,A=i-r)),a=s,u=f,h=p),l=v,c=_}return(y+=s)>m?[A,i]:[d,g]}var Ni=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zi={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Gi=function(t){function e(e,n,o,r){var i=t.call(this,e,n,o,r)||this;return i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",i.declutterImageWithText_=void 0,i}return Ni(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,o=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||o)){var i=this.coordinates,a=i.length,s=t.getType(),l=null,c=t.getStride();if("line"!==r.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var u=r.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),c=2;break;case"Polygon":l=t.getFlatInteriorPoint(),r.overflow||u.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":var h=t.getFlatInteriorPoints();for(l=[],x=0,w=h.length;x<w;x+=3)r.overflow||u.push(h[x+2]/this.resolution),l.push(h[x],h[x+1]);if(0===l.length)return;c=2}if((P=this.appendFlatPointCoordinates(l,c))===a)return;if(u&&(P-a)/2!=l.length/c){var f=a/2;u=u.filter((function(t,e){var n=i[2*(f+e)]===l[e*c]&&i[2*(f+e)+1]===l[e*c+1];return n||--f,n}))}this.saveTextStates_(),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var p=r.padding;if(p!=Vr&&(r.scale[0]<0||r.scale[1]<0)){var d=r.padding[0],g=r.padding[1],m=r.padding[2],y=r.padding[3];r.scale[0]<0&&(g=-g,y=-y),r.scale[1]<0&&(d=-d,m=-m),p=[d,g,m,y]}var A=this.pixelRatio;this.instructions.push([Ci.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==Vr?Vr:p.map((function(t){return t*A})),!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var v=1/A;this.hitDetectionInstructions.push([Ci.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,void 0,this.declutterImageWithText_,p,!!r.backgroundFill,!!r.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!(0,b.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var _=void 0;if(l=t.getFlatCoordinates(),"LineString"==s)_=[l.length];else if("MultiLineString"==s)_=t.getEnds();else if("Polygon"==s)_=t.getEnds().slice(0,1);else if("MultiPolygon"==s){var E=t.getEndss();_=[];for(var x=0,w=E.length;x<w;++x)_.push(E[x][0])}this.beginGeometry(t,e);for(var C=r.textAlign,k=0,S=void 0,B=0,T=_.length;B<T;++B){if(null==C){var O=ji(r.maxAngle,l,k,_[B],c);k=O[0],S=O[1]}else S=_[B];for(x=k;x<S;x+=c)i.push(l[x],l[x+1]);var P=i.length;k=_[B],this.drawChars_(a,P),a=P}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var r=this.textKey_;r in this.textStates||(this.textStates[r]={font:e.font,textAlign:e.textAlign||Qr,justify:e.justify,textBaseline:e.textBaseline||Zr,scale:e.scale});var i=this.fillKey_;n&&(i in this.fillStates||(this.fillStates[i]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,o=this.textState_,r=this.strokeKey_,i=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=zi[o.textBaseline],c=this.textOffsetY_*s,u=this.text_,h=n?n.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Ci.DRAW_CHARS,t,e,l,o.overflow,a,o.maxAngle,s,c,r,h*s,u,i,1]),this.hitDetectionInstructions.push([Ci.DRAW_CHARS,t,e,l,o.overflow,a,o.maxAngle,1,c,r,h,u,i,1/s])},e.prototype.setTextStyle=function(t,e){var n,o,r;if(t){var i=t.getFill();i?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=Or(i.getColor()||Mr)):(o=null,this.textFillState_=o);var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);var l=s.getLineDash(),c=s.getLineDashOffset(),u=s.getWidth(),h=s.getMiterLimit();r.lineCap=s.getLineCap()||jr,r.lineDash=l?l.slice():Nr,r.lineDashOffset=void 0===c?0:c,r.lineJoin=s.getLineJoin()||zr,r.lineWidth=void 0===u?1:u,r.miterLimit=void 0===h?10:h,r.strokeStyle=Or(s.getColor()||Gr)}else r=null,this.textStrokeState_=r;n=this.textState_;var f=t.getFont()||Lr;Kr(f);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||Zr,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Vr,n.scale=void 0===p?[1,1]:p;var d=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===y?0:y,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,a.sq)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,a.sq)(o.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Oi),Qi={Circle:Mi,Default:Oi,Image:Ri,LineString:Di,Polygon:Mi,Text:Gi};const Zi=function(){function t(t,e,n,o){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=o,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var o in n){var r=n[o].finish();t[e][o]=r}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",o=this.buildersByZIndex_[n];void 0===o&&(o={},this.buildersByZIndex_[n]=o);var r=o[e];return void 0===r&&(r=new(0,Qi[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),o[e]=r),r},t}();function Vi(t,e,n,o,r,i,a,s,l,c,u,h){var f=t[e],p=t[e+1],d=0,g=0,m=0,y=0;function A(){d=f,g=p,f=t[e+=o],p=t[e+1],y+=m,m=Math.sqrt((f-d)*(f-d)+(p-g)*(p-g))}do{A()}while(e<n-o&&y+m<i);for(var v=0===m?0:(i-y)/m,_=(0,R.t7)(d,f,v),b=(0,R.t7)(g,p,v),E=e-o,x=y,w=i+s*l(c,r,u);e<n-o&&y+m<w;)A();v=0===m?0:(w-y)/m;var C,k=(0,R.t7)(d,f,v),S=(0,R.t7)(g,p,v);if(h){var B=[_,b,k,S];mo(B,0,4,2,h,B,B),C=B[0]>B[2]}else C=_>k;var T,O=Math.PI,P=[],I=E+o===e;if(m=0,y=x,f=t[e=E],p=t[e+1],I){A(),T=Math.atan2(p-g,f-d),C&&(T+=T>0?-O:O);var D=(k+_)/2,F=(S+b)/2;return P[0]=[D,F,(w-i)/2,T,r],P}for(var L=0,M=(r=r.replace(/\n/g," ")).length;L<M;){A();var j=Math.atan2(p-g,f-d);if(C&&(j+=j>0?-O:O),void 0!==T){var N=j-T;if(N+=N>O?-2*O:N<-O?2*O:0,Math.abs(N)>a)return null}T=j;for(var z=L,G=0;L<M;++L){var Q=s*l(c,r[C?M-L-1:L],u);if(e+o<n&&y+m<i+G+Q/2)break;G+=Q}if(L!==z){var Z=C?r.substring(M-z,M-L):r.substring(z,L);v=0===m?0:(i+G/2-y)/m,D=(0,R.t7)(d,f,v),F=(0,R.t7)(g,p,v),P.push([D,F,G/2,j,Z]),i+=G}}return P}var Wi=(0,b.lJ)(),qi=[],Ui=[],Xi=[],Yi=[];function Ki(t){return t[3].declutterBox}var Hi=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function $i(t,e){return"start"!==e&&"end"!==e||Hi.test(t)||(e="start"===e?"left":"right"),zi[e]}function Ji(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}var ta=function(){function t(t,e,n,o){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=o.instructions,this.coordinates=o.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=o.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=o.fillStates||{},this.strokeStates=o.strokeStates||{},this.textStates=o.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,o){var r=t+e+n+o;if(this.labels_[r])return this.labels_[r];var i=o?this.strokeStates[o]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,c=[s.scale[0]*l,s.scale[1]*l],u=Array.isArray(t),h=s.justify?zi[s.justify]:$i(Array.isArray(t)?t[0]:t,s.textAlign||Qr),f=o&&i.lineWidth?i.lineWidth:0,p=u?t:t.split("\n").reduce(Ji,[]),d=function(t,e){for(var n=[],o=[],r=[],i=0,a=0,s=0,l=0,c=0,u=e.length;c<=u;c+=2){var h=e[c];if("\n"!==h&&c!==u){var f=e[c+1]||t.font,p=Jr(f,h);n.push(p),a+=p;var d=Hr(f);o.push(d),l=Math.max(l,d)}else i=Math.max(i,a),r.push(a),a=0,s+=l}return{width:i,height:s,widths:n,heights:o,lineWidths:r}}(s,p),g=d.width,m=d.height,y=d.widths,A=d.heights,v=d.lineWidths,b=g+f,E=[],x=(b+2)*c[0],w=(m+f)*c[1],C={width:x<0?Math.floor(x):Math.ceil(x),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:E};1==c[0]&&1==c[1]||E.push("scale",c),o&&(E.push("strokeStyle",i.strokeStyle),E.push("lineWidth",f),E.push("lineCap",i.lineCap),E.push("lineJoin",i.lineJoin),E.push("miterLimit",i.miterLimit),(_.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(E.push("setLineDash",[i.lineDash]),E.push("lineDashOffset",i.lineDashOffset))),n&&E.push("fillStyle",a.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");for(var k,S=.5-h,B=h*b+S*f,T=[],O=[],P=0,R=0,I=0,D=0,F=0,L=p.length;F<L;F+=2){var M=p[F];if("\n"!==M){var j=p[F+1]||s.font;j!==k&&(o&&T.push("font",j),n&&O.push("font",j),k=j),P=Math.max(P,A[I]);var N=[M,B+S*y[I]+h*(y[I]-v[D]),.5*(f+P)+R];B+=y[I],o&&T.push("strokeText",N),n&&O.push("fillText",N),++I}else R+=P,P=0,B=h*b+S*f,++D}return Array.prototype.push.apply(E,T),Array.prototype.push.apply(E,O),this.labels_[r]=C,C},t.prototype.replayTextBackground_=function(t,e,n,o,r,i,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,o),t.lineTo.apply(t,r),t.lineTo.apply(t,e),i&&(this.alignFill_=i[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,o,r,i,a,s,l,c,u,h,f,p,d,g){var m,y=n-(a*=h[0]),A=o-(s*=h[1]),v=r+l>t?t-l:r,_=i+c>e?e-c:i,E=p[3]+v*h[0]+p[1],x=p[0]+_*h[1]+p[2],w=y-p[3],C=A-p[0];return(d||0!==u)&&(qi[0]=w,Yi[0]=w,qi[1]=C,Ui[1]=C,Ui[0]=w+E,Xi[0]=Ui[0],Xi[1]=C+x,Yi[1]=Xi[1]),0!==u?(an(m=cn([1,0,0,1,0,0],n,o,1,1,u,-n,-o),qi),an(m,Ui),an(m,Xi),an(m,Yi),(0,b.T9)(Math.min(qi[0],Ui[0],Xi[0],Yi[0]),Math.min(qi[1],Ui[1],Xi[1],Yi[1]),Math.max(qi[0],Ui[0],Xi[0],Yi[0]),Math.max(qi[1],Ui[1],Xi[1],Yi[1]),Wi)):(0,b.T9)(Math.min(w,w+E),Math.min(C,C+x),Math.max(w,w+E),Math.max(C,C+x),Wi),f&&(y=Math.round(y),A=Math.round(A)),{drawImageX:y,drawImageY:A,drawImageW:v,drawImageH:_,originX:l,originY:c,declutterBox:{minX:Wi[0],minY:Wi[1],maxX:Wi[2],maxY:Wi[3],value:g},canvasTransform:m,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,o,r,i,a){var s=!(!i&&!a),l=o.declutterBox,c=t.canvas,u=a?a[2]*o.scale[0]/2:0;return l.minX-u<=c.width/e&&l.maxX+u>=0&&l.minY-u<=c.height/e&&l.maxY+u>=0&&(s&&this.replayTextBackground_(t,qi,Ui,Xi,Yi,i,a),function(t,e,n,o,r,i,a,s,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),o.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){for(var n=t.contextInstructions,o=0,r=n.length;o<r;o+=2)Array.isArray(n[o+1])?e[n[o]].apply(e,n[o+1]):e[n[o]]=n[o+1]}(o,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(o,r,i,a,s,0,0,a,s)):t.drawImage(o,r,i,a,s,l,c,a*u[0],s*u[1]),t.restore()}(t,o.canvasTransform,r,n,o.originX,o.originY,o.drawImageW,o.drawImageH,o.drawImageX,o.drawImageY,o.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=an(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,o){var r=this.textStates[e],i=this.createLabel(t,e,o,n),a=this.strokeStates[n],s=this.pixelRatio,l=$i(Array.isArray(t)?t[0]:t,r.textAlign||Qr),c=zi[r.textBaseline||Zr],u=a&&a.lineWidth?a.lineWidth:0;return{label:i,anchorX:l*(i.width/s-2*r.scale[0])+2*(.5-l)*u,anchorY:c*i.height/s+2*(.5-c)*u}},t.prototype.execute_=function(t,e,n,o,r,i,a,s){var l,c,u;this.pixelCoordinates_&&(0,le.fS)(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=go(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),u=n,(c=this.renderedTransform_)[0]=u[0],c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5]);for(var h,f,p,d,g,m,y,A,v,_,E,x,w,C,k,S,B=0,T=o.length,O=0,P=0,R=0,I=null,D=null,F=this.coordinateCache_,L=this.viewRotation_,M=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,j={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},N=this.instructions!=o||this.overlaps?0:200;B<T;){var z=o[B];switch(z[0]){case Ci.BEGIN_GEOMETRY:w=z[1],S=z[3],w.getGeometry()?void 0===a||(0,b.kK)(a,S.getExtent())?++B:B=z[2]+1:B=z[2];break;case Ci.BEGIN_PATH:P>N&&(this.fill_(t),P=0),R>N&&(t.stroke(),R=0),P||R||(t.beginPath(),d=NaN,g=NaN),++B;break;case Ci.CIRCLE:var G=l[O=z[1]],Q=l[O+1],Z=l[O+2]-G,V=l[O+3]-Q,W=Math.sqrt(Z*Z+V*V);t.moveTo(G+W,Q),t.arc(G,Q,W,0,2*Math.PI,!0),++B;break;case Ci.CLOSE_PATH:t.closePath(),++B;break;case Ci.CUSTOM:O=z[1],h=z[2];var q=z[3],U=z[4],X=6==z.length?z[5]:void 0;j.geometry=q,j.feature=w,B in F||(F[B]=[]);var Y=F[B];X?X(l,O,h,2,Y):(Y[0]=l[O],Y[1]=l[O+1],Y.length=2),U(Y,j),++B;break;case Ci.DRAW_IMAGE:O=z[1],h=z[2],A=z[3],f=z[4],p=z[5];var K=z[6],H=z[7],$=z[8],J=z[9],tt=z[10],et=z[11],nt=z[12],ot=z[13],rt=z[14],it=z[15];if(!A&&z.length>=20){v=z[19],_=z[20],E=z[21],x=z[22];var at=this.drawLabelWithPointPlacement_(v,_,E,x);A=at.label,z[3]=A;var st=z[23];f=(at.anchorX-st)*this.pixelRatio,z[4]=f;var lt=z[24];p=(at.anchorY-lt)*this.pixelRatio,z[5]=p,K=A.height,z[6]=K,ot=A.width,z[13]=ot}var ct=void 0;z.length>25&&(ct=z[25]);var ut=void 0,ht=void 0,ft=void 0;z.length>17?(ut=z[16],ht=z[17],ft=z[18]):(ut=Vr,ht=!1,ft=!1),tt&&M?et+=L:tt||M||(et-=L);for(var pt=0;O<h;O+=2)if(!(ct&&ct[pt++]<ot/this.pixelRatio)){var dt=[t,e,A,Gt=this.calculateImageOrLabelDimensions_(A.width,A.height,l[O],l[O+1],ot,K,f,p,$,J,et,nt,r,ut,ht||ft,w),H,ht?I:null,ft?D:null];if(s){if("none"===rt)continue;if("obstacle"===rt){s.insert(Gt.declutterBox);continue}var gt=void 0,mt=void 0;if(it){var yt=h-O;if(!it[yt]){it[yt]=dt;continue}if(gt=it[yt],delete it[yt],mt=Ki(gt),s.collides(mt))continue}if(s.collides(Gt.declutterBox))continue;gt&&(s.insert(mt),this.replayImageOrLabel_.apply(this,gt)),s.insert(Gt.declutterBox)}this.replayImageOrLabel_.apply(this,dt)}++B;break;case Ci.DRAW_CHARS:var At=z[1],vt=z[2],_t=z[3],bt=z[4];x=z[5];var Et=z[6],xt=z[7],wt=z[8];E=z[9];var Ct=z[10];v=z[11],_=z[12];var kt=[z[13],z[13]],St=this.textStates[_],Bt=St.font,Tt=[St.scale[0]*xt,St.scale[1]*xt],Ot=void 0;Bt in this.widths_?Ot=this.widths_[Bt]:(Ot={},this.widths_[Bt]=Ot);var Pt=Go(l,At,vt,2),Rt=Math.abs(Tt[0])*ti(Bt,v,Ot);if(bt||Rt<=Pt){var It=this.textStates[_].textAlign,Dt=Vi(l,At,vt,2,v,(Pt-Rt)*zi[It],Et,Math.abs(Tt[0]),ti,Bt,Ot,M?0:this.viewRotation_);t:if(Dt){var Ft=[],Lt=void 0,Mt=void 0,jt=void 0,Nt=void 0,zt=void 0;if(E)for(Lt=0,Mt=Dt.length;Lt<Mt;++Lt){jt=(zt=Dt[Lt])[4],Nt=this.createLabel(jt,_,"",E),f=zt[2]+(Tt[0]<0?-Ct:Ct),p=_t*Nt.height+2*(.5-_t)*Ct*Tt[1]/Tt[0]-wt;var Gt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,zt[0],zt[1],Nt.width,Nt.height,f,p,0,0,zt[3],kt,!1,Vr,!1,w);if(s&&s.collides(Gt.declutterBox))break t;Ft.push([t,e,Nt,Gt,1,null,null])}if(x)for(Lt=0,Mt=Dt.length;Lt<Mt;++Lt){if(jt=(zt=Dt[Lt])[4],Nt=this.createLabel(jt,_,x,""),f=zt[2],p=_t*Nt.height-wt,Gt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,zt[0],zt[1],Nt.width,Nt.height,f,p,0,0,zt[3],kt,!1,Vr,!1,w),s&&s.collides(Gt.declutterBox))break t;Ft.push([t,e,Nt,Gt,1,null,null])}s&&s.load(Ft.map(Ki));for(var Qt=0,Zt=Ft.length;Qt<Zt;++Qt)this.replayImageOrLabel_.apply(this,Ft[Qt])}}++B;break;case Ci.END_GEOMETRY:if(void 0!==i){var Vt=i(w=z[1],S);if(Vt)return Vt}++B;break;case Ci.FILL:N?P++:this.fill_(t),++B;break;case Ci.MOVE_TO_LINE_TO:for(O=z[1],h=z[2],C=l[O],y=(k=l[O+1])+.5|0,(m=C+.5|0)===d&&y===g||(t.moveTo(C,k),d=m,g=y),O+=2;O<h;O+=2)m=(C=l[O])+.5|0,y=(k=l[O+1])+.5|0,O!=h-2&&m===d&&y===g||(t.lineTo(C,k),d=m,g=y);++B;break;case Ci.SET_FILL_STYLE:I=z,this.alignFill_=z[2],P&&(this.fill_(t),P=0,R&&(t.stroke(),R=0)),t.fillStyle=z[1],++B;break;case Ci.SET_STROKE_STYLE:D=z,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,z),++B;break;case Ci.STROKE:N?R++:t.stroke(),++B;break;default:++B}}P&&this.fill_(t),R&&t.stroke()},t.prototype.execute=function(t,e,n,o,r,i){this.viewRotation_=o,this.execute_(t,e,n,this.instructions,r,void 0,void 0,i)},t.prototype.executeHitDetection=function(t,e,n,o,r){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,o,r)},t}();const ea=ta;var na=["Polygon","Circle","LineString","Image","Text","Default"],oa=function(){function t(t,e,n,o,r,i){this.maxExtent_=t,this.overlaps_=o,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=i,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(r)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var o=t[e];for(var r in o){var i=o[r];n[r]=new ea(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],o=0,r=t.length;o<r;++o)if(t[o]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r,i){var a=2*(o=Math.round(o))+1,s=cn(this.hitDetectionTransform_,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=(0,y.E4)(a,a));var c,u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):l||u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(c=(0,b.lJ)(),(0,b.Wj)(c,t),(0,b.f3)(c,e*(this.renderBuffer_+o),c));var h,f=function(t){if(void 0!==ra[t])return ra[t];for(var e=2*t+1,n=t*t,o=new Array(n+1),r=0;r<=t;++r)for(var i=0;i<=t;++i){var a=r*r+i*i;if(a>n)break;var s=o[a];s||(s=[],o[a]=s),s.push(4*((t+r)*e+(t+i))+3),r>0&&s.push(4*((t-r)*e+(t+i))+3),i>0&&(s.push(4*((t+r)*e+(t-i))+3),r>0&&s.push(4*((t-r)*e+(t-i))+3))}for(var l=[],c=(r=0,o.length);r<c;++r)o[r]&&l.push.apply(l,o[r]);return ra[t]=l,l}(o);function p(t,e){for(var n=u.getImageData(0,0,a,a).data,s=0,l=f.length;s<l;s++)if(n[f[s]]>0){if(!i||"Image"!==h&&"Text"!==h||-1!==i.indexOf(t)){var c=(f[s]-3)/4,p=o-c%a,d=o-(c/a|0),g=r(t,e,p*p+d*d);if(g)return g}u.clearRect(0,0,a,a);break}}var d,g,m,A,v,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(le.kK),d=_.length-1;d>=0;--d){var E=_[d].toString();for(m=this.executorsByZIndex_[E],g=na.length-1;g>=0;--g)if(void 0!==(A=m[h=na[g]])&&(v=A.executeHitDetection(u,s,n,p,c)))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],o=e[1],r=e[2],i=e[3],a=[n,o,n,i,r,i,r,o];return go(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return(0,Ot.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,o,r,i,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(le.kK),this.maxExtent_&&(t.save(),this.clip(t,n));var l,c,u,h,f,p,d=i||na;for(a&&s.reverse(),l=0,c=s.length;l<c;++l){var g=s[l].toString();for(f=this.executorsByZIndex_[g],u=0,h=d.length;u<h;++u)void 0!==(p=f[d[u]])&&p.execute(t,e,n,o,r,a)}this.maxExtent_&&t.restore()},t}(),ra={};const ia=oa,aa="hybrid",sa="vector";var la=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ca=function(t){function e(e,n,o,r,i,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=o,l.transform_=r,l.viewRotation_=i,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return la(e,t),e.prototype.drawImages_=function(t,e,n,o){if(this.image_){var r=go(t,e,n,o,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=r.length;c<u;c+=2){var h=r[c]-this.imageAnchorX_,f=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=h+this.imageAnchorX_,d=f+this.imageAnchorY_;cn(a,p,d,1,1,l,-p,-d),i.setTransform.apply(i,a),i.translate(p,d),i.scale(this.imageScale_[0],this.imageScale_[1]),i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),i.setTransform(1,0,0,1,0,0)}else i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,f,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(i.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,o){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=go(t,e,n,o,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=o){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var c=cn(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);i.setTransform.apply(i,c),i.translate(s,l),i.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&i.strokeText(this.text_,0,0),this.textFillState_&&i.fillText(this.text_,0,0),i.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&i.strokeText(this.text_,s,l),this.textFillState_&&i.fillText(this.text_,s,l)}}},e.prototype.moveToLineTo_=function(t,e,n,o,r){var i=this.context_,a=go(t,e,n,o,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)i.lineTo(a[l],a[l+1]);return r&&i.closePath(),n},e.prototype.drawRings_=function(t,e,n,o){for(var r=0,i=n.length;r<i;++r)e=this.moveToLineTo_(t,e,n[r],o,!0);return e},e.prototype.drawCircle=function(t){if((0,b.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var o=t.getFlatCoordinates();if(o){var r=t.getStride();return go(o,0,o.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],o=e[3]-e[1],r=Math.sqrt(n*n+o*o),i=this.context_;i.beginPath(),i.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,b.kK)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,o=e.length;n<o;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,b.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,b.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=t.getFlatCoordinates(),r=0,i=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=i.length;s<l;++s)r=this.moveToLineTo_(o,r,i[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,b.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,b.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),o=0,r=t.getEndss(),i=t.getStride();e.beginPath();for(var a=0,s=r.length;a<s;++a){var l=r[a];o=this.drawRings_(n,o,l,i)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,le.fS)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,o=t.textAlign?t.textAlign:Qr;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=o&&(n.textAlign=o,e.textAlign=o),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var o=t.getColor();this.fillState_={fillStyle:Or(o||Mr)}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit(),h=a||Nr;this.strokeState_={lineCap:void 0!==i?i:jr,lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:zr,lineWidth:(void 0!==c?c:1)*this.pixelRatio_,miterLimit:void 0!==u?u:10,strokeStyle:Or(r||Gr)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Or(n||Mr)}}else this.textFillState_=null;var o=t.getStroke();if(o){var r=o.getColor(),i=o.getLineCap(),a=o.getLineDash(),s=o.getLineDashOffset(),l=o.getLineJoin(),c=o.getWidth(),u=o.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:jr,lineDash:a||Nr,lineDashOffset:s||0,lineJoin:void 0!==l?l:zr,lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:Or(r||Gr)}}else this.textStrokeState_=null;var h=t.getFont(),f=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),m=t.getScaleArray(),y=t.getText(),A=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==h?h:Lr,textAlign:void 0!==A?A:Qr,textBaseline:void 0!==v?v:Zr},this.text_=void 0!==y?Array.isArray(y)?y.reduce((function(t,e,n){return t+(n%2?" ":e)}),""):y:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}else this.text_=""},e}(Si);const ua=ca,ha="fraction",fa="pixels",pa="bottom-left",da="bottom-right",ga="top-left",ma="top-right";function ya(t,e,n){return e+":"+t+":"+(n?dn(n):"null")}var Aa=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var o=ya(t,e,n);return o in this.cache_?this.cache_[o]:null},t.prototype.set=function(t,e,n,o){var r=ya(t,e,n);this.cache_[r]=o,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}()),va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_a=null,ba=function(t){function e(e,n,o,r,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==r&&(s.image_.crossOrigin=r),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=o,s.src_=n,s.tainted_,s}return va(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&2===this.imageState_){_a||(_a=(0,y.E4)(1,1)),_a.drawImage(this.image_,0,0);try{_a.getImageData(0,0,1,1),this.tainted_=!1}catch(t){_a=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(r.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=3,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=2,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=(0,y.E4)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(0==this.imageState_){this.imageState_=1;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=w(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&2===this.imageState_){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=dn(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var o=n.getImageData(0,0,e.width,e.height),r=o.data,i=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],c=0,u=r.length;c<u;c+=4)r[c]*=i,r[c+1]*=a,r[c+2]*=s,r[c+3]*=l;n.putImageData(o,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.Z),Ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),xa=function(t){function e(e){var n=this,o=e||{},r=void 0!==o.opacity?o.opacity:1,i=void 0!==o.rotation?o.rotation:0,s=void 0!==o.scale?o.scale:1,l=void 0!==o.rotateWithView&&o.rotateWithView;(n=t.call(this,{opacity:r,rotation:i,scale:s,displacement:void 0!==o.displacement?o.displacement:[0,0],rotateWithView:l,declutterMode:o.declutterMode})||this).anchor_=void 0!==o.anchor?o.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==o.anchorOrigin?o.anchorOrigin:ga,n.anchorXUnits_=void 0!==o.anchorXUnits?o.anchorXUnits:ha,n.anchorYUnits_=void 0!==o.anchorYUnits?o.anchorYUnits:ha,n.crossOrigin_=void 0!==o.crossOrigin?o.crossOrigin:null;var c=void 0!==o.img?o.img:null;n.imgSize_=o.imgSize;var u=o.src;(0,jt.h)(!(void 0!==u&&c),4),(0,jt.h)(!c||c&&n.imgSize_,5),void 0!==u&&0!==u.length||!c||(u=c.src||(0,a.sq)(c)),(0,jt.h)(void 0!==u&&u.length>0,6);var h=void 0!==o.src?0:2;return n.color_=void 0!==o.color?mn(o.color):null,n.iconImage_=function(t,e,n,o,r,i){var a=Aa.get(e,o,i);return a||(a=new ba(t,e,n,o,r,i),Aa.set(e,o,i,a)),a}(c,u,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,h,n.color_),n.offset_=void 0!==o.offset?o.offset:[0,0],n.offsetOrigin_=void 0!==o.offsetOrigin?o.offsetOrigin:ga,n.origin_=null,n.size_=void 0!==o.size?o.size:null,n}return Ea(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==ha||this.anchorYUnits_==ha){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==ha&&(t[0]*=e[0]),this.anchorYUnits_==ha&&(t[1]*=e[1])}if(this.anchorOrigin_!=ga){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=ma&&this.anchorOrigin_!=da||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=pa&&this.anchorOrigin_!=da||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ga){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=ma&&this.offsetOrigin_!=da||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=pa&&this.offsetOrigin_!=da||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(r.Z.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(r.Z.CHANGE,t)},e}(Tr);const wa=xa;var Ca=.5;function ka(t,e,n,o,r,i,a){var s=t[0]*Ca,l=t[1]*Ca,c=(0,y.E4)(s,l);c.imageSmoothingEnabled=!1;for(var u=c.canvas,h=new ua(c,Ca,r,null,a),f=n.length,p=Math.floor(16777215/f),d={},g=1;g<=f;++g){var m=n[g-1],A=m.getStyleFunction()||o;if(o){var v=A(m,i);if(v){Array.isArray(v)||(v=[v]);for(var _="#"+("000000"+(g*p).toString(16)).slice(-6),E=0,x=v.length;E<x;++E){var w=v[E],C=w.getGeometryFunction()(m);if(C&&(0,b.kK)(r,C.getExtent())){var k=w.clone(),S=k.getFill();S&&S.setColor(_);var B=k.getStroke();B&&(B.setColor(_),B.setLineDash(null)),k.setText(void 0);var T=w.getImage();if(T&&0!==T.getOpacity()){var O=T.getImageSize();if(!O)continue;var P=(0,y.E4)(O[0],O[1],void 0,{alpha:!1}),R=P.canvas;P.fillStyle=_,P.fillRect(0,0,R.width,R.height),k.setImage(new wa({img:R,imgSize:O,anchor:T.getAnchor(),anchorXUnits:fa,anchorYUnits:fa,offset:T.getOrigin(),opacity:1,size:T.getSize(),scale:T.getScale(),rotation:T.getRotation(),rotateWithView:T.getRotateWithView()}))}var I=k.getZIndex()||0;(L=d[I])||(L={},d[I]=L,L.Polygon=[],L.Circle=[],L.LineString=[],L.Point=[]),L[C.getType().replace("Multi","")].push(C,k)}}}}}for(var D=Object.keys(d).map(Number).sort(le.kK),F=(g=0,D.length);g<F;++g){var L=d[D[g]];for(var M in L){var j=L[M];for(E=0,x=j.length;E<x;E+=2){h.setStyle(j[E+1]);for(var N=0,z=e.length;N<z;++N)h.setTransform(e[N]),h.drawGeometry(j[E])}}}return c.getImageData(0,0,u.width,u.height)}function Sa(t,e,n){var o=[];if(n){var r=Math.floor(Math.round(t[0])*Ca),i=Math.floor(Math.round(t[1])*Ca),a=4*((0,R.uZ)(r,0,n.width-1)+(0,R.uZ)(i,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*s),u=Math.floor(16777215/e.length);c&&c%u==0&&o.push(e[c/u-1])}return o}var Ba={Point:function(t,e,n,o,r){var i,a=n.getImage(),s=n.getText();if(a){if(2!=a.getImageState())return;var l=t;if(r){var c=a.getDeclutterMode();if("none"!==c)if(l=r,"obstacle"===c){var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,i),u.drawPoint(e,o)}else s&&s.getText()&&(i={})}var h=l.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,i),h.drawPoint(e,o)}if(s&&s.getText()){var f=t;r&&(f=r);var p=f.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(e,o)}},LineString:function(t,e,n,o,r){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawLineString(e,o)}var s=n.getText();if(s&&s.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,o)}},Polygon:function(t,e,n,o,r){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawPolygon(e,o)}var l=n.getText();if(l&&l.getText()){var c=(r||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,o)}},MultiPoint:function(t,e,n,o,r){var i,a=n.getImage(),s=n.getText();if(a){if(2!=a.getImageState())return;var l=t;if(r){var c=a.getDeclutterMode();if("none"!==c)if(l=r,"obstacle"===c){var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,i),u.drawMultiPoint(e,o)}else s&&s.getText()&&(i={})}var h=l.getBuilder(n.getZIndex(),"Image");h.setImageStyle(a,i),h.drawMultiPoint(e,o)}if(s&&s.getText()){var f=t;r&&(f=r);var p=f.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(e,o)}},MultiLineString:function(t,e,n,o,r){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawMultiLineString(e,o)}var s=n.getText();if(s&&s.getText()){var l=(r||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,o)}},MultiPolygon:function(t,e,n,o,r){var i=n.getFill(),a=n.getStroke();if(a||i){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawMultiPolygon(e,o)}var l=n.getText();if(l&&l.getText()){var c=(r||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,o)}},GeometryCollection:function(t,e,n,o,r){var i,a,s=e.getGeometriesArray();for(i=0,a=s.length;i<a;++i)(0,Ba[s[i].getType()])(t,s[i],n,o,r)},Circle:function(t,e,n,o,r){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(i,a),s.drawCircle(e,o)}var l=n.getText();if(l&&l.getText()){var c=(r||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,o)}}};function Ta(t,e){return parseInt((0,a.sq)(t),10)-parseInt((0,a.sq)(e),10)}function Oa(t,e){var n=Pa(t,e);return n*n}function Pa(t,e){return.5*t/e}function Ra(t,e,n,o,r,i,a){var s=!1,l=n.getImage();if(l){var c=l.getImageState();2==c||3==c?l.unlistenImageChange(r):(0==c&&l.load(),l.listenImageChange(r),s=!0)}return function(t,e,n,o,r,i){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(o,r);n.getRenderer()?Ia(t,s,n,e):(0,Ba[s.getType()])(t,s,n,e,i)}}(t,e,n,o,i,a),s}function Ia(t,e,n,o){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,o,n.getRenderer(),n.getHitDetectionRenderer());else for(var r=e.getGeometries(),i=0,a=r.length;i<a;++i)Ia(t,r[i],n,o)}var Da=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Fa={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},La={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},Ma=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.renderedLayerRevision_,n.renderedPixelToCoordinateTransform_=null,n.renderedRotation_,n.tmpTransform_=[1,0,0,1,0,0],n}return Da(e,t),e.prototype.prepareTile=function(t,e,n){var o,r=t.getState();return 2!==r&&3!==r||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t)&&(o=!0)),o},e.prototype.getTile=function(e,n,o,r){var i=r.pixelRatio,a=r.viewState,s=a.resolution,l=a.projection,c=this.getLayer(),u=c.getSource().getTile(e,n,o,i,l),h=r.viewHints,f=!(h[0]||h[1]);return!f&&u.wantedResolution||(u.wantedResolution=s),this.prepareTile(u,i,l)&&(f||Date.now()-r.time<8)&&c.getRenderMode()!==sa&&this.renderTileImage_(u,r),t.prototype.getTile.call(this,e,n,o,r)},e.prototype.isDrawableTile=function(e){var n=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(n.getRenderMode()===sa?(0,a.sq)(n)in e.executorGroups:e.hasContext(n))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var o=this.getLayer(),r=o.getRevision(),i=o.getRenderOrder()||null,s=t.wantedResolution,l=t.getReplayState(o);if(l.dirty||l.renderedResolution!==s||l.renderedRevision!=r||l.renderedRenderOrder!=i){var c=o.getSource(),u=o.getDeclutter(),h=c.getTileGrid(),f=c.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),p=c.getSourceTiles(e,n,t),d=(0,a.sq)(o);delete t.hitDetectionImageData[d],t.executorGroups[d]=[],u&&(t.declutterExecutorGroups[d]=[]),l.dirty=!1;for(var g=function(n,r){var a=p[n];if(2!=a.getState())return"continue";var g=a.tileCoord,y=h.getTileCoordExtent(g),A=(0,b.Ed)(f,y),v=(0,b.f3)(A,o.getRenderBuffer()*s,m.tmpExtent),_=(0,b.fS)(y,A)?null:v,E=new Zi(0,v,s,e),x=u?new Zi(0,A,s,e):void 0,w=Oa(s,e),C=function(t){var e,n=t.getStyleFunction()||o.getStyleFunction();if(n&&(e=n(t,s)),e){var r=this.renderFeature(t,w,e,E,x);l.dirty=l.dirty||r}},k=a.getFeatures();i&&i!==l.renderedRenderOrder&&k.sort(i);for(var S=0,B=k.length;S<B;++S){var T=k[S];_&&!(0,b.kK)(_,T.getGeometry().getExtent())||C.call(m,T)}var O=E.finish(),P=o.getRenderMode()!==sa&&u&&1===p.length?null:A,R=new ia(P,s,e,c.getOverlaps(),O,o.getRenderBuffer());if(t.executorGroups[d].push(R),x){var I=new ia(null,s,e,c.getOverlaps(),x.finish(),o.getRenderBuffer());t.declutterExecutorGroups[d].push(I)}},m=this,y=0,A=p.length;y<A;++y)g(y);l.renderedRevision=r,l.renderedRenderOrder=i,l.renderedResolution=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){var i=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;var l=this.getLayer(),c=l.getSource().getTileGridForProjection(e.viewState.projection),u=(0,b.hI)([t]);(0,b.f3)(u,i*n,u);for(var h,f={},p=function(t,e,n){var i=t.getId();void 0===i&&(i=(0,a.sq)(t));var s=f[i];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return f[i]=!0,r.splice(r.lastIndexOf(s),1),o(t,l,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return f[i]=!0,o(t,l,e);r.push(f[i]={feature:t,layer:l,geometry:e,distanceSq:n,callback:o})}},d=this.renderedTiles,g=function(o,r){var f=d[o],g=c.getTileCoordExtent(f.wrappedTileCoord);if(!(0,b.kK)(g,u))return"continue";var m=(0,a.sq)(l),y=[f.executorGroups[m]],A=f.declutterExecutorGroups[m];A&&y.push(A),y.some((function(o){for(var r=o===A?e.declutterTree.all().map((function(t){return t.value})):null,a=0,l=o.length;a<l;++a){var c=o[a];if(h=c.forEachFeatureAtCoordinate(t,i,s,n,p,r))return!0}}))},m=0,y=d.length;!h&&m<y;++m)g(m);return h},e.prototype.getFeatures=function(t){return new Promise(function(e,n){for(var o,r=this.getLayer(),i=(0,a.sq)(r),s=r.getSource(),l=this.renderedProjection,c=l.getExtent(),u=this.renderedResolution,h=s.getTileGridForProjection(l),f=an(this.renderedPixelToCoordinateTransform_,t.slice()),p=h.getTileCoordForCoordAndResolution(f,u),d=0,g=this.renderedTiles.length;d<g;++d)if(p.toString()===this.renderedTiles[d].tileCoord.toString()){if(2===(o=this.renderedTiles[d]).getState()){var m=h.getTileCoordExtent(o.tileCoord);s.getWrapX()&&l.canWrapX()&&!(0,b.r4)(c,m)&&J(f,l);break}o=void 0}if(!o||o.loadingSourceTiles>0)e([]);else{var y=h.getTileCoordExtent(o.wrappedTileCoord),A=(0,b.rL)(y),v=[(f[0]-A[0])/u,(A[1]-f[1])/u],_=o.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),E=o.hitDetectionImageData[i];if(!E&&!this.animatingOrInteracting_){var x=ue(h.getTileSize(h.getZForResolution(u,s.zDirection))),w=this.renderedRotation_;E=ka(x,[this.getRenderTransform(h.getTileCoordCenter(o.wrappedTileCoord),u,0,Ca,x[0]*Ca,x[1]*Ca,0)],_,r.getStyleFunction(),h.getTileCoordExtent(o.wrappedTileCoord),o.getReplayState(r).renderedResolution,w),o.hitDetectionImageData[i]=E}e(Sa(v,_,E))}}.bind(this))},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){var e=this.context,n=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var o=t.viewHints,r=!(o[0]||o[1]),i=this.renderedTiles,s=0,l=i.length;s<l;++s){var c=i[s],u=c.declutterExecutorGroups[(0,a.sq)(this.getLayer())];if(u)for(var h=u.length-1;h>=0;--h)u[h].execute(this.context,1,this.getTileRenderTransform(c,t),t.viewState.rotation,r,void 0,t.declutterTree)}e.globalAlpha=n},e.prototype.getTileRenderTransform=function(t,e){var n=e.pixelRatio,o=e.viewState,r=o.center,i=o.resolution,a=o.rotation,s=e.size,l=Math.round(s[0]*n),c=Math.round(s[1]*n),u=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),h=t.tileCoord,f=u.getTileCoordExtent(t.wrappedTileCoord),p=u.getTileCoordExtent(h,this.tmpExtent)[0]-f[0];return on(sn(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(r,i,a,n,l,c,p))},e.prototype.renderFrame=function(e,n){var o=e.viewHints,r=!(o[0]||o[1]);t.prototype.renderFrame.call(this,e,n),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var i=this.getLayer(),s=i.getRenderMode(),l=this.context,c=l.globalAlpha;l.globalAlpha=i.getOpacity();for(var u=La[s],h=e.viewState,f=h.rotation,p=i.getSource(),d=p.getTileGridForProjection(h.projection).getZForResolution(h.resolution,p.zDirection),g=this.renderedTiles,m=[],y=[],A=!0,v=g.length-1;v>=0;--v){var _=g[v];A=A&&!_.getReplayState(i).dirty;var E=_.executorGroups[(0,a.sq)(i)].filter((function(t){return t.hasExecutors(u)}));if(0!==E.length){var x=this.getTileRenderTransform(_,e),w=_.tileCoord[0],C=!1,k=E[0].getClipCoords(x);if(k){for(var S=0,B=m.length;S<B;++S)if(d!==w&&w<y[S]){var T=m[S];(0,b.kK)([k[0],k[3],k[4],k[7]],[T[0],T[3],T[4],T[7]])&&(C||(l.save(),C=!0),l.beginPath(),l.moveTo(k[0],k[1]),l.lineTo(k[2],k[3]),l.lineTo(k[4],k[5]),l.lineTo(k[6],k[7]),l.moveTo(T[6],T[7]),l.lineTo(T[4],T[5]),l.lineTo(T[2],T[3]),l.lineTo(T[0],T[1]),l.clip())}m.push(k),y.push(w)}for(var O=0,P=E.length;O<P;++O)E[O].execute(l,1,x,f,r,u);C&&l.restore()}}return l.globalAlpha=c,this.ready=A,this.container},e.prototype.renderFeature=function(t,e,n,o,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)i=Ra(o,t,n[a],e,this.boundHandleStyleImageChange_,void 0,r)||i;else i=Ra(o,t,n,e,this.boundHandleStyleImageChange_,void 0,r);return i},e.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===sa)return!1;var n=t.getReplayState(e),o=e.getRevision(),r=t.wantedResolution;return n.renderedTileResolution!==r||n.renderedTileRevision!==o},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),o=t.getReplayState(n),r=n.getRevision(),i=t.executorGroups[(0,a.sq)(n)];o.renderedTileRevision=r;var s=t.wrappedTileCoord,l=s[0],c=n.getSource(),u=e.pixelRatio,h=e.viewState.projection,f=c.getTileGridForProjection(h),p=f.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*p,g=f.getResolution(l),m=t.getContext(n);u=Math.round(Math.max(u,d/u));var y=c.getTilePixelSize(l,u,h);m.canvas.width=y[0],m.canvas.height=y[1];var A=u/d;if(1!==A){var v=nn(this.tmpTransform_);sn(v,A,A),m.setTransform.apply(m,v)}var _=f.getTileCoordExtent(s,this.tmpExtent),b=d/g,E=nn(this.tmpTransform_);sn(E,b,-b),ln(E,-_[0],-_[3]);for(var x=0,w=i.length;x<w;++x)i[x].execute(m,A,E,0,!0,Fa[n.getRenderMode()]);o.renderedTileResolution=t.wantedResolution},e}(kn);const ja=Ma;var Na=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),za=function(t){function e(e){var n=this,o=e||{},r=(0,Ot.f0)({},o);delete r.preload,delete r.useInterimTilesOnError,(n=t.call(this,r)||this).on,n.once,n.un,"image"===o.renderMode&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),o.renderMode=void 0);var i=o.renderMode||aa;return(0,jt.h)(i==aa||i==sa,28),n.renderMode_=i,n.setPreload(o.preload?o.preload:0),n.setUseInterimTilesOnError(void 0===o.useInterimTilesOnError||o.useInterimTilesOnError),n.getBackground,n.setBackground,n}return Na(e,t),e.prototype.createRenderer=function(){return new ja(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(Ve)},e.prototype.getUseInterimTilesOnError=function(){return this.get(We)},e.prototype.setPreload=function(t){this.set(Ve,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(We,t)},e}(vi);const Ga=za;var Qa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Za=function(t){function e(e,n,o,r,i,a){var s=t.call(this,e,n,a)||this;return s.extent=null,s.format_=r,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=i,s.url_=o,s.key=o,s}return Qa(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){0==this.state&&(this.setState(1),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(3)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(2)},e.prototype.setLoader=function(t){this.loader_=t},e}(m);const Va=Za;var Wa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),qa=[];const Ua=function(t){function e(e,n,o,r){var i=t.call(this,e,n,{transition:0})||this;return i.context_={},i.executorGroups={},i.declutterExecutorGroups={},i.loadingSourceTiles=0,i.hitDetectionImageData={},i.replayState_={},i.sourceTiles=[],i.errorTileKeys={},i.wantedResolution,i.getSourceTiles=r.bind(void 0,i),i.wrappedTileCoord=o,i}return Wa(e,t),e.prototype.getContext=function(t){var e=(0,a.sq)(t);return e in this.context_||(this.context_[e]=(0,y.E4)(1,1,qa)),this.context_[e]},e.prototype.hasContext=function(t){return(0,a.sq)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=(0,a.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_){var n=this.context_[e];(0,y.jy)(n),qa.push(n.canvas),delete this.context_[e]}t.prototype.release.call(this)},e}(m);function Xa(t,e,n,o,r,i,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,o,r):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=false,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var o=e.getType(),l=void 0;"json"==o||"text"==o?l=s.responseText:"xml"==o?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==o&&(l=s.response),l?i(e.readFeatures(l,{extent:n,featureProjection:r}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}function Ya(t,e){return function(n,o,r,i,a){var s=this;Xa(t,e,n,o,r,(function(t,e){s.addFeatures(t),void 0!==i&&i(t)}),a||po.Zn)}}var Ka=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ha=function(t){function e(e){var n=this,o=e.projection||"EPSG:3857",r=e.extent||ye(o),i=e.tileGrid||ge({extent:r,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:o,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ja,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.sourceTileCache=new Wt(n.tileCache.highWaterMark),n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:Va,n.tileGrids_={},n}return Ka(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],n=this.tileCache;if(0===n.getCount())return e;var o=Zt(n.peekFirstKey())[0],r=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===o&&2===n.getState())for(var i=n.getSourceTiles(),a=0,s=i.length;a<s;++a){var l=i[a],c=l.tileCoord;if((0,b.kK)(t,r.getTileCoordExtent(c))){var u=l.getFeatures();if(u)for(var h=0,f=u.length;h<f;++h){var p=u[h],d=p.getGeometry();(0,b.kK)(t,d.getExtent())&&e.push(p)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,n){var o=this.getTileCacheForProjection(e),r=Object.keys(n).reduce((function(t,e){var n,r,i=Gt((r=(n=e).substring(n.lastIndexOf("/")+1,n.length).split(",").map(Number))[0],r[1],r[2]),a=o.peek(i);if(a)for(var s=a.sourceTiles,l=0,c=s.length;l<c;++l)t[s[l].getKey()]=!0;return t}),{});t.prototype.expireCache.call(this,e,n),this.sourceTileCache.expireCache(r)},e.prototype.getSourceTiles=function(t,e,n){var o=this;if(0===n.getState()){n.setState(1);var i=n.wrappedTileCoord,a=this.getTileGridForProjection(e),s=a.getTileCoordExtent(i),l=i[0],c=a.getResolution(l);(0,b.f3)(s,-c,s);var u=this.tileGrid,h=u.getExtent();h&&(0,b.Ed)(s,h,s);var f=u.getZForResolution(c,this.zDirection);u.forEachTileCoord(s,f,(function(i){var a=o.tileUrlFunction(i,t,e),s=o.sourceTileCache.containsKey(a)?o.sourceTileCache.get(a):new o.tileClass(i,a?0:4,a,o.format_,o.tileLoadFunction);n.sourceTiles.push(s);var l=s.getState();if(l<2){var c=function(t){o.handleTileChange(t);var e=s.getState();if(2===e||3===e){var i=s.getKey();i in n.errorTileKeys?2===s.getState()&&delete n.errorTileKeys[i]:n.loadingSourceTiles--,3===e?n.errorTileKeys[i]=!0:s.removeEventListener(r.Z.CHANGE,c),0===n.loadingSourceTiles&&n.setState((0,Ot.xb)(n.errorTileKeys)?2:3)}};s.addEventListener(r.Z.CHANGE,c),n.loadingSourceTiles++}0===l&&(s.extent=u.getTileCoordExtent(i),s.projection=e,s.resolution=u.getResolution(i[0]),o.sourceTileCache.set(a,s),s.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((function(t){return 3===t.getState()}))?3:2)}return n.sourceTiles},e.prototype.getTile=function(t,e,n,o,r){var i,a=Gt(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)&&(i=this.tileCache.get(a)).key===s)return i;var l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,r),u=this.getTileGrid().getExtent(),h=this.getTileGridForProjection(r);if(c&&u){var f=h.getTileCoordExtent(c);(0,b.f3)(f,-h.getResolution(t),f),(0,b.kK)(u,f)||(c=null)}var p=!0;if(null!==c){var d=this.tileGrid,g=h.getResolution(t),m=d.getZForResolution(g,1),y=h.getTileCoordExtent(c);(0,b.f3)(y,-g,y),d.forEachTileCoord(y,m,function(t){p=p&&!this.tileUrlFunction(t,o,r)}.bind(this))}var A=new Ua(l,p?4:0,c,this.getSourceTiles.bind(this,o,r));return A.key=s,i?(A.interimTile=i,A.refreshInterimChain(),this.tileCache.replace(a,A)):this.tileCache.set(a,A),A},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){for(var o=this.tileGrid,r=o.getResolutions().slice(),i=r.map((function(t,e){return o.getOrigin(e)})),a=r.map((function(t,e){return o.getTileSize(e)})),s=r.length;s<43;++s)r.push(r[s-1]/2),i.push(i[s-1]),a.push(a[s-1]);n=new pe({extent:o.getExtent(),origins:i,resolutions:r,tileSizes:a}),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var o=ue(this.getTileGridForProjection(n).getTileSize(t),this.tmpSize);return[Math.round(o[0]*e),Math.round(o[1]*e)]},e.prototype.updateCacheSize=function(e,n){t.prototype.updateCacheSize.call(this,2*e,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark},e}(Ce);const $a=Ha;function Ja(t,e){t.setLoader((function(n,o,r){Xa(e,t.getFormat(),n,o,r,t.onLoad.bind(t),t.onError.bind(t))}))}function ts(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function es(){let t=new li({color:""}),e=new ui({color:"",width:1}),n=new gi({fill:t,stroke:e}),o=new gi({stroke:e}),r=[];return function(i,a){let s=0,l=i.get("layer"),c=i.get("kind"),u=i.getGeometry();if(u){let i=u.getType();return"water"===l&&"water-layer"===c||"water"===l&&"river"===c||"water"===l&&"stream"===c||"water"===l&&"canal"===c?(e.setColor("#9DD9D2"),e.setWidth(1.5),r[s++]=o):"water"===l&&"riverbank"===c?(t.setColor("#9DD9D2"),e.setWidth(1.5),r[s++]=n):"water"===l&&"water_boundary"===c||"water"===l&&"ocean_boundary"===c||"water"===l&&"riverbank_boundary"===c?(e.setColor("#93cbc4"),e.setWidth(.5),r[s++]=o):"water"===l||"ocean"===l||"lake"===l||"aeroway"===l&&"Polygon"===i?(t.setColor("#9DD9D2"),r[s++]=n):"aeroway"===l&&"LineString"===i&&a<=76.43702828517625?(e.setColor("#f0ede9"),e.setWidth(1),r[s++]=o):"landuse"===l&&"park"===c||"landuse"===l&&"national_park"===c||"landuse"===l&&"nature_reserve"===c||"landuse"===l&&"wood"===c||"landuse"===l&&"park"===c||"landuse"===l&&"grass"===c||"landuse"===l&&"protected_land"===c?(t.setColor("#88D18A"),r[s++]=n):"boundaries"===l&&"country"===c?(e.setColor("#ffffff"),e.setWidth(1.5),r[s++]=o):"boundaries"!==l||"region"!==c&&"macroregion"!==c?"roads"===l&&"highway"===c?(e.setColor("#FA4A48"),e.setWidth(4),r[s++]=o):"roads"===l&&"major_road"===c?(e.setColor("#999"),e.setWidth(2),r[s++]=o):"roads"===l&&"minor_road"===c?(e.setColor("#ccc"),e.setWidth(1),r[s++]=o):"roads"===l?(e.setColor("#fff"),e.setWidth(.5),r[s++]=o):"transit"===l&&"train"===c?(e.setColor("#ffffcc"),e.setWidth(1),r[s++]=o):a<10&&"places"===l?(t.setColor("#cccccc"),e.setWidth(2),e.setColor("#ffffff"),r[s++]=n):a<10&&"buildings"===l&&(t.setColor("#ffffff"),e.setWidth(2),e.setColor("#f2f2f2"),r[s++]=n):(e.setColor("#aaaaaa"),e.setWidth(.5),r[s++]=o),r.length=s,r}return new gi}}const ns={id:"nextzen",name:"Next Zen map",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){ts(i,o,r,a,s,"next",t)}function s(t){ts(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e){return{init:()=>new Ga({source:new $a({attributions:"&copy; OpenStreetMap contributors, Who’s On First, Natural Earth, and openstreetmapdata.com",format:new kr({layerName:"layer",layers:["water","transit","buildings","places","pois","roads","landuse","boundaries"]}),maxZoom:16,url:"https://tile.nextzen.org/tilezen/vector/v1/all/{z}/{x}/{y}.topojson?api_key="+e.apiKey}),style:es()})}}));return function(e,n){return t.apply(this,arguments)}}()},os=[ns];var rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),is=function(t){function e(e){var n,o=e||{},r=void 0===o.imageSmoothing||o.imageSmoothing;void 0!==o.interpolate&&(r=o.interpolate),n=void 0!==o.attributions?o.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var i=void 0!==o.crossOrigin?o.crossOrigin:"anonymous",a=void 0!==o.url?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:i,interpolate:r,maxZoom:void 0!==o.maxZoom?o.maxZoom:19,opaque:void 0===o.opaque||o.opaque,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:a,wrapX:o.wrapX,zDirection:o.zDirection})||this}return rs(e,t),e}(Re);const as=is;function ss(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}const ls={id:"osm-standard",name:"Open Street Map",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){ss(i,o,r,a,s,"next",t)}function s(t){ss(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e){return{init:()=>new Bn({source:new as})}}));return function(e,n){return t.apply(this,arguments)}}()},cs=[ls,...Ln,...to,...os,...qn];window.ol&&!ol.ext&&(ol.ext={});var us=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=us)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});const hs=us;var fs=function(t){var e=0;(t=t||{}).stroke&&(e=t.stroke.getWidth()),t.displacement||(t.displacement=[t.offsetX||0,-t.offsetY||0]),"number"==typeof t.opacity&&this.setOpacity(t.opacity),this._color=t.color,this._fontSize=t.fontSize||1,this._fontStyle=t.fontStyle||"",this._stroke=t.stroke,this._fill=t.fill,this._radius=t.radius-e,this._form=t.form||"none",this._gradient=t.gradient,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],t.glyph?this._glyph=this.getGlyph(t.glyph):this._glyph=this.getTextGlyph(t.text||"",t.font),oi.call(this,{radius:t.radius,fill:t.fill,rotation:t.rotation,displacement:t.displacement,rotateWithView:t.rotateWithView}),this.getDisplacement||this.getImage()};hs(fs,oi),Tr.prototype.getImagePNG=function(t){t=t||window.devicePixelRatio;var e=this.getImage(t);if(!e)return!1;try{return e.toDataURL("image/png")}catch(t){return!1}},fs.prototype.defs={fonts:{},glyphs:{}},fs.addDefs=function(t,e){var n=t;if("string"==typeof t&&(n={font:t,name:t,copyright:""}),n.font&&"string"==typeof n.font){var o=n.font;for(var r in fs.prototype.defs.fonts[o]=n,e){var i=e[r];"string"==typeof i&&1==i.length&&(i={char:i}),fs.prototype.defs.glyphs[r]={font:n.font,char:i.char||""+String.fromCharCode(i.code)||"",theme:i.theme||n.name,name:i.name||r,search:i.search||""}}}else console.log("bad font def")},fs.prototype.clone=function(){var t=new fs({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setScale(this.getScale()),t},fs.prototype.getFill=function(){return this._fill},fs.prototype.getStroke=function(){return this._stroke},fs.prototype.getGlyph=function(t){return t?fs.prototype.defs.glyphs[t]||{font:"sans-serif",char:t.charAt(0),theme:"none",name:"none",search:""}:this._glyph},fs.prototype.getTextGlyph=function(t,e){return{font:e||"sans-serif",char:String(t),theme:"none",name:"none",search:""}},fs.prototype.getGlyphName=function(){for(var t in fs.prototype.defs.glyphs)if(fs.prototype.defs.glyphs[t]===this._glyph)return t;return""},fs.prototype.getFontInfo=function(t){return fs.prototype.defs.fonts[t.font]},fs.prototype.getImage=function(t){t=t||1;var e,n=oi.prototype.getImage.call(this,t),o=0;this._stroke&&(e=dn(this._stroke.getColor()),o=this._stroke.getWidth());var r={strokeStyle:e,strokeWidth:o,size:n.width/t},i=n.getContext("2d");if(i.clearRect(0,0,n.width,n.height),this.drawMarker_(r,i,0,0,t),!this.getDisplacement){var a=this.getAnchor();a[0]=n.width/2-this._offset[0],a[1]=n.width/2-this._offset[1]}return n},fs.prototype.drawPath_=function(t,e){var n=2*this._radius+t.strokeWidth,o=t.strokeWidth/2,r=t.size/2,i={fac:1,posX:t.size/2,posY:t.size/2};switch(e.lineJoin="round",e.lineCap="round",e.beginPath(),this._form){case"none":i.fac=1;break;case"circle":case"ban":e.arc(r,r,n/2,0,2*Math.PI,!0);break;case"poi":e.arc(r,r-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),e.lineTo(r-.89*.05*n,(.95+.45*.05)*n+o),e.arc(r,.95*n+o,.05*n,.85*Math.PI,.15*Math.PI,!0),i={fac:.45,posX:r,posY:r-.35*this._radius};break;case"bubble":e.arc(r,r-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),e.lineTo(.5*n+o,n+o),i={fac:.7,posX:r,posY:r-.2*this._radius};break;case"marker":e.arc(r,r-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),e.lineTo(.5*n+o,n+o),i={fac:.7,posX:r,posY:r-.2*this._radius};break;case"coma":e.moveTo(r+.8*this._radius,r-.2*this._radius),e.quadraticCurveTo(.95*n+o,.75*n+o,.5*n+o,n+o),e.arc(r,r-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),i={fac:.7,posX:r,posY:r-.2*this._radius};break;default:var a;switch(this._form){case"shield":a=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],i.posY=.45*n+o;break;case"blazon":a=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],i.fac=.8,i.posY=.4*n+o;break;case"bookmark":a=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],i.fac=.9,i.posY=.4*n+o;break;case"hexagon":a=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],i.fac=.9,i.posY=.5*n+o;break;case"diamond":a=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],i.fac=.75,i.posY=.35*n+o;break;case"triangle":a=[0,0,1,0,.5,1,0,0],i.fac=.6,i.posY=.3*n+o;break;case"sign":a=[.5,.05,1,.95,0,.95,.5,.05],i.fac=.7,i.posY=.65*n+o;break;case"lozenge":a=[.5,0,1,.5,.5,1,0,.5,.5,0],i.fac=.7;break;default:a=[0,0,1,0,1,1,0,1,0,0]}for(var s=0;s<a.length;s+=2)e.lineTo(a[s]*n+o,a[s+1]*n+o)}return e.closePath(),i},fs.prototype.drawMarker_=function(t,e,n,o,r){var i=this._fill?this._fill.getColor():"#000",a=this._stroke?this._stroke.getColor():"#000";"none"==this._form&&this._stroke&&this._fill&&(a=this._fill.getColor(),i=this._stroke.getColor()),e.setTransform(r,0,0,r,0,0),e.translate(n,o);var s=this.drawPath_(t,e,r);if(this._fill){if(this._gradient&&"none"!=this._form){var l=e.createLinearGradient(0,0,t.size/2,t.size);l.addColorStop(1,dn(i)),l.addColorStop(0,dn(a)),e.fillStyle=l}else e.fillStyle=dn(i);e.fill()}if(this._stroke&&t.strokeWidth&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.stroke()),this._glyph.char){e.font=this._fontStyle+" "+2*s.fac*this._radius*this._fontSize+"px "+this._glyph.font,e.strokeStyle=e.fillStyle,e.lineWidth=t.strokeWidth*("none"==this._form?2:1),e.fillStyle=dn(this._color||a),e.textAlign="center",e.textBaseline="middle";var c=this._glyph.char;t.strokeWidth&&"transparent"!=a&&e.strokeText(c,s.posX,s.posY),e.fillText(c,s.posX,s.posY)}if("ban"==this._form&&this._stroke&&t.strokeWidth){e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth;var u=this._radius+t.strokeWidth,h=this._radius*Math.cos(Math.PI/4);e.moveTo(u+h,u-h),e.lineTo(u-h,u+h),e.stroke()}},fs.prototype.getChecksum=function(){var t=null!==this._stroke?this._stroke.getChecksum():"-",e=null!==this._fill?this._fill.getChecksum():"-";if(null===this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4]){var n="c"+t+e+(void 0!==this._radius?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[n,t,e,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]};const ps=fs;var ds=function(t){t=t||{},this._fill=t.fill||new li({color:"rgba(0,0,0,0.5)"}),this._radius=t.radius,this._blur=0===t.blur?0:t.blur||t.radius/3,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],t.displacement||(t.displacement=[t.offsetX||0,-t.offsetY||0]),oi.call(this,{radius:t.radius,fill:t.fill,displacement:t.displacement}),this.setDisplacement||this.getImage()};hs(ds,oi),ds.prototype.clone=function(){var t=new ds({fill:this._fill,radius:this._radius,blur:this._blur,offsetX:this._offset[0],offsetY:this._offset[1]});return t.setScale(this.getScale()),t.setOpacity(this.getOpacity()),t},ds.prototype.getImage=function(t){t=t||1;var e=this._radius,n=oi.prototype.getImage.call(this,t),o=n.getContext("2d");if(o.save(),o.resetTransform(),o.clearRect(0,0,n.width,n.height),o.beginPath(),o.setTransform(t,0,0,t,0,0),o.scale(1,.5),o.arc(e,-e,e-this._blur,0,2*Math.PI,!1),o.fillStyle="#000",o.shadowColor=this._fill.getColor(),o.shadowBlur=.7*this._blur*t,o.shadowOffsetX=0,o.shadowOffsetY=1.5*e*t,o.closePath(),o.fill(),o.shadowColor="transparent",o.restore(),!this.getDisplacement){var r=this.getAnchor();r[0]=n.width/2-this._offset[0],r[1]=n.height/2-this._offset[1]}return n};const gs=ds;ps.addDefs({font:"FontAwesome",name:"FontAwesome",copyright:"SIL OFL 1.1",prefix:"fa"},{"fa-glass":"","fa-music":"","fa-search":"","fa-envelope-o":"","fa-heart":"","fa-star":"","fa-star-o":"","fa-user":"","fa-film":"","fa-th-large":"","fa-th":"","fa-th-list":"","fa-check":"","fa-remove":"","fa-close":"","fa-times":"","fa-search-plus":"","fa-search-minus":"","fa-power-off":"","fa-signal":"","fa-gear":"","fa-cog":"","fa-trash-o":"","fa-home":"","fa-file-o":"","fa-clock-o":"","fa-road":"","fa-download":"","fa-arrow-circle-o-down":"","fa-arrow-circle-o-up":"","fa-inbox":"","fa-play-circle-o":"","fa-rotate-right":"","fa-repeat":"","fa-refresh":"","fa-list-alt":"","fa-lock":"","fa-flag":"","fa-headphones":"","fa-volume-off":"","fa-volume-down":"","fa-volume-up":"","fa-qrcode":"","fa-barcode":"","fa-tag":"","fa-tags":"","fa-book":"","fa-bookmark":"","fa-print":"","fa-camera":"","fa-font":"","fa-bold":"","fa-italic":"","fa-text-height":"","fa-text-width":"","fa-align-left":"","fa-align-center":"","fa-align-right":"","fa-align-justify":"","fa-list":"","fa-dedent":"","fa-outdent":"","fa-indent":"","fa-video-camera":"","fa-photo":"","fa-image":"","fa-picture-o":"","fa-pencil":"","fa-map-marker":"","fa-adjust":"","fa-tint":"","fa-edit":"","fa-pencil-square-o":"","fa-share-square-o":"","fa-check-square-o":"","fa-arrows":"","fa-step-backward":"","fa-fast-backward":"","fa-backward":"","fa-play":"","fa-pause":"","fa-stop":"","fa-forward":"","fa-fast-forward":"","fa-step-forward":"","fa-eject":"","fa-chevron-left":"","fa-chevron-right":"","fa-plus-circle":"","fa-minus-circle":"","fa-times-circle":"","fa-check-circle":"","fa-question-circle":"","fa-info-circle":"","fa-crosshairs":"","fa-times-circle-o":"","fa-check-circle-o":"","fa-ban":"","fa-arrow-left":"","fa-arrow-right":"","fa-arrow-up":"","fa-arrow-down":"","fa-mail-forward":"","fa-share":"","fa-expand":"","fa-compress":"","fa-plus":"","fa-minus":"","fa-asterisk":"","fa-exclamation-circle":"","fa-gift":"","fa-leaf":"","fa-fire":"","fa-eye":"","fa-eye-slash":"","fa-warning":"","fa-exclamation-triangle":"","fa-plane":"","fa-calendar":"","fa-random":"","fa-comment":"","fa-magnet":"","fa-chevron-up":"","fa-chevron-down":"","fa-retweet":"","fa-shopping-cart":"","fa-folder":"","fa-folder-open":"","fa-arrows-v":"","fa-arrows-h":"","fa-bar-t-o":"","fa-bar-t":"","fa-twitter-square":"","fa-facebook-square":"","fa-camera-retro":"","fa-key":"","fa-gears":"","fa-cogs":"","fa-comments":"","fa-thumbs-o-up":"","fa-thumbs-o-down":"","fa-star-half":"","fa-heart-o":"","fa-sign-out":"","fa-linkedin-square":"","fa-thumb-tack":"","fa-external-link":"","fa-sign-in":"","fa-trophy":"","fa-github-square":"","fa-upload":"","fa-lemon-o":"","fa-phone":"","fa-square-o":"","fa-bookmark-o":"","fa-phone-square":"","fa-twitter":"","fa-facebook-f":"","fa-facebook":"","fa-github":"","fa-unlock":"","fa-credit-card":"","fa-feed":"","fa-rss":"","fa-hdd-o":"","fa-bullhorn":"","fa-bell":"","fa-certificate":"","fa-hand-o-right":"","fa-hand-o-left":"","fa-hand-o-up":"","fa-hand-o-down":"","fa-arrow-circle-left":"","fa-arrow-circle-right":"","fa-arrow-circle-up":"","fa-arrow-circle-down":"","fa-globe":"","fa-wrench":"","fa-tasks":"","fa-filter":"","fa-briefcase":"","fa-arrows-alt":"","fa-group":"","fa-users":"","fa-chain":"","fa-link":"","fa-cloud":"","fa-flask":"","fa-cut":"","fa-scissors":"","fa-copy":"","fa-files-o":"","fa-paperclip":"","fa-save":"","fa-floppy-o":"","fa-square":"","fa-navicon":"","fa-reorder":"","fa-bars":"","fa-list-ul":"","fa-list-ol":"","fa-strikethrough":"","fa-underline":"","fa-table":"","fa-magic":"","fa-truck":"","fa-pinterest":"","fa-pinterest-square":"","fa-google-plus-square":"","fa-google-plus":"","fa-money":"","fa-caret-down":"","fa-caret-up":"","fa-caret-left":"","fa-caret-right":"","fa-columns":"","fa-unsorted":"","fa-sort":"","fa-sort-down":"","fa-sort-desc":"","fa-sort-up":"","fa-sort-asc":"","fa-envelope":"","fa-linkedin":"","fa-rotate-left":"","fa-undo":"","fa-legal":"","fa-gavel":"","fa-dashboard":"","fa-tachometer":"","fa-comment-o":"","fa-comments-o":"","fa-flash":"","fa-bolt":"","fa-sitemap":"","fa-umbrella":"","fa-paste":"","fa-clipboard":"","fa-lightbulb-o":"","fa-exchange":"","fa-cloud-download":"","fa-cloud-upload":"","fa-user-md":"","fa-stethoscope":"","fa-suitcase":"","fa-bell-o":"","fa-coffee":"","fa-cutlery":"","fa-file-text-o":"","fa-building-o":"","fa-hospital-o":"","fa-ambulance":"","fa-medkit":"","fa-fighter-jet":"","fa-beer":"","fa-h-square":"","fa-plus-square":"","fa-angle-double-left":"","fa-angle-double-right":"","fa-angle-double-up":"","fa-angle-double-down":"","fa-angle-left":"","fa-angle-right":"","fa-angle-up":"","fa-angle-down":"","fa-desktop":"","fa-laptop":"","fa-tablet":"","fa-mobile-phone":"","fa-mobile":"","fa-circle-o":"","fa-quote-left":"","fa-quote-right":"","fa-spinner":"","fa-circle":"","fa-mail-reply":"","fa-reply":"","fa-github-alt":"","fa-folder-o":"","fa-folder-open-o":"","fa-smile-o":"","fa-frown-o":"","fa-meh-o":"","fa-gamepad":"","fa-keyboard-o":"","fa-flag-o":"","fa-flag-checkered":"","fa-terminal":"","fa-code":"","fa-mail-reply-all":"","fa-reply-all":"","fa-star-half-empty":"","fa-star-half-full":"","fa-star-half-o":"","fa-location-arrow":"","fa-crop":"","fa-code-fork":"","fa-unlink":"","fa-chain-broken":"","fa-question":"","fa-info":"","fa-exclamation":"","fa-superscript":"","fa-subscript":"","fa-eraser":"","fa-puzzle-piece":"","fa-microphone":"","fa-microphone-slash":"","fa-shield":"","fa-calendar-o":"","fa-fire-extinguisher":"","fa-rocket":"","fa-maxcdn":"","fa-chevron-circle-left":"","fa-chevron-circle-right":"","fa-chevron-circle-up":"","fa-chevron-circle-down":"","fa-html5":"","fa-css3":"","fa-anchor":"","fa-unlock-alt":"","fa-bullseye":"","fa-ellipsis-h":"","fa-ellipsis-v":"","fa-rss-square":"","fa-play-circle":"","fa-ticket":"","fa-minus-square":"","fa-minus-square-o":"","fa-level-up":"","fa-level-down":"","fa-check-square":"","fa-pencil-square":"","fa-external-link-square":"","fa-share-square":"","fa-compass":"","fa-toggle-down":"","fa-caret-square-o-down":"","fa-toggle-up":"","fa-caret-square-o-up":"","fa-toggle-right":"","fa-caret-square-o-right":"","fa-euro":"","fa-eur":"","fa-gbp":"","fa-dollar":"","fa-usd":"","fa-rupee":"","fa-inr":"","fa-cny":"","fa-rmb":"","fa-yen":"","fa-jpy":"","fa-ruble":"","fa-rouble":"","fa-rub":"","fa-won":"","fa-krw":"","fa-bitcoin":"","fa-btc":"","fa-file":"","fa-file-text":"","fa-sort-alpha-asc":"","fa-sort-alpha-desc":"","fa-sort-amount-asc":"","fa-sort-amount-desc":"","fa-sort-numeric-asc":"","fa-sort-numeric-desc":"","fa-thumbs-up":"","fa-thumbs-down":"","fa-youtube-square":"","fa-youtube":"","fa-xing":"","fa-xing-square":"","fa-youtube-play":"","fa-dropbox":"","fa-stack-overflow":"","fa-instagram":"","fa-flickr":"","fa-adn":"","fa-bitbucket":"","fa-bitbucket-square":"","fa-tumblr":"","fa-tumblr-square":"","fa-long-arrow-down":"","fa-long-arrow-up":"","fa-long-arrow-left":"","fa-long-arrow-right":"","fa-apple":"","fa-windows":"","fa-android":"","fa-linux":"","fa-dribbble":"","fa-skype":"","fa-foursquare":"","fa-trello":"","fa-female":"","fa-male":"","fa-gittip":"","fa-gratipay":"","fa-sun-o":"","fa-moon-o":"","fa-archive":"","fa-bug":"","fa-vk":"","fa-weibo":"","fa-renren":"","fa-pagelines":"","fa-stack-exchange":"","fa-arrow-circle-o-right":"","fa-arrow-circle-o-left":"","fa-toggle-left":"","fa-caret-square-o-left":"","fa-dot-circle-o":"","fa-wheelchair":"","fa-vimeo-square":"","fa-turkish-lira":"","fa-try":"","fa-plus-square-o":"","fa-space-shuttle":"","fa-slack":"","fa-envelope-square":"","fa-wordpress":"","fa-openid":"","fa-institution":"","fa-bank":"","fa-university":"","fa-mortar-board":"","fa-graduation-cap":"","fa-yahoo":"","fa-google":"","fa-reddit":"","fa-reddit-square":"","fa-stumbleupon-circle":"","fa-stumbleupon":"","fa-delicious":"","fa-digg":"","fa-pied-piper":"","fa-pied-piper-alt":"","fa-drupal":"","fa-joomla":"","fa-language":"","fa-fax":"","fa-building":"","fa-child":"","fa-paw":"","fa-spoon":"","fa-cube":"","fa-cubes":"","fa-behance":"","fa-behance-square":"","fa-steam":"","fa-steam-square":"","fa-recycle":"","fa-automobile":"","fa-car":"","fa-cab":"","fa-taxi":"","fa-tree":"","fa-spotify":"","fa-deviantart":"","fa-soundcloud":"","fa-database":"","fa-file-pdf-o":"","fa-file-word-o":"","fa-file-excel-o":"","fa-file-powerpoint-o":"","fa-file-photo-o":"","fa-file-picture-o":"","fa-file-image-o":"","fa-file-zip-o":"","fa-file-archive-o":"","fa-file-sound-o":"","fa-file-audio-o":"","fa-file-movie-o":"","fa-file-video-o":"","fa-file-code-o":"","fa-vine":"","fa-codepen":"","fa-jsfiddle":"","fa-life-bouy":"","fa-life-buoy":"","fa-life-saver":"","fa-support":"","fa-life-ring":"","fa-circle-o-notch":"","fa-ra":"","fa-rebel":"","fa-ge":"","fa-empire":"","fa-git-square":"","fa-git":"","fa-y-combinator-square":"","fa-yc-square":"","fa-hacker-news":"","fa-tencent-weibo":"","fa-qq":"","fa-wechat":"","fa-weixin":"","fa-send":"","fa-paper-plane":"","fa-send-o":"","fa-paper-plane-o":"","fa-history":"","fa-circle-thin":"","fa-header":"","fa-paragraph":"","fa-sliders":"","fa-share-alt":"","fa-share-alt-square":"","fa-bomb":"","fa-soccer-ball-o":"","fa-futbol-o":"","fa-tty":"","fa-binoculars":"","fa-plug":"","fa-slideshare":"","fa-twitch":"","fa-yelp":"","fa-newspaper-o":"","fa-wifi":"","fa-calculator":"","fa-paypal":"","fa-google-wallet":"","fa-cc-visa":"","fa-cc-mastercard":"","fa-cc-discover":"","fa-cc-amex":"","fa-cc-paypal":"","fa-cc-stripe":"","fa-bell-slash":"","fa-bell-slash-o":"","fa-trash":"","fa-copyright":"","fa-at":"","fa-eyedropper":"","fa-paint-brush":"","fa-birthday-cake":"","fa-area-t":"","fa-pie-t":"","fa-line-t":"","fa-lastfm":"","fa-lastfm-square":"","fa-toggle-off":"","fa-toggle-on":"","fa-bicycle":"","fa-bus":"","fa-ioxhost":"","fa-angellist":"","fa-cc":"","fa-shekel":"","fa-sheqel":"","fa-ils":"","fa-meanpath":"","fa-buysellads":"","fa-connectdevelop":"","fa-dashcube":"","fa-forumbee":"","fa-leanpub":"","fa-sellsy":"","fa-shirtsinbulk":"","fa-simplybuilt":"","fa-skyatlas":"","fa-cart-plus":"","fa-cart-arrow-down":"","fa-diamond":"","fa-ship":"","fa-user-secret":"","fa-motorcycle":"","fa-street-view":"","fa-heartbeat":"","fa-venus":"","fa-mars":"","fa-mercury":"","fa-intersex":"","fa-transgender":"","fa-transgender-alt":"","fa-venus-double":"","fa-mars-double":"","fa-venus-mars":"","fa-mars-stroke":"","fa-mars-stroke-v":"","fa-mars-stroke-h":"","fa-neuter":"","fa-genderless":"","fa-facebook-official":"","fa-pinterest-p":"","fa-whatsapp":"","fa-server":"","fa-user-plus":"","fa-user-times":"","fa-hotel":"","fa-bed":"","fa-viacoin":"","fa-train":"","fa-subway":"","fa-medium":"","fa-yc":"","fa-y-combinator":"","fa-optin-monster":"","fa-opencart":"","fa-expeditedssl":"","fa-battery-4":"","fa-battery-full":"","fa-battery-3":"","fa-battery-three-quarters":"","fa-battery-2":"","fa-battery-half":"","fa-battery-1":"","fa-battery-quarter":"","fa-battery-0":"","fa-battery-empty":"","fa-mouse-pointer":"","fa-i-cursor":"","fa-object-group":"","fa-object-ungroup":"","fa-sticky-note":"","fa-sticky-note-o":"","fa-cc-jcb":"","fa-cc-diners-club":"","fa-clone":"","fa-balance-scale":"","fa-hourglass-o":"","fa-hourglass-1":"","fa-hourglass-start":"","fa-hourglass-2":"","fa-hourglass-half":"","fa-hourglass-3":"","fa-hourglass-end":"","fa-hourglass":"","fa-hand-grab-o":"","fa-hand-rock-o":"","fa-hand-stop-o":"","fa-hand-paper-o":"","fa-hand-scissors-o":"","fa-hand-lizard-o":"","fa-hand-spock-o":"","fa-hand-pointer-o":"","fa-hand-peace-o":"","fa-trademark":"","fa-registered":"","fa-creative-commons":"","fa-gg":"","fa-gg-circle":"","fa-tripadvisor":"","fa-odnoklassniki":"","fa-odnoklassniki-square":"","fa-get-pocket":"","fa-wikipedia-w":"","fa-safari":"","fa-chrome":"","fa-firefox":"","fa-opera":"","fa-internet-explorer":"","fa-tv":"","fa-television":"","fa-contao":"","fa-500px":"","fa-amazon":"","fa-calendar-plus-o":"","fa-calendar-minus-o":"","fa-calendar-times-o":"","fa-calendar-check-o":"","fa-industry":"","fa-map-pin":"","fa-map-signs":"","fa-map-o":"","fa-map":"","fa-commenting":"","fa-commenting-o":"","fa-houzz":"","fa-vimeo":"","fa-black-tie":"","fa-fonticons":""}),ps.addDefs({font:"fontmaki2",name:"Maki2",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki2"},{"maki2-aerialway":{font:"fontmaki2",code:59392,name:"aerialway",search:"telepherique,ski,neige",theme:"transport"},"maki2-airfield":{font:"fontmaki2",code:59393,name:"airfield",search:"aerodrome,avion",theme:"transport"},"maki2-airport":{font:"fontmaki2",code:59394,name:"airport",search:"aeroport,avion",theme:"transport"},"maki2-alcohol-shop":{font:"fontmaki2",code:59395,theme:"commerce",name:"shop",search:"boisson,alcool,vin,verre"},"maki2-america-football":{font:"fontmaki2",code:59396,theme:"sport",name:"football",search:"fooball,rugby"},"maki2-amusement-park":{font:"fontmaki2",code:59397,theme:"loisir",name:"park",search:"pac,roue,attraction"},"maki2-aquarium":{font:"fontmaki2",code:59398,name:"aquarium",search:"aquarium,poison,mer,animal",theme:"loisir"},"maki2-art-gallery":{font:"fontmaki2",code:59399,theme:"loisir",name:"gallery",search:"art,gallerie,peinture"},"maki2-attraction":{font:"fontmaki2",code:59400,name:"attraction",search:"photo,attraction,camera",theme:"tourisme"},"maki2-bakery":{font:"fontmaki2",code:59401,name:"bakery",search:"boulangerie,croissant",theme:"commerce"},"maki2-bank":{font:"fontmaki2",code:59402,name:"bank",search:"banque,carte,paiment",theme:"service"},"maki2-bar":{font:"fontmaki2",code:59403,name:"bar",search:"bar,coupe,verre,boisson",theme:"commerce"},"maki2-barrier":{font:"fontmaki2",code:59404,name:"barrier",search:"barriere,travaux",theme:"service"},"maki2-baseball":{font:"fontmaki2",code:59405,name:"baseball",search:"baseball",theme:"sport"},"maki2-basketball":{font:"fontmaki2",code:59406,name:"basketball",search:"basketball,ballon",theme:"sport"},"maki2-bbq":{font:"fontmaki2",code:59407,name:"bbq",search:"bbq,barbecue,camping",theme:"loisir"},"maki2-beer":{font:"fontmaki2",code:59408,name:"beer",search:"biere,boisson,cafe",theme:"commerce"},"maki2-bicycle":{font:"fontmaki2",code:59409,name:"bicycle",search:"velo,cycle,bicyclette",theme:"transport"},"maki2-bicycle-share":{font:"fontmaki2",code:59410,theme:"transport",name:"share",search:"velo,cycle,bicyclette"},"maki2-blood-bank":{font:"fontmaki2",code:59411,theme:"service",name:"bank",search:"santé,sang,don"},"maki2-buddhism":{font:"fontmaki2",code:59412,name:"buddhism",search:"bouddhisme",theme:"religion"},"maki2-building":{font:"fontmaki2",code:59413,name:"building",search:"maison,batiment",theme:"construction"},"maki2-building-alt1":{font:"fontmaki2",code:59414,theme:"construction",name:"alt1",search:"building,tour,immeuble"},"maki2-bus":{font:"fontmaki2",code:59415,name:"bus",search:"bus",theme:"transport"},"maki2-cafe":{font:"fontmaki2",code:59416,name:"cafe",search:"cafe,bar",theme:"commerce"},"maki2-campsite":{font:"fontmaki2",code:59417,name:"campsite",search:"camping,tente",theme:"tourisme"},"maki2-car":{font:"fontmaki2",code:59418,name:"car",search:"voiture",theme:"transport"},"maki2-car-rental":{font:"fontmaki2",code:59419,theme:"service",name:"rental",search:"voiture,location,parking"},"maki2-car-repair":{font:"fontmaki2",code:59420,theme:"service",name:"repair",search:"voiture,reparation,mecanique"},"maki2-casino":{font:"fontmaki2",code:59421,name:"casino",search:"casino,carte,pique",theme:"loisir"},"maki2-castle":{font:"fontmaki2",code:59422,name:"castle",search:"chateau,tour",theme:"loisir"},"maki2-cemetery":{font:"fontmaki2",code:59423,name:"cemetery",search:"cimetiere,tombe",theme:"religion"},"maki2-charging-station":{font:"fontmaki2",code:59424,theme:"transport",name:"station",search:"voiture,chargement,electrique,station"},"maki2-cinema":{font:"fontmaki2",code:59425,name:"cinema",search:"cinema,film",theme:"tourisme"},"maki2-circle":{font:"fontmaki2",code:59426,name:"circle",search:"cercle",theme:"forme"},"maki2-circle-stroked":{font:"fontmaki2",code:59427,theme:"forme",name:"stroked",search:"cercle,rond"},"maki2-city":{font:"fontmaki2",code:59428,name:"city",search:"ville,batiment,hlm",theme:"construction"},"maki2-clothing-store":{font:"fontmaki2",code:59429,theme:"commerce",name:"store",search:"vetement,magasin"},"maki2-college":{font:"fontmaki2",code:59430,name:"college",search:"college,universite",theme:"education"},"maki2-commercial":{font:"fontmaki2",code:59431,name:"commercial",search:"commercial,tour",theme:"construction"},"maki2-cricket":{font:"fontmaki2",code:59432,name:"cricket",search:"cricket",theme:"sport"},"maki2-cross":{font:"fontmaki2",code:59433,name:"cross",search:"croix",theme:"forme"},"maki2-dam":{font:"fontmaki2",code:59434,name:"dam",search:"barrage,eau",theme:"industrie"},"maki2-danger":{font:"fontmaki2",code:59435,name:"danger",search:"danger,mort,tete",theme:"panneau"},"maki2-defibrillator":{font:"fontmaki2",code:59436,name:"defibrillator",search:"defibrillateur,medecin,sante",theme:"service"},"maki2-dentist":{font:"fontmaki2",code:59437,name:"dentist",search:"dentiste,sante",theme:"service"},"maki2-doctor":{font:"fontmaki2",code:59438,name:"doctor",search:"docteur,medecin,stetoscope",theme:"service"},"maki2-dog-park":{font:"fontmaki2",code:59439,theme:"service",name:"park",search:"chien,parc"},"maki2-drinking-water":{font:"fontmaki2",code:59440,theme:"service",name:"water",search:"eau,ba,boison,robinet"},"maki2-embassy":{font:"fontmaki2",code:59441,name:"embassy",search:"ambassade",theme:"service"},"maki2-emergency-phone":{font:"fontmaki2",code:59442,theme:"service",name:"phone",search:"urgence,sante,telephone"},"maki2-entrance":{font:"fontmaki2",code:59443,name:"entrance",search:"entree",theme:"construction"},"maki2-entrance-alt1":{font:"fontmaki2",code:59444,theme:"service",name:"alt1",search:"sortie,secours"},"maki2-farm":{font:"fontmaki2",code:59445,name:"farm",search:"ferme,batiment",theme:"construction"},"maki2-fast-food":{font:"fontmaki2",code:59446,theme:"commerce",name:"food",search:"fast food,retaurant,hamburger"},"maki2-fence":{font:"fontmaki2",code:59447,name:"fence",search:"herse,barriere",theme:"panneau"},"maki2-ferry":{font:"fontmaki2",code:59448,name:"ferry",search:"ferry,bac,bateau",theme:"transport"},"maki2-fire-station":{font:"fontmaki2",code:59449,theme:"service",name:"station",search:"pompier,feu,station"},"maki2-florist":{font:"fontmaki2",code:59450,name:"florist",search:"fleur,fleuriste,nature",theme:"commerce"},"maki2-fuel":{font:"fontmaki2",code:59451,name:"fuel",search:"pompe,essence",theme:"commerce"},"maki2-furniture":{font:"fontmaki2",code:59452,name:"furniture",search:"meuble,lampe,magazin",theme:"commerce"},"maki2-gaming":{font:"fontmaki2",code:59453,name:"gaming",search:"gaming,jeu,manette,console",theme:"commerce"},"maki2-garden":{font:"fontmaki2",code:59454,name:"garden",search:"jardin,fleur",theme:"loisir"},"maki2-garden-center":{font:"fontmaki2",code:59455,theme:"loisir",name:"center",search:"jardin,arrosoir,fleur"},"maki2-gift":{font:"fontmaki2",code:59456,name:"gift",search:"cadeau,achat",theme:"commerce"},"maki2-globe":{font:"fontmaki2",code:59457,name:"globe",search:"globe,terre",theme:"divers"},"maki2-golf":{font:"fontmaki2",code:59458,name:"golf",search:"golf",theme:"sport"},"maki2-grocery":{font:"fontmaki2",code:59459,name:"grocery",search:"caddy,super,marche",theme:"commerce"},"maki2-hairdresser":{font:"fontmaki2",code:59460,name:"hairdresser",search:"coiffeur",theme:"commerce"},"maki2-harbor":{font:"fontmaki2",code:59461,name:"harbor",search:"port,bateau,ancre",theme:"transport"},"maki2-hardware":{font:"fontmaki2",code:59462,name:"hardware",search:"mecanicien,outil",theme:"service"},"maki2-heart":{font:"fontmaki2",code:59463,name:"heart",search:"coeur,amour",theme:"forme"},"maki2-heliport":{font:"fontmaki2",code:59464,name:"heliport",search:"heliport,helicoptere",theme:"transport"},"maki2-home":{font:"fontmaki2",code:59465,name:"home",search:"maison,bati",theme:"construction"},"maki2-horse-riding":{font:"fontmaki2",code:59466,theme:"sport",name:"riding",search:"animal,cavalier,cheval"},"maki2-hospital":{font:"fontmaki2",code:59467,name:"hospital",search:"hopital,croix",theme:"service"},"maki2-ice-cream":{font:"fontmaki2",code:59468,theme:"loisir",name:"cream",search:"glace,cornet,enfant"},"maki2-industry":{font:"fontmaki2",code:59469,name:"industry",search:"industrie,usine,cheminee",theme:"industrie"},"maki2-information":{font:"fontmaki2",code:59470,name:"information",search:"information,i",theme:"tourisme"},"maki2-jewelry":{font:"fontmaki2",code:59471,name:"jewelry",search:"bijoutier,bague,or",theme:"commerce"},"maki2-karaoke":{font:"fontmaki2",code:59472,name:"karaoke",search:"karaoke,micro,chant",theme:"commerce"},"maki2-landmark":{font:"fontmaki2",code:59473,name:"landmark",search:"manege,info",theme:"service"},"maki2-landuse":{font:"fontmaki2",code:59474,name:"landuse",search:"paysage,maison",theme:"paysage"},"maki2-laundry":{font:"fontmaki2",code:59475,name:"laundry",search:"machine,laver,blanchisserie",theme:"commerce"},"maki2-library":{font:"fontmaki2",code:59476,name:"library",search:"livre,bibliotheque",theme:"service"},"maki2-lighthouse":{font:"fontmaki2",code:59477,name:"lighthouse",search:"phare,lumiere",theme:"transport"},"maki2-lodging":{font:"fontmaki2",code:59478,name:"lodging",search:"lit,hotel",theme:"hebergement"},"maki2-logging":{font:"fontmaki2",code:59479,name:"logging",search:"enregistrement",theme:"hebergement"},"maki2-marker":{font:"fontmaki2",code:59480,name:"marker",search:"marker,poi",theme:"forme"},"maki2-marker-stroked":{font:"fontmaki2",code:59481,theme:"forme",name:"stroked",search:"marker,poi"},"maki2-mobile-phone":{font:"fontmaki2",code:59482,theme:"divers",name:"phone",search:"mobile,telephone"},"maki2-monument":{font:"fontmaki2",code:59483,name:"monument",search:"monument,obelix,tour",theme:"construction"},"maki2-mountain":{font:"fontmaki2",code:59484,name:"mountain",search:"montagne,mont,neige",theme:"paysage"},"maki2-museum":{font:"fontmaki2",code:59485,name:"museum",search:"musee,maison",theme:"tourisme"},"maki2-music":{font:"fontmaki2",code:59486,name:"music",search:"musique,note",theme:"loisir"},"maki2-natural":{font:"fontmaki2",code:59487,name:"natural",search:"naturel,arbre",theme:"paysage"},"maki2-optician":{font:"fontmaki2",code:59488,name:"optician",search:"lunette,opticien",theme:"commerce"},"maki2-paint":{font:"fontmaki2",code:59489,name:"paint",search:"peintre,peinture,rouleau",theme:"commerce"},"maki2-park":{font:"fontmaki2",code:59490,name:"park",search:"parc,arbre,feuille",theme:"paysage"},"maki2-park-alt1":{font:"fontmaki2",code:59491,theme:"paysage",name:"alt1",search:"parc,arbre,sapin"},"maki2-parking":{font:"fontmaki2",code:59492,name:"parking",search:"parking,p",theme:"transport"},"maki2-parking-garage":{font:"fontmaki2",code:59493,theme:"transport",name:"garage",search:"parking,garage"},"maki2-pharmacy":{font:"fontmaki2",code:59494,name:"pharmacy",search:"pharmacie,medicament",theme:"service"},"maki2-picnic-site":{font:"fontmaki2",code:59495,theme:"loisir",name:"site",search:"picnic,site,halte,aire"},"maki2-pitch":{font:"fontmaki2",code:59496,name:"pitch",search:"saut,course",theme:"sport"},"maki2-place-of-worship":{font:"fontmaki2",code:59497,theme:"construction",name:"of",search:"place,immeuble,chateau"},"maki2-playground":{font:"fontmaki2",code:59498,name:"playground",search:"balancoire,enfant,jardin",theme:"loisir"},"maki2-police":{font:"fontmaki2",code:59499,name:"police",search:"police,kepi",theme:"service"},"maki2-post":{font:"fontmaki2",code:59500,name:"post",search:"poste,lettre",theme:"service"},"maki2-prison":{font:"fontmaki2",code:59501,name:"prison",search:"prison,herse,barriere",theme:"service"},"maki2-rail":{font:"fontmaki2",code:59502,name:"rail",search:"rail,fer",theme:"transport"},"maki2-rail-light":{font:"fontmaki2",code:59503,theme:"transport",name:"light",search:"transport,train,sncf,rail"},"maki2-rail-metro":{font:"fontmaki2",code:59504,theme:"transport",name:"metro",search:"transport,train,sncf,rail"},"maki2-ranger-station":{font:"fontmaki2",code:59505,theme:"construction",name:"station",search:"station,maison,ranger"},"maki2-recycling":{font:"fontmaki2",code:59506,name:"recycling",search:"recyclable,fleche",theme:"service"},"maki2-religious-christian":{font:"fontmaki2",code:59507,theme:"religion",name:"christian",search:"religion,chretien,coix"},"maki2-religious-jewish":{font:"fontmaki2",code:59508,theme:"religion",name:"jewish",search:"religion,juif,etoile"},"maki2-religious-muslim":{font:"fontmaki2",code:59509,theme:"religion",name:"muslim",search:"religion,musulman,etoile"},"maki2-residential-community":{font:"fontmaki2",code:59510,theme:"construction",name:"community",search:"residentiel,immeuble,tour"},"maki2-restaurant":{font:"fontmaki2",code:59511,name:"restaurant",search:"restaurant,fourchette,couteau",theme:"commerce"},"maki2-roadblock":{font:"fontmaki2",code:59512,name:"roadblock",search:"sens,interdit,panneau",theme:"transport"},"maki2-rocket":{font:"fontmaki2",code:59513,name:"rocket",search:"fusee",theme:"transport"},"maki2-school":{font:"fontmaki2",code:59514,name:"school",search:"education,ecole,enfant,primaire",theme:"education"},"maki2-scooter":{font:"fontmaki2",code:59515,name:"scooter",search:"scooter,velo",theme:"transport"},"maki2-shelter":{font:"fontmaki2",code:59516,name:"shelter",search:"barriere,pont",theme:"transport"},"maki2-shoe":{font:"fontmaki2",code:59517,name:"shoe",search:"chaussure,cordonnier",theme:"commerce"},"maki2-shop":{font:"fontmaki2",code:59518,name:"shop",search:"boutique,sac",theme:"commerce"},"maki2-skiing":{font:"fontmaki2",code:59519,name:"skiing",search:"ski,descente,montagne",theme:"sport"},"maki2-slaughterhouse":{font:"fontmaki2",code:59520,name:"slaughterhouse",search:"vache,animal,ferme,abatoire",theme:"industrie"},"maki2-snowmobile":{font:"fontmaki2",code:59521,name:"snowmobile",search:"neige,ski,skido,moto",theme:"transport"},"maki2-soccer":{font:"fontmaki2",code:59522,name:"soccer",search:"foot,ballon",theme:"sport"},"maki2-square":{font:"fontmaki2",code:59523,name:"square",search:"carre",theme:"forme"},"maki2-square-stroked":{font:"fontmaki2",code:59524,theme:"forme",name:"stroked",search:"carre"},"maki2-stadium":{font:"fontmaki2",code:59525,name:"stadium",search:"stade,drapeau,chapiteau",theme:"construction"},"maki2-star":{font:"fontmaki2",code:59526,name:"star",search:"etoile",theme:"forme"},"maki2-star-stroked":{font:"fontmaki2",code:59527,theme:"forme",name:"stroked",search:"etoile"},"maki2-suitcase":{font:"fontmaki2",code:59528,name:"suitcase",search:"valise,voyage",theme:"transport"},"maki2-sushi":{font:"fontmaki2",code:59529,name:"sushi",search:"sushi,restaurant,poison",theme:"commerce"},"maki2-swimming":{font:"fontmaki2",code:59530,name:"swimming",search:"eau,nage,piscine",theme:"sport"},"maki2-teahouse":{font:"fontmaki2",code:59531,name:"teahouse",search:"the,salon,tasse",theme:"commerce"},"maki2-telephone":{font:"fontmaki2",code:59532,name:"telephone",search:"telephone,urgence",theme:"service"},"maki2-tennis":{font:"fontmaki2",code:59533,name:"tennis",search:"tennis,balle,raquette",theme:"sport"},"maki2-theatre":{font:"fontmaki2",code:59534,name:"theatre",search:"theatre,culture",theme:"tourisme"},"maki2-toilet":{font:"fontmaki2",code:59535,name:"toilet",search:"toilettte,wc",theme:"service"},"maki2-town":{font:"fontmaki2",code:59536,name:"town",search:"ville,maisons",theme:"construction"},"maki2-town-hall":{font:"fontmaki2",code:59537,theme:"construction",name:"hall",search:"batiment,institution"},"maki2-triangle":{font:"fontmaki2",code:59538,name:"triangle",search:"triangle",theme:"forme"},"maki2-triangle-stroked":{font:"fontmaki2",code:59539,theme:"forme",name:"stroked",search:"triangle"},"maki2-veterinary":{font:"fontmaki2",code:59540,name:"veterinary",search:"animal,veterinaire,patte,empreinte",theme:"commerce"},"maki2-village":{font:"fontmaki2",code:59541,name:"village",search:"village,maison",theme:"construction"},"maki2-volcano":{font:"fontmaki2",code:59542,name:"volcano",search:"volcan,mont,feu",theme:"paysage"},"maki2-warehouse":{font:"fontmaki2",code:59543,name:"warehouse",search:"gite",theme:"construction"},"maki2-waste-basket":{font:"fontmaki2",code:59544,theme:"service",name:"basket",search:"poubelle,recyclage"},"maki2-watch":{font:"fontmaki2",code:59545,name:"watch",search:"montre,bijouterie,heure",theme:"commerce"},"maki2-water":{font:"fontmaki2",code:59546,name:"water",search:"eau,goutte",theme:"forme"},"maki2-watermill":{font:"fontmaki2",code:59547,name:"watermill",search:"moulin,eau",theme:"construction"},"maki2-wetland":{font:"fontmaki2",code:59548,name:"wetland",search:"humide,riziere,marecage",theme:"paysage"},"maki2-wheelchair":{font:"fontmaki2",code:59549,name:"wheelchair",search:"handicape,roue,fauteuil,sante",theme:"service"},"maki2-windmill":{font:"fontmaki2",code:59550,name:"windmill",search:"moulin,vent",theme:"construction"},"maki2-zoo":{font:"fontmaki2",code:59551,name:"zoo",search:"zoo,girafe,animal",theme:"loisir"}}),ps.addDefs({font:"fontmaki",name:"Maki",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki"},{"maki-bicycle":{font:"fontmaki",code:59392,name:"bicycle",search:"bicycle"},"maki-building":{font:"fontmaki",code:59393,name:"building",search:"building"},"maki-bus":{font:"fontmaki",code:59394,name:"bus",search:"bus"},"maki-cafe":{font:"fontmaki",code:59395,name:"cafe",search:"cafe"},"maki-camera":{font:"fontmaki",code:59396,name:"camera",search:"camera"},"maki-campsite":{font:"fontmaki",code:59397,name:"campsite",search:"campsite"},"maki-car":{font:"fontmaki",code:59398,name:"car",search:"car"},"maki-cemetery":{font:"fontmaki",code:59399,name:"cemetery",search:"cemetery"},"maki-chemist":{font:"fontmaki",code:59400,name:"chemist",search:"chemist"},"maki-cinema":{font:"fontmaki",code:59401,name:"cinema",search:"cinema"},"maki-circle":{font:"fontmaki",code:59402,name:"circle",search:"circle"},"maki-circle_stroked":{font:"fontmaki",code:59403,name:"circle_stroked",search:"circle_stroked"},"maki-city":{font:"fontmaki",code:59404,name:"city",search:"city"},"maki-clothing_store":{font:"fontmaki",code:59405,name:"clothing_store",search:"clothing_store"},"maki-college":{font:"fontmaki",code:59406,name:"college",search:"college"},"maki-commercial":{font:"fontmaki",code:59407,name:"commercial",search:"commercial"},"maki-cricket":{font:"fontmaki",code:59408,name:"cricket",search:"cricket"},"maki-cross":{font:"fontmaki",code:59409,name:"cross",search:"cross"},"maki-dam":{font:"fontmaki",code:59410,name:"dam",search:"dam"},"maki-danger":{font:"fontmaki",code:59411,name:"danger",search:"danger"},"maki-dentist":{font:"fontmaki",code:59412,name:"dentist",search:"dentist"},"maki-disability":{font:"fontmaki",code:59413,name:"disability",search:"disability"},"maki-dog_park":{font:"fontmaki",code:59414,name:"dog_park",search:"dog_park"},"maki-embassy":{font:"fontmaki",code:59415,name:"embassy",search:"embassy"},"maki-emergency_telephone":{font:"fontmaki",code:59416,name:"emergency_telephone",search:"emergency_telephone"},"maki-entrance":{font:"fontmaki",code:59417,name:"entrance",search:"entrance"},"maki-farm":{font:"fontmaki",code:59418,name:"farm",search:"farm"},"maki-fast_food":{font:"fontmaki",code:59419,name:"fast_food",search:"fast_food"},"maki-ferry":{font:"fontmaki",code:59420,name:"ferry",search:"ferry"},"maki-fire_station":{font:"fontmaki",code:59421,name:"fire_station",search:"fire_station"},"maki-fuel":{font:"fontmaki",code:59422,name:"fuel",search:"fuel"},"maki-garden":{font:"fontmaki",code:59423,name:"garden",search:"garden"},"maki-gift":{font:"fontmaki",code:59424,name:"gift",search:"gift"},"maki-golf":{font:"fontmaki",code:59425,name:"golf",search:"golf"},"maki-grocery":{font:"fontmaki",code:59426,name:"grocery",search:"grocery"},"maki-hairdresser":{font:"fontmaki",code:59427,name:"hairdresser",search:"hairdresser"},"maki-harbor":{font:"fontmaki",code:59428,name:"harbor",search:"harbor"},"maki-heart":{font:"fontmaki",code:59429,name:"heart",search:"heart"},"maki-heliport":{font:"fontmaki",code:59430,name:"heliport",search:"heliport"},"maki-hospital":{font:"fontmaki",code:59431,name:"hospital",search:"hospital"},"maki-ice_cream":{font:"fontmaki",code:59432,name:"ice_cream",search:"ice_cream"},"maki-industrial":{font:"fontmaki",code:59433,name:"industrial",search:"industrial"},"maki-land_use":{font:"fontmaki",code:59434,name:"land_use",search:"land_use"},"maki-laundry":{font:"fontmaki",code:59435,name:"laundry",search:"laundry"},"maki-library":{font:"fontmaki",code:59436,name:"library",search:"library"},"maki-lighthouse":{font:"fontmaki",code:59437,name:"lighthouse",search:"lighthouse"},"maki-lodging":{font:"fontmaki",code:59438,name:"lodging",search:"lodging"},"maki-logging":{font:"fontmaki",code:59439,name:"logging",search:"logging"},"maki-london_underground":{font:"fontmaki",code:59440,name:"london_underground",search:"london_underground"},"maki-marker":{font:"fontmaki",code:59441,name:"marker",search:"marker"},"maki-minefield":{font:"fontmaki",code:59442,name:"minefield",search:"minefield"},"maki-marker_stroked":{font:"fontmaki",code:59443,name:"marker_stroked",search:"marker_stroked"},"maki-mobilephone":{font:"fontmaki",code:59444,name:"mobilephone",search:"mobilephone"},"maki-monument":{font:"fontmaki",code:59445,name:"monument",search:"monument"},"maki-museum":{font:"fontmaki",code:59446,name:"museum",search:"museum"},"maki-music":{font:"fontmaki",code:59447,name:"music",search:"music"},"maki-oil_well":{font:"fontmaki",code:59448,name:"oil_well",search:"oil_well"},"maki-park":{font:"fontmaki",code:59449,name:"park",search:"park"},"maki-park2":{font:"fontmaki",code:59450,name:"park2",search:"park2"},"maki-parking":{font:"fontmaki",code:59451,name:"parking",search:"parking"},"maki-parking_garage":{font:"fontmaki",code:59452,name:"parking_garage",search:"parking_garage"},"maki-pharmacy":{font:"fontmaki",code:59453,name:"pharmacy",search:"pharmacy"},"maki-pitch":{font:"fontmaki",code:59454,name:"pitch",search:"pitch"},"maki-playground":{font:"fontmaki",code:59455,name:"playground",search:"playground"},"maki-police":{font:"fontmaki",code:59456,name:"police",search:"police"},"maki-polling_place":{font:"fontmaki",code:59457,name:"polling_place",search:"polling_place"},"maki-post":{font:"fontmaki",code:59458,name:"post",search:"post"},"maki-prison":{font:"fontmaki",code:59459,name:"prison",search:"prison"},"maki-rail":{font:"fontmaki",code:59460,name:"rail",search:"rail"},"maki-rail_above":{font:"fontmaki",code:59461,name:"rail_above",search:"rail_above"},"maki-rail_light":{font:"fontmaki",code:59462,name:"rail_light",search:"rail_light"},"maki-rail_metro":{font:"fontmaki",code:59463,name:"rail_metro",search:"rail_metro"},"maki-rail_underground":{font:"fontmaki",code:59464,name:"rail_underground",search:"rail_underground"},"maki-religious-christian":{font:"fontmaki",code:59465,theme:"religious",name:"christian",search:"religious,christian"},"maki-religious-jewish":{font:"fontmaki",code:59466,theme:"religious",name:"jewish",search:"religious,jewish"},"maki-religious-muslim":{font:"fontmaki",code:59467,theme:"religious",name:"muslim",search:"religious,muslim"},"maki-religious-place_of_worship":{font:"fontmaki",code:59468,theme:"religious",name:"place_of_worship",search:"religious,place_of_worship"},"maki-restaurant":{font:"fontmaki",code:59469,name:"restaurant",search:"restaurant"},"maki-roadblock":{font:"fontmaki",code:59470,name:"roadblock",search:"roadblock"},"maki-rocket":{font:"fontmaki",code:59471,name:"rocket",search:"rocket"},"maki-school":{font:"fontmaki",code:59472,name:"school",search:"school"},"maki-scooter":{font:"fontmaki",code:59473,name:"scooter",search:"scooter"},"maki-shop":{font:"fontmaki",code:59474,name:"shop",search:"shop"},"maki-skiing":{font:"fontmaki",code:59475,name:"skiing",search:"skiing"},"maki-slaughterhouse":{font:"fontmaki",code:59476,name:"slaughterhouse",search:"slaughterhouse"},"maki-soccer":{font:"fontmaki",code:59477,name:"soccer",search:"soccer"},"maki-square":{font:"fontmaki",code:59478,name:"square",search:"square"},"maki-square_stroked":{font:"fontmaki",code:59479,name:"square_stroked",search:"square_stroked"},"maki-star":{font:"fontmaki",code:59480,name:"star",search:"star"},"maki-star_stroked":{font:"fontmaki",code:59481,name:"star_stroked",search:"star_stroked"},"maki-suitcase":{font:"fontmaki",code:59482,name:"suitcase",search:"suitcase"},"maki-swimming":{font:"fontmaki",code:59483,name:"swimming",search:"swimming"},"maki-telephone":{font:"fontmaki",code:59484,name:"telephone",search:"telephone"},"maki-tennis":{font:"fontmaki",code:59485,name:"tennis",search:"tennis"},"maki-theatre":{font:"fontmaki",code:59486,name:"theatre",search:"theatre"},"maki-toilets":{font:"fontmaki",code:59487,name:"toilets",search:"toilets"},"maki-town":{font:"fontmaki",code:59488,name:"town",search:"town"},"maki-town_hall":{font:"fontmaki",code:59489,name:"town_hall",search:"town_hall"},"maki-triangle":{font:"fontmaki",code:59490,name:"triangle",search:"triangle"},"maki-triangle_stroked":{font:"fontmaki",code:59491,name:"triangle_stroked",search:"triangle_stroked"},"maki-village":{font:"fontmaki",code:59492,name:"village",search:"village"},"maki-warehouse":{font:"fontmaki",code:59493,name:"warehouse",search:"warehouse"},"maki-waste_basket":{font:"fontmaki",code:59494,name:"waste_basket",search:"waste_basket"},"maki-water":{font:"fontmaki",code:59495,name:"water",search:"water"},"maki-wetland":{font:"fontmaki",code:59496,name:"wetland",search:"wetland"},"maki-zoo":{font:"fontmaki",code:59497,name:"zoo",search:"zoo"},"maki-aerialway":{font:"fontmaki",code:59498,name:"aerialway",search:"aerialway"},"maki-airfield":{font:"fontmaki",code:59499,name:"airfield",search:"airfield"},"maki-airport":{font:"fontmaki",code:59500,name:"airport",search:"airport"},"maki-alcohol_shop":{font:"fontmaki",code:59501,name:"alcohol_shop",search:"alcohol_shop"},"maki-america_football":{font:"fontmaki",code:59502,name:"america_football",search:"america_football"},"maki-art_gallery":{font:"fontmaki",code:59503,name:"art_gallery",search:"art_gallery"},"maki-bakery":{font:"fontmaki",code:59504,name:"bakery",search:"bakery"},"maki-bank":{font:"fontmaki",code:59505,name:"bank",search:"bank"},"maki-bar":{font:"fontmaki",code:59506,name:"bar",search:"bar"},"maki-baseball":{font:"fontmaki",code:59507,name:"baseball",search:"baseball"},"maki-basketball":{font:"fontmaki",code:59508,name:"basketball",search:"basketball"},"maki-beer":{font:"fontmaki",code:59509,name:"beer",search:"beer"}});var ms=c(5083),ys=c(4119),As=c(8765);const vs=function(){function t(t){this.rbush_=new Sr(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,a.sq)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),o=0,r=e.length;o<r;o++){var i=t[o],s=e[o],l={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:s};n[o]=l,this.items_[(0,a.sq)(s)]=l}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,a.sq)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,a.sq)(e)],o=[n.minX,n.minY,n.maxX,n.maxY];(0,b.fS)(o,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,o=0,r=t.length;o<r;o++)if(n=e(t[o]))return n;return n},t.prototype.isEmpty=function(){return(0,Ot.xb)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,b.T9)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),_s="addfeature",bs="changefeature",Es="clear",xs="removefeature";function ws(t,e){return[[-1/0,-1/0,1/0,1/0]]}var Cs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ks=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.feature=n,r.features=o,r}return Cs(e,t),e}(qt.ZP),Ss=function(t){function e(e){var n=this,o=e||{};(n=t.call(this,{attributions:o.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===o.wrapX||o.wrapX})||this).on,n.once,n.un,n.loader_=po.Zn,n.format_=o.format,n.overlaps_=void 0===o.overlaps||o.overlaps,n.url_=o.url,void 0!==o.loader?n.loader_=o.loader:void 0!==n.url_&&((0,jt.h)(n.format_,7),n.loader_=Ya(n.url_,n.format_)),n.strategy_=void 0!==o.strategy?o.strategy:ws;var r,i,a=void 0===o.useSpatialIndex||o.useSpatialIndex;return n.featuresRtree_=a?new vs:null,n.loadedExtentsRtree_=new vs,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(o.features)?i=o.features:o.features&&(i=(r=o.features).getArray()),a||void 0!==r||(r=new ms.Z(i)),void 0!==i&&n.addFeaturesInternal(i),void 0!==r&&n.bindFeaturesCollection_(r),n}return Cs(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,a.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var o=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new ks(_s,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,E.oL)(e,r.Z.CHANGE,this.handleFeatureChange_,this),(0,E.oL)(e,As.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,o=e.getId();return void 0!==o&&(o.toString()in this.idIndex_?n=!1:this.idIndex_[o.toString()]=e),n&&((0,jt.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],o=[],r=0,i=t.length;r<i;r++){var s=t[r],l=(0,a.sq)(s);this.addToIndex_(l,s)&&n.push(s)}r=0;for(var c=n.length;r<c;r++){s=n[r],l=(0,a.sq)(s),this.setupChangeEvents_(l,s);var u=s.getGeometry();if(u){var h=u.getExtent();e.push(h),o.push(s)}else this.nullGeometryFeatures_[l]=s}if(this.featuresRtree_&&this.featuresRtree_.load(e,o),this.hasListener(_s)){r=0;for(var f=n.length;r<f;r++)this.dispatchEvent(new ks(_s,n[r]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(_s,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(xs,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(ys.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(ys.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(E.bN);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var o in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[o])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new ks(Es);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var o=e(n);if(o)return o}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,Ot.xb)(this.nullGeometryFeatures_)||(0,le.l7)(t,(0,Ot.KX)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var n=this;if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var o=(0,b.MV)(t,e);return[].concat.apply([],o.map((function(t){return n.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],o=t[1],r=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||po.uX;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,o,i,a))<c){r=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=o-u,s[2]=n+u,s[3]=o+u}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,a.sq)(e),o=e.getGeometry();if(o){var r=o.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var i=e.getId();if(void 0!==i){var s=i.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new ks(bs,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,a.sq)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,Ot.xb)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,n){for(var o=this.loadedExtentsRtree_,r=this.strategy_(t,e,n),i=function(t,i){var s=r[t];o.forEachInExtent(s,(function(t){return(0,b.r4)(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new ks("featuresloadstart")),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new ks("featuresloadend",void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new ks("featuresloaderror"))}.bind(a)),o.insert(s,{extent:s.slice()}))},a=this,s=0,l=r.length;s<l;++s)i(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if((0,b.fS)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=(0,a.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=(0,a.sq)(t),n=this.featureChangeKeys_[e];if(n){n.forEach(E.bN),delete this.featureChangeKeys_[e];var o=t.getId();return void 0!==o&&delete this.idIndex_[o.toString()],delete this.uidIndex_[e],this.dispatchEvent(new ks(xs,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,jt.h)(this.format_,7),this.url_=t,this.setLoader(Ya(t,this.format_))},e}(Ht);const Bs=Ss;var Ts=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Os=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.minDistance=e.minDistance||0,n.interpolationRatio=0,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,jt.h)("Point"==e.getType(),10),e},n.createCustomCluster_=e.createCluster,n.source=null,n.boundRefresh_=n.refresh.bind(n),n.updateDistance(n.distance,n.minDistance),n.setSource(e.source||null),n}return Ts(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(r.Z.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(r.Z.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var n=0===t?0:Math.min(e,t)/t,o=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,o&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=(0,b.lJ)(),e=this.distance*this.resolution,n=this.source.getFeatures(),o={},r=0,i=n.length;r<i;r++){var s=n[r];if(!((0,a.sq)(s)in o)){var l=this.geometryFunction(s);if(l){var c=l.getCoordinates();(0,b.HK)(c,t),(0,b.f3)(t,e,t);var u=this.source.getFeaturesInExtent(t).filter((function(t){var e=(0,a.sq)(t);return!(e in o)&&(o[e]=!0,!0)}));this.features.push(this.createCluster(u,t))}}}},e.prototype.createCluster=function(t,e){for(var n=[0,0],o=t.length-1;o>=0;--o){var r=this.geometryFunction(t[o]);r?Y(n,r.getCoordinates()):t.splice(o,1)}$(n,1/t.length);var i=(0,b.qg)(e),a=this.interpolationRatio,s=new Ko([n[0]*(1-a)+i[0]*a,n[1]*(1-a)+i[1]*a]);return this.createCustomCluster_?this.createCustomCluster_(s,t):new oo({geometry:s,features:t})},e}(Bs);const Ps=Os;var Rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Is=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,b.lJ)(),n.wrappedRenderedExtent_=(0,b.lJ)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return Rs(e,t),e.prototype.renderWorlds=function(t,e,n){var o=e.extent,r=e.viewState,i=r.center,a=r.resolution,s=r.projection,l=r.rotation,c=s.getExtent(),u=this.getLayer().getSource(),h=e.pixelRatio,f=e.viewHints,p=!(f[0]||f[1]),d=this.compositionContext_,g=Math.round(e.size[0]*h),m=Math.round(e.size[1]*h),y=u.getWrapX()&&s.canWrapX(),A=y?(0,b.dz)(c):null,v=y?Math.ceil((o[2]-c[2])/A)+1:1,_=y?Math.floor((o[0]-c[0])/A):0;do{var E=this.getRenderTransform(i,a,l,h,g,m,_*A);t.execute(d,1,E,l,p,void 0,n)}while(++_<v)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=(0,y.E4)(this.context.canvas.width,this.context.canvas.height,_n);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,(0,y.jy)(this.compositionContext_),_n.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];!function(t,e,n){rn(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),un(this.inversePixelTransform,this.pixelTransform);var r=hn(this.pixelTransform);this.useContainer(e,r,this.getBackground(t));var i=this.context,a=i.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var c=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);a.width!=c||a.height!=u?(a.width=c,a.height=u,a.style.transform!==r&&(a.style.transform=r)):this.containerReused||i.clearRect(0,0,c,u),this.preRender(i,t);var h=t.viewState;h.projection;this.opacity_=o.opacity,this.setupCompositionContext_();var f=!1,p=!0;if(o.extent&&this.clipping){var d=wt(o.extent);(f=(p=(0,b.kK)(d,t.extent))&&!(0,b.r4)(d,t.extent))&&this.clipUnrotated(this.compositionContext_,t,d)}return p&&this.renderWorlds(s,t),f&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(i,t),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];an(this.pixelTransform,n);var o=this.renderedCenter_,r=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),c=[],u=n[0]*Ca,h=n[1]*Ca;c.push(this.getRenderTransform(o,r,i,Ca,u,h,0).slice());var f=l.getSource(),p=a.getExtent();if(f.getWrapX()&&a.canWrapX()&&!(0,b.r4)(p,s)){for(var d=s[0],g=(0,b.dz)(p),m=0,y=void 0;d<p[0];)y=g*--m,c.push(this.getRenderTransform(o,r,i,Ca,u,h,y).slice()),d+=g;for(m=0,d=s[2];d>p[2];)y=g*++m,c.push(this.getRenderTransform(o,r,i,Ca,u,h,y).slice()),d-=g}this.hitDetectionImageData_=ka(n,c,this.renderedFeatures_,l.getStyleFunction(),s,r,i)}e(Sa(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){var i=this;if(this.replayGroup_){var s,l=e.viewState.resolution,c=e.viewState.rotation,u=this.getLayer(),h={},f=function(t,e,n){var i=(0,a.sq)(t),s=h[i];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return h[i]=!0,r.splice(r.lastIndexOf(s),1),o(t,u,e);s.geometry=e,s.distanceSq=n}}else{if(0===n)return h[i]=!0,o(t,u,e);r.push(h[i]={feature:t,layer:u,geometry:e,distanceSq:n,callback:o})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(o){return s=o.forEachFeatureAtCoordinate(t,l,c,n,f,o===i.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),s}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var o=t.viewHints[0],r=t.viewHints[1],i=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(this.ready&&!i&&o||!a&&r)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,c=l.projection,u=l.resolution,h=t.pixelRatio,f=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Ta);var g=l.center.slice(),m=(0,b.f3)(s,p*u),y=m.slice(),A=[m.slice()],v=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!(0,b.r4)(v,t.extent)){var _=(0,b.dz)(v),E=Math.max((0,b.dz)(m)/2,_);m[0]=v[0]-E,m[2]=v[2]+E,J(g,c);var x=(0,b.Cf)(A[0],c);x[0]<v[0]&&x[2]<v[2]?A.push([x[0]+_,x[1],x[2]+_,x[3]]):x[0]>v[0]&&x[2]>v[2]&&A.push([x[0]-_,x[1],x[2]-_,x[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==f&&this.renderedRenderOrder_==d&&(0,b.r4)(this.wrappedRenderedExtent_,m))return(0,le.fS)(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var w,C=new Zi(Pa(u,h),m,u,h);this.getLayer().getDeclutter()&&(w=new Zi(Pa(u,h),m,u,h));var k,S=_t();if(S){for(var B=0,T=A.length;B<T;++B){var O=xt(A[B]);n.loadFeatures(O,Ct(u),S)}k=pt(S,c)}else for(B=0,T=A.length;B<T;++B)n.loadFeatures(A[B],u,c);var P=Oa(u,h),R=!0,I=function(t){var n,o=t.getStyleFunction()||e.getStyleFunction();if(o&&(n=o(t,u)),n){var r=this.renderFeature(t,P,n,C,k,w);R=R&&!r}}.bind(this),D=xt(m),F=n.getFeaturesInExtent(D);for(d&&F.sort(d),B=0,T=F.length;B<T;++B)I(F[B]);this.renderedFeatures_=F,this.ready=R;var L=C.finish(),M=new ia(m,u,h,n.getOverlaps(),L,e.getRenderBuffer());return w&&(this.declutterExecutorGroup=new ia(m,u,h,n.getOverlaps(),w.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=f,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.wrappedRenderedExtent_=m,this.renderedCenter_=g,this.renderedProjection_=c,this.replayGroup_=M,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,o,r,i){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=Ra(o,t,n[s],e,this.boundHandleStyleImageChange_,r,i)||a;else a=Ra(o,t,n,e,this.boundHandleStyleImageChange_,r,i);return a},e}(xn);const Ds=Is;var Fs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Ls=function(t){function e(e){return t.call(this,e)||this}return Fs(e,t),e.prototype.createRenderer=function(){return new Ds(this)},e}(vi);var Ms=c(5598),js=c(3198),Ns=c.n(js);function zs(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Gs(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){zs(i,o,r,a,s,"next",t)}function s(t){zs(i,o,r,a,s,"throw",t)}a(void 0)}))}}function Qs(t,e){if(Array.isArray(e)){const n=e[0];if(n.latitude&&n.longitude&&(n.key||n.keys))return function(t,e){let n=0;const o=new Map;for(const t of e){const e={coords:[t.longitude,t.latitude]};if(t.name&&(o.set(t.name,e),o.set(t.name.toUpperCase(),e),e.props={name:t.name}),t.key&&(o.set(t.key,e),o.set(t.key.toUpperCase(),e)),t.keys)for(const n of t.keys)o.set(n,e),o.set(n.toUpperCase(),e);n++}return{path:t,find:t=>{let e=o.get(t);return e||(e=o.get(t.toUpperCase())),e},count:n,examples:t=>{const e=[];if(o.size<1)e.push("no values found");else for(const n of o.keys())if(e.push(n),e.length>=t)break;return e}}}(t,e)}return{path:t,error:"Unable to parse locations",find:t=>{},examples:t=>[]}}const Zs={},Vs="public/gazetteer/countries.json";function Ws(t){return qs.apply(this,arguments)}function qs(){return(qs=Gs((function*(t){t||(t=Vs);let e=Zs[t];if(!e){try{e=Qs(t,yield(0,Nn.getBackendSrv)().get(t))}catch(n){console.warn("Error loading placename lookup",t,n),e={path:t,error:"Error loading URL",find:t=>{},examples:t=>[]}}Zs[t]=e}return e}))).apply(this,arguments)}function Us(t){if(!(null==t?void 0:t.length))return;const e=[16,8,4,2,1];let n=!0;const o=[],r=[];let i;o[0]=-90,o[1]=90,r[0]=-180,r[1]=180,t.split("").forEach((t=>{i="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(t),e.forEach((t=>{(function(t,e,n){e&n?t[0]=(t[0]+t[1])/2:t[1]=(t[0]+t[1])/2})(n?r:o,i,t),n=!n}))}));const a=(o[0]+o[1])/2;return[(r[0]+r[1])/2,a]}var Xs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Ys(t){for(var e=[],n=0,o=t.length;n<o;++n)e.push(t[n].clone());return e}const Ks=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return Xs(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(E.bN),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,E.oL)(this.geometries_[t],r.Z.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,o){if(o<(0,b.qf)(this.getExtent(),t,e))return o;for(var r=this.geometries_,i=0,a=r.length;i<a;++i)o=r[i].closestPointXY(t,e,n,o);return o},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,o=0,r=n.length;o<r;++o)if(n[o].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,b.YN)(t);for(var e=this.geometries_,n=0,o=e.length;n<o;++n)(0,b.l7)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Ys(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,o=e.length;n<o;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],o=this.geometries_,r=!1,i=0,a=o.length;i<a;++i){var s=o[i],l=s.getSimplifiedGeometry(t);n.push(l),l!==s&&(r=!0)}if(r){var c=new e(null);return c.setGeometriesArray(n),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,o=e.length;n<o;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,o=0,r=n.length;o<r;++o)n[o].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var o=n;o||(o=(0,b.qg)(this.getExtent()));for(var r=this.geometries_,i=0,a=r.length;i<a;++i)r[i].scale(t,e,o);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Ys(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,o=e.length;n<o;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,o=0,r=n.length;o<r;++o)n[o].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(_o);var Hs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),$s=function(t){function e(e){var n=this,o=e||{};return(n=t.call(this)||this).dataProjection=at(o.dataProjection?o.dataProjection:"EPSG:4326"),o.featureProjection&&(n.defaultFeatureProjection=at(o.featureProjection)),n.geometryName_=o.geometryName,n.extractGeometryName_=o.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return Hs(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,o=Js((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),r=new oo;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n.geometry_name),r.setGeometry(o),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties,!0),r},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var o=t.features,r=0,i=o.length;r<i;++r)n.push(this.readFeatureFromObject(o[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return Js(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=at(n.properties.name):"EPSG"===n.type?e=at("EPSG:"+n.properties.code):(0,jt.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},o=t.getId();if(void 0!==o&&(n.id=o),!t.hasProperties())return n;var r=t.getProperties(),i=t.getGeometry();return i&&(n.geometry=tl(i,e),delete r[t.getGeometryName()]),(0,Ot.xb)(r)||(n.properties=r),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],o=0,r=t.length;o<r;++o)n.push(this.writeFeatureObject(t[o],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return tl(t,this.adaptOptions(e))},e}(co);function Js(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new Ko(t.coordinates)}(t);break;case"LineString":n=function(t){return new Vo(t.coordinates)}(t);break;case"Polygon":n=function(t){return new pr(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new Jo(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new Uo(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new yr(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map((function(t){return Js(t,undefined)}));return new Ks(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return ao(n,!1,e)}function tl(t,e){var n,o=(t=ao(t,!0,e)).getType();switch(o){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=(0,Ot.f0)({},e);return delete n.featureProjection,tl(t,n)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+o)}return n}const el=$s;function nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rl;!function(t){t.Geojson="geojson",t.Auto="auto",t.Geohash="geohash",t.Coords="coords",t.Lookup="lookup"}(rl||(rl={}));const il=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){nl(t,e,n[e])}))}return t}({},rl);function al(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function sl(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){al(i,o,r,a,s,"next",t)}function s(t){al(i,o,r,a,s,"throw",t)}a(void 0)}))}}function ll(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){ll(t,e,n[e])}))}return t}function ul(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function hl(t){return e=>{for(const n of e.fields)if(t(n,e,[]))return n}}function fl(e){return n=>{for(const o of n.fields){if(e.has(o.name.toLowerCase()))return o;const r=(0,t.getFieldDisplayName)(o,n);if(e.has(r))return o}}}const pl={mode:il.Auto,geojson:fl(new Set(["location","geojson"])),geohash:fl(new Set(["geohash"])),latitude:fl(new Set(["latitude","lat"])),longitude:fl(new Set(["longitude","lon","lng"])),h3:fl(new Set(["h3"])),wkt:fl(new Set(["wkt"])),lookup:fl(new Set(["lookup"]))};function dl(t){return gl.apply(this,arguments)}function gl(){return(gl=sl((function*(e){var n;const o=ul(cl({},pl),{mode:null!==(n=null==e?void 0:e.mode)&&void 0!==n?n:il.Auto});switch(o.mode){case il.Geohash:(null==e?void 0:e.geohash)&&(o.geohash=hl((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:e.geohash})));break;case il.Lookup:(null==e?void 0:e.lookup)&&(o.lookup=hl((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:e.lookup}))),o.gazetteer=yield Ws(null==e?void 0:e.gazetteer);break;case il.Coords:(null==e?void 0:e.latitude)&&(o.latitude=hl((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:e.latitude}))),(null==e?void 0:e.longitude)&&(o.longitude=hl((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:e.longitude})));break;case il.Geojson:(null==e?void 0:e.geojson)&&(o.geojson=hl((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:e.geojson})))}return o}))).apply(this,arguments)}function ml(t,e){const n={points:[]};if(!(null==t?void 0:t.length))return n;const o=function(t,e){var n;const o={mode:null!==(n=e.mode)&&void 0!==n?n:il.Auto};if(o.mode===il.Auto){if(o.geojson=e.geojson(t),o.geojson)return o.mode=il.Geojson,o;if(o.latitude=e.latitude(t),o.longitude=e.longitude(t),o.latitude&&o.longitude)return o.mode=il.Coords,o;if(o.geohash=e.geohash(t),o.geohash)return o.mode=il.Geohash,o;if(o.lookup=e.geohash(t),o.lookup)return o.mode=il.Lookup,o}switch(o.mode){case il.Geojson:o.geojson=e.geojson(t);break;case il.Coords:o.latitude=e.latitude(t),o.longitude=e.longitude(t);break;case il.Geohash:o.geohash=e.geohash(t);break;case il.Lookup:o.lookup=e.lookup(t)}return o}(t,e);switch(o.mode){case il.Geojson:o.geojson?n.points=function(t){const e=t.values.length,n=new Array(e);for(let e=0;e<t.values.length;e++)n[e]=t.values.get(e)?(new el).readGeometry(t.values.get(e),{featureProjection:"EPSG:3857"}):new _o;return n}(o.geojson):n.warning="Missing latitude/longitude fields";break;case il.Coords:o.latitude&&o.longitude?n.points=function(t,e){const n=e.values.length,o=new Array(n);for(let r=0;r<n;r++)o[r]=new Ko(ut([t.values.get(r),e.values.get(r)]));return o}(o.longitude,o.latitude):n.warning="Missing latitude/longitude fields";break;case il.Geohash:o.geohash?n.points=function(t){const e=t.values.length,n=new Array(e);for(let o=0;o<e;o++){const e=Us(t.values.get(o));e&&(n[o]=new Ko(ut(e)))}return n}(o.geohash):n.warning="Missing geohash field";break;case il.Lookup:o.lookup?e.gazetteer?n.points=function(t,e){const n=e.values.length,o=new Array(n);for(let r=0;r<n;r++){const n=t.find(e.values.get(r));(null==n?void 0:n.coords)&&(o[r]=new Ko(ut(n.coords)))}return o}(e.gazetteer,o.lookup):n.warning="Gazetteer not found":n.warning="Missing lookup field";break;case il.Auto:n.warning="Unable to find location fields"}return n}var yl,Al,vl,_l,bl,El,xl,wl,Cl,kl;!function(t){t.Linear="linear",t.Quadratic="quad"}(yl||(yl={})),(bl=Al||(Al={})).Mod="mod",bl.Clamped="clamped",(_l=vl||(vl={})).Fixed="fixed",_l.Field="field",_l.Template="template",Object.freeze({fixed:"",mode:vl.Field,field:""}),function(t){t.Fixed="fixed",t.Field="field",t.Mapping="mapping"}(El||(El={})),function(t){t.Icon="img/icons/unicons",t.IOT="img/icons/iot",t.Marker="img/icons/marker",t.BG="img/bg"}(xl||(xl={})),function(t){t.Icon="icon",t.Image="image"}(wl||(wl={})),function(t){t.Folder="folder",t.URL="url",t.Upload="upload"}(Cl||(Cl={})),function(t){t.SMALL="small",t.NORMAL="normal"}(kl||(kl={}));var Sl=c(5980),Bl=c.n(Sl);function Tl(e,n){if(e&&(null==n?void 0:n.length))for(const o of e.fields){if(n===o.name)return o;if(n===(0,t.getFieldDisplayName)(o,e))return o}}function Ol(e){var n;const o=null===(n=e.state)||void 0===n?void 0:n.calcs;if(o){const e=o[t.ReducerID.lastNotNull];if(null!=e)return e}const r=e.values;let i=r.length-1;for(;i>=0;){const t=r.get(i--);if(null!=t)return t}}function Pl(e,n,o){return function(e,n,o){var r;if(!e){var i,a;const t=o.visualization.getColorByName(null!==(a=n.fixed)&&void 0!==a?a:"grey");return{isAssumed:Boolean(null===(i=n.field)||void 0===i?void 0:i.length)||!n.fixed,fixed:t,value:()=>t,get:e=>t}}const s=(0,t.getFieldColorModeForField)(e);if(s.isByValue||(null===(r=e.config.mappings)||void 0===r?void 0:r.length)){const n=(0,t.getDisplayProcessor)({field:e,theme:o}),r=t=>{var e;return null!==(e=n(t).color)&&void 0!==e?e:"#ccc"};return{field:e,get:t=>r(e.values.get(t)),value:()=>r(Ol(e))}}const l=s.getCalculator(e,o)(0,0);return{fixed:l,value:()=>l,get:t=>l,field:e}}(Tl(e,n.field),n,o)}function Rl(e,n){return function(e,n,o){if(!e){var r,i;const t=null!==(i=n.fixed)&&void 0!==i?i:0;return{isAssumed:Boolean(null===(r=n.field)||void 0===r?void 0:r.length)||!n.fixed,fixed:t,value:()=>t,get:()=>t}}const a=function(e){if(e.type!==t.FieldType.number)return{min:0,max:100,delta:100};let n=e.config.min,o=e.config.max;if(!(0,Sl.isNumber)(n)||!(0,Sl.isNumber)(o))if(e.values&&e.values.length){const r=(0,t.reduceField)({field:e,reducers:[t.ReducerID.min,t.ReducerID.max]});(0,Sl.isNumber)(n)||(n=r[t.ReducerID.min]),(0,Sl.isNumber)(o)||(o=r[t.ReducerID.max])}else n=0,o=100;return{min:n,max:o,delta:o-n}}(e),s=n.max-n.min;if(e.values.length<1||s<=0||a.delta<=0)return{fixed:n.min,value:()=>n.min,get:()=>n.min};let l=t=>n.min+t*s;if(void 0===yl.Quadratic){const t=Math.PI*Math.pow(n.max/2,2),e=Math.PI*Math.pow(n.min/2,2),o=t-e;l=t=>{let n=e+o*t;return 2*Math.sqrt(n/Math.PI)}}const c=t=>{const n=e.values.get(t);let o=0;return n!==-1/0&&(o=(n-a.min)/a.delta),o>1?o=1:o<0&&(o=0),l(o)};return{get:c,value:()=>c(Ol(e)),field:e}}(Tl(e,null==n?void 0:n.field),n)}function Il(t){return t||(t={min:0,max:1}),null==t.min&&(t.min=0),null==t.max&&(t.max=1),t}var Dl=c(7644);function Fl(n,o){return(0,e.useMemo)((()=>function(e,n){const o={display:new Set,raw:new Set,fields:new Map};for(const r of e)for(const i of r.fields){if(n&&!n(i))continue;const a=(0,t.getFieldDisplayName)(i,r,e);o.display.add(a),o.fields.set(a,i),i.name&&a!==i.name&&(o.raw.add(i.name),o.fields.set(i.name,i))}return o}(n,o)),[n,o])}function Ll(t,n,r,i){return(0,e.useMemo)((()=>{let e=!1;const a=[];r&&a.push(r);for(const r of t.display){e||r!==n||(e=!0);const s=t.fields.get(r);i&&i!==(null==s?void 0:s.type)||a.push({value:r,label:r,icon:s?(0,o.getFieldTypeIcon)(s):void 0})}for(const o of t.raw)t.display.has(o)||(e||o!==n||(e=!0),a.push({value:o,label:`${o} (base field name)`}));return n&&!e&&a.push({value:n,label:`${n} (not found)`}),a}),[t,n,r,i])}function Ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class jl extends e.PureComponent{componentDidMount(){this.setState({text:isNaN(this.props.value)?"":`${this.props.value}`})}componentDidUpdate(t){if(this.props.value!==t.value){const t=isNaN(this.props.value)?"":`${this.props.value}`;t!==this.state.text&&this.setState({text:t})}}renderInput(){return n().createElement(o.Input,{type:"number",ref:this.inputRef,min:this.props.min,max:this.props.max,step:this.props.step,autoFocus:this.props.autoFocus,value:this.state.text,onChange:this.onChange,onBlur:this.updateValue,onKeyPress:this.onKeyPress,placeholder:this.props.placeholder})}render(){const{inputCorrected:t}=this.state;if(t){let e="",{min:r,max:i}=this.props;return null==i?null!=r&&(e=`< ${r}`):e=null!=r?`${r} < > ${i}`:`> ${i}`,n().createElement(o.Field,{invalid:t,error:`Out of range ${e}`,validationMessageHorizontalOverflow:!0,style:{direction:"rtl"}},this.renderInput())}return this.renderInput()}constructor(...t){super(...t),Ml(this,"state",{text:"",inputCorrected:!1}),Ml(this,"inputRef",n().createRef()),Ml(this,"updateValue",(()=>{var t;let e;const n=null===(t=this.inputRef.current)||void 0===t?void 0:t.value;(null==n?void 0:n.length)&&(e=+n,isNaN(e))||(e!==this.props.value&&this.props.onChange(e),this.state.inputCorrected&&this.setState({inputCorrected:!1}))})),Ml(this,"updateValueDebounced",(0,Sl.debounce)(this.updateValue,500)),Ml(this,"onChange",(t=>{let e,n=!1;const o=this.props.min,r=this.props.max,i=t.currentTarget.valueAsNumber;Number.isNaN(i)||(null!=o&&i<o?(e=o.toString(),n=!0):null!=r&&i>r?(e=r.toString(),n=!0):e=t.currentTarget.value),this.setState({text:e||"",inputCorrected:n}),this.updateValueDebounced()})),Ml(this,"onKeyPress",(t=>{"Enter"===t.key&&this.updateValue()}))}}function Nl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zl(){return zl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},zl.apply(this,arguments)}function Gl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Nl(t,e,n[e])}))}return t}function Ql(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const Zl={label:"Fixed value",value:"_____fixed_____"},Vl=t=>{const{value:r,context:i,onChange:a,item:s}=t,{settings:l}=s,c=(0,o.useStyles2)(Wl),u=null==r?void 0:r.field,h=Boolean(!u),f=Ll(Fl(i.data),u,Zl),p=(0,e.useMemo)((()=>Il(l)),[l]),d=(0,e.useCallback)((t=>{a(function(t,e){let{min:n,max:o}=Il(e);if(t||(t={}),null==t.max&&(t.max=o),null==t.min&&(t.min=n),t.min>t.max){const e=t.max;t.max=t.min,t.min=e}return t.min<n&&(t.min=n),t.max>o&&(t.max=o),null==t.fixed&&(t.fixed=t.min+(t.max-t.min)/2),t.field||(t.fixed>o?t.fixed=o:t.fixed<n&&(t.fixed=n)),t}(t,p))}),[a,p]),g=(0,e.useCallback)((t=>{const e=t.value;d(Ql(Gl({},r),e&&e!==Zl.value?{field:e}:{field:void 0}))}),[d,r]),m=(0,e.useCallback)((t=>{void 0!==t&&d(Ql(Gl({},r),{min:t}))}),[d,r]),y=(0,e.useCallback)((t=>{void 0!==t&&d(Ql(Gl({},r),{max:t}))}),[d,r]),A=(0,e.useCallback)((t=>{void 0!==t&&d(Ql(Gl({},r),{fixed:t}))}),[d,r]),v=null!=r?r:{},_=h?Zl:f.find((t=>t.value===u));return n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement(o.Select,{value:_,options:f,onChange:g,noOptionsMessage:"No fields found"})),n().createElement("div",{className:c.range},h&&n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Value",labelWidth:8,grow:!0},n().createElement(jl,zl({value:v.fixed},p,{onChange:A})))),!h&&!p.hideRange&&n().createElement(n().Fragment,null,n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Min",labelWidth:8,grow:!0},n().createElement(jl,zl({value:v.min},p,{onChange:m})))),n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Max",labelWidth:8,grow:!0},n().createElement(jl,zl({value:v.max},p,{onChange:y})))))))},Wl=t=>({range:Dl.css`
    padding-top: 8px;
  `});function ql(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ul(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){ql(t,e,n[e])}))}return t}function Xl(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const Yl={label:"Fixed color",value:"_____fixed_____"},Kl=t=>{const{value:r,context:i,onChange:a}=t,s="dark-green",l=(0,o.useStyles2)(Hl),c=null==r?void 0:r.field,u=Boolean(!c),h=Ll(Fl(i.data),c,Yl),f=(0,e.useCallback)((t=>{const e=t.value;if(e&&e!==Yl.value)a(Xl(Ul({},r),{field:e}));else{var n;const t=null!==(n=null==r?void 0:r.fixed)&&void 0!==n?n:s;a(Xl(Ul({},r),{field:void 0,fixed:t}))}}),[a,r]),p=(0,e.useCallback)((t=>{a({field:void 0,fixed:null!=t?t:s})}),[a]),d=u?Yl:h.find((t=>t.value===c));var g;return n().createElement(n().Fragment,null,n().createElement("div",{className:l.container},n().createElement(o.Select,{value:d,options:h,onChange:f,noOptionsMessage:"No fields found"}),u&&n().createElement("div",{className:l.picker},n().createElement(o.ColorPicker,{color:null!==(g=null==r?void 0:r.fixed)&&void 0!==g?g:s,onChange:p,enableNamedColors:!0}))))},Hl=t=>({container:Dl.css`
    display: flex;
    flex-wrap: nowrap;
    justify-content: flex-end;
    align-items: center;
  `,picker:Dl.css`
    padding-left: 8px;
  `});function $l(){return $l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},$l.apply(this,arguments)}Al.Mod,Al.Clamped;class Jl extends e.Component{componentDidMount(){this.sub=this.props.watch.subscribe({next:t=>{this.setState({subProps:t})},complete:()=>{},error:t=>{}})}componentWillUnmount(){this.sub&&this.sub.unsubscribe()}render(){const{subProps:t}=this.state;return n().createElement(this.props.child,$l({},t))}constructor(t){super(t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t.sub=n}(this,"sub",void 0),this.state={subProps:t.initialSubProps}}}function tc(e){var r,i;const{color:a,name:s,unit:l}=e,c=(0,o.useTheme2)();if(!a||!a.field&&a.fixed)return n().createElement(n().Fragment,null);const u=ec(c),h=e=>`${(0,t.formattedValueToString)(a.field.display(e))}`,f=(0,t.getFieldColorModeForField)(a.field);if(f.isContinuous&&f.getColors){var p;const e=f.getColors(Nn.config.theme2),r=(0,t.reduceField)({field:a.field,reducers:[t.ReducerID.min,t.ReducerID.max,t.ReducerID.mean]});return n().createElement(n().Fragment,null,n().createElement(o.Label,null,null==a||null===(p=a.field)||void 0===p?void 0:p.name),n().createElement("div",{className:u.gradientContainer,style:{backgroundImage:`linear-gradient(to right, ${e.map((t=>t)).join(", ")}`}},n().createElement("div",{style:{color:c.colors.getContrastText(e[0])}},h(r.min)),n().createElement("div",{style:{color:c.colors.getContrastText(e[e.length-1])}},h(r.max))))}const d=null===(r=a.field)||void 0===r||null===(i=r.config)||void 0===i?void 0:i.thresholds;if(!d||d.steps.length<2)return n().createElement("div",null);const g=function(e,n,o){const r=[],i=e.thresholds;if(!i||!i.steps.length)return r;const a=i.steps;var s;const l=(0,t.getValueFormat)(i.mode===t.ThresholdsMode.Percentage?"percent":null!==(s=e.unit)&&void 0!==s?s:""),c=e=>(0,t.formattedValueToString)(l(e));for(let t=1;t<=a.length;t++){const e=a[t-1],i=1===t?"0"+o:c(a[t-1].value)+o,s=t===a.length?"+":"-"+c(a[t].value)+o;r.push({label:`${i}${s}`,color:n.visualization.getColorByName(e.color),yAxis:1})}return r}(a.field.config,Nn.config.theme2,l);return n().createElement("div",{className:u.infoWrap},n().createElement(o.Label,null,s),n().createElement("div",{className:u.legend},g.map(((t,e)=>n().createElement("div",{key:`${e}/${t.label}`,className:u.legendItem},n().createElement("i",{style:{background:t.color}}),t.label)))))}const ec=(0,o.stylesFactory)((t=>({infoWrap:Dl.css`
    background: ${t.colors.background.secondary};
    border-radius: 2px;
    padding: ${t.spacing(1)};
  `,legend:Dl.css`
    line-height: 18px;
    display: flex;
    flex-direction: column;
    font-size: ${t.typography.bodySmall.fontSize};

    i {
      width: 18px;
      height: 18px;
      float: left;
      margin-right: 8px;
      opacity: 0.7;
    }
  `,legendItem:Dl.css`
    white-space: nowrap;
  `,gradientContainer:Dl.css`
    min-width: 200px;
    display: flex;
    justify-content: space-between;
    font-size: ${t.typography.bodySmall.fontSize};
    padding: ${t.spacing(0,.5)};
  `}))),nc={id:"circle",name:"Circle",hasFill:!0,make:(t,e,n)=>new gi({image:new ai({stroke:new ui({color:t}),fill:new li({color:e}),radius:n})})},oc=new t.Registry((()=>[nc,{id:"square",name:"Square",hasFill:!0,make:(t,e,n)=>new gi({image:new oi({fill:new li({color:e}),stroke:new ui({color:t,width:1}),points:4,radius:n,angle:Math.PI/4})})},{id:"triangle",name:"Triangle",hasFill:!0,make:(t,e,n)=>new gi({image:new oi({fill:new li({color:e}),stroke:new ui({color:t,width:1}),points:3,radius:n,rotation:Math.PI/4,angle:0})})},{id:"star",name:"Star",hasFill:!0,make:(t,e,n)=>new gi({image:new oi({fill:new li({color:e}),stroke:new ui({color:t,width:1}),points:5,radius:n,radius2:.4*n,angle:0})})},{id:"cross",name:"Cross",hasFill:!1,make:(t,e,n)=>new gi({image:new oi({fill:new li({color:e}),stroke:new ui({color:t,width:1}),points:4,radius:n,radius2:0,angle:0})})},{id:"x",name:"X",hasFill:!1,make:(t,e,n)=>new gi({image:new oi({fill:new li({color:e}),stroke:new ui({color:t,width:1}),points:4,radius:n,radius2:0,angle:Math.PI/4})})}]));var rc=c(1177),ic=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=ue(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new li({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=ue(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();const ac=ic;var sc=c(1892),lc=c.n(sc),cc=c(5760),uc=c.n(cc),hc=c(8311),fc=c.n(hc),pc=c(8192),dc=c.n(pc),gc=c(8060),mc=c.n(gc),yc=c(4865),Ac=c.n(yc),vc=c(6320),_c={};_c.styleTagTransform=Ac(),_c.setAttributes=dc(),_c.insert=fc().bind(null,"head"),_c.domAPI=uc(),_c.insertStyleElement=mc(),lc()(vc.Z,_c),vc.Z&&vc.Z.locals&&vc.Z.locals;var bc=c(374),Ec={};function xc(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function wc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Ec.styleTagTransform=Ac(),Ec.setAttributes=dc(),Ec.insert=fc().bind(null,"head"),Ec.domAPI=uc(),Ec.insertStyleElement=mc(),lc()(bc.Z,Ec),bc.Z&&bc.Z.locals&&bc.Z.locals;const Cc={size:{fixed:5,min:2,max:15},color:{fixed:"dark-green"},geoJsonStrokeSize:{fixed:5,min:1,max:10},fillOpacity:.4,shape:"circle",showLegend:!0,showPin:!1,enableGradient:!1,enableShadow:!1,pinShape:"marker",iconSize:9,cluster:!1,clusterDistance:20,clusterMinDistance:0,clusterValue:"size",legendName:"Legend",legendUnit:"m"},kc="markers",Sc={type:kc,config:Cc,location:{mode:il.Auto}};var Bc;!function(t){t.circle="circle",t.poi="poi",t.bubble="bubble",t.marker="marker",t.coma="coma",t.shield="shield",t.blazon="blazon",t.bookmark="bookmark",t.hexagon="hexagon",t.diamond="diamond",t.triangle="triangle",t.sign="sign",t.ban="ban",t.lozenge="lozenge",t.square="square"}(Bc||(Bc={}));const Tc={id:kc,name:"Markers",description:"use markers to render each data point",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){xc(i,o,r,a,s,"next",t)}function s(t){xc(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(e,o,r){var i,a,s,l;const c=yield dl(o.location),u=new Ls({title:o.name,displayProperties:o.displayProperties,icon:null===(i=o.config)||void 0===i?void 0:i.selectIcon,titleField:o.titleField,timeField:o.timeField});function h(t,e){var n,r;let i=null!==(r=null===(n=o.config)||void 0===n?void 0:n.showPin)&&void 0!==r?r:Cc.showPin,a=new gi({image:new ps({radius:20,fontSize:.3,form:"circle",color:"#fff",glyph:i?y.selectIcon:"",fill:new li({color:Ns()(t).setAlpha(.4).toRgbString()}),offsetY:-8}),text:new ac({font:"12px Verdana-Bold",fill:new li({color:"#fff"}),offsetY:6})});return a.getText().setText(e),a}function f(t){let e=0;const n=y.size;return t.forEach((function(t){if(n.field){const o=t.getProperties(),r=o.frame.fields,i=o.rowIndex;Array.isArray(r)&&r.forEach((function(t){t.name===n.field&&(e+=t.values.buffer[i])}))}})),e}function p(e,n){const o=y.size;let r=n;return e.forEach((function(e){if(o.field){const i=e.getProperties().frame.fields;Array.isArray(i)&&i.forEach((function(e){e.name===o.field&&e.display&&(r=(0,t.formattedValueToString)(e.display(n)))}))}})),r}function d(t){var e,n,r;const i=null!==(r=null===(e=o.config)||void 0===e?void 0:e.enableShadow)&&void 0!==r?r:Cc.enableShadow;var a;const s=null!==(a=null===(n=o.config)||void 0===n?void 0:n.enableGradient)&&void 0!==a?a:Cc.enableGradient;let l=[];i&&l.push(new gi({image:new gs({radius:10,blur:5,offsetX:0,offsetY:0,fill:new li({color:"rgba(255,255,255,0.4)"})})})),l.push(new gi({image:new ps({form:y.pinShape,fontSize:.5,color:"#fff",radius:y.iconSize,glyph:y.selectIcon,offsetY:i?-(Number(y.iconSize)+1):-Number(y.iconSize),gradient:s,fill:new li({color:t.color})})}));let c=new ps({});return c=i?l[1].getImage():l[0].getImage(),c&&c instanceof ps&&c.getFill().setColor(t.color),l}const g=(null===(a=o.config)||void 0===a?void 0:a.cluster)?new Ls({displayProperties:o.displayProperties,icon:null===(s=o.config)||void 0===s?void 0:s.selectIcon,titleField:o.titleField,timeField:o.timeField,style:function(e){let n=e.get("features").length;if(n>1){let n=e.get("features")[0].get("config"),i=function(t){var e;switch(null===(e=o.config)||void 0===e?void 0:e.clusterValue){case"size":return t.length;case"sum":return f(t);case"average":return(f(t)/t.length).toFixed(2);default:return NaN}}(e.get("features"));return h(function(e,n,o){var i;if(!e)return null!==(i=r.visualization.getColorByName(n.fixed))&&void 0!==i?i:"grey";const a=(0,t.getFieldColorModeForField)(e);return a.isByValue?(0,t.getScaleCalculator)(e,r)(o).color:a.getCalculator(e,r)(0,0)}(Tl(n.frame,n.config),n.config,i),function(t,e){var n;switch(null===(n=o.config)||void 0===n?void 0:n.clusterValue){case"size":return String(e);case"sum":case"average":return String(p(t,e));default:return""}}(e.get("features"),i))}return 1===n?d(e.get("features")[0].get("style")):null}}):new Ls({displayProperties:o.displayProperties,icon:null===(l=o.config)||void 0===l?void 0:l.selectIcon,titleField:o.titleField,timeField:o.timeField}),m=new Ms.default({layers:[u,g],title:o.name,combine:!0,type:"base"}),y=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){wc(t,e,n[e])}))}return t}({},Cc,null==o?void 0:o.config),A=new rc.ReplaySubject(1);let v=null;var _;y.showLegend&&(v=n().createElement(Jl,{watch:A,initialSubProps:{},child:tc}));const E=null!==(_=oc.getIfExists(y.shape))&&void 0!==_?_:nc;return{init:()=>m,legend:v,update:e=>{var n,i,a,s;if(!(null===(n=e.series)||void 0===n?void 0:n.length)){var l,h;null===(l=null==u?void 0:u.getSource())||void 0===l||l.clear();let t=null===(h=null==u?void 0:u.getSource())||void 0===h?void 0:h.getFeatures();null==t||t.forEach((t=>{var e;null===(e=null==u?void 0:u.getSource())||void 0===e||e.removeFeature(t)}))}const f=[],p=[];var m;const _=null!==(m=null===(i=o.config)||void 0===i?void 0:i.fillOpacity)&&void 0!==m?m:Cc.fillOpacity;var x;const w=null!==(x=null===(a=o.config)||void 0===a?void 0:a.showPin)&&void 0!==x?x:Cc.showPin;var C;const k=null!==(C=null===(s=o.config)||void 0===s?void 0:s.cluster)&&void 0!==C?C:Cc.cluster;if(y.thresholdOverride){var S,B;let n=null!==(B=null===(S=o.config)||void 0===S?void 0:S.color.field)&&void 0!==B?B:"";!function(e,n,o){let r=function(e){const n=JSON.parse(e),o=[];for(const t of n){const e=o.length-1,n=parseInt(t.value,10),r=t.color;e>=0?o.push({value:n,color:r}):o.push({value:-1/0,color:r})}return{mode:t.ThresholdsMode.Absolute,steps:o}}(n);for(let t of e.series)for(let e of t.fields)console.log(e.name),console.log(o),console.log(e.name===o),e.name===o&&(e.config.thresholds=r)}(e,y.thresholdOverride,n)}for(let t of e.series)if(o.query&&o.query.options===t.refId||t.meta){const e=ml(t,c);if(e.warning){console.log("Could not find locations",e.warning);continue}const n=Pl(t,y.color,r),o=Rl(t,y.size),i=y.legendName,a=y.legendUnit;for(let r=0;r<t.length;r++){const i=n.get(r),a=Ns()(i).setAlpha(_).toRgbString(),s=o.get(r);try{const n=e.points[r].getType(),o=new oo(e.points[r]);if("Point"===n)o.setStyle(E.make(i,a,s));else{const e=Rl(t,y.geoJsonStrokeSize);let n=new gi({stroke:new ui({color:i,width:e.get(r)}),fill:new li({color:a})});o.setStyle(n)}if(f.push(o),w||k){const n=(0,b.qg)(e.points[r].getExtent()),o=new oo(new Ko(n));o.setStyle(d({color:i})),o.set("style",{color:i,fillColor:a}),k&&o.set("config",{frame:t,config:y.color}),o.setProperties({frame:t,rowIndex:r}),p.push(o)}else o.setProperties({frame:t,rowIndex:r})}catch(t){console.log(t)}}v&&A.next({color:n,name:i,unit:a,size:o});break}const T=new Bs({features:f});if(u.setSource(T),w||k){const t=new Bs({features:p});if(k){var O,P,R,I;const e=new Ps({distance:null!==(R=null===(O=o.config)||void 0===O?void 0:O.clusterDistance)&&void 0!==R?R:Cc.clusterDistance,minDistance:null!==(I=null===(P=o.config)||void 0===P?void 0:P.clusterMinDistance)&&void 0!==I?I:Cc.clusterMinDistance,source:t});g.setSource(e)}else g.setSource(t)}}}}));return function(t,n,o){return e.apply(this,arguments)}}(),registerOptionsUI:t=>{const e=Object.getOwnPropertyNames(ps.prototype.defs.glyphs);let n=[];n.push({value:"",label:"none"}),e.map((t=>n.push({value:t,label:t.replace("fa-","")}))),t.addCustomEditor({id:"config.color",path:"config.color",name:"Marker Color",editor:Kl,settings:{},defaultValue:{fixed:"grey"}}).addCustomEditor({id:"config.size",path:"config.size",name:"Marker Size",editor:Vl,settings:{min:1,max:100},defaultValue:{fixed:5,min:1,max:20}}).addSelect({path:"config.shape",name:"Marker Shape",settings:{options:oc.selectOptions().options},defaultValue:"circle"}).addSliderInput({path:"config.fillOpacity",name:"Fill opacity",defaultValue:Cc.fillOpacity,settings:{min:0,max:1,step:.1},showIf:t=>{var e,n;return null===(e=oc.getIfExists(null===(n=t.config)||void 0===n?void 0:n.shape))||void 0===e?void 0:e.hasFill}}).addBooleanSwitch({path:"config.showPin",name:"Show pin",description:"Show pin",defaultValue:Cc.showPin}).addTextInput({path:"config.legendName",name:"Legend name",description:"Legend label",defaultValue:Cc.legendName}).addSelect({path:"config.pinShape",name:"Pin Shape",settings:{options:[{value:Bc.bubble,label:"bubble"},{value:Bc.circle,label:"circle"},{value:Bc.coma,label:"coma"},{value:Bc.diamond,label:"diamond"},{value:Bc.hexagon,label:"hexagon"},{value:Bc.lozenge,label:"lozenge"},{value:Bc.marker,label:"marker"},{value:Bc.poi,label:"poi"},{value:Bc.square,label:"square"},{value:Bc.triangle,label:"triangle"},{value:Bc.shield,label:"shield"},{value:Bc.sign,label:"sign"}]},defaultValue:Bc.marker,showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addNumberInput({path:"config.iconSize",name:"Pin size",defaultValue:Cc.iconSize,showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addCustomEditor({id:"config.geoJsonStrokeSize",path:"config.geoJsonStrokeSize",name:"Geometry Stroke Size",editor:Vl,settings:{min:1,max:10},defaultValue:{fixed:5,min:1,max:10}}).addSelect({path:"config.selectIcon",name:"Select icon for the pin",settings:{options:n},defaultValue:"none",showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.enableShadow",name:"Enable shadow for the pin",defaultValue:!1,showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.enableGradient",name:"Enable gradient for the pin",defaultValue:!1,showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.showLegend",name:"Show legend",description:"Show legend",defaultValue:Cc.showLegend}).addBooleanSwitch({path:"config.cluster",name:"Cluster geometries",description:"Cluster geometries",defaultValue:Cc.cluster}).addSliderInput({path:"config.clusterDistance",name:"Distance",description:"Distance in pixels within which features will be clustered together.",defaultValue:Cc.clusterDistance,settings:{min:0,max:100,step:1},showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}}).addSliderInput({path:"config.clusterMinDistance",name:"Min distance",description:"Minimum distance in pixels between clusters.",defaultValue:Cc.clusterMinDistance,settings:{min:0,max:50,step:1},showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}}).addSelect({path:"config.clusterValue",name:"Value to display",description:"Value to display in the cluster",defaultValue:Cc.clusterValue,settings:{options:[{value:"none",label:"none"},{value:"size",label:"size"},{value:"average",label:"average"},{value:"sum",label:"sum"}]},showIf:t=>{var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}}).addTextInput({path:"config.thresholdOverride",name:"Threshold Override",description:"Thershold Override"}).addTextInput({path:"config.legendUnit",name:"Legend unit",description:"Legend unit"})},defaultOptions:Cc};function Oc(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Pc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Rc={src:"public/maps/countries.geojson"},Ic={id:"geojson-value-mapper",name:"Map values to GeoJSON file",description:"color features based on query results",isBaseMap:!1,state:t.PluginState.alpha,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Oc(i,o,r,a,s,"next",t)}function s(t){Oc(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e,n){const o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Pc(t,e,n[e])}))}return t}({},Rc,e.config),r=new Bs({url:o.src,format:new el}),i=new Ls({source:r});return{init:()=>i,update:t=>{console.log("todo... find values matching the ID and update"),r.getFeatures().forEach((t=>{console.log("Find: ",t.getId(),t.getProperties())}))}}}));return function(e,n,o){return t.apply(this,arguments)}}(),registerOptionsUI:t=>{t.addSelect({path:"config.src",name:"GeoJSON URL",settings:{options:[{label:"public/maps/countries.geojson",value:"public/maps/countries.geojson"},{label:"public/maps/usa-states.geojson",value:"public/maps/usa-states.geojson"}],allowCustomValue:!0},defaultValue:Rc.src})},defaultOptions:Rc};var Dc=34962,Fc=34963,Lc=35048,Mc=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function jc(t,e){for(var n=(0,Ot.f0)({preserveDrawingBuffer:!0,antialias:!_.ME},e),o=Mc.length,r=0;r<o;++r)try{var i=t.getContext(Mc[r],n);if(i)return i}catch(t){}return null}var Nc=function(){function t(t,e){this.array=null,this.type=t,(0,jt.h)(t===Dc||t===Fc,62),this.usage=void 0!==e?e:35044}return t.prototype.ofSize=function(t){this.array=new(zc(this.type))(t)},t.prototype.fromArray=function(t){var e=zc(this.type);this.array=e.from?e.from(t):new e(t)},t.prototype.fromArrayBuffer=function(t){this.array=new(zc(this.type))(t)},t.prototype.getType=function(){return this.type},t.prototype.getArray=function(){return this.array},t.prototype.getUsage=function(){return this.usage},t.prototype.getSize=function(){return this.array?this.array.length:0},t}();function zc(t){switch(t){case Dc:return Float32Array;case Fc:return Uint32Array;default:return Float32Array}}const Gc=Nc,Qc="webglcontextlost",Zc="webglcontextrestored";var Vc=c(2130),Wc=function(){function t(t){this.gl_=t.webGlContext;var e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(n);var o=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(o,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),e.compileShader(o),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,o),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(n){this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})}.bind(this))}return t.prototype.getGL=function(){return this.gl_},t.prototype.init=function(t){var e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var o=e.RGBA,r=e.RGBA,i=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,0,o,n[0],n[1],0,r,i,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},t.prototype.apply=function(t,e,n,o){var r=this.getGL(),i=t.size;if(r.bindFramebuffer(r.FRAMEBUFFER,e?e.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),!e){var s=(0,a.sq)(r.canvas);if(!t.renderTargets[s]){var l=r.getContextAttributes();l&&l.preserveDrawingBuffer&&(r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT)),t.renderTargets[s]=!0}}r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),r.uniform1i(this.renderTargetTextureLocation_,0);var c=t.layerStatesArray[t.layerIndex].opacity;r.uniform1f(this.renderTargetOpacityLocation_,c),this.applyUniforms(t),n&&n(r,t),r.drawArrays(r.TRIANGLES,0,6),o&&o(r,t)},t.prototype.getFrameBuffer=function(){return this.frameBuffer_},t.prototype.applyUniforms=function(t){var e,n=this.getGL(),o=1;this.uniforms_.forEach((function(r){if((e="function"==typeof r.value?r.value(t):r.value)instanceof HTMLCanvasElement||e instanceof ImageData)r.texture||(r.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(o)]),n.bindTexture(n.TEXTURE_2D,r.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,e.width,e.height,0,n.UNSIGNED_BYTE,new Uint8Array(e.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.uniform1i(r.location,o++);else if(Array.isArray(e))switch(e.length){case 2:return void n.uniform2f(r.location,e[0],e[1]);case 3:return void n.uniform3f(r.location,e[0],e[1],e[2]);case 4:return void n.uniform4f(r.location,e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&n.uniform1f(r.location,e)}))},t}();const qc=Wc;function Uc(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var Xc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Yc={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},Kc={};function Hc(t){return"shared/"+t}var $c=0,Jc=function(t){function e(e){var n,o=t.call(this)||this,r=e||{};o.boundHandleWebGLContextLost_=o.handleWebGLContextLost.bind(o),o.boundHandleWebGLContextRestored_=o.handleWebGLContextRestored.bind(o),o.canvasCacheKey_=r.canvasCacheKey?Hc(r.canvasCacheKey):(n="unique/"+$c,$c+=1,n),o.canvas_=function(t){var e=Kc[t];if(!e){var n=document.createElement("canvas");n.style.position="absolute",n.style.left="0",e={users:0,canvas:n},Kc[t]=e}return e.users+=1,e.canvas}(o.canvasCacheKey_),o.gl_=jc(o.canvas_),o.bufferCache_={},o.extensionCache_={},o.currentProgram_=null,o.canvas_.addEventListener(Qc,o.boundHandleWebGLContextLost_),o.canvas_.addEventListener(Zc,o.boundHandleWebGLContextRestored_),o.offsetRotateMatrix_=[1,0,0,1,0,0],o.offsetScaleMatrix_=[1,0,0,1,0,0],o.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o.uniformLocations_={},o.attribLocations_={},o.uniforms_=[],r.uniforms&&o.setUniforms(r.uniforms);var i=o.getGL();return o.postProcessPasses_=r.postProcesses?r.postProcesses.map((function(t){return new qc({webGlContext:i,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})})):[new qc({webGlContext:i})],o.shaderCompileErrors_=null,o.startTime_=Date.now(),o}return Xc(e,t),e.prototype.setUniforms=function(t){for(var e in this.uniforms_=[],t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},e.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===Hc(t)},e.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},e.prototype.bindBuffer=function(t){var e=this.getGL(),n=(0,a.sq)(t),o=this.bufferCache_[n];o||(o={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[n]=o),e.bindBuffer(t.getType(),o.webGlBuffer)},e.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},e.prototype.deleteBuffer=function(t){var e=this.getGL(),n=(0,a.sq)(t),o=this.bufferCache_[n];o&&!e.isContextLost()&&e.deleteBuffer(o.webGlBuffer),delete this.bufferCache_[n]},e.prototype.disposeInternal=function(){this.canvas_.removeEventListener(Qc,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(Zc,this.boundHandleWebGLContextRestored_),function(t){var e=Kc[t];if(e&&(e.users-=1,!(e.users>0))){var n=jc(e.canvas).getExtension("WEBGL_lose_context");n&&n.loseContext(),delete Kc[t]}}(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},e.prototype.prepareDraw=function(t,e){var n=this.getGL(),o=this.getCanvas(),r=t.size,i=t.pixelRatio;o.width=r[0]*i,o.height=r[1]*i,o.style.width=r[0]+"px",o.style.height=r[1]+"px",n.useProgram(this.currentProgram_);for(var a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(t);n.bindTexture(n.TEXTURE_2D,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,e?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.prepareDrawToRenderTarget=function(t,e,n){var o=this.getGL(),r=e.getSize();o.bindFramebuffer(o.FRAMEBUFFER,e.getFramebuffer()),o.viewport(0,0,r[0],r[1]),o.bindTexture(o.TEXTURE_2D,e.getTexture()),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.enable(o.BLEND),o.blendFunc(o.ONE,n?o.ZERO:o.ONE_MINUS_SRC_ALPHA),o.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.drawElements=function(t,e){var n=this.getGL();this.getExtension("OES_element_index_uint");var o=n.UNSIGNED_INT,r=e-t,i=4*t;n.drawElements(n.TRIANGLES,r,o,i)},e.prototype.finalizeDraw=function(t,e,n){for(var o=0,r=this.postProcessPasses_.length;o<r;o++)o===r-1?this.postProcessPasses_[o].apply(t,null,e,n):this.postProcessPasses_[o].apply(t,this.postProcessPasses_[o+1])},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.applyFrameState=function(t){var e=t.size,n=t.viewState.rotation,o=nn(this.offsetScaleMatrix_);sn(o,2/e[0],2/e[1]);var r=nn(this.offsetRotateMatrix_);0!==n&&function(t,e){var n=Math.cos(e),o=Math.sin(e);on(t,rn(en,n,o,-o,n,0,0))}(r,-n),this.setUniformMatrixValue("u_offsetScaleMatrix",Uc(this.tmpMat4_,o)),this.setUniformMatrixValue("u_offsetRotateMatrix",Uc(this.tmpMat4_,r)),this.setUniformFloatValue("u_time",.001*(Date.now()-this.startTime_)),this.setUniformFloatValue("u_zoom",t.viewState.zoom),this.setUniformFloatValue("u_resolution",t.viewState.resolution)},e.prototype.applyUniforms=function(t){var e,n=this.getGL(),o=0;this.uniforms_.forEach(function(r){if((e="function"==typeof r.value?r.value(t):r.value)instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof ImageData)r.texture||(r.prevValue=void 0,r.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(o)]),n.bindTexture(n.TEXTURE_2D,r.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(!(e instanceof HTMLImageElement)||e.complete)&&r.prevValue!==e&&(r.prevValue=e,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)),n.uniform1i(this.getUniformLocation(r.name),o++);else if(Array.isArray(e)&&6===e.length)this.setUniformMatrixValue(r.name,Uc(this.tmpMat4_,e));else if(Array.isArray(e)&&e.length<=4)switch(e.length){case 2:return void n.uniform2f(this.getUniformLocation(r.name),e[0],e[1]);case 3:return void n.uniform3f(this.getUniformLocation(r.name),e[0],e[1],e[2]);case 4:return void n.uniform4f(this.getUniformLocation(r.name),e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&n.uniform1f(this.getUniformLocation(r.name),e)}.bind(this))},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)},e.prototype.compileShader=function(t,e){var n=this.getGL(),o=n.createShader(e);return n.shaderSource(o,t),n.compileShader(o),o},e.prototype.getProgram=function(t,e){var n=this.getGL(),o=this.compileShader(t,n.FRAGMENT_SHADER),r=this.compileShader(e,n.VERTEX_SHADER),i=n.createProgram();if(n.attachShader(i,o),n.attachShader(i,r),n.linkProgram(i),!n.getShaderParameter(o,n.COMPILE_STATUS)){var a="Fragment shader compliation failed: ".concat(n.getShaderInfoLog(o));throw new Error(a)}if(n.deleteShader(o),!n.getShaderParameter(r,n.COMPILE_STATUS))throw a="Vertex shader compilation failed: ".concat(n.getShaderInfoLog(r)),new Error(a);if(n.deleteShader(r),!n.getProgramParameter(i,n.LINK_STATUS))throw a="GL program linking failed: ".concat(n.getShaderInfoLog(r)),new Error(a);return i},e.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},e.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},e.prototype.makeProjectionTransform=function(t,e){var n=t.size,o=t.viewState.rotation,r=t.viewState.resolution,i=t.viewState.center;return nn(e),cn(e,0,0,2/(r*n[0]),2/(r*n[1]),-o,-i[0],-i[1]),e},e.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},e.prototype.setUniformFloatVec4=function(t,e){this.getGL().uniform4fv(this.getUniformLocation(t),e)},e.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},e.prototype.enableAttributeArray_=function(t,e,n,o,r){var i=this.getAttributeLocation(t);i<0||(this.getGL().enableVertexAttribArray(i),this.getGL().vertexAttribPointer(i,e,n,!1,o,r))},e.prototype.enableAttributes=function(t){for(var e=function(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];e+=o.size*tu(o.type)}return e}(t),n=0,o=0;o<t.length;o++){var r=t[o];this.enableAttributeArray_(r.name,r.size,r.type||5126,e,n),n+=r.size*tu(r.type)}},e.prototype.handleWebGLContextLost=function(){(0,Ot.ZH)(this.bufferCache_),this.currentProgram_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.createTexture=function(t,e,n){var o=this.getGL(),r=n||o.createTexture(),i=o.RGBA,a=o.RGBA,s=o.UNSIGNED_BYTE;return o.bindTexture(o.TEXTURE_2D,r),e?o.texImage2D(o.TEXTURE_2D,0,i,a,s,e):o.texImage2D(o.TEXTURE_2D,0,i,t[0],t[1],0,a,s,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),r},e}(Vc.Z);function tu(t){switch(t){case Yc.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Yc.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Yc.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Yc.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}const eu=Jc;var nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ou="GENERATE_BUFFERS",ru=function(t){function e(e,n){var o=t.call(this,e)||this,r=n||{};return o.inversePixelTransform_=[1,0,0,1,0,0],o.pixelContext_=null,o.postProcesses_=r.postProcesses,o.uniforms_=r.uniforms,o.helper,e.addChangeListener(De.Z.MAP,o.removeHelper.bind(o)),o.dispatchPreComposeEvent=o.dispatchPreComposeEvent.bind(o),o.dispatchPostComposeEvent=o.dispatchPostComposeEvent.bind(o),o}return nu(e,t),e.prototype.dispatchPreComposeEvent=function(t,e){var n=this.getLayer();if(n.hasListener(Me)){var o=new Je(Me,void 0,e,t);n.dispatchEvent(o)}},e.prototype.dispatchPostComposeEvent=function(t,e){var n=this.getLayer();if(n.hasListener(je)){var o=new Je(je,void 0,e,t);n.dispatchEvent(o)}},e.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},e.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},e.prototype.prepareFrame=function(t){if(this.getLayer().getRenderSource()){for(var n=!0,o=-1,r=void 0,i=0,a=t.layerStatesArray.length;i<a;i++){var s=t.layerStatesArray[i].layer,l=s.getRenderer();if(l instanceof e){var c=s.getClassName();if((n||c!==r)&&(o+=1,n=!1),r=c,l===this)break}else n=!0}var u="map/"+t.mapId+"/group/"+o;this.helper&&this.helper.canvasCacheKeyMatches(u)||(this.removeHelper(),this.helper=new eu({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:u}),r&&(this.helper.getCanvas().className=r),this.afterHelperCreated())}return this.prepareFrameInternal(t)},e.prototype.afterHelperCreated=function(){},e.prototype.prepareFrameInternal=function(t){return!0},e.prototype.disposeInternal=function(){this.removeHelper(),t.prototype.disposeInternal.call(this)},e.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){cn(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);var r=new Je(t,this.inversePixelTransform_,n,e);o.dispatchEvent(r)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Fe,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Le,t,e)},e.prototype.getDataAtPixel=function(t,e,n){var o=an([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),r=this.helper.getGL();if(!r)return null;var i=this.getLayer().getExtent();if(i){var a=an(e.pixelToCoordinateTransform,t.slice());if(!(0,b.b8)(i,a))return null}var s=r.getContextAttributes();if(!s||!s.preserveDrawingBuffer)return new Uint8Array;var l,c=Math.round(o[0]),u=Math.round(o[1]),h=this.pixelContext_;if(!h){var f=document.createElement("canvas");f.width=1,f.height=1,h=f.getContext("2d"),this.pixelContext_=h}h.clearRect(0,0,1,1);try{h.drawImage(r.canvas,c,u,1,1,0,0,1,1),l=h.getImageData(0,0,1,1).data}catch(t){return l}return 0===l[3]?null:l},e}(He);function iu(t,e){var n=e||[],o=256,r=255;return n[0]=Math.floor(t/o/o/o)/r,n[1]=Math.floor(t/o/o)%o/r,n[2]=Math.floor(t/o)%o/r,n[3]=t%o/r,n}const au=ru;var su=new Uint8Array(4);const lu=function(){function t(t,e){this.helper_=t;var n=t.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return t.prototype.setSize=function(t){(0,le.fS)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},t.prototype.getSize=function(){return this.size_},t.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},t.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},t.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return su[0]=0,su[1]=0,su[2]=0,su[3]=0,su;this.readAll();var n=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return su[0]=this.data_[4*n],su[1]=this.data_[4*n+1],su[2]=this.data_[4*n+2],su[3]=this.data_[4*n+3],su},t.prototype.getTexture=function(){return this.texture_},t.prototype.getFramebuffer=function(){return this.framebuffer_},t.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},t}();var cu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),uu=function(t){function e(e,n){var o=this,r=n.uniforms||{},i=[1,0,0,1,0,0];r.u_projectionMatrix=i,(o=t.call(this,e,{uniforms:r,postProcesses:n.postProcesses})||this).ready=!1,o.sourceRevision_=-1,o.verticesBuffer_=new Gc(Dc,Lc),o.hitVerticesBuffer_=new Gc(Dc,Lc),o.indicesBuffer_=new Gc(Fc,Lc),o.vertexShader_=n.vertexShader,o.fragmentShader_=n.fragmentShader,o.program_,o.hitDetectionEnabled_=!(!n.hitFragmentShader||!n.hitVertexShader),o.hitVertexShader_=n.hitVertexShader,o.hitFragmentShader_=n.hitFragmentShader,o.hitProgram_;var s=n.attributes?n.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:Yc.FLOAT}})):[];o.attributes=[{name:"a_position",size:2,type:Yc.FLOAT},{name:"a_index",size:1,type:Yc.FLOAT}].concat(s),o.hitDetectionAttributes=[{name:"a_position",size:2,type:Yc.FLOAT},{name:"a_index",size:1,type:Yc.FLOAT},{name:"a_hitColor",size:4,type:Yc.FLOAT},{name:"a_featureUid",size:1,type:Yc.FLOAT}].concat(s),o.customAttributes=n.attributes?n.attributes:[],o.previousExtent_=(0,b.lJ)(),o.currentTransform_=i,o.renderTransform_=[1,0,0,1,0,0],o.invertRenderTransform_=[1,0,0,1,0,0],o.renderInstructions_=new Float32Array(0),o.hitRenderInstructions_=new Float32Array(0),o.hitRenderTarget_,o.generateBuffersRun_=0,o.worker_=function(){var t='const e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let e=1,n=arguments.length;e<n;++e){const n=arguments[e];if(null!=n)for(const e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";n.indexOf("firefox");-1!==n.indexOf("safari")&&-1==n.indexOf("chrom")&&(n.indexOf("version/15.4")>=0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==n.indexOf("webkit")&&n.indexOf("edge"),n.indexOf("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),function(){let e=!1;try{const n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}(),new Array(6);const t="GENERATE_BUFFERS",o=[],r={vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]=t,e[n+1]=o,e[n+2]=r}function s(e,n,t,s,f,c){const l=3+f,a=e[n+0],u=e[n+1],d=o;d.length=f;for(let t=0;t<d.length;t++)d[t]=e[n+2+t];let g=c?c.vertexPosition:0,x=c?c.indexPosition:0;const h=g/l;return i(t,g,a,u,0),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,1),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,2),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,3),d.length&&t.set(d,g+3),g+=l,s[x++]=h,s[x++]=h+1,s[x++]=h+3,s[x++]=h+1,s[x++]=h+2,s[x++]=h+3,r.vertexPosition=g,r.indexPosition=x,r}const f=self;f.onmessage=n=>{const o=n.data;if(o.type===t){const n=3,t=2,r=o.customAttributesCount,i=t+r,c=new Float32Array(o.renderInstructions),l=c.length/i,a=4*l*(r+n),u=new Uint32Array(6*l),d=new Float32Array(a);let g;for(let e=0;e<c.length;e+=i)g=s(c,e,d,u,r,g);const x=e({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}(),o.worker_.addEventListener("message",function(t){var e=t.data;if(e.type===ou){var n=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,un(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):(this.renderInstructions_=new Float32Array(t.data.renderInstructions),e.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0)),this.getLayer().changed()}}.bind(o)),o.featureCache_={},o.featureCount_=0;var l=o.getLayer().getSource();return o.sourceListenKeys_=[(0,E.oL)(l,_s,o.handleSourceFeatureAdded_,o),(0,E.oL)(l,bs,o.handleSourceFeatureChanged_,o),(0,E.oL)(l,xs,o.handleSourceFeatureDelete_,o),(0,E.oL)(l,Es,o.handleSourceFeatureClear_,o)],l.forEachFeature(function(t){this.featureCache_[(0,a.sq)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(o)),o}return cu(e,t),e.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new lu(this.helper))},e.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[(0,a.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},e.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[(0,a.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},e.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[(0,a.sq)(e)],this.featureCount_--},e.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},e.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var n=t.viewState.projection,o=this.getLayer().getSource().getWrapX()&&n.canWrapX(),r=n.getExtent(),i=t.extent,a=o?(0,b.dz)(r):null,s=o?Math.ceil((i[2]-r[2])/a)+1:1,l=o?Math.floor((i[0]-r[0])/a):0,c=l,u=this.indicesBuffer_.getSize();do{this.helper.makeProjectionTransform(t,this.currentTransform_),ln(this.currentTransform_,c*a,0),on(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t),this.helper.drawElements(0,u)}while(++c<s);this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var h=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t,l,s,a),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),h},e.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),n=e.getSource(),o=t.viewState,r=!t.viewHints[0]&&!t.viewHints[1],i=!(0,b.fS)(this.previousExtent_,t.extent),a=this.sourceRevision_<n.getRevision();if(a&&(this.sourceRevision_=n.getRevision()),r&&(i||a)){var s=o.projection,l=o.resolution,c=e instanceof vi?e.getRenderBuffer():0,u=(0,b.f3)(t.extent,c*l);n.loadFeatures(u,l,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},e.prototype.rebuildBuffers_=function(t){var e=[1,0,0,1,0,0];this.helper.makeProjectionTransform(t,e);var n,o,r=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===r||(this.renderInstructions_=new Float32Array(r)),this.hitDetectionEnabled_){var i=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===i||(this.hitRenderInstructions_=new Float32Array(i))}var a,s=[],l=[],c=0,u=0;for(var h in this.featureCache_)if((o=(n=this.featureCache_[h]).geometry)&&"Point"===o.getType()){s[0]=o.getFlatCoordinates()[0],s[1]=o.getFlatCoordinates()[1],an(e,s),a=iu(u+6,l),this.renderInstructions_[c++]=s[0],this.renderInstructions_[c++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=s[0],this.hitRenderInstructions_[u++]=s[1],this.hitRenderInstructions_[u++]=a[0],this.hitRenderInstructions_[u++]=a[1],this.hitRenderInstructions_[u++]=a[2],this.hitRenderInstructions_[u++]=a[3],this.hitRenderInstructions_[u++]=Number(h));for(var f=void 0,p=0;p<this.customAttributes.length;p++)f=this.customAttributes[p].callback(n.feature,n.properties),this.renderInstructions_[c++]=f,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=f)}var d={type:ou,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(d.projectionTransform=e,d.generateBuffersRun=++this.generateBuffersRun_,this.ready=!1,this.worker_.postMessage(d,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:ou,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g.projectionTransform=e,g.hitDetection=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r){if((0,jt.h)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var i=an(e.coordinateToPixelTransform,t.slice()),a=this.hitRenderTarget_.readPixel(i[0]/2,i[1]/2),s=(h=[a[0]/255,a[1]/255,a[2]/255,a[3]/255],f=0,p=256,d=255,f+=Math.round(h[0]*p*p*p*d),f+=Math.round(h[1]*p*p*d),(f+=Math.round(h[2]*p*d))+Math.round(h[3]*d)),l=this.hitRenderInstructions_[s],c=Math.floor(l).toString(),u=this.getLayer().getSource().getFeatureByUid(c);return u?o(u,this.getLayer(),null):void 0}var h,f,p,d},e.prototype.renderHitDetection=function(t,e,n,o){if(this.hitVerticesBuffer_.getSize()){var r=e;this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);do{this.helper.makeProjectionTransform(t,this.currentTransform_),ln(this.currentTransform_,r*o,0),on(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i)}while(++r<n)}},e.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){(0,E.bN)(t)})),this.sourceListenKeys_=null,t.prototype.disposeInternal.call(this)},e}(au);const hu=uu;var fu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),pu="blur",du="gradient",gu="radius",mu=["#00f","#0ff","#0f0","#ff0","#f00"],yu=function(t){function e(e){var n=this,o=e||{},r=(0,Ot.f0)({},o);delete r.gradient,delete r.radius,delete r.blur,delete r.weight,(n=t.call(this,r)||this).gradient_=null,n.addChangeListener(du,n.handleGradientChanged_),n.setGradient(o.gradient?o.gradient:mu),n.setBlur(void 0!==o.blur?o.blur:15),n.setRadius(void 0!==o.radius?o.radius:8);var i=o.weight?o.weight:"weight";return n.weightFunction_="string"==typeof i?function(t){return t.get(i)}:i,n.setRenderOrder(null),n}return fu(e,t),e.prototype.getBlur=function(){return this.get(pu)},e.prototype.getGradient=function(){return this.get(du)},e.prototype.getRadius=function(){return this.get(gu)},e.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=(0,y.E4)(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),r=0,i=t.length;r<i;++r)n.addColorStop(r*o,t[r]);return e.fillStyle=n,e.fillRect(0,0,1,256),e.canvas}(this.getGradient())},e.prototype.setBlur=function(t){this.set(pu,t)},e.prototype.setGradient=function(t){this.set(du,t)},e.prototype.setRadius=function(t){this.set(gu,t)},e.prototype.createRenderer=function(){return new hu(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return void 0!==e?(0,R.uZ)(e,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(gu)+this.get(pu))}.bind(this),u_blurSlope:function(){return this.get(gu)/Math.max(1,this.get(pu))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},e.prototype.renderDeclutter=function(){},e}(vi);const Au=yu;class vu extends Bs{update(t){this.clear(!0);const e=ml(t,this.location);if(e.points){for(let n=0;n<t.length;n++)this.addFeatureInternal(new oo({frame:t,rowIndex:n,geometry:e.points[n]}));this.changed()}else this.changed()}constructor(t){super({}),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"location",void 0),this.location=t}}function _u(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Eu={weight:{fixed:1,min:0,max:1},blur:15,radius:5},xu={id:"heatmap",name:"Heatmap",description:"visualizes a heatmap of the data",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){_u(i,o,r,a,s,"next",t)}function s(t){_u(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(e,n,o){const r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){bu(t,e,n[e])}))}return t}({},Eu,n.config),i=yield dl(n.location),a=new vu(i),s="_weight",l=new Au({source:a,blur:r.blur,radius:r.radius,weight:function(t){return t.get(s)}});return l.set("title",n.name),{init:()=>l,update:e=>{const n=e.series[0];if(!n)return;a.update(n);const i=Rl(n,r.weight);a.forEachFeature((t=>{const e=t.get("rowIndex");null!=e&&t.set(s,i.get(e))}));let c=["#00f","#0ff","#0f0","#ff0","#f00"];var u;const h=null!==(u=i.field)&&void 0!==u?u:n.fields.find((e=>e.type===t.FieldType.number));if(h){const e=(0,t.getFieldColorModeForField)(h);if(e.isContinuous&&e.getColors&&(c=e.getColors(o)),e.isByValue){const e=(0,t.getScaleCalculator)(h,o);c=[];let n=h.config.min,r=h.config.max;(0,Sl.isNumber)(n)||(n=0),(0,Sl.isNumber)(r)||(r=100);let i=r-n,a=10;for(let t=0;t<a;t++){let n=e(t*(i/a)).color;c.push(n)}}}l.setGradient(c)}}}));return function(t,n,o){return e.apply(this,arguments)}}(),registerOptionsUI:t=>{t.addCustomEditor({id:"config.weight",path:"config.weight",name:"Weight values",description:"Scale the distribution for each row",editor:Vl,settings:{min:0,max:1,hideRange:!0},defaultValue:{fixed:1,min:0,max:1}}).addSliderInput({path:"config.radius",description:"configures the size of clusters",name:"Radius",defaultValue:Eu.radius,settings:{min:1,max:50,step:1}}).addSliderInput({path:"config.blur",description:"configures the amount of blur of clusters",name:"Blur",defaultValue:Eu.blur,settings:{min:1,max:50,step:1}})},defaultOptions:Eu};function wu(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Cu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ku={icon:"https://openlayers.org/en/latest/examples/data/icon.png"},Su={id:"last-point-tracker",name:"Icon at last point",description:"Show an icon at the last point",isBaseMap:!1,showLocation:!0,state:t.PluginState.alpha,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){wu(i,o,r,a,s,"next",t)}function s(t){wu(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(t,e,n){const o=new oo({}),r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Cu(t,e,n[e])}))}return t}({},ku,e.config);o.setStyle(new gi({image:new wa({src:r.icon})}));const i=new Bs({features:[o]}),a=new Ls({source:i}),s=yield dl(e.location);return{init:()=>a,update:t=>{const e=t.series[0];if(e&&e.length){var n;const t=ml(e,s);if(t.warning)return void console.log("WARN",t.warning);if(null===(n=t.points)||void 0===n?void 0:n.length){const e=t.points[t.points.length-1];o.setGeometry(e)}}}}}));return function(e,n,o){return t.apply(this,arguments)}}(),defaultOptions:ku};var Bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Tu=function(t){function e(e,n,o,r,i){var a=this,s=void 0!==i?0:2;return(a=t.call(this,e,n,o,s)||this).loader_=void 0!==i?i:null,a.canvas_=r,a.error_=null,a}return Bu(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=3):this.state=2,this.changed()},e.prototype.load=function(){0==this.state&&(this.state=1,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(v);var Ou=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Pu=function(t){function e(e,n,o,r,i,a,s){var l=this,c=e.getExtent(),u=n.getExtent(),h=u?(0,b.Ed)(o,u):o,f=Dt(e,n,(0,b.qg)(h),r),p=new kt(e,n,h,c,.5*f,r),d=a(p.calculateSourceExtent(),f,i),g=d?0:4,m=d?d.getPixelRatio():1;return(l=t.call(this,o,r,m,g)||this).targetProj_=n,l.maxSourceExtent_=c,l.triangulation_=p,l.targetResolution_=r,l.targetExtent_=o,l.sourceImage_=d,l.sourcePixelRatio_=m,l.interpolate_=s,l.canvas_=null,l.sourceListenerKey_=null,l}return Ou(e,t),e.prototype.disposeInternal=function(){1==this.state&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(2==t){var e=(0,b.dz)(this.targetExtent_)/this.targetResolution_,n=(0,b.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=Ft(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},e.prototype.load=function(){if(0==this.state){this.state=1,this.changed();var t=this.sourceImage_.getState();2==t||3==t?this.reproject_():(this.sourceListenerKey_=(0,E.oL)(this.sourceImage_,r.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();2!=e&&3!=e||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,E.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(v);var Ru=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Iu=function(t){function e(e,n){var o=t.call(this,e)||this;return o.image=n,o}return Ru(e,t),e}(qt.ZP),Du=function(t){function e(e){var n=this,o=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(o=e.interpolate),(n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:o})||this).on,n.once,n.un,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return Ru(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,le.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,o){var r=this.getProjection();if(r&&o&&!ft(r,o)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ft(this.reprojectedImage_.getProjection(),o)&&this.reprojectedImage_.getResolution()==e&&(0,b.fS)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Pu(r,o,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,r)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(o=r),this.getImageInternal(t,e,n,o)},e.prototype.getImageInternal=function(t,e,n,o){return(0,a.O3)()},e.prototype.handleImageChange=function(t){var e,n=t.target;switch(n.getState()){case 1:this.loading=!0,e="imageloadstart";break;case 2:this.loading=!1,e="imageloadend";break;case 3:this.loading=!1,e="imageloaderror";break;default:return}this.hasListener(e)&&this.dispatchEvent(new Iu(e,n))},e}(Ht);const Fu=Du;var Lu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mu=function(t){function e(e){var n=this,o=e||{},r=void 0===o.imageSmoothing||o.imageSmoothing;return void 0!==o.interpolate&&(r=o.interpolate),(n=t.call(this,{attributions:o.attributions,interpolate:r,projection:o.projection,resolutions:o.resolutions,state:o.state})||this).canvasFunction_=o.canvasFunction,n.canvas_=null,n.renderedRevision_=0,n.ratio_=void 0!==o.ratio?o.ratio:1.5,n}return Lu(e,t),e.prototype.getImageInternal=function(t,e,n,o){e=this.findNearestResolution(e);var r=this.canvas_;if(r&&this.renderedRevision_==this.getRevision()&&r.getResolution()==e&&r.getPixelRatio()==n&&(0,b.r4)(r.getExtent(),t))return r;t=t.slice(),(0,b.H9)(t,this.ratio_);var i=[(0,b.dz)(t)/e*n,(0,b.Cr)(t)/e*n],a=this.canvasFunction_.call(this,t,e,n,i,o);return a&&(r=new Tu(t,e,n,a)),this.canvas_=r,this.renderedRevision_=this.getRevision(),r},e}(Fu);const ju=Mu;var Nu=function(t){(t=t||{}).canvasFunction=this.calculateImage,this._source=t.source,this._canvas=document.createElement("CANVAS"),this._source.on(["addfeature","removefeature","clear","removefeature"],function(){this.changed()}.bind(this)),ju.call(this,t),t.useWorker&&(this.worker=new ol_ext_Worker(this.computeImage,{onMessage:this.onImageData.bind(this)})),this._position={extent:[],resolution:0},this.set("scale",t.scale||4),this._weight="function"==typeof t.weight?t.weight:function(e){return e.get(t.weight||"weight")}};hs(Nu,ju),Nu.prototype.getSource=function(){return this._source},Nu.prototype.setData=function(t,e,n){var o=this.getColor(t);e[n]=o[0],e[n+1]=o[1],e[n+2]=o[2],e[n+3]=o[3]},Nu.prototype.getValue=function(t){if(!this._canvas)return null;var e=this.transform(t);return this._canvas.getContext("2d").getImageData(Math.round(e[0]),Math.round(e[1]),1,1).data},Nu.prototype.computeImage=function(t){var e,n,o,r=function(t){return(t=(t+6)%6)<1?Math.round(255*t):t<3?255:t<4?Math.round(255*(4-t)):0},i=t.data.pts,a=t.data.width,s=t.data.height,l=new Uint8ClampedArray(a*s*4);for(n=0;n<s;n++)for(e=0;e<a;e++){for(var c=0,u=0,h=0;h<i.length;++h){var f=e-i[h][0],p=n-i[h][1],d=f*f+p*p;if(0===d){u=1,c=i[h][2];break}var g=1/(d*d);c+=g*i[h][2],u+=g}var m=(void 0,[r(2+(o=4-c/u*.04)),r(o),r(o-2),255]),y=4*(n*a+e);l[y]=m[0],l[y+1]=m[1],l[y+2]=m[2],l[y+3]=m[3]}return{type:"image",data:l,width:a,height:s}},Nu.prototype.calculateImage=function(t,e,n,o){if(!this._source)return this._canvas;if(this._updated)return this._updated=!1,this._canvas;var r=Math.round(o[0]/(this.get("scale")*n)),i=Math.round(o[1]/(this.get("scale")*n)),a=[],s=r/(t[2]-t[0]),l=i/(t[1]-t[3]),c=this.transform=function(e,n){return[(e[0]-t[0])*s,(e[1]-t[3])*l,n]};if(this._source.getFeatures().forEach(function(t){a.push(c(t.getGeometry().getFirstCoordinate(),this._weight(t)))}.bind(this)),this.worker)this.worker.postMessage({pts:a,width:r,height:i},!0),this.dispatchEvent({type:"drawstart"}),this._canvas.width===Math.round(o[0])&&this._canvas.height===Math.round(o[1])&&this._position.resolution===e&&this._position.extent[0]===t[0]&&this._position.extent[1]===t[1]||(this._canvas.width=Math.round(o[0]),this._canvas.height=Math.round(o[1])),this._position.extent=t,this._position.resolution=e;else{this._canvas.width=Math.round(o[0]),this._canvas.height=Math.round(o[1]);var u=this.computeImage({data:{pts:a,width:r,height:i}});this.onImageData(u)}return this._canvas},Nu.prototype.onImageData=function(t){var e=this._internal=document.createElement("CANVAS");e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(new ImageData(t.data,t.width,t.height),0,0),this._canvas.getContext("2d").drawImage(e,0,0,this._canvas.width,this._canvas.height),this.worker&&(this.dispatchEvent({type:"drawend"}),this._updated=!0,this.changed())};const zu=Nu;var Gu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qu=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return Gu(e,t),e}(Ze);const Zu=Qu;var Vu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wu=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return Vu(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,o=t.viewState,r=o.resolution,i=this.getLayer().getSource(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=(0,b.Ed)(s,wt(e.extent,o.projection))),!a[0]&&!a[1]&&!(0,b.xb)(s))if(i){var l=o.projection,c=i.getImage(s,r,n,l);c&&(this.loadImage(c)?this.image_=c:4===c.getState()&&(this.image_=null))}else this.image_=null;return!!this.image_},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),o=an(e.pixelToCoordinateTransform,t.slice()),r=n.getExtent();if(r&&!(0,b.b8)(r,o))return null;var i=this.image_.getExtent(),a=this.image_.getImage(),s=(0,b.dz)(i),l=Math.floor(a.width*((o[0]-i[0])/s));if(l<0||l>=a.width)return null;var c=(0,b.Cr)(i),u=Math.floor(a.height*((i[3]-o[1])/c));return u<0||u>=a.height?null:this.getImageData(a,l,u)},e.prototype.renderFrame=function(t,e){var n=this.image_,o=n.getExtent(),r=n.getResolution(),i=n.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],s=t.pixelRatio,l=t.viewState,c=l.center,u=s*r/(l.resolution*i),h=t.extent,f=l.resolution,p=l.rotation,d=Math.round((0,b.dz)(h)/f*s),g=Math.round((0,b.Cr)(h)/f*s);cn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,p,-d/2,-g/2),un(this.inversePixelTransform,this.pixelTransform);var m=hn(this.pixelTransform);this.useContainer(e,m,this.getBackground(t));var y=this.context,A=y.canvas;A.width!=d||A.height!=g?(A.width=d,A.height=g):this.containerReused||y.clearRect(0,0,d,g);var v=!1,_=!0;if(a.extent){var E=wt(a.extent,l.projection);(v=(_=(0,b.kK)(E,t.extent))&&!(0,b.r4)(E,t.extent))&&this.clipUnrotated(y,t,E)}var x=n.getImage(),w=cn(this.tempTransform,d/2,g/2,u,u,0,i*(o[0]-c[0])/r,i*(c[1]-o[3])/r);this.renderedResolution=r*s/i;var C=x.width*w[0],k=x.height*w[3];if(this.getLayer().getSource().getInterpolate()||(0,Ot.f0)(y,Bt),this.preRender(y,t),_&&C>=.5&&k>=.5){var S=w[4],B=w[5],T=a.opacity,O=void 0;1!==T&&(O=y.globalAlpha,y.globalAlpha=T),y.drawImage(x,0,0,+x.width,+x.height,S,B,C,k),1!==T&&(y.globalAlpha=O)}return this.postRender(y,t),v&&y.restore(),(0,Ot.f0)(y,Tt),m!==A.style.transform&&(A.style.transform=m),this.container},e}(xn);const qu=Wu;var Uu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const Xu=function(t){function e(e){return t.call(this,e)||this}return Uu(e,t),e.prototype.createRenderer=function(){return new qu(this)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(Zu);function Yu(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Ku(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Hu={weight:{fixed:1,min:0,max:1/0},showData:!1,showPopup:!1,scale:4},$u={id:"idwmap",name:"IDW Interpolation",description:"visualizes a Inverse Distance Weighted Interpolation",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Yu(i,o,r,a,s,"next",t)}function s(t){Yu(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(e,n,o){const r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Ku(t,e,n[e])}))}return t}({},Hu,n.config),i=yield dl(n.location),a=new vu(i),s="_weight";let l=new zu({source:a,scale:r.scale,weight:function(t){return t.get(s)}});const c=new Xu({source:l,opacity:.5});let u=new Ls;r.showData&&(u=new Ls({title:n.name,displayProperties:n.displayProperties,titleField:n.titleField,timeField:n.timeField,source:l.getSource(),style:function(t){return new gi({text:new ac({text:t.get(s).toString(),stroke:new ui({color:[255,255,255,128],width:1.25})})})}}));const h=new Ms.default({layers:[c,u],title:n.name,combine:!0});return{init:()=>h,update:e=>{const n=e.series[0];if(!n)return;a.update(n);const i=Rl(n,r.weight);var c;a.forEachFeature((t=>{const e=t.get("rowIndex");if(null!=e){let n=i.get(e);t.set(s,n)}}));const u=null!==(c=i.field)&&void 0!==c?c:n.fields.find((e=>e.type===t.FieldType.number));if(u&&(0,t.getFieldColorModeForField)(u).isByValue){const e=(0,t.getScaleCalculator)(u,o);l.getColor=function(t){let n=e(t).color;return[parseInt(n.slice(1,3),16),parseInt(n.slice(3,5),16),parseInt(n.slice(5,7),16),255]}}}}}));return function(t,n,o){return e.apply(this,arguments)}}(),registerOptionsUI:t=>{t.addCustomEditor({id:"config.weight",path:"config.weight",name:"Weight values",description:"Scale the distribution for each row",editor:Vl,settings:{min:0,max:1/0},defaultValue:{fixed:1,min:0,max:1/0}}).addSliderInput({path:"config.scale",description:"configures the precision of the interpolation",name:"Scale",defaultValue:Hu.scale,settings:{min:0,max:100,step:1}}).addBooleanSwitch({path:"config.showData",name:"Show data",description:"Show data",defaultValue:Hu.showData})},defaultOptions:Hu},Ju=[Tc,xu,$u,Su,Ic],th={type:"default",config:{}},eh={id:th.type,name:"Default base layer",isBaseMap:!0,create:(t,e,n)=>{var o;const r=null===Nn.config||void 0===Nn.config||null===(o=Nn.config.geomapDefaultBaseLayerConfig)||void 0===o?void 0:o.type;if(r){const e=nh.getIfExists(r);if(!e)throw new Error("Invalid basemap configuraiton on server");return e.create(t,Nn.config.geomapDefaultBaseLayerConfig,n)}return In.create(t,e,n)}},nh=new t.Registry((()=>[eh,...cs,...Ju]));var oh=function(){},rh="undefined"!=typeof window;const ih={TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:t=>`${t} menu`,MenuGroup:t=>`${t} menu group`,MenuItem:t=>`${t} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:t=>`data-testid Panel header ${t}`,headerItems:t=>`Panel header item ${t}`,containerByTitle:t=>`${t} panel`,headerCornerInfo:t=>`Panel header ${t}`},Visualization:{Graph:{VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:t=>`gpl alias ${t}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:t=>`VizLegend series ${t}`},Drawer:{General:{title:t=>`Drawer title ${t}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:t=>`${t} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"data-testid Apply changes and go back to dashboard",toggleVizPicker:"toggle-viz-picker",toggleVizOptions:"toggle-viz-options",toggleTableView:"toggle-table-view",measureButton:"show measure tools"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:t=>`Tab ${t}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:t=>`${t} query operation action`,title:t=>`Query editor row title ${t}`,container:t=>`Query editor row ${t}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:t=>`Alert ${t}`,alertV2:t=>`data-testid Alert ${t}`},TransformTab:{content:"Transform editor tab content",newTransform:t=>`New transform ${t}`,transformationEditor:t=>`Transformation editor ${t}`,transformationEditorDebugger:t=>`Transformation editor debugger ${t}`},Transforms:{card:t=>`New transform ${t}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},SpatialOperations:{actionLabel:"root Action field property editor",locationLabel:"root Location field property editor",location:{autoOption:"Auto location option",coords:{option:"Coords location option",latitudeFieldLabel:"root Latitude field field property editor",longitudeFieldLabel:"root Longitude field field property editor"},geohash:{option:"Geohash location option",geohashFieldLabel:"root Geohash field field property editor"},lookup:{option:"Lookup location option",lookupFieldLabel:"root Lookup field field property editor",gazetteerFieldLabel:"root Gazetteer field property editor"}}},searchInput:"search transformations"},PageToolbar:{container:()=>".page-toolbar",item:t=>`${t}`},QueryEditorToolbarItem:{button:t=>`QueryEditor toolbar item button ${t}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:t=>t?`Options group ${t}`:"Options group",toggle:t=>t?`Options group ${t} toggle`:"Options group toggle"},PluginVisualization:{item:t=>`Plugin visualization item ${t}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:t=>`Value picker button ${t}`,select:t=>`Value picker select ${t}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:t=>`data-testid Collapse folder ${t}`,expandFolder:t=>`data-testid Expand folder ${t}`,dashboardItem:t=>`${ih.Search.dashboardItems} ${t}`,dashboardCard:t=>`data-testid Search card ${t}`,folderHeader:t=>`data-testid Folder header ${t}`,folderContent:t=>`data-testid Folder content ${t}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:t=>`Call to action button ${t}`,buttonV2:t=>`data-testid Call to action button ${t}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:t=>`data-testid suggestion-${t}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:t=>`data-testid dashboard-row-title-${t}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"},DebugOverlay:{wrapper:"debug-overlay"}},ah={pages:{Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:t=>`Data source list item ${t}`},AddDataSource:{url:"/datasources/new",dataSourcePlugins:t=>`Data source plugin item ${t}`,dataSourcePluginsV2:t=>`Add data source ${t}`},ConfirmModal:{delete:"Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:t=>`/d/${t}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:t=>`data-testid Dashboard template variables submenu Label ${t}`,submenuItemValueDropDownValueLinkTexts:t=>`data-testid Dashboard template variables Variable Value DropDown value link text ${t}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:t=>`data-testid Dashboard template variables Variable Value DropDown option text ${t}`},Settings:{General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:t=>`Dashboard settings section item ${t}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Tab General"},Annotations:{List:{addAnnotationCTA:ih.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:ih.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"}},Variables:{List:{addVariableCTA:ih.CallToActionCard.button("Add variable"),addVariableCTAV2:ih.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:t=>`Variable editor Table Name field ${t}`,tableRowDefinitionFields:t=>`Variable editor Table Definition field ${t}`,tableRowArrowUpButtons:t=>`Variable editor Table ArrowUp button ${t}`,tableRowArrowDownButtons:t=>`Variable editor Table ArrowDown button ${t}`,tableRowDuplicateButtons:t=>`Variable editor Table Duplicate button ${t}`,tableRowRemoveButtons:t=>`Variable editor Table Remove button ${t}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button",applyButton:"data-testid Variable editor Apply button"},QueryVariable:{queryOptionsDataSourceSelect:ih.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}}},Dashboards:{url:"/dashboards",dashboards:t=>`Dashboard search item ${t}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",EnableSwitch:"data-testid public dashboard on off switch",EnableAnnotationsSwitch:"data-testid public dashboard on off switch for annotations",SaveConfigButton:"data-testid public dashboard save config button",DeleteButton:"data-testid public dashboard delete button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert"}},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:t=>`/d-solo/${t}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemDelete:"Delete playlist item"},Search:{url:"/?search=openn",FolderView:{url:"/?search=open&layout=folders"}},PublicDashboards:{ListItem:{linkButton:"public-dashboard-link-button",configButton:"public-dashboard-configuration-button",trashcanButton:"public-dashboard-remove-button"}}},components:ih},sh=n().memo((({id:t,title:r,children:i,forceOpen:a,isOpenDefault:s,renderTitle:l,className:c,itemsCount:u,isNested:h=!1})=>{const f=!1!==s,[p,d]=function(t,n,o){if(!rh)return[n,oh,oh];if(!t)throw new Error("useLocalStorage key may not be falsy");var r=o?o.raw?function(t){return t}:o.deserializer:JSON.parse,i=(0,e.useRef)((function(t){try{var e=o?o.raw?String:o.serializer:JSON.stringify,i=localStorage.getItem(t);return null!==i?r(i):(n&&localStorage.setItem(t,e(n)),n)}catch(t){return n}})),a=(0,e.useState)((function(){return i.current(t)})),s=a[0],l=a[1];(0,e.useLayoutEffect)((function(){return l(i.current(t))}),[t]);var c=(0,e.useCallback)((function(e){try{var n,i="function"==typeof e?e(s):e;if(void 0===i)return;n=o?o.raw?"string"==typeof i?i:JSON.stringify(i):o.serializer?o.serializer(i):JSON.stringify(i):JSON.stringify(i),localStorage.setItem(t,n),l(r(n))}catch(t){}}),[t,l]),u=(0,e.useCallback)((function(){try{localStorage.removeItem(t),l(void 0)}catch(t){}}),[t,l]);return[s,c,u]}(ch(t),{isExpanded:f});var g;const[m,y]=(0,e.useState)(null!==(g=null==p?void 0:p.isExpanded)&&void 0!==g?g:f),A=(0,o.useStyles2)(lh);(0,e.useEffect)((()=>{!m&&a&&a>0&&y(!0)}),[a,m]);const v=(0,e.useCallback)((()=>{d({isExpanded:!m}),y(!m)}),[d,y,m]);l||(l=function(t){return t||void 0===u||0===u?r:n().createElement("span",null,r," ",n().createElement(o.Counter,{value:u}))});const _=(0,Dl.cx)({[A.box]:!0,[A.boxNestedExpanded]:h&&m},c,"options-group"),b=(0,Dl.cx)(A.header,{[A.headerExpanded]:m,[A.headerNested]:h}),E=(0,Dl.cx)(A.body,{[A.bodyNested]:h});return n().createElement("div",{className:_,"data-testid":"options-category","aria-label":ah.components.OptionsGroup.group(t)},n().createElement("div",{className:b,onClick:v,"aria-label":ah.components.OptionsGroup.toggle(t)},n().createElement("div",{className:(0,Dl.cx)(A.toggle,"editor-options-group-toggle")},n().createElement(o.Icon,{name:m?"angle-down":"angle-right"})),n().createElement("div",{className:A.title,role:"heading"},l(m))),m&&n().createElement("div",{className:E},i))}));sh.displayName="OptionsPaneCategory";const lh=t=>({box:Dl.css`
      border-top: 1px solid ${t.colors.border.weak};
    `,boxNestedExpanded:Dl.css`
      margin-bottom: ${t.spacing(2)};
    `,toggle:Dl.css`
      color: ${t.colors.text.secondary};
      margin-right: ${t.spacing(1)};
    `,title:Dl.css`
      flex-grow: 1;
      overflow: hidden;
    `,header:Dl.css`
      display: flex;
      cursor: pointer;
      align-items: baseline;
      padding: ${t.spacing(1)};
      color: ${t.colors.text.primary};
      font-weight: ${t.typography.fontWeightMedium};

      &:hover {
        background: ${t.colors.emphasize(t.colors.background.primary,.03)};
      }
    `,headerExpanded:Dl.css`
      color: ${t.colors.text.primary};
    `,headerNested:Dl.css`
      padding: ${t.spacing(.5,0,.5,0)};
    `,body:Dl.css`
      padding: ${t.spacing(1,2,1,4)};
    `,bodyNested:Dl.css`
      position: relative;
      padding-right: 0;
      &:before {
        content: '';
        position: absolute;
        top: 0;
        left: 8px;
        width: 1px;
        height: 100%;
        background: ${t.colors.border.weak};
      }
    `}),ch=t=>`grafana.dashboard.editor.ui.optionGroup[${t}]`;function uh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hh(){return hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},hh.apply(this,arguments)}class fh{addItem(t){return t.parent=this,this.items.push(t),this}addCategory(t){return t.props.isNested=!0,t.parent=this,this.categories.push(t),this}render(t){return this.props.customRender?this.props.customRender():n().createElement(sh,hh({key:this.props.title},this.props),this.items.map((t=>t.render())),this.categories.map((t=>t.render())))}constructor(t){uh(this,"props",void 0),uh(this,"items",void 0),uh(this,"categories",void 0),uh(this,"parent",void 0),this.props=t,this.items=[],this.categories=[]}}function ph(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){ph(t,e,n[e])}))}return t}function gh(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}function mh(t,e,n){const o=Array.isArray(e)?e:e.split("."),r=o.shift();if(r.endsWith("]")){const e=r.lastIndexOf("["),i=+r.substring(e+1,r.length-1),a=r.substr(0,e);let s=t[a];const l=Array.isArray(s)?[...s]:[];return o.length&&(s=l[i],null!=s&&"object"==typeof s||(s={}),n=mh(s,o,n)),l[i]=n,gh(dh({},t),{[a]:l})}if(!o.length)return gh(dh({},t),{[r]:n});let i=t[r];return null!=i&&"object"==typeof i||(i={}),gh(dh({},t),{[r]:mh(i,o,n)})}var yh=c(5464),Ah=c.n(yh);function vh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class _h{getLabel(t){const{title:e,description:r}=this.props;if(!t)return this.parent.props.title===e?null:e;const i=[];return this.parent.parent&&i.push(this.highlightWord(this.parent.parent.props.title,t)),this.parent.props.title!==e&&i.push(this.highlightWord(this.parent.props.title,t)),n().createElement(o.Label,{description:r&&this.highlightWord(r,t),category:i},this.highlightWord(e,t))}highlightWord(t,e){return n().createElement(Ah(),{textToHighlight:t,searchWords:[e],highlightClassName:"search-fragment-highlight"})}render(t){const{title:e,description:r,render:i,showIf:a,skipField:s}=this.props,l=`${this.parent.props.id} ${e}`;return a&&!a()?null:s?i():n().createElement(o.Field,{label:this.getLabel(t),description:r,key:l,"aria-label":ah.components.PanelEditor.OptionsPane.fieldLabel(l)},i())}constructor(t){vh(this,"props",void 0),vh(this,"parent",void 0),this.props=t}}function bh(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Eh(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){bh(i,o,r,a,s,"next",t)}function s(t){bh(i,o,r,a,s,"throw",t)}a(void 0)}))}}const xh=[{label:"Countries",description:"Lookup countries by name, two letter code, or three leter code",value:Vs},{label:"USA States",description:"Lookup states by name or 2 ",value:"public/gazetteer/usa-states.json"}],wh=({value:t,onChange:r,context:i})=>{const a=Ch((0,o.useTheme2)()),[s,l]=(0,e.useState)();(0,e.useEffect)((()=>{function e(){return(e=Eh((function*(){const e=yield Ws(t);l(e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,l]);const{current:c,options:u}=(0,e.useMemo)((()=>{let t=[...xh],e=t.find((t=>t.value===(null==s?void 0:s.path)));return!e&&s&&(e={label:s.path,value:s.path},t.push(e)),{options:t,current:e}}),[s]);return n().createElement(n().Fragment,null,n().createElement(o.Select,{menuShouldPortal:!0,value:c,options:u,onChange:t=>r(t.value),allowCustomValue:!0,formatCreateLabel:t=>`Load from URL: ${t}`}),s&&n().createElement(n().Fragment,null,s.error&&n().createElement(o.Alert,{title:s.error,severity:"warning"}),s.count&&n().createElement("div",{className:a.keys},n().createElement("b",null,"(",s.count,")"),s.examples(10).map((t=>n().createElement("span",{key:t},t,",")))," ","&ellipsis;")))},Ch=(0,o.stylesFactory)((t=>({keys:Dl.css`
      margin-top: 4px;
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;

      > span {
        margin-left: 4px;
      }
    `}))),kh=({value:r,context:i,onChange:a,item:s})=>{const l=(0,e.useMemo)((()=>i.data.map((e=>({value:e.refId,label:`Query: ${e.refId} (size: ${e.length})`,description:e.fields.map((e=>(0,t.getFieldDisplayName)(e))).join(", ")})))),[i.data]),[c,u]=(0,e.useState)({refIds:[],value:void 0}),h=(0,e.useMemo)((()=>{var t;return null!==(t=l.find((t=>t.value===(null==r?void 0:r.options))))&&void 0!==t?t:((t,e,n)=>{if(n)return t.find((t=>!e.some((e=>t===e))))||void 0})(l,c.refIds,c.value)}),[r,l,c]),f=(0,e.useCallback)((e=>{a((null==e?void 0:e.value)?{id:t.FrameMatcherID.byRefId,options:e.value}:void 0)}),[a]);return l===c.refIds&&(null==h?void 0:h.value)===c.value||u({refIds:l,value:null==h?void 0:h.value}),n().createElement(o.Select,{options:l,onChange:f,isClearable:!0,placeholder:"Change filter",value:h})};function Sh(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function Bh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Th(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Bh(t,e,n[e])}))}return t}function Oh(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const Ph=({options:r,onChange:i,data:a,filter:s})=>{const l=(0,e.useMemo)((()=>nh.selectOptions((null==r?void 0:r.type)?[r.type]:[th.type],s)),[null==r?void 0:r.type,s]),c=(0,e.useMemo)((()=>{const e=nh.getIfExists(null==r?void 0:r.type);if(!e||!(e.registerOptionsUI||e.showLocation||e.showOpacity||"nextzen"===e.id))return null;const n=new t.PanelOptionsEditorBuilder;return"nextzen"===e.id&&n.addTextInput({path:"apiKey",name:"API key",description:"API key for nextzen",settings:{}}),e.showLocation&&n.addTextInput({path:"name",name:"Name",description:"Layer name",settings:{}}).addCustomEditor({id:"query",path:"query",name:"Query",editor:kh,defaultValue:void 0}).addRadio({path:"location.mode",name:"Location",description:"",defaultValue:il.Auto,settings:{options:[{value:il.Auto,label:"Auto"},{value:il.Coords,label:"Coords"},{value:il.Geohash,label:"Geohash"},{value:il.Lookup,label:"Lookup"},{value:il.Geojson,label:"Geojson"}]}}).addFieldNamePicker({path:"location.geojson",name:"Geojson field",showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Geojson}}).addFieldNamePicker({path:"location.latitude",name:"Latitude field",settings:{filter:e=>e.type===t.FieldType.number,noFieldsMessage:"No numeric fields found"},showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Coords}}).addFieldNamePicker({path:"location.longitude",name:"Longitude field",settings:{filter:e=>e.type===t.FieldType.number,noFieldsMessage:"No numeric fields found"},showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Coords}}).addFieldNamePicker({path:"location.geohash",name:"Geohash field",settings:{filter:e=>e.type===t.FieldType.string,noFieldsMessage:"No strings fields found"},showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Geohash}}).addFieldNamePicker({path:"location.lookup",name:"Lookup field",settings:{filter:e=>e.type===t.FieldType.string,noFieldsMessage:"No strings fields found"},showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Lookup}}).addCustomEditor({id:"gazetteer",path:"location.gazetteer",name:"Gazetteer",editor:wh,showIf:t=>{var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===il.Lookup}}).addFieldNamePicker({path:"titleField",name:"Pop up title",settings:{filter:e=>e.type===t.FieldType.string,noFieldsMessage:"No string fields found"}}).addFieldNamePicker({path:"timeField",name:"Pop up Time",settings:{filter:e=>e.type===t.FieldType.time,noFieldsMessage:"No time fields found"}}).addMultiSelect({path:"displayProperties",name:"Properties",description:"Select properties to be displayed",settings:{allowCustomValue:!1,options:[],placeholder:"All Properties",getOptions:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){Sh(i,o,r,a,s,"next",t)}function s(t){Sh(i,o,r,a,s,"throw",t)}a(void 0)}))}}((function*(e){const n=[];if(e&&e.data&&e.data.length>0&&e.options&&e.options.query&&e.options.query.options){const o=e.data;for(let r=0;r<o.length;r++)if(o[r].refId&&o[r].refId===e.options.query.options){const o=e.data[r];for(const r of o.fields){const i=(0,t.getFieldDisplayName)(r,o,e.data),a=r.name;n.push({value:a,label:i})}}}else if(e&&e.data&&e.data.length>0&&e.data[0].meta){const o=e.data;for(let r=0;r<o.length;r++){const o=e.data[r];for(const r of o.fields){const i=(0,t.getFieldDisplayName)(r,o,e.data),a=r.name;n.push({value:a,label:i})}}}return n}));return function(t){return e.apply(this,arguments)}}()},defaultValue:""}),e.registerOptionsUI&&e.registerOptionsUI(n),e.showOpacity,n}),[null==r?void 0:r.type]),u=(0,e.useMemo)((()=>{const t=nh.getIfExists(null==r?void 0:r.type);if(!c||!t)return null;const e=new fh({id:"Layer config",title:"Layer config"}),o={data:a,options:r},s=Oh(Th({},r),{type:t.id,config:Th({},t.defaultOptions,null==r?void 0:r.config)});return(!r||t.defaultOptions&&!r.config)&&i(s),function(t,e,o,r){for(const i of t){if(i.showIf&&!i.showIf(r.options,r.data))continue;const t=e(i.category),a=i.editor;t.addItem(new _h({title:i.name,description:i.description,render:function(){return n().createElement(a,{value:(0,Sl.get)(r.options,i.path),onChange:t=>{o(i.path,t)},item:i,context:r})}}))}}(c.getRegistry().list(),(t=>e),((t,e)=>{i(mh(s,t,e))}),o),n().createElement(n().Fragment,null,n().createElement("br",null),e.items.map((t=>t.render())))}),[c,i,a,r]);return n().createElement("div",null,n().createElement(o.Select,{menuShouldPortal:!0,options:l.options,value:l.current,onChange:t=>{const e=nh.getIfExists(t.value);e?i(Oh(Th({},r),{type:e.id,config:Th({},e.defaultOptions)})):console.warn("layer does not exist",t)}}),u)};function Rh(e){return!!e.isBaseMap&&(e.state!==t.PluginState.alpha||zn)}const Ih=({value:t,onChange:e,context:o})=>Nn.config.geomapDisableCustomBaseLayer?n().createElement("div",null,"The base layer is configured by the server admin."):n().createElement(Ph,{options:t,data:o.data,onChange:e,filter:Rh});function Dh(e){return!e.isBaseMap&&(e.state!==t.PluginState.alpha||zn)}const Fh=({value:t,onChange:e,context:r})=>n().createElement(n().Fragment,null,n().createElement("div",{className:"data-layer-add"},n().createElement(o.ToolbarButton,{icon:"plus",tooltip:"add new layer",variant:"primary",key:"Add",onClick:()=>{let n=t?Bl().cloneDeep(t):[];n.push(Sc),e(n)}},"Add Layer")),(t||[]).map(((i,a)=>n().createElement(n().Fragment,null,n().createElement(o.CollapsableSection,{label:i.name?i.name+" layer":"unnamed layer",isOpen:!1},n().createElement(Ph,{options:i||void 0,data:r.data,onChange:n=>{let o=t?Bl().cloneDeep(t):[];o[a]=n,e(o)},filter:Dh}),n().createElement("div",{className:"data-layer-remove"},n().createElement(o.ToolbarButton,{icon:"trash-alt",tooltip:"delete",variant:"destructive",key:"Delete",onClick:n=>{(n=>{let o=t?Bl().cloneDeep(t):[];o.splice(n,1),e(o)})(a)}},"Delete"))))))),Lh={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Mh(t,e,n){return function(o,r,i,a,s){if(o){if(!r&&!e)return o;var l=e?0:i[0]*r,c=e?0:i[1]*r,u=s?s[0]:0,h=s?s[1]:0,f=t[0]+l/2+u,p=t[2]-l/2+u,d=t[1]+c/2+h,g=t[3]-c/2+h;f>p&&(p=f=(p+f)/2),d>g&&(g=d=(g+d)/2);var m=(0,R.uZ)(o[0],f,p),y=(0,R.uZ)(o[1],d,g);if(a&&n&&r){var A=30*r;m+=-A*Math.log(1+Math.max(0,f-o[0])/A)+A*Math.log(1+Math.max(0,o[0]-p)/A),y+=-A*Math.log(1+Math.max(0,d-o[1])/A)+A*Math.log(1+Math.max(0,o[1]-g)/A)}return[m,y]}}}function jh(t){return t}function Nh(t,e,n,o){var r=(0,b.dz)(e)/n[0],i=(0,b.Cr)(e)/n[1];return o?Math.min(t,Math.max(r,i)):Math.min(t,Math.min(r,i))}function zh(t,e,n){var o=Math.min(t,e);return o*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(o=Math.max(o,n),o/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,R.uZ)(o,n/2,2*e)}function Gh(t,e,n,o,r){return function(i,a,s,l){if(void 0!==i){var c=o?Nh(t,o,s,r):t;return(void 0===n||n)&&l?zh(i,c,e):(0,R.uZ)(i,e,c)}}}function Qh(t){return void 0!==t?0:void 0}function Zh(t){return void 0!==t?t:void 0}var Vh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Wh=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=(0,Ot.f0)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=ct(o.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,o.projection&&nt(),o.center&&(o.center=Et(o.center,n.projection_)),o.extent&&(o.extent=wt(o.extent,n.projection_)),n.applyOptions_(o),n}return Vh(e,t),e.prototype.applyOptions_=function(t){var e=(0,Ot.f0)({},t);for(var n in Lh)delete e[n];this.setProperties(e,!0);var o=function(t){var e,n,o,r=void 0!==t.minZoom?t.minZoom:0,i=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,c=void 0!==t.showFullExtent&&t.showFullExtent,u=ct(t.projection,"EPSG:3857"),h=u.getExtent(),f=t.constrainOnlyCenter,p=t.extent;if(s||p||!u.isGlobal()||(f=!1,p=h),void 0!==t.resolutions){var d=t.resolutions;n=d[r],o=void 0!==d[i]?d[i]:d[d.length-1],e=t.constrainResolution?function(t,e,n,o){return function(r,i,a,s){if(void 0!==r){var l=t[0],c=t[t.length-1],u=n?Nh(l,n,a,o):l;if(s)return void 0===e||e?zh(r,u,c):(0,R.uZ)(r,c,u);var h=Math.min(u,r),f=Math.floor((0,le.h7)(t,h,i));return t[f]>u&&f<t.length-1?t[f+1]:t[f]}}}(d,l,!f&&p,c):Gh(n,o,l,!f&&p,c)}else{var g=(h?Math.max((0,b.dz)(h),(0,b.Cr)(h)):360*B[T.DEGREES]/u.getMetersPerUnit())/256/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=g/Math.pow(a,r),void 0===(o=t.minResolution)&&(o=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,i):g/Math.pow(a,i):m),i=r+Math.floor(Math.log(n/o)/Math.log(a)),o=n/Math.pow(a,i-r),e=t.constrainResolution?function(t,e,n,o,r,i){return function(a,s,l,c){if(void 0!==a){var u=r?Nh(e,r,l,i):e,h=void 0!==n?n:0;if(c)return void 0===o||o?zh(a,u,h):(0,R.uZ)(a,h,u);var f=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,d=Math.min(u,a),g=Math.floor(Math.log(e/d)/Math.log(t)+p),m=Math.max(f,g),y=e/Math.pow(t,m);return(0,R.uZ)(y,h,u)}}}(a,n,o,l,!f&&p,c):Gh(n,o,l,!f&&p,c)}return{constraint:e,maxResolution:n,minResolution:o,minZoom:r,zoomFactor:a}}(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var r=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Mh(t.extent,t.constrainOnlyCenter,e)}var n=ct(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var o=n.getExtent().slice();return o[0]=-1/0,o[2]=1/0,Mh(o,!1,!1)}return jh}(t),i=o.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=(0,R.Yr)(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Zh:"number"==typeof e?(n=e,o=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/o+.5)*o:void 0}):Zh}return Qh;var n,o,r}(t);this.constraints_={center:r,resolution:i,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var o=t||[0,0,0,0];e=e||[0,0,0,0];var r=this.getResolution(),i=r/2*(o[3]-e[3]+e[1]-o[1]),a=r/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([n[0]+i,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,Ot.f0)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var o=arguments[n];o.center&&((o=(0,Ot.f0)({},o)).center=Et(o.center,this.getProjection())),o.anchor&&((o=(0,Ot.f0)({},o)).anchor=Et(o.anchor,this.getProjection())),e[n]=o}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var o=0;o<n&&!this.isDef();++o){var r=arguments[o];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(o!==n){for(var i=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,c=[];o<n;++o){var u=arguments[o],f={start:i,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||h,callback:e};if(u.center&&(f.sourceCenter=a,f.targetCenter=u.center.slice(),a=f.targetCenter),void 0!==u.zoom?(f.sourceResolution=s,f.targetResolution=this.getResolutionForZoom(u.zoom),s=f.targetResolution):u.resolution&&(f.sourceResolution=s,f.targetResolution=u.resolution,s=f.targetResolution),void 0!==u.rotation){f.sourceRotation=l;var p=(0,R.$W)(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+p,l=f.targetRotation}Uh(f)?f.complete=!0:i+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()}else e&&qh(e,!0)},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var o=this.animations_[e];if(o[0].callback&&qh(o[0].callback,!1),!t)for(var r=0,i=o.length;r<i;++r){var a=o[r];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var o=this.animations_[n],r=!0,i=0,a=o.length;i<a;++i){var s=o[i];if(!s.complete){var l=t-s.start,c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):r=!1;var u=s.easing(c);if(s.sourceCenter){var h=s.sourceCenter[0],f=s.sourceCenter[1],p=s.targetCenter[0],d=s.targetCenter[1];this.nextCenter_=s.targetCenter;var g=h+u*(p-h),m=f+u*(d-f);this.targetCenter_=[g,m]}if(s.sourceResolution&&s.targetResolution){var y=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var A=this.getViewportSize_(this.getRotation()),v=this.constraints_.resolution(y,0,A,!0);this.targetCenter_=this.calculateCenterZoom(v,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===u?(0,R.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var b=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(b,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=_}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var E=o[0].callback;E&&qh(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,o=this.getCenterInternal();return void 0!==o&&(H(n=[o[0]-e[0],o[1]-e[1]],t-this.getRotation()),Y(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,o=this.getCenterInternal(),r=this.getResolution();return void 0!==o&&void 0!==r&&(n=[e[0]-t*(e[0]-o[0])/r,e[1]-t*(e[1]-o[1])/r]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],o=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(o*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?bt(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Lh.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return xt(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();(0,jt.h)(n,1);var o=this.getResolution();(0,jt.h)(void 0!==o,2);var r=this.getRotation();return(0,jt.h)(void 0!==r,3),(0,b.p8)(n,o,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Lh.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(wt(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),o=(0,b.dz)(t)/n[0],r=(0,b.Cr)(t)/n[1];return Math.max(o,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,r=Math.log(n/o)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Lh.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,r=Math.log(n/o)/e;return function(t){return Math.log(n/t)/e/r}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),o=this.getCenterInternal(),r=this.padding_;if(r){var i=this.getViewportSizeMinusPadding_();o=Xh(o,this.getViewportSize_(),[i[0]/2+r[3],i[1]/2+r[0]],e,n)}return{center:o.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,o=this.minZoom_||0;if(this.resolutions_){var r=(0,le.h7)(this.resolutions_,t,1);o=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return o+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,R.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,R.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if((0,jt.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))(0,jt.h)(!(0,b.xb)(t),25),n=dr(o=wt(t,this.getProjection()));else if("Circle"===t.getType()){var o;(n=dr(o=wt(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),(0,b.qg)(o))}else{var r=_t();n=r?t.clone().transform(r,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),o=Math.sin(-e),r=t.getFlatCoordinates(),i=t.getStride(),a=1/0,s=1/0,l=-1/0,c=-1/0,u=0,h=r.length;u<h;u+=i){var f=r[u]*n-r[u+1]*o,p=r[u]*o+r[u+1]*n;a=Math.min(a,f),s=Math.min(s,p),l=Math.max(l,f),c=Math.max(c,p)}return[a,s,l,c]},e.prototype.fitInternal=function(t,e){var n=e||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var r,i=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(s,[o[0]-i[1]-i[3],o[1]-i[0]-i[2]]);l=isNaN(l)?r:Math.max(l,r),l=this.getConstrainedResolution(l,a?0:1);var c=this.getRotation(),u=Math.sin(c),h=Math.cos(c),f=(0,b.qg)(s);f[0]+=(i[1]-i[3])/2*l,f[1]+=(i[0]-i[2])/2*l;var p=f[0]*h-f[1]*u,d=f[1]*h+f[0]*u,g=this.getConstrainedCenter([p,d],l),m=n.callback?n.callback:po.Zn;void 0!==n.duration?this.animateInternal({resolution:l,center:g,duration:n.duration,easing:n.easing},m):(this.targetResolution_=l,this.targetCenter_=g,this.applyTargetState_(!1,!0),qh(m,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Et(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Xh(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,o){var r,i=this.padding_;if(i&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Xh(t,o,[a[0]/2+i[3],a[1]/2+i[0]],e,n);r=[t[0]-s[0],t[1]-s[1]]}return r},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=bt(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Et(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*t,0,o,n);e&&(this.targetCenter_=this.calculateCenterZoom(r,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Et(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t?Et(t,this.getProjection()):t)},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(o),i=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,i,r,n,this.calculateCenterShift(this.targetCenter_,i,o,r));this.get(Lh.ROTATION)!==o&&this.set(Lh.ROTATION,o),this.get(Lh.RESOLUTION)!==i&&(this.set(Lh.RESOLUTION,i),this.set("zoom",this.getZoom(),!0)),a&&this.get(Lh.CENTER)&&K(this.get(Lh.CENTER),a)||this.set(Lh.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var o=void 0!==t?t:200,r=e||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,r,a),c=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,i,a));if(0===o&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=c,void this.applyTargetState_();var u=n||(0===o?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&K(this.getCenterInternal(),c)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:c,resolution:s,duration:o,easing:l,anchor:u}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var o=n&&Et(n,this.getProjection());this.endInteractionInternal(t,e,o)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,o)},e}(Ut.Z);function qh(t,e){setTimeout((function(){t(e)}),0)}function Uh(t){return!(t.sourceCenter&&t.targetCenter&&!K(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}function Xh(t,e,n,o,r){var i=Math.cos(-r),a=Math.sin(-r),s=t[0]*i-t[1]*a,l=t[1]*i+t[0]*a;return[(s+=(e[0]/2-n[0])*o)*i-(l+=(n[1]-e[1]/2)*o)*(a=-a),l*i+s*a]}const Yh=Wh;var Kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Hh=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Kh(e,t),e.prototype.dispatchRenderEvent=function(t,e){(0,a.O3)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;cn(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),un(o,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,r,i,a,s){var l,c=e.viewState;function u(t,e,n,o){return r.call(i,e,t?n:null,o)}var h=c.projection,f=J(t.slice(),h),p=[[0,0]];if(h.canWrapX()&&o){var d=h.getExtent(),g=(0,b.dz)(d);p.push([-g,0],[g,0])}for(var m=e.layerStatesArray,y=m.length,A=[],v=[],_=0;_<p.length;_++)for(var E=y-1;E>=0;--E){var x=m[E],w=x.layer;if(w.hasRenderer()&&Qe(x,c)&&a.call(s,w)){var C=w.getRenderer(),k=w.getSource();if(C&&k){var S=k.getWrapX()?f:t,B=u.bind(null,x.managed);v[0]=S[0]+p[_][0],v[1]=S[1]+p[_][1],l=C.forEachFeatureAtCoordinate(v,e,n,B,A)}if(l)return l}}if(0!==A.length){var T=1/A.length;return A.forEach((function(t,e){return t.distanceSq+=e*T})),A.sort((function(t,e){return t.distanceSq-e.distanceSq})),A.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,o,r){return(0,a.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,o,r,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,o,po.uX,this,r,i)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){(0,a.O3)()},e.prototype.scheduleExpireIconCache=function(t){Aa.canExpireCache()&&t.postRenderFunctions.push($h)},e}(Vc.Z);function $h(t,e){Aa.expire()}const Jh=Hh;var tf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const ef=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=(0,E.oL)(Wr,As.Z.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var o=n.element_.style;o.position="absolute",o.width="100%",o.height="100%",o.zIndex="0",n.element_.className="ol-unselectable ol-layers";var r=e.getViewport();return r.insertBefore(n.element_,r.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return tf(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var o=new Je(t,void 0,e);n.dispatchEvent(o)}},e.prototype.disposeInternal=function(){(0,E.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(Me,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var o=[],r=null,i=0,a=e.length;i<a;++i){var s=e[i];t.layerIndex=i;var l=s.layer,c=l.getSourceState();if(!Qe(s,n)||"ready"!=c&&"undefined"!=c)l.unrender();else{var u=l.render(t,r);u&&(u!==r&&(this.children_.push(u),r=u),"getDeclutter"in l&&o.push(l))}}for(i=o.length-1;i>=0;--i)o[i].renderDeclutter(t);(0,y.hF)(this.element_,this.children_),this.dispatchRenderEvent(je,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,o,r){for(var i=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&Qe(l,i)&&r(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var h=o(c,u);if(h)return h}}}},e}(Jh);var nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const of=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.map=n,r.frameState=void 0!==o?o:null,r}return nf(e,t),e}(qt.ZP);var rf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const af=function(t){function e(e,n,o,r,i,a){var s=t.call(this,e,n,i)||this;return s.originalEvent=o,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==r&&r,s.activePointers=a,s}return rf(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(of),sf={SINGLECLICK:"singleclick",CLICK:r.Z.CLICK,DBLCLICK:r.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},lf="pointerdown";var cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const uf=function(t){function e(e,n){var o=t.call(this,e)||this;o.map_=e,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=void 0===n?1:n,o.down_=null;var i=o.map_.getViewport();return o.activePointers_=[],o.trackedTouches_={},o.element_=i,o.pointerdownListenerKey_=(0,E.oL)(i,lf,o.handlePointerDown_,o),o.originalPointerMoveEvent_,o.relayedListenerKey_=(0,E.oL)(i,"pointermove",o.relayMoveEvent_,o),o.boundHandleTouchMove_=o.handleTouchMove_.bind(o),o.element_.addEventListener(r.Z.TOUCHMOVE,o.boundHandleTouchMove_,!!_.bM&&{passive:!1}),o}return cf(e,t),e.prototype.emulateClick_=function(t){var e=new af(sf.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new af(sf.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new af(sf.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t,n=e.pointerId;if(e.type==sf.POINTERUP||e.type==sf.POINTERCANCEL){for(var o in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[o].target!==e.target){delete this.trackedTouches_[o];break}}else e.type!=sf.POINTERDOWN&&e.type!=sf.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=(0,Ot.KX)(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new af(sf.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(E.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new af(sf.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(e),this.down_={},t){var o=t[n];this.down_[n]="function"==typeof o?po.Zn:o}if(0===this.dragListenerKeys_.length){var r=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,E.oL)(r,sf.POINTERMOVE,this.handlePointerMove_,this),(0,E.oL)(r,sf.POINTERUP,this.handlePointerUp_,this),(0,E.oL)(this.element_,sf.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push((0,E.oL)(this.element_.getRootNode(),sf.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new af(sf.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new af(sf.POINTERMOVE,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,E.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(r.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,E.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(E.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(i.Z);var hf=c(9121);const ff="layergroup",pf="size",df="target",gf="view";var mf=1/0;const yf=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,Ot.ZH)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var o=this.keyFunction_(n);return delete this.queuedElements_[o],n},t.prototype.enqueue=function(t){(0,jt.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=mf&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,o=e.length,r=e[t],i=n[t],a=t;t<o>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<o&&n[l]<n[s]?l:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=r,n[t]=i,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,o=this.priorities_,r=n[e],i=o[e];e>t;){var a=this.getParentIndex_(e);if(!(o[a]>i))break;n[e]=n[a],o[e]=o[a],e=a}n[e]=r,o[e]=i},t.prototype.reprioritize=function(){var t,e,n,o=this.priorityFunction_,r=this.elements_,i=this.priorities_,a=0,s=r.length;for(e=0;e<s;++e)(n=o(t=r[e]))==mf?delete this.queuedElements_[this.keyFunction_(t)]:(i[a]=n,r[a++]=t);r.length=a,i.length=a,this.heapify_()},t}();var Af=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const vf=function(t){function e(e,n){var o=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return o.boundHandleTileChange_=o.handleTileChange.bind(o),o.tileChangeCallback_=n,o.tilesLoading_=0,o.tilesLoadingKeys_={},o}return Af(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(r.Z.CHANGE,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(2===n||3===n||4===n){e.removeEventListener(r.Z.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,o,r=0;this.tilesLoading_<t&&r<e&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),0!==n.getState()||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,n.load())},e}(yf);var _f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function bf(t){t instanceof Ze?t.setMapInternal(null):t instanceof Ms.default&&t.getLayers().forEach(bf)}function Ef(t,e){if(t instanceof Ze)t.setMapInternal(e);else if(t instanceof Ms.default)for(var n=t.getLayers().getArray(),o=0,r=n.length;o<r;++o)Ef(n[o],e)}var xf=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,o,r,i={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Ms.default({layers:t.layers});return i.layergroup=a,i.target=t.target,i.view=t.view instanceof Yh?t.view:new Yh,void 0!==t.controls&&(Array.isArray(t.controls)?n=new ms.Z(t.controls.slice()):((0,jt.h)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new ms.Z(t.interactions.slice()):((0,jt.h)("function"==typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new ms.Z(t.overlays.slice()):((0,jt.h)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new ms.Z,{controls:n,interactions:o,keyboardEventTarget:e,overlays:r,values:i}}(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:_.MP,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=o.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=o.controls||new ms.Z,n.interactions=o.interactions||new ms.Z,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new vf(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(ff,n.handleLayerGroupChanged_),n.addChangeListener(gf,n.handleViewChanged_),n.addChangeListener(pf,n.handleSizeChanged_),n.addChangeListener(df,n.handleTargetChanged_),n.setProperties(o.values);var r=n;return!e.view||e.view instanceof Yh||e.view.then((function(t){r.setView(new Yh(t))})),n.controls.addEventListener(ys.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(ys.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(ys.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(ys.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(ys.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(ys.Z.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return _f(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){Ef(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var o=this.getCoordinateFromPixelInternal(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,i=void 0!==n.layerFilter?n.layerFilter:po.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,r,a,e,null,i,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Ms.default?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var o=n||{},r=void 0!==o.hitTolerance?o.hitTolerance:0,i=o.layerFilter||po.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,i)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),o=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:po.uX,r=void 0!==e.hitTolerance?e.hitTolerance:0,i=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(df)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return bt(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?an(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(ff)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof ms.Z)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e];if(o.visible){var r=o.layer.getRenderer();if(r&&!r.ready)return!0;var i=o.layer.getSource();if(i&&i.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Et(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?an(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(pf)},e.prototype.getView=function(){return this.get(gf)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,o){return function(t,e,n,o,r){if(!t||!(n in t.wantedTiles))return mf;if(!t.wantedTiles[n][e.getKey()])return mf;var i=t.viewState.center,a=o[0]-i[0],s=o[1]-i[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r}(this.frameState_,t,e,n,o)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,o=new af(n,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===lf||n===r.Z.WHEEL||n===r.Z.KEYDOWN){var o=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():o,a=e.target;if(this.overlayContainerStopEvent_.contains(a)||!(i===o?o.documentElement:i).contains(a))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var c=s[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement()&&(!c.handleEvent(t)||t.propagationStopped))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,o=n;if(t){var r=t.viewHints;if(r[0]||r[1]){var i=Date.now()-t.time>8;n=i?0:8,o=i?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,o))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(Ne)&&this.renderer_.dispatchRenderEvent(Ne,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new of(hf.Z.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new of(hf.Z.LOADSTART,this,t))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,E.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(r.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(r.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,y.ZF)(this.viewport_)}var n=this.getTargetElement();if(n){for(var o in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new uf(this,this.moveTolerance_),sf)this.mapBrowserEventHandler_.addEventListener(sf[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(r.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(r.Z.WHEEL,this.boundHandleBrowserEvent_,!!_.bM&&{passive:!1});var i=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[(0,E.oL)(a,r.Z.KEYDOWN,this.handleBrowserEvent,this),(0,E.oL)(a,r.Z.KEYPRESS,this.handleBrowserEvent,this),(0,E.oL)(i,r.Z.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,E.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,E.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,E.oL)(t,As.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,E.oL)(t,r.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(E.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Ms.GroupEvent("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,E.oL)(t,As.Z.PROPERTYCHANGE,this.render,this),(0,E.oL)(t,r.Z.CHANGE,this.render,this),(0,E.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,E.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){bf(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),o=this.getView(),r=this.frameState_,i=null;if(void 0!==n&&ce(n)&&o&&o.isDef()){var s=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=o.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,b.p8)(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:l,viewHints:s,wantedTiles:{},mapId:(0,a.sq)(this),renderTargets:{}},l.nextCenter&&l.nextResolution){var c=isNaN(l.nextRotation)?l.rotation:l.nextRotation;i.nextExtent=(0,b.p8)(l.nextCenter,l.nextResolution,c,n)}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!(0,b.xb)(this.previousExtent_)&&!(0,b.fS)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new of(hf.Z.MOVESTART,this,r)),this.previousExtent_=(0,b.YN)(this.previousExtent_)),this.previousExtent_&&!i.viewHints[0]&&!i.viewHints[1]&&!(0,b.fS)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new of(hf.Z.MOVEEND,this,i)),(0,b.d9)(i.extent,this.previousExtent_))),this.dispatchEvent(new of(hf.Z.POSTRENDER,this,i)),this.renderComplete_=this.hasListener(hf.Z.LOADSTART)||this.hasListener(hf.Z.LOADEND)||this.hasListener(Ne)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Ms.GroupEvent("removelayer",e)),this.set(ff,t)},e.prototype.setSize=function(t){this.set(pf,t)},e.prototype.setTarget=function(t){this.set(df,t)},e.prototype.setView=function(t){if(!t||t instanceof Yh)this.set(gf,t);else{this.set(gf,new Yh);var e=this;t.then((function(t){e.setView(new Yh(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),o=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(o)||isNaN(r)||!ce(e=[o,r])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0.")}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(Ut.Z);const wf=xf;var Cf=c(3371),kf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Sf=function(t){function e(e){var n=this,o=e||{};(n=t.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===o.collapsed||o.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==o.collapsible,n.collapsible_=void 0===o.collapsible||o.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==o.className?o.className:"ol-attribution",a=void 0!==o.tipLabel?o.tipLabel:"Attributions",s=void 0!==o.expandClassName?o.expandClassName:i+"-expand",l=void 0!==o.collapseLabel?o.collapseLabel:"›",c=void 0!==o.collapseClassName?o.collapseClassName:i+"-collapse";"string"==typeof l?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=l,n.collapseLabel_.className=c):n.collapseLabel_=l;var u=void 0!==o.label?o.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=s):n.label_=u;var h=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(h),n.toggleButton_.addEventListener(r.Z.CLICK,n.handleClick_.bind(n),!1);var f=i+" ol-unselectable "+Rr+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=f,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return kf(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],o=!0,r=t.layerStatesArray,i=0,a=r.length;i<a;++i){var s=r[i];if(Qe(s,t.viewState)){var l=s.layer.getSource();if(l){var c=l.getAttributions();if(c){var u=c(t);if(u)if(o=o&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var h=0,f=u.length;h<f;++h)u[h]in e||(n.push(u[h]),e[u[h]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,le.fS)(e,this.renderedAttributions_)){(0,y.ep)(this.ulElement_);for(var o=0,r=e.length;o<r;++o){var i=document.createElement("li");i.innerHTML=e[o],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed"),this.collapsed_?(0,y.$H)(this.collapseLabel_,this.label_):(0,y.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(Cf.default);const Bf=Sf;var Tf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Of=function(t){function e(e){var n=this,o=e||{};n=t.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this;var i=void 0!==o.className?o.className:"ol-rotate",a=void 0!==o.label?o.label:"⇧",s=void 0!==o.compassClassName?o.compassClassName:"ol-compass";n.label_=null,"string"==typeof a?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var l=o.tipLabel?o.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=l,c.appendChild(n.label_),c.addEventListener(r.Z.CLICK,n.handleClick_.bind(n),!1);var u=i+" ol-unselectable "+Rr,h=n.element;return h.className=u,h.appendChild(c),n.callResetNorth_=o.resetNorth?o.resetNorth:void 0,n.duration_=void 0!==o.duration?o.duration:250,n.autoHide_=void 0===o.autoHide||o.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(Pr),n}return Tf(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:l}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var o="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Pr);r||0!==n?r&&0!==n&&this.element.classList.remove(Pr):this.element.classList.add(Pr)}this.label_.style.transform=o}this.rotation_=n}},e}(Cf.default);const Pf=Of;var Rf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),If=function(t){function e(e){var n=this,o=e||{};n=t.call(this,{element:document.createElement("div"),target:o.target})||this;var i=void 0!==o.className?o.className:"ol-zoom",a=void 0!==o.delta?o.delta:1,s=void 0!==o.zoomInClassName?o.zoomInClassName:i+"-in",l=void 0!==o.zoomOutClassName?o.zoomOutClassName:i+"-out",c=void 0!==o.zoomInLabel?o.zoomInLabel:"+",u=void 0!==o.zoomOutLabel?o.zoomOutLabel:"–",h=void 0!==o.zoomInTipLabel?o.zoomInTipLabel:"Zoom in",f=void 0!==o.zoomOutTipLabel?o.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener(r.Z.CLICK,n.handleClick_.bind(n,a),!1);var d=document.createElement("button");d.className=l,d.setAttribute("type","button"),d.title=f,d.appendChild("string"==typeof u?document.createTextNode(u):u),d.addEventListener(r.Z.CLICK,n.handleClick_.bind(n,-a),!1);var g=i+" ol-unselectable "+Rr,m=n.element;return m.className=g,m.appendChild(p),m.appendChild(d),n.duration_=void 0!==o.duration?o.duration:250,n}return Rf(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var o=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:o,duration:this.duration_,easing:l})):e.setZoom(o)}}},e}(Cf.default);const Df=If,Ff="active";var Lf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();function Mf(t,e,n,o){var r=t.getZoom();if(void 0!==r){var i=t.getConstrainedZoom(r+e),a=t.getResolutionForZoom(i);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==o?o:250,easing:l})}}const jf=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Lf(e,t),e.prototype.getActive=function(){return this.get(Ff)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Ff,t)},e.prototype.setMap=function(t){this.map_=t},e}(Ut.Z);var Nf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zf=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:250,n}return Nf(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==sf.DBLCLICK){var n=t.originalEvent,o=t.map,r=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_;Mf(o.getView(),i,r,this.duration_),n.preventDefault(),e=!0}return!e},e}(jf);const Gf=zf;var Qf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Zf=function(t){function e(e){var n=this,o=e||{};return n=t.call(this,o)||this,o.handleDownEvent&&(n.handleDownEvent=o.handleDownEvent),o.handleDragEvent&&(n.handleDragEvent=o.handleDragEvent),o.handleMoveEvent&&(n.handleMoveEvent=o.handleMoveEvent),o.handleUpEvent&&(n.handleUpEvent=o.handleUpEvent),o.stopDown&&(n.stopDown=o.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return Qf(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==sf.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==sf.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==sf.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==sf.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},e}(jf);function Vf(t){for(var e=t.length,n=0,o=0,r=0;r<e;r++)n+=t[r].clientX,o+=t[r].clientY;return[n/e,o/e]}const Wf=Zf;function qf(t){var e=arguments;return function(t){for(var n=!0,o=0,r=e.length;o<r&&(n=n&&e[o](t));++o);return n}}var Uf=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Xf=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Yf=po.uX,Kf=function(t){var e=t.originalEvent;return 0==e.button&&!(_.G$&&_.tK&&e.ctrlKey)},Hf=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},$f=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Jf=function(t){var e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},tp=function(t){var e=t.originalEvent;return(0,jt.h)(void 0!==e,56),"mouse"==e.pointerType},ep=function(t){var e=t.originalEvent;return(0,jt.h)(void 0!==e,56),e.isPrimary&&0===e.button},np=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),op=function(t){function e(e){var n=t.call(this,{stopDown:po.Dv})||this,o=e||{};n.kinetic_=o.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var r=o.condition?o.condition:qf(Hf,ep);return n.condition_=o.onFocusOnly?qf(Xf,r):r,n.noKinetic_=!1,n}return np(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Vf(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],r=t.map.getView();$(o,r.getResolution()),H(o,r.getRotation()),r.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),i=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(i),s=e.getCoordinateFromPixelInternal([a[0]-o*Math.cos(r),a[1]-o*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:l})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Wf);const rp=op;var ip=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ap=function(t){function e(e){var n=this,o=e||{};return(n=t.call(this,{stopDown:po.Dv})||this).condition_=o.condition?o.condition:Uf,n.lastAngle_=void 0,n.duration_=void 0!==o.duration?o.duration:250,n}return ip(e,t),e.prototype.handleDragEvent=function(t){if(tp(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Qh){var o=e.getSize(),r=t.pixel,i=Math.atan2(o[1]/2-r[1],r[0]-o[0]/2);if(void 0!==this.lastAngle_){var a=i-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=i}}},e.prototype.handleUpEvent=function(t){return!tp(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!tp(t)||!Kf(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(Wf);const sp=ap;var lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),cp=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return lp(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+n,o.top=Math.min(t[1],e[1])+n,o.width=Math.abs(e[0]-t[0])+n,o.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new pr([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Vc.Z);const up=cp;var hp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),fp=function(t){function e(e,n,o){var r=t.call(this,e)||this;return r.coordinate=n,r.mapBrowserEvent=o,r}return hp(e,t),e}(qt.ZP),pp=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var o=e||{};return n.box_=new up(o.className||"ol-dragbox"),n.minArea_=void 0!==o.minArea?o.minArea:64,o.onBoxEnd&&(n.onBoxEnd=o.onBoxEnd),n.startPixel_=null,n.condition_=o.condition?o.condition:Kf,n.boxEndCondition_=o.boxEndCondition?o.boxEndCondition:n.defaultBoxEndCondition,n}return hp(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var o=n[0]-e[0],r=n[1]-e[1];return o*o+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new fp("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new fp(e?"boxend":"boxcancel",t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new fp("boxstart",t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(Wf);const dp=pp;var gp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),mp=function(t){function e(e){var n=this,o=e||{},r=o.condition?o.condition:$f;return(n=t.call(this,{condition:r,className:o.className||"ol-dragzoom",minArea:o.minArea})||this).duration_=void 0!==o.duration?o.duration:200,n.out_=void 0!==o.out&&o.out,n}return gp(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var o=e.rotatedExtentForGeometry(n),r=e.getResolutionForExtentInternal(o),i=e.getResolution()/r;(n=n.clone()).scale(i*i)}e.fitInternal(n,{duration:this.duration_,easing:l})},e}(dp);const yp=mp;var Ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),vp=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.defaultCondition_=function(t){return Hf(t)&&Jf(t)},n.condition_=void 0!==o.condition?o.condition:n.defaultCondition_,n.duration_=void 0!==o.duration?o.duration:100,n.pixelDelta_=void 0!==o.pixelDelta?o.pixelDelta:128,n}return Ap(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==r.Z.KEYDOWN){var n=t.originalEvent,o=n.keyCode;if(this.condition_(t)&&(40==o||37==o||39==o||38==o)){var i=t.map.getView(),a=i.getResolution()*this.pixelDelta_,s=0,l=0;40==o?l=-a:37==o?s=-a:39==o?s=a:l=a;var c=[s,l];H(c,i.getRotation()),function(t,e,n){var o=t.getCenterInternal();if(o){var r=[o[0]+e[0],o[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:f,center:t.getConstrainedCenter(r)})}}(i,c,this.duration_),n.preventDefault(),e=!0}}return!e},e}(jf);const _p=vp;var bp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ep=function(t){function e(e){var n=t.call(this)||this,o=e||{};return n.condition_=o.condition?o.condition:Jf,n.delta_=o.delta?o.delta:1,n.duration_=void 0!==o.duration?o.duration:100,n}return bp(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==r.Z.KEYDOWN||t.type==r.Z.KEYPRESS){var n=t.originalEvent,o=n.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var i=t.map,a=o=="+".charCodeAt(0)?this.delta_:-this.delta_;Mf(i.getView(),a,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(jf);const xp=Ep,wp=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var o=this.points_[e+2]-this.points_[n+2];if(o<1e3/60)return!1;var r=this.points_[e]-this.points_[n],i=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(i,r),this.initialVelocity_=Math.sqrt(r*r+i*i)/o,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var Cp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),kp="trackpad",Sp=function(t){function e(e){var n=this,o=e||{};(n=t.call(this,o)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==o.maxDelta?o.maxDelta:1,n.duration_=void 0!==o.duration?o.duration:250,n.timeout_=void 0!==o.timeout?o.timeout:80,n.useAnchor_=void 0===o.useAnchor||o.useAnchor,n.constrainResolution_=void 0!==o.constrainResolution&&o.constrainResolution;var r=o.condition?o.condition:Yf;return n.condition_=o.onFocusOnly?qf(Xf,r):r,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return Cp(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==r.Z.WHEEL)return!0;var e,n=t.map,o=t.originalEvent;if(o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==r.Z.WHEEL&&(e=o.deltaY,_.V&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=_.MP),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?kp:"wheel");var a=n.getView();if(this.mode_===kp&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-(0,R.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),Mf(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(jf);const Bp=Sp;var Tp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Op=function(t){function e(e){var n=this,o=e||{},r=o;return r.stopDown||(r.stopDown=po.Dv),(n=t.call(this,r)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==o.threshold?o.threshold:.3,n.duration_=void 0!==o.duration?o.duration:250,n}return Tp(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],o=this.targetPointers[1],r=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(void 0!==this.lastAngle_){var i=r-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=i}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Qh){var l=a.getViewport().getBoundingClientRect(),c=Vf(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Wf);const Pp=Op;var Rp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ip=function(t){function e(e){var n=this,o=e||{},r=o;return r.stopDown||(r.stopDown=po.Dv),(n=t.call(this,r)||this).anchor_=null,n.duration_=void 0!==o.duration?o.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Rp(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],o=this.targetPointers[1],r=n.clientX-o.clientX,i=n.clientY-o.clientY,a=Math.sqrt(r*r+i*i);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),u=Vf(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Wf);const Dp=Ip;function Fp(t){var e=t||{},n=new ms.Z,o=new wp(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new sp),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Gf({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new rp({onFocusOnly:e.onFocusOnly,kinetic:o})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Pp),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Dp({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new _p),n.push(new xp({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Bp({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new yp({duration:e.zoomDuration})),n}var Lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Mp=function(t){function e(e){return(e=(0,Ot.f0)({},e)).controls||(e.controls=function(t){var e={},n=new ms.Z;return(void 0===e.zoom||e.zoom)&&n.push(new Df(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Pf(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Bf(e.attributionOptions)),n}()),e.interactions||(e.interactions=Fp({onFocusOnly:!0})),t.call(this,e)||this}return Lp(e,t),e.prototype.createRenderer=function(){return new ef(this)},e}(wf);const jp=Mp;var Np=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),zp="units",Gp="degrees",Qp="metric",Zp=[1,2,5],Vp=25.4/.28,Wp=function(t){function e(e){var n=this,o=e||{},r=void 0!==o.className?o.className:o.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:o.render,target:o.target})||this).on,n.once,n.un,n.innerElement_=document.createElement("div"),n.innerElement_.className=r+"-inner",n.element.className=r+" ol-unselectable",n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==o.minWidth?o.minWidth:64,n.maxWidth_=o.maxWidth,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addChangeListener(zp,n.handleUnitsChanged_),n.setUnits(o.units||Qp),n.scaleBar_=o.bar||!1,n.scaleBarSteps_=o.steps||4,n.scaleBarText_=o.text||!1,n.dpi_=o.dpi||void 0,n}return Np(e,t),e.prototype.getUnits=function(){return this.get(zp)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(zp,t)},e.prototype.setDpi=function(t){this.dpi_=t},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,o=this.getUnits(),r=o==Gp?T.DEGREES:T.METERS,i=st(n,t.resolution,e,r),a=this.minWidth_*(this.dpi_||Vp)/Vp,s=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Vp)/Vp:void 0,l=a*i,c="";if(o==Gp){var u=B[T.DEGREES];(l*=u)<u/60?(c="″",i*=3600):l<u?(c="′",i*=60):c="°"}else"imperial"==o?l<.9144?(c="in",i/=.0254):l<1609.344?(c="ft",i/=.3048):(c="mi",i/=1609.344):"nautical"==o?(i/=1852,c="NM"):o==Qp?l<.001?(c="μm",i*=1e6):l<1?(c="mm",i*=1e3):l<1e3?c="m":(c="km",i/=1e3):"us"==o?l<.9144?(c="in",i*=39.37):l<1609.344?(c="ft",i/=.30480061):(c="mi",i/=1609.3472):(0,jt.h)(!1,33);for(var h,f,p,d,g,m,y,A=3*Math.floor(Math.log(a*i)/Math.log(10));;){p=Math.floor(A/3);var v=Math.pow(10,p);if(h=Zp[(A%3+3)%3]*v,f=Math.round(h/i),isNaN(f))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==s&&f>=s){h=d,f=g,p=m;break}if(f>=a)break;d=h,g=f,m=p,++A}y=this.scaleBar_?this.createScaleBar(f,h,c):h.toFixed(p<0?-p:0)+" "+c,this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),r=[],i=t/this.scaleBarSteps_,a="ol-scale-singlebar-odd",s=0;s<this.scaleBarSteps_;s++)0===s&&r.push(this.createMarker("absolute",s)),r.push('<div><div class="ol-scale-singlebar '+a+'" style="width: '+i+'px;"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&r.push(this.createStepText(s+1,t,!0,e,n)),a="ol-scale-singlebar-odd"===a?"ol-scale-singlebar-even":"ol-scale-singlebar-odd";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":"")+r.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,o,r){var i=(0===t?0:Math.round(o/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+r);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+i+"</div>"},e.prototype.getScaleForResolution=function(){var t=st(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,T.METERS),e=this.dpi_||Vp;return parseFloat(t.toString())*(1e3/25.4)*e},e.prototype.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},e}(Cf.default);const qp=Wp;var Up,Xp=c(8885),Yp=c.n(Xp),Kp=c(1064),Hp={};Hp.styleTagTransform=Ac(),Hp.setAttributes=dc(),Hp.insert=fc().bind(null,"head"),Hp.domAPI=uc(),Hp.insertStyleElement=mc(),lc()(Kp.Z,Hp),Kp.Z&&Kp.Z.locals&&Kp.Z.locals,function(t){t.Zero="zero",t.Coordinates="coords",t.Auto="auto"}(Up||(Up={}));const $p=new t.Registry((()=>[{id:Up.Zero,name:"(0°, 0°)",lat:0,lon:0},{id:"north-america",name:"North America",lat:40,lon:-100,zoom:4},{id:"europe",name:"Europe",lat:46,lon:14,zoom:4},{id:"west-asia",name:"West Asia",lat:26,lon:53,zoom:4},{id:"se-asia",name:"South-east Asia",lat:10,lon:106,zoom:4},{id:Up.Coordinates,name:"Coordinates"},{id:Up.Auto,name:"Auto center"}]));class Jp extends e.PureComponent{render(){const{topRight:t,bottomLeft:e}=this.props;return n().createElement("div",{className:this.style.overlay},Boolean(null==t?void 0:t.length)&&n().createElement("div",{className:this.style.TR},t),Boolean(null==e?void 0:e.length)&&n().createElement("div",{className:this.style.BL},e))}constructor(t){super(t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"style",td(Nn.config.theme))}}const td=(0,o.stylesFactory)((t=>({overlay:Dl.css`
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 500;
    pointer-events: none;
  `,TR:Dl.css`
    position: absolute;
    top: 8px;
    right: 8px;
    pointer-events: auto;
  `,BL:Dl.css`
    position: absolute;
    bottom: 8px;
    left: 8px;
    pointer-events: auto;
  `})));function ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class nd extends e.PureComponent{componentDidMount(){this.props.map.on("moveend",this.updateViewState),this.updateViewState()}render(){const{zoom:t,center:e}=this.state;return n().createElement("div",{className:this.style.infoWrap},n().createElement("table",null,n().createElement("tbody",null,n().createElement("tr",null,n().createElement("th",null,"Zoom:"),n().createElement("td",null,null==t?void 0:t.toFixed(1))),n().createElement("tr",null,n().createElement("th",null,"Center: "),n().createElement("td",null,e[0].toFixed(5),", ",e[1].toFixed(5))))))}constructor(t){super(t),ed(this,"style",od(Nn.config.theme)),ed(this,"updateViewState",(()=>{const t=this.props.map.getView();this.setState({zoom:t.getZoom(),center:gt(t.getCenter(),t.getProjection(),"EPSG:4326")})})),this.state={zoom:0,center:[0,0]}}}const od=(0,o.stylesFactory)((t=>({infoWrap:Dl.css`
    color: ${t.colors.text};
    background: ${Ns()(t.colors.panelBg).setAlpha(.7).toString()};
    border-radius: 2px;
    padding: 8px;
  `})));var rd=c(3929),id={};id.styleTagTransform=Ac(),id.setAttributes=dc(),id.insert=fc().bind(null,"head"),id.domAPI=uc(),id.insertStyleElement=mc(),lc()(rd.Z,id),rd.Z&&rd.Z.locals&&rd.Z.locals;class ad extends e.PureComponent{render(){const{data:e,rowIndex:o,columnIndex:r,propsToShow:i,timeField:a,titleField:s,icon:l}=this.props;return e&&null!=o?i&&i.length>1?n().createElement("div",{className:this.style.infoWrap},s.map(((t,e)=>n().createElement("div",{key:`${e}/${o}`},n().createElement("div",{className:this.style.singleDisplay},n().createElement("h5",null,n().createElement("i",{className:"fa "+l+" "+this.style.icon}),sd(t,o)))))),i.map(((r,i)=>n().createElement("div",{key:`${i}/${o}`,className:this.style.row},n().createElement("span",null,(0,t.getFieldDisplayName)(r,e),":"),n().createElement("span",null,sd(r,o)))))):i?n().createElement("div",{className:this.style.infoWrap},i.map(((i,a)=>n().createElement("div",{key:`${a}/${o}`,className:a===r?this.style.highlight:""},n().createElement("div",{className:this.style.singleDisplay},n().createElement("h5",null,(0,t.getFieldDisplayName)(i,e))),n().createElement("div",{className:this.style.singleDisplay},n().createElement("h1",null,n().createElement("i",{className:"fa "+l+" "+this.style.icon}),sd(i,o)))))),a.map(((t,e)=>n().createElement("div",{key:`${e}/${o}`,className:this.style.rightDisplay},n().createElement("h6",null,sd(t,o))))),s.map(((t,e)=>n().createElement("div",{key:`${e}/${o}`,className:this.style.rightDisplay},n().createElement("h6",null,sd(t,o)))))):n().createElement("div",{className:this.style.infoWrap},a.map(((t,e)=>n().createElement("div",{key:`${e}/${o}`,className:this.style.rightDisplay},n().createElement("h6",null,sd(t,o))))),s.map(((t,e)=>n().createElement("div",{key:`${e}/${o}`,className:this.style.rightDisplay},n().createElement("h6",null,sd(t,o)))))):null}constructor(...t){super(...t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"style",ld(Nn.config.theme2))}}function sd(e,n){const o=e.values.get(n);return e.display?(0,t.formattedValueToString)(e.display(o)):`${o}`}const ld=(0,o.stylesFactory)((t=>({infoWrap:Dl.css`
    padding: 0px;
    div {
      font-weight: ${t.typography.fontWeightMedium};
      padding: ${t.spacing(.25,2)};
    }
  `,row:Dl.css`
    padding: 2px;
    display: flex;
    justify-content: space-between;
  `,highlight:Dl.css`
    background: ${t.colors.action.hover};
  `,singleDisplay:Dl.css`
    text-align: center;
    h1 {
      font-size: 3.5rem;
      font-weight: ${t.typography.fontWeightBold};
      margin: 0px;
    }
  `,rightDisplay:Dl.css`
    padding-top: 0px;
    padding-bottom: 0px;
    text-align: right;
    h6 {
      font-height: 1;
      margin: 0px;
    }
  `,leftDisplay:Dl.css`
    text-align: left;
  `,icon:Dl.css`
    margin-right: 5px;
  `})));function cd(t,e,n,o,r,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,r)}function ud(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function a(t){cd(i,o,r,a,s,"next",t)}function s(t){cd(i,o,r,a,s,"throw",t)}a(void 0)}))}}function hd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fd(){return fd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},fd.apply(this,arguments)}function pd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){hd(t,e,n[e])}))}return t}let dd,gd;class md extends e.Component{componentDidMount(){gd=this}shouldComponentUpdate(t){if(!this.map)return!0;this.props.height===t.height&&this.props.width===t.width||this.map.updateSize();let e=!1;return this.props.options!==t.options&&(e=this.optionsChanged(t.options)),(e||this.props.data!==t.data)&&this.dataChanged(t.data),!0}optionsChanged(t){let e=!1;const n=this.props.options;var o,r;return t.view!==n.view&&this.map.setView(this.initMapView(t.view)),t.controls!==n.controls&&this.initControls(null!==(o=t.controls)&&void 0!==o?o:{showZoom:!0,showAttribution:!0,showLayercontrol:!0}),t.basemap!==n.basemap&&(this.initBasemap(t.basemap),e=!0),t.layers!==n.layers&&(this.initLayers(null!==(r=t.layers)&&void 0!==r?r:[]),e=!0),e}dataChanged(t){for(const e of this.layers)e.handler.update&&e.handler.update(t);if(this.props.options.view.id===Up.Auto&&this.map){let t=(0,b.lJ)();const e=this.map.getLayers().getArray();for(let n of e)if(n instanceof Ls){let e=n.getSource();if(void 0!==e&&e instanceof Bs){let n=e.getFeatures();for(let e of n){let n=e.getGeometry();n&&(0,b.l7)(t,n.getExtent())}}}if(!(0,Sl.isEqual)(t,(0,b.lJ)())){this.map.getView().fit(t);let e=this.map.getView().getZoom();e&&this.map.getView().setZoom(e-.5)}}}initBasemap(t){var e=this;return ud((function*(){if(!e.map)return;var n;(null==t?void 0:t.type)&&!Nn.config.geomapDisableCustomBaseLayer||(t=th);const o=null!==(n=nh.getIfExists(t.type))&&void 0!==n?n:eh,r=(yield o.create(e.map,t,Nn.config.theme2)).init();e.basemap&&(e.map.removeLayer(e.basemap),e.basemap.dispose()),e.basemap=r,e.map.getLayers().insertAt(0,e.basemap)}))()}initLayers(t){var e=this;return ud((function*(){for(const t of e.layers)e.map.removeLayer(t.layer),t.layer.dispose();t||(t=[]);const o=[];e.layers=[];for(const r of t){const t=nh.getIfExists(r.type);if(!t){console.warn("unknown layer type: ",r);continue}const i=yield t.create(e.map,r,Nn.config.theme2),a=i.init();if(a.___handler=i,e.map.addLayer(a),e.layers.push({config:r,layer:a,handler:i}),i.legend){let t="legend_"+e.counter++;o.push(n().createElement("div",{id:t,key:t},i.legend)),a.on("change:visible",(function(){let e=document.getElementById(t);e&&("none"===e.style.display?e.style.display="block":e.style.display="none")}))}}e.setState({bottomLeft:o}),e.dataChanged(e.props.data)}))()}initMapView(t){let e=new Yh({center:[0,0],zoom:1,showFullExtent:!0});t.shared&&(dd?e=dd:dd=e);const n=$p.getIfExists(t.id);if(n){let s;var o,r,i,a;null==n.lat?n.id===Up.Coordinates||n.id===Up.Auto?s=[null!==(o=t.lon)&&void 0!==o?o:0,null!==(r=t.lat)&&void 0!==r?r:0]:console.log("TODO, view requires special handling",n):s=[null!==(i=n.lon)&&void 0!==i?i:0,null!==(a=n.lat)&&void 0!==a?a:0],s&&e.setCenter(ut(s))}return t.maxZoom&&e.setMaxZoom(t.maxZoom),t.minZoom&&e.setMaxZoom(t.minZoom),t.zoom&&e.setZoom(t.zoom),e}initControls(t){if(!this.map)return;this.map.getControls().clear(),t.showZoom&&this.map.addControl(new Df),t.showScale&&this.map.addControl(new qp({units:t.scaleUnits,minWidth:100})),t.showLayercontrol&&(this.layerSwitcher=new(Yp())({label:"L",tipLabel:"Select layers",groupSelectStyle:"none",activationMode:"click"}),this.map.addControl(this.layerSwitcher));const e=this.map;this.map.on("click",(function(t){!function(t){let n=e.forEachFeatureAtPixel(t,(function(t){return t}));if(n){let t=n.get("features");if(t&&t.length>1){let n=(0,b.lJ)();t.forEach((function(t){(0,b.l7)(n,t.getGeometry().getExtent())}));const o=e.getView();o.fit(n);const r=o.getZoom();r&&e.getView().setZoom(r-2)}}}(t.pixel)})),this.mouseWheelZoom.setActive(Boolean(t.mouseWheelZoom)),t.showAttribution&&this.map.addControl(new Bf({collapsed:!0,collapsible:!0}));let o=[];t.showDebug&&(o=[n().createElement(nd,{key:"debug",map:this.map})]),this.setState({topRight:o})}render(){const{ttip:t,topRight:e,bottomLeft:r}=this.state;return n().createElement(n().Fragment,null,n().createElement("div",{className:this.style.wrap},n().createElement("div",{className:this.style.map,ref:this.initMapRef}),n().createElement(Jp,{bottomLeft:r,topRight:e})),n().createElement(o.Portal,null,t&&t.data&&n().createElement(o.VizTooltipContainer,{className:this.style.viz,position:{x:t.pageX,y:t.pageY},offset:{x:10,y:10}},n().createElement(ad,fd({},t)))))}constructor(e){var n;super(e),hd(this,"globalCSS",(n=Nn.config.theme2,Dl.css`
    .ol-scale-line {
      background: ${n.colors.border.weak}; // rgba(0,60,136,0.3);
    }
    .ol-scale-line-inner {
      border: 1px solid ${n.colors.text.primary}; // #eee;
      border-top: 0px;
      color: ${n.colors.text.primary}; //  #eee;
    }
    .ol-control {
      background-color: ${n.colors.background.secondary}; //rgba(255,255,255,0.4);
    }
    .ol-control:hover {
      background-color: ${n.colors.action.hover}; // rgba(255,255,255,0.6);
    }
    .ol-control button {
      color: ${n.colors.secondary.text}; // white;
      background-color: ${n.colors.secondary.main}; // rgba(0,60,136,0.5);
    }
    .ol-control button:hover {
      background-color: ${n.colors.secondary.shade}; // rgba(0,60,136,0.5);
    }
    .ol-control button:focus {
      background-color: ${n.colors.secondary.main}; // rgba(0,60,136,0.5);
    }
    .ol-attribution ul {
      color: ${n.colors.text.primary}; //  #000;
      text-shadow: none;
    }
    .ol-attribution:not(.ol-collapsed) {
      background-color: ${n.colors.background.secondary}; // rgba(255,255,255,0.8);
    }
  `)),hd(this,"counter",0),hd(this,"hitToler",void 0),hd(this,"map",void 0),hd(this,"layerSwitcher",void 0),hd(this,"doneFirstHide",void 0),hd(this,"basemap",void 0),hd(this,"layers",[]),hd(this,"mouseWheelZoom",void 0),hd(this,"style",yd(Nn.config.theme)),hd(this,"hoverPayload",{point:{},pageX:-1,pageY:-1}),hd(this,"hoverEvent",new t.DataHoverEvent(this.hoverPayload));var o=this;hd(this,"initMapRef",function(){var t=ud((function*(t){if(o.map&&o.map.dispose(),!t)return void(o.map=void 0);const{options:e}=o.props;o.map=new jp({view:o.initMapView(e.view),pixelRatio:1,layers:[],controls:[],target:t,interactions:Fp({mouseWheelZoom:!1})}),o.mouseWheelZoom=new Bp,o.map.addInteraction(o.mouseWheelZoom),o.initControls(e.controls),o.hitToler=e.controls.hitTolerance,o.initBasemap(e.basemap),yield o.initLayers(e.layers),o.map.on("rendercomplete",o.hideAllButFirstLayer),o.forceUpdate(),o.map.on("singleclick",o.pointerClickListener)}));return function(e){return t.apply(this,arguments)}}()),hd(this,"hideAllButFirstLayer",(()=>{if(!this.map||this.doneFirstHide)return;if(0===this.map.getLayers().getArray().length)return;const t=this.map.getLayers().getArray();let e=0;for(let n of t)e++>1&&n.setVisible(!1);this.doneFirstHide=!0})),hd(this,"pointerClickListener",(t=>{if(!this.map)return;const e=t.originalEvent,n=this.map.getEventPixel(e);this.map.forEachFeatureAtPixel(n,((t,e,n)=>{const o=t.getProperties().frame.fields;if(o&&(0,Sl.isArray)(o)){let e=!1;const n="link";let r=0;for(;r<o.length&&!e;r++)e=o[r].name===n;if(e){const e=t.getProperties().rowIndex,n=o[r-1].values.buffer[e];window.open(n,"_self")}else console.log("no link")}}),{hitTolerance:this.hitToler})})),hd(this,"pointerMoveListener",(t=>{if(!this.map)return;const e=t.originalEvent,n=this.map.getEventPixel(e),o=ht(this.map.getCoordinateFromPixel(n)),{hoverPayload:r}=this;r.pageX=e.pageX,r.pageY=e.pageY,r.point={lat:o[1],lon:o[0]},r.data=void 0,r.rowIndex=void 0,r.propsToShow=void 0;let i={};const a=[];this.map.forEachFeatureAtPixel(n,((t,e,n)=>{let o=[];if(!r.data){let n=t.getProperties();n.features&&(0,Sl.isArray)(n.features)&&1===n.features.length&&(n=n.features[0].getProperties());let a=n.frame;const s=e.getProperties();if(a){for(let t of void 0!==s.displayProperties?s.displayProperties:[]){let e=a.fields.filter((e=>e.name===t));o.push(e[0])}r.icon=s.icon?s.icon:"",r.data=i.data=a,r.propsToShow=o.length>0?o:a.fields,r.titleField=a.fields.filter((t=>t.name===s.titleField)),r.timeField=a.fields.filter((t=>t.name===s.timeField)),r.rowIndex=i.rowIndex=n.rowIndex}}a.push({feature:t,layer:e,geo:n})})),this.hoverPayload.features=a.length?a:void 0,this.props.eventBus.publish(this.hoverEvent);const s=this.state.ttip;i.data===(null==s?void 0:s.data)&&i.rowIndex===(null==s?void 0:s.rowIndex)||this.setState({ttip:pd({},r)})})),this.state={}}}const yd=(0,o.stylesFactory)((t=>({wrap:Dl.css`
    position: relative;
    width: 100%;
    height: 100%;
  `,map:Dl.css`
    position: absolute;
    z-index: 0;
    width: 100%;
    height: 100%;
  `,viz:Dl.css`
    border-radius: 10px;
  `})));function Ad(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){Ad(t,e,n[e])}))}return t}function _d(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}const bd=({value:t,onChange:r,context:i})=>{const a=(0,e.useMemo)((()=>{const e=[];return(null==t?void 0:t.id)?e.push(t.id):e.push($p.list()[0].id),$p.selectOptions(e)}),[null==t?void 0:t.id]),s=(0,e.useCallback)((()=>{const e=null==gd?void 0:gd.map;if(e){const n=e.getView(),o=n.getCenter();if(o){const e=ht(o,n.getProjection());r(_d(vd({},t),{id:Up.Coordinates,lon:+e[0].toFixed(6),lat:+e[1].toFixed(6),zoom:+n.getZoom().toFixed(2)}))}}}),[t,r]),l=(t,e)=>{if(t instanceof Ls){let n=t.getSource();if(void 0!==n&&n instanceof Bs){let t=n.getFeatures();for(let n of t){let t=n.getGeometry();t&&(0,b.l7)(e,t.getExtent())}}}},c=(0,e.useCallback)((e=>{const n=$p.getIfExists(e.value);var o,i,a;if(n&&n.id!==Up.Auto)r(_d(vd({},t),{id:n.id,lat:null!==(o=n.lat)&&void 0!==o?o:null==t?void 0:t.lat,lon:null!==(i=n.lon)&&void 0!==i?i:null==t?void 0:t.lon,zoom:null!==(a=n.zoom)&&void 0!==a?a:null==t?void 0:t.zoom}));else if(n&&n.id===Up.Auto){const e=null==gd?void 0:gd.map;if(e){let o=(0,b.lJ)();const i=e.getLayers().getArray();for(let t of i)if(l(t,o),t instanceof Ms.default){const e=t.getLayersArray();for(let t of e)l(t,o)}if(!(0,Sl.isEqual)(o,(0,b.lJ)())){let i=e.getView(),a=i.getCenter();a=(0,b.qg)(o),i.fit(o);let s=i.getZoom();if(a&&s){const e=ht(a,i.getProjection());r(_d(vd({},t),{id:n.id,lon:+e[0].toFixed(6),lat:+e[1].toFixed(6),zoom:+s.toFixed(0)}))}}}}}),[t,r]);var u;return n().createElement(n().Fragment,null,n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"View",labelWidth:10,grow:!0},n().createElement(o.Select,{menuShouldPortal:!0,options:a.options,value:a.current,onChange:c}))),(null==t?void 0:t.id)===Up.Coordinates&&n().createElement(n().Fragment,null,n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Latitude",labelWidth:10,grow:!0},n().createElement(jl,{value:t.lat,min:-90,max:90,step:.001,onChange:e=>{r(_d(vd({},t),{lat:e}))}}))),n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Longitude",labelWidth:10,grow:!0},n().createElement(jl,{value:t.lon,min:-180,max:180,step:.001,onChange:e=>{r(_d(vd({},t),{lon:e}))}})))),n().createElement(o.InlineFieldRow,null,n().createElement(o.InlineField,{label:"Zoom",labelWidth:10,grow:!0},n().createElement(jl,{value:null!==(u=null==t?void 0:t.zoom)&&void 0!==u?u:1,min:1,max:18,step:.01,onChange:e=>{r(_d(vd({},t),{zoom:e}))}}))),n().createElement(o.VerticalGroup,null,n().createElement(o.Button,{variant:"secondary",size:"sm",fullWidth:!0,onClick:s},n().createElement("span",null,"Use current map settings"))))},Ed={id:Up.Zero,lat:0,lon:0,zoom:1};function xd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wd(t){const e=+t;return isNaN(e)?void 0:e}const Cd=new t.PanelPlugin(md).setNoPadding().setPanelChangeHandler(((e,n,o,r)=>{if("grafana-worldmap-panel"===n&&o.angular){const{fieldConfig:n,options:s}=function(e){const n={defaults:{},overrides:[]},o={view:{id:Up.Zero},controls:{showZoom:!0,mouseWheelZoom:Boolean(e.mouseWheelZoom)},basemap:{type:"default"},layers:[]};let r=wd(e.decimals);if(r&&(n.defaults.decimals=r),e.thresholds&&e.colors){const o=e.thresholds.split(",").map((t=>Number(t.trim()))),r=[];for(const t of e.colors){const e=r.length-1;e>=0?r.push({value:o[e],color:t}):r.push({value:-1/0,color:t})}n.defaults.thresholds={mode:t.ThresholdsMode.Absolute,steps:r}}r=wd(e.initialZoom),r&&(o.view.zoom=r);const i={"(0°, 0°)":Up.Zero,"North America":"north-america",Europe:"europe","West Asia":"west-asia","SE Asia":"se-asia","Last GeoHash":Up.Coordinates};return o.view.id=i[e.mapCenter],o.view.lat=wd(e.mapCenterLatitude),o.view.lon=wd(e.mapCenterLongitude),{fieldConfig:n,options:o}}((i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){xd(t,e,n[e])}))}return t}({},o.angular),a=null!=(a={fieldConfig:r})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n.push.apply(n,o)}return n}(Object(a)).forEach((function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})),i));return e.fieldConfig=n,s}var i,a;return{}})).useFieldConfig().setPanelOptions((t=>{let e=["Map view"];t.addCustomEditor({category:e,id:"view",path:"view",name:"Initial view",description:"This location will show when the panel first loads",editor:bd,defaultValue:Ed}),t.addBooleanSwitch({category:e,path:"view.shared",description:"Use the same view across multiple panels.  Note: this may require a dashboard reload.",name:"Share view",defaultValue:Ed.shared}),t.addCustomEditor({category:["Base layer"],id:"basemap",path:"basemap",name:"Base layer",editor:Ih,defaultValue:th}),t.addCustomEditor({category:["Data layer"],id:"layers",path:"layers",name:"Data layer",editor:Fh}),e=["Map controls"],t.addBooleanSwitch({category:e,path:"controls.showZoom",description:"show buttons in the upper left",name:"Show zoom control",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.mouseWheelZoom",name:"Mouse wheel zoom",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showAttribution",name:"Show attribution",description:"Show the map source attribution info in the lower right",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showLayercontrol",name:"Show layer control",description:"Allow to select layers",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showScale",name:"Show scale",description:"Indicate map scale",defaultValue:!1}).addBooleanSwitch({category:e,path:"controls.showDebug",name:"Show debug",description:"show map info",defaultValue:!1}).addNumberInput({category:e,path:"controls.hitTolerance",name:"Hit tolerance",description:"Hit tolerance",defaultValue:0})}))})(),u})()));
//# sourceMappingURL=module.js.map