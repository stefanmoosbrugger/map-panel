/*! For license information please see module.js.LICENSE.txt */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","lodash","react","rxjs"],((t,e,n,r,o,i,a)=>(()=>{var s=[t=>{"use strict";t.exports=e},t=>{"use strict";t.exports=i},t=>{"use strict";t.exports=r},e=>{"use strict";e.exports=t},t=>{"use strict";t.exports=o},t=>{"use strict";t.exports=n},t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],u=i[c]||0,f="".concat(c," ").concat(u);i[c]=u+1;var h=n(f),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(p);else{var d=o(p,r);r.byIndex=s,e.splice(s,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);n.update(t);return function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var l=r(t,o),c=0;c<i.length;c++){var u=n(i[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=l}}},t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([i]).join("\n")}return[e].join("\n")}},t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},function(t){t.exports=function(){"use strict";function t(t,r,o,i,a){!function t(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,c=Math.log(s),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);t(n,r,Math.max(o,Math.floor(r-l*u/s+f)),Math.min(i,Math.floor(r+(s-l)*u/s+f)),a)}var h=n[r],p=o,d=i;for(e(n,o,r),a(n[i],h)>0&&e(n,o,i);p<d;){for(e(n,p,d),p++,d--;a(n[p],h)<0;)p++;for(;a(n[d],h)>0;)d--}0===a(n[o],h)?e(n,o,d):e(n,++d,i),d<=r&&(o=d+1),r<=d&&(i=d-1)}}(t,r,o||0,i||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<n;i++){var a=t.children[i];s(o,t.leaf?r(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;t(e,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?r(a):a;p(t,s)&&(e.leaf?n.push(a):h(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],i=e.leaf?this.toBBox(o):o;if(p(t,i)){if(e.leaf||h(t,i))return!0;n.push(o)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,i,a=this.data,s=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),l.push(a),this._condense(l),this}i||a.leaf||!h(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return i(o=d(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=d([])).leaf=!1,o.height=r;var l=Math.ceil(a/s),c=l*Math.ceil(Math.sqrt(s));m(t,e,n,c,this.compareMinX);for(var u=e;u<=n;u+=c){var f=Math.min(u+c-1,n);m(t,u,f,l,this.compareMinY);for(var h=u;h<=f;h+=l){var p=Math.min(h+l-1,f);o.children.push(this._build(t,h,p,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),f=(h=t,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-c);f<i?(i=f,o=c<o?c:o,a=l):f===i&&c<o&&(o=c,a=l)}e=a||e.children[0]}var h,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),o=[],i=this._chooseSubtree(r,this.data,e,o);for(i.children.push(t),s(i,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,o,i,s,l,c,f,h=1/0,p=1/0,d=e;d<=n-e;d++){var m=a(t,0,d,this.toBBox),g=a(t,d,n,this.toBBox),y=(o=m,i=g,s=void 0,l=void 0,c=void 0,f=void 0,s=Math.max(o.minX,i.minX),l=Math.max(o.minY,i.minY),c=Math.min(o.maxX,i.maxX),f=Math.min(o.maxY,i.maxY),Math.max(0,c-s)*Math.max(0,f-l)),v=u(m)+u(g);y<h?(h=y,r=d,p=v<p?v:p):y===h&&v<p&&(p=v,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var o=this.toBBox,i=a(t,0,e,o),l=a(t,n-e,n,o),c=f(i)+f(l),u=e;u<n-e;u++){var h=t.children[u];s(i,t.leaf?o(h):h),c+=f(i)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(l,t.leaf?o(d):d),c+=f(l)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},r}()},(t,e,n)=>{var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,f=o.random;function h(t,e){if(e=e||{},(t=t||"")instanceof h)return t;if(!(this instanceof h))return new h(t,e);var n=function(t){var e={r:0,g:0,b:0},n=1,r=null,s=null,l=null,f=!1,h=!1;"string"==typeof t&&(t=function(t){t=t.replace(i,"").replace(a,"").toLowerCase();var e,n=!1;if(P[t])t=P[t],n=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=Z.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=Z.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=Z.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=Z.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=Z.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=Z.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=Z.hex8.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),a:N(e[4]),format:n?"name":"hex8"};if(e=Z.hex6.exec(t))return{r:j(e[1]),g:j(e[2]),b:j(e[3]),format:n?"name":"hex"};if(e=Z.hex4.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:n?"name":"hex8"};if(e=Z.hex3.exec(t))return{r:j(e[1]+""+e[1]),g:j(e[2]+""+e[2]),b:j(e[3]+""+e[3]),format:n?"name":"hex"};return!1}(t));"object"==typeof t&&(V(t.r)&&V(t.g)&&V(t.b)?(p=t.r,d=t.g,m=t.b,e={r:255*I(p,255),g:255*I(d,255),b:255*I(m,255)},f=!0,h="%"===String(t.r).substr(-1)?"prgb":"rgb"):V(t.h)&&V(t.s)&&V(t.v)?(r=D(t.s),s=D(t.v),e=function(t,e,n){t=6*I(t,360),e=I(e,100),n=I(n,100);var r=o.floor(t),i=t-r,a=n*(1-e),s=n*(1-i*e),l=n*(1-(1-i)*e),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(t.h,r,s),f=!0,h="hsv"):V(t.h)&&V(t.s)&&V(t.l)&&(r=D(t.s),l=D(t.l),e=function(t,e,n){var r,o,i;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=I(t,360),e=I(e,100),n=I(n,100),0===e)r=o=i=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=a(l,s,t+1/3),o=a(l,s,t),i=a(l,s,t-1/3)}return{r:255*r,g:255*o,b:255*i}}(t.h,r,l),f=!0,h="hsl"),t.hasOwnProperty("a")&&(n=t.a));var p,d,m;return n=R(n),{ok:f,format:t.format||h,r:c(255,u(e.r,0)),g:c(255,u(e.g,0)),b:c(255,u(e.b,0)),a:n}}(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=s++}function p(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r,o,i=u(t,e,n),a=c(t,e,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:o,l:s}}function d(t,e,n){t=I(t,255),e=I(e,255),n=I(n,255);var r,o,i=u(t,e,n),a=c(t,e,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:o,v:s}}function m(t,e,n,r){var o=[M(l(t).toString(16)),M(l(e).toString(16)),M(l(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function g(t,e,n,r){return[M(B(r)),M(l(t).toString(16)),M(l(e).toString(16)),M(l(n).toString(16))].join("")}function y(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s-=e/100,n.s=F(n.s),h(n)}function v(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.s+=e/100,n.s=F(n.s),h(n)}function _(t){return h(t).desaturate(100)}function b(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l+=e/100,n.l=F(n.l),h(n)}function A(t,e){e=0===e?0:e||10;var n=h(t).toRgb();return n.r=u(0,c(255,n.r-l(-e/100*255))),n.g=u(0,c(255,n.g-l(-e/100*255))),n.b=u(0,c(255,n.b-l(-e/100*255))),h(n)}function w(t,e){e=0===e?0:e||10;var n=h(t).toHsl();return n.l-=e/100,n.l=F(n.l),h(n)}function x(t,e){var n=h(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,h(n)}function C(t){var e=h(t).toHsl();return e.h=(e.h+180)%360,h(e)}function k(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function E(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function S(t){var e=h(t).toHsl(),n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function O(t,e,n){e=e||6,n=n||30;var r=h(t).toHsl(),o=360/n,i=[h(t)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,i.push(h(r));return i}function T(t,e){e=e||6;for(var n=h(t).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/e;e--;)a.push(h({h:r,s:o,v:i})),i=(i+s)%1;return a}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r=this.toRgb();return t=r.r/255,e=r.g/255,n=r.b/255,.2126*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(t){return this._a=R(t),this._roundA=l(100*this._a)/100,this},toHsv:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=d(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=p(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=p(this._r,this._g,this._b),e=l(360*t.h),n=l(100*t.s),r=l(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return m(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,o){var i=[M(l(t).toString(16)),M(l(e).toString(16)),M(l(n).toString(16)),M(B(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*I(this._r,255))+"%",g:l(100*I(this._g,255))+"%",b:l(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%)":"rgba("+l(100*I(this._r,255))+"%, "+l(100*I(this._g,255))+"%, "+l(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(L[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+g(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var o=h(t);n="#"+g(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(b,arguments)},brighten:function(){return this._applyModification(A,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(E,arguments)}},h.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:D(t[r]));t=n}return h(t,e)},h.equals=function(t,e){return!(!t||!e)&&h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(t,e,n){n=0===n?0:n||50;var r=h(t).toRgb(),o=h(e).toRgb(),i=n/100;return h({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},h.readability=function(t,e){var n=h(t),r=h(e);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(t,e,n){var r,o,i=h.readability(t,e);switch(o=!1,(r=function(t){var e,n;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==n&&"large"!==n&&(n="small");return{level:e,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},h.mostReadable=function(t,e,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var c=0;c<e.length;c++)(r=h.readability(t,e[c]))>l&&(l=r,s=h(e[c]));return h.isReadable(t,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,h.mostReadable(t,["#fff","#000"],n))};var P=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},L=h.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(P);function R(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function I(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=c(e,u(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),o.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function F(t){return c(1,u(0,t))}function j(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function B(t){return o.round(255*parseFloat(t)).toString(16)}function N(t){return j(t)/255}var G,W,z,Z=(W="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",z="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+W),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+W),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+W),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(t){return!!Z.CSS_UNIT.exec(t)}t.exports?t.exports=h:void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}(Math)},t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},function(t,e,n){t.exports=function(t,e,n){"use strict";t="default"in t?t.default:t,n="default"in n?n.default:n;var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},l="layer-switcher-",c=function(t){function c(t){r(this,c);var e=Object.assign({},t),n=e.tipLabel?e.tipLabel:"Legend",o=e.collapseTipLabel?e.collapseTipLabel:"Collapse legend",i=document.createElement("div"),a=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,{element:i,target:e.target}));a.activationMode=e.activationMode||"mouseover",a.startActive=!0===e.startActive;var u=void 0!==e.label?e.label:"",f=void 0!==e.collapseLabel?e.collapseLabel:"»";a.groupSelectStyle=c.getGroupSelectStyle(e.groupSelectStyle),a.reverse=!1!==e.reverse,a.mapListeners=[],a.hiddenClassName="ol-unselectable ol-control layer-switcher",c.isTouchDevice_()&&(a.hiddenClassName+=" touch"),a.shownClassName="shown",i.className=a.hiddenClassName;var h=document.createElement("button");return h.setAttribute("title",n),h.setAttribute("aria-label",n),i.appendChild(h),a.panel=document.createElement("div"),a.panel.className="panel",i.appendChild(a.panel),c.enableTouchScroll_(a.panel),h.textContent=u,i.classList.add(l+"group-select-style-"+a.groupSelectStyle),i.classList.add(l+"activation-mode-"+a.activationMode),"click"===a.activationMode?(i.classList.add("activationModeClick"),a.startActive&&(h.textContent=f,h.setAttribute("title",o),h.setAttribute("aria-label",o)),h.onclick=function(t){var e=t||window.event;a.element.classList.contains(a.shownClassName)?(a.hidePanel(),h.textContent=u,h.setAttribute("title",n),h.setAttribute("aria-label",n)):(a.showPanel(),h.textContent=f,h.setAttribute("title",o),h.setAttribute("aria-label",o)),e.preventDefault()}):(h.onmouseover=function(){a.showPanel()},h.onclick=function(t){var e=t||window.event;a.showPanel(),e.preventDefault()},a.panel.onmouseout=function(t){a.panel.contains(t.relatedTarget)||a.hidePanel()}),a}return a(c,t),o(c,[{key:"setMap",value:function(t){for(var n=this,r=0;r<this.mapListeners.length;r++)e.unByKey(this.mapListeners[r]);this.mapListeners.length=0,i(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"setMap",this).call(this,t),t&&(this.startActive?this.showPanel():this.renderPanel(),"click"!==this.activationMode&&this.mapListeners.push(t.on("pointerdown",(function(){n.hidePanel()}))))}},{key:"showPanel",value:function(){this.element.classList.contains(this.shownClassName)||(this.element.classList.add(this.shownClassName),this.renderPanel())}},{key:"hidePanel",value:function(){this.element.classList.contains(this.shownClassName)&&this.element.classList.remove(this.shownClassName)}},{key:"renderPanel",value:function(){this.dispatchEvent("render"),c.renderPanel(this.getMap(),this.panel,{groupSelectStyle:this.groupSelectStyle,reverse:this.reverse}),this.dispatchEvent("rendercomplete")}}],[{key:"renderPanel",value:function(t,e,n){var r=new Event("render");for(e.dispatchEvent(r),(n=n||{}).groupSelectStyle=c.getGroupSelectStyle(n.groupSelectStyle),c.ensureTopVisibleBaseLayerShown(t,n.groupSelectStyle);e.firstChild;)e.removeChild(e.firstChild);c.forEachRecursive(t,(function(t,e,n){t.set("indeterminate",!1)})),"children"===n.groupSelectStyle||"none"===n.groupSelectStyle?c.setGroupVisibility(t):"group"===n.groupSelectStyle&&c.setChildVisibility(t);var o=document.createElement("ul");e.appendChild(o),c.renderLayers_(t,t,o,n,(function(r){c.renderPanel(t,e,n)}));var i=new Event("rendercomplete");e.dispatchEvent(i)}},{key:"isBaseGroup",value:function(t){if(t instanceof n){var e=t.getLayers().getArray();return e.length&&"base"===e[0].get("type")}return!1}},{key:"setGroupVisibility",value:function(t){c.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!c.isBaseGroup(t)})).reverse().forEach((function(t){var e=t.getLayersArray().map((function(t){return t.getVisible()}));e.every((function(t){return!0===t}))?(t.setVisible(!0),t.set("indeterminate",!1)):e.every((function(t){return!1===t}))?(t.setVisible(!1),t.set("indeterminate",!1)):(t.setVisible(!0),t.set("indeterminate",!0))}))}},{key:"setChildVisibility",value:function(t){c.getGroupsAndLayers(t,(function(t){return t instanceof n&&!t.get("combine")&&!c.isBaseGroup(t)})).forEach((function(t){var e=t,n=e.getVisible(),r=e.get("indeterminate");e.getLayers().getArray().forEach((function(t){t.set("indeterminate",!1),n&&!r||!t.getVisible()||t.set("indeterminate",!0)}))}))}},{key:"ensureTopVisibleBaseLayerShown",value:function(t,e){var n=void 0;c.forEachRecursive(t,(function(t,e,r){"base"===t.get("type")&&t.getVisible()&&(n=t)})),n&&c.setVisible_(t,n,!0,e)}},{key:"getGroupsAndLayers",value:function(t,e){var n=[];return e=e||function(t,e,n){return!0},c.forEachRecursive(t,(function(t,r,o){t.get("title")&&e(t,r,o)&&n.push(t)})),n}},{key:"setVisible_",value:function(t,e,r,o){e.setVisible(r),r&&"base"===e.get("type")&&c.forEachRecursive(t,(function(t,n,r){t!=e&&"base"===t.get("type")&&t.setVisible(!1)})),e instanceof n&&!e.get("combine")&&"children"===o&&e.getLayers().forEach((function(n){c.setVisible_(t,n,e.getVisible(),o)}))}},{key:"renderLayer_",value:function(t,e,r,o,i){var a=document.createElement("li"),s=e.get("title"),u=c.uuid(),f=document.createElement("label");if(e instanceof n&&!e.get("combine")){var h=c.isBaseGroup(e);if(a.classList.add("group"),h&&a.classList.add(l+"base-group"),e.get("fold")){a.classList.add(l+"fold"),a.classList.add(l+e.get("fold"));var p=document.createElement("button");p.onclick=function(t){var n=t||window.event;c.toggleFold_(e,a),n.preventDefault()},a.appendChild(p)}if(!h&&"none"!=o.groupSelectStyle){var d=document.createElement("input");d.type="checkbox",d.id=u,d.checked=e.getVisible(),d.indeterminate=e.get("indeterminate"),d.onchange=function(n){var r=n.target;c.setVisible_(t,e,r.checked,o.groupSelectStyle),i(e)},a.appendChild(d),f.htmlFor=u}f.innerHTML=s,a.appendChild(f);var m=document.createElement("ul");a.appendChild(m),c.renderLayers_(t,e,m,o,i)}else{a.className="layer";var g=document.createElement("input");"base"===e.get("type")?(g.type="radio",g.name="base"):g.type="checkbox",g.id=u,g.checked=e.get("visible"),g.indeterminate=e.get("indeterminate"),g.onchange=function(n){var r=n.target;c.setVisible_(t,e,r.checked,o.groupSelectStyle),i(e)},a.appendChild(g),f.htmlFor=u,f.innerHTML=s;var y=t.getView().getResolution();(y>e.getMaxResolution()||y<e.getMinResolution())&&(f.className+=" disabled"),a.appendChild(f)}return a}},{key:"renderLayers_",value:function(t,e,n,r,o){var i=e.getLayers().getArray().slice();r.reverse&&(i=i.reverse());for(var a,s=0;s<i.length;s++)(a=i[s]).get("title")&&n.appendChild(c.renderLayer_(t,a,s,r,o))}},{key:"forEachRecursive",value:function(t,e){t.getLayers().forEach((function(t,r,o){e(t,r,o),t instanceof n&&c.forEachRecursive(t,e)}))}},{key:"uuid",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}},{key:"enableTouchScroll_",value:function(t){if(c.isTouchDevice_()){var e=0;t.addEventListener("touchstart",(function(t){e=this.scrollTop+t.touches[0].pageY}),!1),t.addEventListener("touchmove",(function(t){this.scrollTop=e-t.touches[0].pageY}),!1)}}},{key:"isTouchDevice_",value:function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}}},{key:"toggleFold_",value:function(t,e){e.classList.remove(l+t.get("fold")),t.set("fold","open"===t.get("fold")?"close":"open"),e.classList.add(l+t.get("fold"))}},{key:"getGroupSelectStyle",value:function(t){return["none","children","group"].indexOf(t)>=0?t:"children"}}]),c}(t);return window.ol&&window.ol.control&&(window.ol.control.LayerSwitcher=c),c}(n(38),n(25),n(36))},(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var r=n(12),o=n.n(r),i=n(13),a=n.n(i),s=n(16),l=n.n(s),c=new URL(n(27),n.b),u=new URL(n(28),n.b),f=new URL(n(29),n.b),h=new URL(n(30),n.b),p=new URL(n(31),n.b),d=a()(o()),m=l()(c),g=l()(c,{hash:"#iefix"}),y=l()(u),v=l()(f),_=l()(h),b=l()(p,{hash:"#fontmaki2"});d.push([t.id,'@font-face{font-family:"fontmaki2";src:url('+m+");src:url("+g+') format("embedded-opentype"),url('+y+') format("woff2"),url('+v+') format("woff"),url('+_+') format("truetype"),url('+b+') format("svg");font-weight:normal;font-style:normal}[class^=maki2-]:before,[class*=" maki2-"]:before{font-family:"fontmaki2";font-style:normal;font-weight:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.maki2-aerialway:before{content:""}.maki2-airfield:before{content:""}.maki2-airport:before{content:""}.maki2-alcohol-shop:before{content:""}.maki2-america-football:before{content:""}.maki2-amusement-park:before{content:""}.maki2-aquarium:before{content:""}.maki2-art-gallery:before{content:""}.maki2-attraction:before{content:""}.maki2-bakery:before{content:""}.maki2-bank:before{content:""}.maki2-bar:before{content:""}.maki2-barrier:before{content:""}.maki2-baseball:before{content:""}.maki2-basketball:before{content:""}.maki2-bbq:before{content:""}.maki2-beer:before{content:""}.maki2-bicycle:before{content:""}.maki2-bicycle-share:before{content:""}.maki2-blood-bank:before{content:""}.maki2-buddhism:before{content:""}.maki2-building:before{content:""}.maki2-building-alt1:before{content:""}.maki2-bus:before{content:""}.maki2-cafe:before{content:""}.maki2-campsite:before{content:""}.maki2-car:before{content:""}.maki2-car-rental:before{content:""}.maki2-car-repair:before{content:""}.maki2-casino:before{content:""}.maki2-castle:before{content:""}.maki2-cemetery:before{content:""}.maki2-charging-station:before{content:""}.maki2-cinema:before{content:""}.maki2-circle:before{content:""}.maki2-circle-stroked:before{content:""}.maki2-city:before{content:""}.maki2-clothing-store:before{content:""}.maki2-college:before{content:""}.maki2-commercial:before{content:""}.maki2-cricket:before{content:""}.maki2-cross:before{content:""}.maki2-dam:before{content:""}.maki2-danger:before{content:""}.maki2-defibrillator:before{content:""}.maki2-dentist:before{content:""}.maki2-doctor:before{content:""}.maki2-dog-park:before{content:""}.maki2-drinking-water:before{content:""}.maki2-embassy:before{content:""}.maki2-emergency-phone:before{content:""}.maki2-entrance:before{content:""}.maki2-entrance-alt1:before{content:""}.maki2-farm:before{content:""}.maki2-fast-food:before{content:""}.maki2-fence:before{content:""}.maki2-ferry:before{content:""}.maki2-fire-station:before{content:""}.maki2-florist:before{content:""}.maki2-fuel:before{content:""}.maki2-furniture:before{content:""}.maki2-gaming:before{content:""}.maki2-garden:before{content:""}.maki2-garden-center:before{content:""}.maki2-gift:before{content:""}.maki2-globe:before{content:""}.maki2-golf:before{content:""}.maki2-grocery:before{content:""}.maki2-hairdresser:before{content:""}.maki2-harbor:before{content:""}.maki2-hardware:before{content:""}.maki2-heart:before{content:""}.maki2-heliport:before{content:""}.maki2-home:before{content:""}.maki2-horse-riding:before{content:""}.maki2-hospital:before{content:""}.maki2-ice-cream:before{content:""}.maki2-industry:before{content:""}.maki2-information:before{content:""}.maki2-jewelry:before{content:""}.maki2-karaoke:before{content:""}.maki2-landmark:before{content:""}.maki2-landuse:before{content:""}.maki2-laundry:before{content:""}.maki2-library:before{content:""}.maki2-lighthouse:before{content:""}.maki2-lodging:before{content:""}.maki2-logging:before{content:""}.maki2-marker:before{content:""}.maki2-marker-stroked:before{content:""}.maki2-mobile-phone:before{content:""}.maki2-monument:before{content:""}.maki2-mountain:before{content:""}.maki2-museum:before{content:""}.maki2-music:before{content:""}.maki2-natural:before{content:""}.maki2-optician:before{content:""}.maki2-paint:before{content:""}.maki2-park:before{content:""}.maki2-park-alt1:before{content:""}.maki2-parking:before{content:""}.maki2-parking-garage:before{content:""}.maki2-pharmacy:before{content:""}.maki2-picnic-site:before{content:""}.maki2-pitch:before{content:""}.maki2-place-of-worship:before{content:""}.maki2-playground:before{content:""}.maki2-police:before{content:""}.maki2-post:before{content:""}.maki2-prison:before{content:""}.maki2-rail:before{content:""}.maki2-rail-light:before{content:""}.maki2-rail-metro:before{content:""}.maki2-ranger-station:before{content:""}.maki2-recycling:before{content:""}.maki2-religious-christian:before{content:""}.maki2-religious-jewish:before{content:""}.maki2-religious-muslim:before{content:""}.maki2-residential-community:before{content:""}.maki2-restaurant:before{content:""}.maki2-roadblock:before{content:""}.maki2-rocket:before{content:""}.maki2-school:before{content:""}.maki2-scooter:before{content:""}.maki2-shelter:before{content:""}.maki2-shoe:before{content:""}.maki2-shop:before{content:""}.maki2-skiing:before{content:""}.maki2-slaughterhouse:before{content:""}.maki2-snowmobile:before{content:""}.maki2-soccer:before{content:""}.maki2-square:before{content:""}.maki2-square-stroked:before{content:""}.maki2-stadium:before{content:""}.maki2-star:before{content:""}.maki2-star-stroked:before{content:""}.maki2-suitcase:before{content:""}.maki2-sushi:before{content:""}.maki2-swimming:before{content:""}.maki2-teahouse:before{content:""}.maki2-telephone:before{content:""}.maki2-tennis:before{content:""}.maki2-theatre:before{content:""}.maki2-toilet:before{content:""}.maki2-town:before{content:""}.maki2-town-hall:before{content:""}.maki2-triangle:before{content:""}.maki2-triangle-stroked:before{content:""}.maki2-veterinary:before{content:""}.maki2-village:before{content:""}.maki2-volcano:before{content:""}.maki2-warehouse:before{content:""}.maki2-waste-basket:before{content:""}.maki2-watch:before{content:""}.maki2-water:before{content:""}.maki2-watermill:before{content:""}.maki2-wetland:before{content:""}.maki2-wheelchair:before{content:""}.maki2-windmill:before{content:""}.maki2-zoo:before{content:""}',"",{version:3,sources:["webpack://./static/css/fontmaki2.css"],names:[],mappings:"AAAA,WAAA,uBACE,CAAA,2CACA,CAAA,uSACA,CAAA,kBAKA,CAAA,iBACA,CAAA,iDAaD,uBACC,CAAA,iBACA,CAAA,kBACA,CAAA,UACA,CAAA,oBAEA,CAAA,uBACA,CAAA,SACA,CAAA,iBACA,CAAA,iBACA,CAAA,mBAIA,CAAA,mBACA,CAAA,eAGA,CAAA,gBAIA,CAAA,kCAMA,CAAA,iCACA,CAAA,wBAMF,WAAA,CAAA,uBACA,WAAA,CAAA,sBACA,WAAA,CAAA,2BACA,WAAA,CAAA,+BACA,WAAA,CAAA,6BACA,WAAA,CAAA,uBACA,WAAA,CAAA,0BACA,WAAA,CAAA,yBACA,WAAA,CAAA,qBACA,WAAA,CAAA,mBACA,WAAA,CAAA,kBACA,WAAA,CAAA,sBACA,WAAA,CAAA,uBACA,WAAA,CAAA,yBACA,WAAA,CAAA,kBACA,WAAA,CAAA,mBACA,WAAA,CAAA,sBACA,WAAA,CAAA,4BACA,WAAA,CAAA,yBACA,WAAA,CAAA,uBACA,WAAA,CAAA,uBACA,WAAA,CAAA,4BACA,WAAA,CAAA,kBACA,WAAA,CAAA,mBACA,WAAA,CAAA,uBACA,WAAA,CAAA,kBACA,WAAA,CAAA,yBACA,WAAA,CAAA,yBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,uBACA,WAAA,CAAA,+BACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,6BACA,WAAA,CAAA,mBACA,WAAA,CAAA,6BACA,WAAA,CAAA,sBACA,WAAA,CAAA,yBACA,WAAA,CAAA,sBACA,WAAA,CAAA,oBACA,WAAA,CAAA,kBACA,WAAA,CAAA,qBACA,WAAA,CAAA,4BACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,uBACA,WAAA,CAAA,6BACA,WAAA,CAAA,sBACA,WAAA,CAAA,8BACA,WAAA,CAAA,uBACA,WAAA,CAAA,4BACA,WAAA,CAAA,mBACA,WAAA,CAAA,wBACA,WAAA,CAAA,oBACA,WAAA,CAAA,oBACA,WAAA,CAAA,2BACA,WAAA,CAAA,sBACA,WAAA,CAAA,mBACA,WAAA,CAAA,wBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,4BACA,WAAA,CAAA,mBACA,WAAA,CAAA,oBACA,WAAA,CAAA,mBACA,WAAA,CAAA,sBACA,WAAA,CAAA,0BACA,WAAA,CAAA,qBACA,WAAA,CAAA,uBACA,WAAA,CAAA,oBACA,WAAA,CAAA,uBACA,WAAA,CAAA,mBACA,WAAA,CAAA,2BACA,WAAA,CAAA,uBACA,WAAA,CAAA,wBACA,WAAA,CAAA,uBACA,WAAA,CAAA,0BACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,uBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,yBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,6BACA,WAAA,CAAA,2BACA,WAAA,CAAA,uBACA,WAAA,CAAA,uBACA,WAAA,CAAA,qBACA,WAAA,CAAA,oBACA,WAAA,CAAA,sBACA,WAAA,CAAA,uBACA,WAAA,CAAA,oBACA,WAAA,CAAA,mBACA,WAAA,CAAA,wBACA,WAAA,CAAA,sBACA,WAAA,CAAA,6BACA,WAAA,CAAA,uBACA,WAAA,CAAA,0BACA,WAAA,CAAA,oBACA,WAAA,CAAA,+BACA,WAAA,CAAA,yBACA,WAAA,CAAA,qBACA,WAAA,CAAA,mBACA,WAAA,CAAA,qBACA,WAAA,CAAA,mBACA,WAAA,CAAA,yBACA,WAAA,CAAA,yBACA,WAAA,CAAA,6BACA,WAAA,CAAA,wBACA,WAAA,CAAA,kCACA,WAAA,CAAA,+BACA,WAAA,CAAA,+BACA,WAAA,CAAA,oCACA,WAAA,CAAA,yBACA,WAAA,CAAA,wBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,mBACA,WAAA,CAAA,mBACA,WAAA,CAAA,qBACA,WAAA,CAAA,6BACA,WAAA,CAAA,yBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,6BACA,WAAA,CAAA,sBACA,WAAA,CAAA,mBACA,WAAA,CAAA,2BACA,WAAA,CAAA,uBACA,WAAA,CAAA,oBACA,WAAA,CAAA,uBACA,WAAA,CAAA,uBACA,WAAA,CAAA,wBACA,WAAA,CAAA,qBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,mBACA,WAAA,CAAA,wBACA,WAAA,CAAA,uBACA,WAAA,CAAA,+BACA,WAAA,CAAA,yBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,wBACA,WAAA,CAAA,2BACA,WAAA,CAAA,oBACA,WAAA,CAAA,oBACA,WAAA,CAAA,wBACA,WAAA,CAAA,sBACA,WAAA,CAAA,yBACA,WAAA,CAAA,uBACA,WAAA,CAAA,kBACA,WAAA",sourcesContent:["@font-face {\n  font-family: 'fontmaki2';\n  src: url('../font/fontmaki2.eot?38664031');\n  src: url('../font/fontmaki2.eot?38664031#iefix') format('embedded-opentype'),\n       url('../font/fontmaki2.woff2?38664031') format('woff2'),\n       url('../font/fontmaki2.woff?38664031') format('woff'),\n       url('../font/fontmaki2.ttf?38664031') format('truetype'),\n       url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\n/*\n@media screen and (-webkit-min-device-pixel-ratio:0) {\n  @font-face {\n    font-family: 'fontmaki2';\n    src: url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\n  }\n}\n*/\n \n [class^=\"maki2-\"]:before, [class*=\" maki2-\"]:before {\n  font-family: \"fontmaki2\";\n  font-style: normal;\n  font-weight: normal;\n  speak: none;\n \n  display: inline-block;\n  text-decoration: inherit;\n  width: 1em;\n  margin-right: .2em;\n  text-align: center;\n  /* opacity: .8; */\n \n  /* For safety - reset parent styles, that can break glyph codes*/\n  font-variant: normal;\n  text-transform: none;\n \n  /* fix buttons height, for twitter bootstrap */\n  line-height: 1em;\n \n  /* Animation center compensation - margins should be symmetric */\n  /* remove if not needed */\n  margin-left: .2em;\n \n  /* you can be more comfortable with increased icons size */\n  /* font-size: 120%; */\n \n  /* Font smoothing. That was taken from TWBS */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n \n  /* Uncomment for 3D effect */\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\n}\n \n.maki2-aerialway:before { content: '\\e800'; } /* '' */\n.maki2-airfield:before { content: '\\e801'; } /* '' */\n.maki2-airport:before { content: '\\e802'; } /* '' */\n.maki2-alcohol-shop:before { content: '\\e803'; } /* '' */\n.maki2-america-football:before { content: '\\e804'; } /* '' */\n.maki2-amusement-park:before { content: '\\e805'; } /* '' */\n.maki2-aquarium:before { content: '\\e806'; } /* '' */\n.maki2-art-gallery:before { content: '\\e807'; } /* '' */\n.maki2-attraction:before { content: '\\e808'; } /* '' */\n.maki2-bakery:before { content: '\\e809'; } /* '' */\n.maki2-bank:before { content: '\\e80a'; } /* '' */\n.maki2-bar:before { content: '\\e80b'; } /* '' */\n.maki2-barrier:before { content: '\\e80c'; } /* '' */\n.maki2-baseball:before { content: '\\e80d'; } /* '' */\n.maki2-basketball:before { content: '\\e80e'; } /* '' */\n.maki2-bbq:before { content: '\\e80f'; } /* '' */\n.maki2-beer:before { content: '\\e810'; } /* '' */\n.maki2-bicycle:before { content: '\\e811'; } /* '' */\n.maki2-bicycle-share:before { content: '\\e812'; } /* '' */\n.maki2-blood-bank:before { content: '\\e813'; } /* '' */\n.maki2-buddhism:before { content: '\\e814'; } /* '' */\n.maki2-building:before { content: '\\e815'; } /* '' */\n.maki2-building-alt1:before { content: '\\e816'; } /* '' */\n.maki2-bus:before { content: '\\e817'; } /* '' */\n.maki2-cafe:before { content: '\\e818'; } /* '' */\n.maki2-campsite:before { content: '\\e819'; } /* '' */\n.maki2-car:before { content: '\\e81a'; } /* '' */\n.maki2-car-rental:before { content: '\\e81b'; } /* '' */\n.maki2-car-repair:before { content: '\\e81c'; } /* '' */\n.maki2-casino:before { content: '\\e81d'; } /* '' */\n.maki2-castle:before { content: '\\e81e'; } /* '' */\n.maki2-cemetery:before { content: '\\e81f'; } /* '' */\n.maki2-charging-station:before { content: '\\e820'; } /* '' */\n.maki2-cinema:before { content: '\\e821'; } /* '' */\n.maki2-circle:before { content: '\\e822'; } /* '' */\n.maki2-circle-stroked:before { content: '\\e823'; } /* '' */\n.maki2-city:before { content: '\\e824'; } /* '' */\n.maki2-clothing-store:before { content: '\\e825'; } /* '' */\n.maki2-college:before { content: '\\e826'; } /* '' */\n.maki2-commercial:before { content: '\\e827'; } /* '' */\n.maki2-cricket:before { content: '\\e828'; } /* '' */\n.maki2-cross:before { content: '\\e829'; } /* '' */\n.maki2-dam:before { content: '\\e82a'; } /* '' */\n.maki2-danger:before { content: '\\e82b'; } /* '' */\n.maki2-defibrillator:before { content: '\\e82c'; } /* '' */\n.maki2-dentist:before { content: '\\e82d'; } /* '' */\n.maki2-doctor:before { content: '\\e82e'; } /* '' */\n.maki2-dog-park:before { content: '\\e82f'; } /* '' */\n.maki2-drinking-water:before { content: '\\e830'; } /* '' */\n.maki2-embassy:before { content: '\\e831'; } /* '' */\n.maki2-emergency-phone:before { content: '\\e832'; } /* '' */\n.maki2-entrance:before { content: '\\e833'; } /* '' */\n.maki2-entrance-alt1:before { content: '\\e834'; } /* '' */\n.maki2-farm:before { content: '\\e835'; } /* '' */\n.maki2-fast-food:before { content: '\\e836'; } /* '' */\n.maki2-fence:before { content: '\\e837'; } /* '' */\n.maki2-ferry:before { content: '\\e838'; } /* '' */\n.maki2-fire-station:before { content: '\\e839'; } /* '' */\n.maki2-florist:before { content: '\\e83a'; } /* '' */\n.maki2-fuel:before { content: '\\e83b'; } /* '' */\n.maki2-furniture:before { content: '\\e83c'; } /* '' */\n.maki2-gaming:before { content: '\\e83d'; } /* '' */\n.maki2-garden:before { content: '\\e83e'; } /* '' */\n.maki2-garden-center:before { content: '\\e83f'; } /* '' */\n.maki2-gift:before { content: '\\e840'; } /* '' */\n.maki2-globe:before { content: '\\e841'; } /* '' */\n.maki2-golf:before { content: '\\e842'; } /* '' */\n.maki2-grocery:before { content: '\\e843'; } /* '' */\n.maki2-hairdresser:before { content: '\\e844'; } /* '' */\n.maki2-harbor:before { content: '\\e845'; } /* '' */\n.maki2-hardware:before { content: '\\e846'; } /* '' */\n.maki2-heart:before { content: '\\e847'; } /* '' */\n.maki2-heliport:before { content: '\\e848'; } /* '' */\n.maki2-home:before { content: '\\e849'; } /* '' */\n.maki2-horse-riding:before { content: '\\e84a'; } /* '' */\n.maki2-hospital:before { content: '\\e84b'; } /* '' */\n.maki2-ice-cream:before { content: '\\e84c'; } /* '' */\n.maki2-industry:before { content: '\\e84d'; } /* '' */\n.maki2-information:before { content: '\\e84e'; } /* '' */\n.maki2-jewelry:before { content: '\\e84f'; } /* '' */\n.maki2-karaoke:before { content: '\\e850'; } /* '' */\n.maki2-landmark:before { content: '\\e851'; } /* '' */\n.maki2-landuse:before { content: '\\e852'; } /* '' */\n.maki2-laundry:before { content: '\\e853'; } /* '' */\n.maki2-library:before { content: '\\e854'; } /* '' */\n.maki2-lighthouse:before { content: '\\e855'; } /* '' */\n.maki2-lodging:before { content: '\\e856'; } /* '' */\n.maki2-logging:before { content: '\\e857'; } /* '' */\n.maki2-marker:before { content: '\\e858'; } /* '' */\n.maki2-marker-stroked:before { content: '\\e859'; } /* '' */\n.maki2-mobile-phone:before { content: '\\e85a'; } /* '' */\n.maki2-monument:before { content: '\\e85b'; } /* '' */\n.maki2-mountain:before { content: '\\e85c'; } /* '' */\n.maki2-museum:before { content: '\\e85d'; } /* '' */\n.maki2-music:before { content: '\\e85e'; } /* '' */\n.maki2-natural:before { content: '\\e85f'; } /* '' */\n.maki2-optician:before { content: '\\e860'; } /* '' */\n.maki2-paint:before { content: '\\e861'; } /* '' */\n.maki2-park:before { content: '\\e862'; } /* '' */\n.maki2-park-alt1:before { content: '\\e863'; } /* '' */\n.maki2-parking:before { content: '\\e864'; } /* '' */\n.maki2-parking-garage:before { content: '\\e865'; } /* '' */\n.maki2-pharmacy:before { content: '\\e866'; } /* '' */\n.maki2-picnic-site:before { content: '\\e867'; } /* '' */\n.maki2-pitch:before { content: '\\e868'; } /* '' */\n.maki2-place-of-worship:before { content: '\\e869'; } /* '' */\n.maki2-playground:before { content: '\\e86a'; } /* '' */\n.maki2-police:before { content: '\\e86b'; } /* '' */\n.maki2-post:before { content: '\\e86c'; } /* '' */\n.maki2-prison:before { content: '\\e86d'; } /* '' */\n.maki2-rail:before { content: '\\e86e'; } /* '' */\n.maki2-rail-light:before { content: '\\e86f'; } /* '' */\n.maki2-rail-metro:before { content: '\\e870'; } /* '' */\n.maki2-ranger-station:before { content: '\\e871'; } /* '' */\n.maki2-recycling:before { content: '\\e872'; } /* '' */\n.maki2-religious-christian:before { content: '\\e873'; } /* '' */\n.maki2-religious-jewish:before { content: '\\e874'; } /* '' */\n.maki2-religious-muslim:before { content: '\\e875'; } /* '' */\n.maki2-residential-community:before { content: '\\e876'; } /* '' */\n.maki2-restaurant:before { content: '\\e877'; } /* '' */\n.maki2-roadblock:before { content: '\\e878'; } /* '' */\n.maki2-rocket:before { content: '\\e879'; } /* '' */\n.maki2-school:before { content: '\\e87a'; } /* '' */\n.maki2-scooter:before { content: '\\e87b'; } /* '' */\n.maki2-shelter:before { content: '\\e87c'; } /* '' */\n.maki2-shoe:before { content: '\\e87d'; } /* '' */\n.maki2-shop:before { content: '\\e87e'; } /* '' */\n.maki2-skiing:before { content: '\\e87f'; } /* '' */\n.maki2-slaughterhouse:before { content: '\\e880'; } /* '' */\n.maki2-snowmobile:before { content: '\\e881'; } /* '' */\n.maki2-soccer:before { content: '\\e882'; } /* '' */\n.maki2-square:before { content: '\\e883'; } /* '' */\n.maki2-square-stroked:before { content: '\\e884'; } /* '' */\n.maki2-stadium:before { content: '\\e885'; } /* '' */\n.maki2-star:before { content: '\\e886'; } /* '' */\n.maki2-star-stroked:before { content: '\\e887'; } /* '' */\n.maki2-suitcase:before { content: '\\e888'; } /* '' */\n.maki2-sushi:before { content: '\\e889'; } /* '' */\n.maki2-swimming:before { content: '\\e88a'; } /* '' */\n.maki2-teahouse:before { content: '\\e88b'; } /* '' */\n.maki2-telephone:before { content: '\\e88c'; } /* '' */\n.maki2-tennis:before { content: '\\e88d'; } /* '' */\n.maki2-theatre:before { content: '\\e88e'; } /* '' */\n.maki2-toilet:before { content: '\\e88f'; } /* '' */\n.maki2-town:before { content: '\\e890'; } /* '' */\n.maki2-town-hall:before { content: '\\e891'; } /* '' */\n.maki2-triangle:before { content: '\\e892'; } /* '' */\n.maki2-triangle-stroked:before { content: '\\e893'; } /* '' */\n.maki2-veterinary:before { content: '\\e894'; } /* '' */\n.maki2-village:before { content: '\\e895'; } /* '' */\n.maki2-volcano:before { content: '\\e896'; } /* '' */\n.maki2-warehouse:before { content: '\\e897'; } /* '' */\n.maki2-waste-basket:before { content: '\\e898'; } /* '' */\n.maki2-watch:before { content: '\\e899'; } /* '' */\n.maki2-water:before { content: '\\e89a'; } /* '' */\n.maki2-watermill:before { content: '\\e89b'; } /* '' */\n.maki2-wetland:before { content: '\\e89c'; } /* '' */\n.maki2-wheelchair:before { content: '\\e89d'; } /* '' */\n.maki2-windmill:before { content: '\\e89e'; } /* '' */\n.maki2-zoo:before { content: '\\e89f'; } /* '' */"],sourceRoot:""}]);const A=d},(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r=n(12),o=n.n(r),i=n(13),a=n.n(i),s=n(16),l=n.n(s),c=new URL(n(32),n.b),u=new URL(n(33),n.b),f=new URL(n(34),n.b),h=new URL(n(35),n.b),p=a()(o()),d=l()(c),m=l()(c,{hash:"#iefix"}),g=l()(u),y=l()(f),v=l()(h,{hash:"#fontmaki"});p.push([t.id,'@font-face{font-family:"fontmaki";src:url('+d+");src:url("+m+') format("embedded-opentype"),url('+g+') format("woff"),url('+y+') format("truetype"),url('+v+') format("svg");font-weight:normal;font-style:normal}[class^=maki-]:before,[class*=" maki-"]:before{font-family:"fontmaki";font-style:normal;font-weight:normal;speak:none;display:inline-block;text-decoration:inherit;width:1em;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.maki-bicycle:before{content:""}.maki-building:before{content:""}.maki-bus:before{content:""}.maki-cafe:before{content:""}.maki-camera:before{content:""}.maki-campsite:before{content:""}.maki-car:before{content:""}.maki-cemetery:before{content:""}.maki-chemist:before{content:""}.maki-cinema:before{content:""}.maki-circle:before{content:""}.maki-circle_stroked:before{content:""}.maki-city:before{content:""}.maki-clothing_store:before{content:""}.maki-college:before{content:""}.maki-commercial:before{content:""}.maki-cricket:before{content:""}.maki-cross:before{content:""}.maki-dam:before{content:""}.maki-danger:before{content:""}.maki-dentist:before{content:""}.maki-disability:before{content:""}.maki-dog_park:before{content:""}.maki-embassy:before{content:""}.maki-emergency_telephone:before{content:""}.maki-entrance:before{content:""}.maki-farm:before{content:""}.maki-fast_food:before{content:""}.maki-ferry:before{content:""}.maki-fire_station:before{content:""}.maki-fuel:before{content:""}.maki-garden:before{content:""}.maki-gift:before{content:""}.maki-golf:before{content:""}.maki-grocery:before{content:""}.maki-hairdresser:before{content:""}.maki-harbor:before{content:""}.maki-heart:before{content:""}.maki-heliport:before{content:""}.maki-hospital:before{content:""}.maki-ice_cream:before{content:""}.maki-industrial:before{content:""}.maki-land_use:before{content:""}.maki-laundry:before{content:""}.maki-library:before{content:""}.maki-lighthouse:before{content:""}.maki-lodging:before{content:""}.maki-logging:before{content:""}.maki-london_underground:before{content:""}.maki-marker:before{content:""}.maki-minefield:before{content:""}.maki-marker_stroked:before{content:""}.maki-mobilephone:before{content:""}.maki-monument:before{content:""}.maki-museum:before{content:""}.maki-music:before{content:""}.maki-oil_well:before{content:""}.maki-park:before{content:""}.maki-park2:before{content:""}.maki-parking:before{content:""}.maki-parking_garage:before{content:""}.maki-pharmacy:before{content:""}.maki-pitch:before{content:""}.maki-playground:before{content:""}.maki-police:before{content:""}.maki-polling_place:before{content:""}.maki-post:before{content:""}.maki-prison:before{content:""}.maki-rail:before{content:""}.maki-rail_above:before{content:""}.maki-rail_light:before{content:""}.maki-rail_metro:before{content:""}.maki-rail_underground:before{content:""}.maki-religious-christian:before{content:""}.maki-religious-jewish:before{content:""}.maki-religious-muslim:before{content:""}.maki-religious-place_of_worship:before{content:""}.maki-restaurant:before{content:""}.maki-roadblock:before{content:""}.maki-rocket:before{content:""}.maki-school:before{content:""}.maki-scooter:before{content:""}.maki-shop:before{content:""}.maki-skiing:before{content:""}.maki-slaughterhouse:before{content:""}.maki-soccer:before{content:""}.maki-square:before{content:""}.maki-square_stroked:before{content:""}.maki-star:before{content:""}.maki-star_stroked:before{content:""}.maki-suitcase:before{content:""}.maki-swimming:before{content:""}.maki-telephone:before{content:""}.maki-tennis:before{content:""}.maki-theatre:before{content:""}.maki-toilets:before{content:""}.maki-town:before{content:""}.maki-town_hall:before{content:""}.maki-triangle:before{content:""}.maki-triangle_stroked:before{content:""}.maki-village:before{content:""}.maki-warehouse:before{content:""}.maki-waste_basket:before{content:""}.maki-water:before{content:""}.maki-wetland:before{content:""}.maki-zoo:before{content:""}.maki-aerialway:before{content:""}.maki-airfield:before{content:""}.maki-airport:before{content:""}.maki-alcohol_shop:before{content:""}.maki-america_football:before{content:""}.maki-art_gallery:before{content:""}.maki-bakery:before{content:""}.maki-bank:before{content:""}.maki-bar:before{content:""}.maki-baseball:before{content:""}.maki-basketball:before{content:""}.maki-beer:before{content:""}',"",{version:3,sources:["webpack://./static/css/fontmaki.css"],names:[],mappings:"AAAA,WAGA,sBACE,CAAA,2CACA,CAAA,+OACA,CAAA,kBAIA,CAAA,iBACA,CAAA,+CAaD,sBACC,CAAA,iBACA,CAAA,kBACA,CAAA,UACA,CAAA,oBAEA,CAAA,uBACA,CAAA,SACA,CAAA,iBACA,CAAA,iBACA,CAAA,mBAIA,CAAA,mBACA,CAAA,eAGA,CAAA,gBAIA,CAAA,kCAMA,CAAA,iCACA,CAAA,qBAMF,WAAA,CAAA,sBACA,WAAA,CAAA,iBACA,WAAA,CAAA,kBACA,WAAA,CAAA,oBACA,WAAA,CAAA,sBACA,WAAA,CAAA,iBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,oBACA,WAAA,CAAA,oBACA,WAAA,CAAA,4BACA,WAAA,CAAA,kBACA,WAAA,CAAA,4BACA,WAAA,CAAA,qBACA,WAAA,CAAA,wBACA,WAAA,CAAA,qBACA,WAAA,CAAA,mBACA,WAAA,CAAA,iBACA,WAAA,CAAA,oBACA,WAAA,CAAA,qBACA,WAAA,CAAA,wBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,iCACA,WAAA,CAAA,sBACA,WAAA,CAAA,kBACA,WAAA,CAAA,uBACA,WAAA,CAAA,mBACA,WAAA,CAAA,0BACA,WAAA,CAAA,kBACA,WAAA,CAAA,oBACA,WAAA,CAAA,kBACA,WAAA,CAAA,kBACA,WAAA,CAAA,qBACA,WAAA,CAAA,yBACA,WAAA,CAAA,oBACA,WAAA,CAAA,mBACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,uBACA,WAAA,CAAA,wBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,wBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,gCACA,WAAA,CAAA,oBACA,WAAA,CAAA,uBACA,WAAA,CAAA,4BACA,WAAA,CAAA,yBACA,WAAA,CAAA,sBACA,WAAA,CAAA,oBACA,WAAA,CAAA,mBACA,WAAA,CAAA,sBACA,WAAA,CAAA,kBACA,WAAA,CAAA,mBACA,WAAA,CAAA,qBACA,WAAA,CAAA,4BACA,WAAA,CAAA,sBACA,WAAA,CAAA,mBACA,WAAA,CAAA,wBACA,WAAA,CAAA,oBACA,WAAA,CAAA,2BACA,WAAA,CAAA,kBACA,WAAA,CAAA,oBACA,WAAA,CAAA,kBACA,WAAA,CAAA,wBACA,WAAA,CAAA,wBACA,WAAA,CAAA,wBACA,WAAA,CAAA,8BACA,WAAA,CAAA,iCACA,WAAA,CAAA,8BACA,WAAA,CAAA,8BACA,WAAA,CAAA,wCACA,WAAA,CAAA,wBACA,WAAA,CAAA,uBACA,WAAA,CAAA,oBACA,WAAA,CAAA,oBACA,WAAA,CAAA,qBACA,WAAA,CAAA,kBACA,WAAA,CAAA,oBACA,WAAA,CAAA,4BACA,WAAA,CAAA,oBACA,WAAA,CAAA,oBACA,WAAA,CAAA,4BACA,WAAA,CAAA,kBACA,WAAA,CAAA,0BACA,WAAA,CAAA,sBACA,WAAA,CAAA,sBACA,WAAA,CAAA,uBACA,WAAA,CAAA,oBACA,WAAA,CAAA,qBACA,WAAA,CAAA,qBACA,WAAA,CAAA,kBACA,WAAA,CAAA,uBACA,WAAA,CAAA,sBACA,WAAA,CAAA,8BACA,WAAA,CAAA,qBACA,WAAA,CAAA,uBACA,WAAA,CAAA,0BACA,WAAA,CAAA,mBACA,WAAA,CAAA,qBACA,WAAA,CAAA,iBACA,WAAA,CAAA,uBACA,WAAA,CAAA,sBACA,WAAA,CAAA,qBACA,WAAA,CAAA,0BACA,WAAA,CAAA,8BACA,WAAA,CAAA,yBACA,WAAA,CAAA,oBACA,WAAA,CAAA,kBACA,WAAA,CAAA,iBACA,WAAA,CAAA,sBACA,WAAA,CAAA,wBACA,WAAA,CAAA,kBACA,WAAA",sourcesContent:["/** Maki is a clean point of interest icon set made for web cartography\r\n\tby Mapbox https://www.mapbox.com/maki/\r\n*/\r\n@font-face {\r\n  font-family: 'fontmaki';\r\n  src: url('../font/fontmaki.eot?66752613');\r\n  src: url('../font/fontmaki.eot?66752613#iefix') format('embedded-opentype'),\r\n       url('../font/fontmaki.woff?66752613') format('woff'),\r\n       url('../font/fontmaki.ttf?66752613') format('truetype'),\r\n       url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n}\r\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\r\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\r\n/*\r\n@media screen and (-webkit-min-device-pixel-ratio:0) {\r\n  @font-face {\r\n    font-family: 'fontmaki';\r\n    src: url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\r\n  }\r\n}\r\n*/\r\n \r\n [class^=\"maki-\"]:before, [class*=\" maki-\"]:before {\r\n  font-family: \"fontmaki\";\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  speak: none;\r\n \r\n  display: inline-block;\r\n  text-decoration: inherit;\r\n  width: 1em;\r\n  margin-right: .2em;\r\n  text-align: center;\r\n  /* opacity: .8; */\r\n \r\n  /* For safety - reset parent styles, that can break glyph codes*/\r\n  font-variant: normal;\r\n  text-transform: none;\r\n \r\n  /* fix buttons height, for twitter bootstrap */\r\n  line-height: 1em;\r\n \r\n  /* Animation center compensation - margins should be symmetric */\r\n  /* remove if not needed */\r\n  margin-left: .2em;\r\n \r\n  /* you can be more comfortable with increased icons size */\r\n  /* font-size: 120%; */\r\n \r\n  /* Font smoothing. That was taken from TWBS */\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n \r\n  /* Uncomment for 3D effect */\r\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\r\n}\r\n \r\n.maki-bicycle:before { content: '\\e800'; } /* '' */\r\n.maki-building:before { content: '\\e801'; } /* '' */\r\n.maki-bus:before { content: '\\e802'; } /* '' */\r\n.maki-cafe:before { content: '\\e803'; } /* '' */\r\n.maki-camera:before { content: '\\e804'; } /* '' */\r\n.maki-campsite:before { content: '\\e805'; } /* '' */\r\n.maki-car:before { content: '\\e806'; } /* '' */\r\n.maki-cemetery:before { content: '\\e807'; } /* '' */\r\n.maki-chemist:before { content: '\\e808'; } /* '' */\r\n.maki-cinema:before { content: '\\e809'; } /* '' */\r\n.maki-circle:before { content: '\\e80a'; } /* '' */\r\n.maki-circle_stroked:before { content: '\\e80b'; } /* '' */\r\n.maki-city:before { content: '\\e80c'; } /* '' */\r\n.maki-clothing_store:before { content: '\\e80d'; } /* '' */\r\n.maki-college:before { content: '\\e80e'; } /* '' */\r\n.maki-commercial:before { content: '\\e80f'; } /* '' */\r\n.maki-cricket:before { content: '\\e810'; } /* '' */\r\n.maki-cross:before { content: '\\e811'; } /* '' */\r\n.maki-dam:before { content: '\\e812'; } /* '' */\r\n.maki-danger:before { content: '\\e813'; } /* '' */\r\n.maki-dentist:before { content: '\\e814'; } /* '' */\r\n.maki-disability:before { content: '\\e815'; } /* '' */\r\n.maki-dog_park:before { content: '\\e816'; } /* '' */\r\n.maki-embassy:before { content: '\\e817'; } /* '' */\r\n.maki-emergency_telephone:before { content: '\\e818'; } /* '' */\r\n.maki-entrance:before { content: '\\e819'; } /* '' */\r\n.maki-farm:before { content: '\\e81a'; } /* '' */\r\n.maki-fast_food:before { content: '\\e81b'; } /* '' */\r\n.maki-ferry:before { content: '\\e81c'; } /* '' */\r\n.maki-fire_station:before { content: '\\e81d'; } /* '' */\r\n.maki-fuel:before { content: '\\e81e'; } /* '' */\r\n.maki-garden:before { content: '\\e81f'; } /* '' */\r\n.maki-gift:before { content: '\\e820'; } /* '' */\r\n.maki-golf:before { content: '\\e821'; } /* '' */\r\n.maki-grocery:before { content: '\\e822'; } /* '' */\r\n.maki-hairdresser:before { content: '\\e823'; } /* '' */\r\n.maki-harbor:before { content: '\\e824'; } /* '' */\r\n.maki-heart:before { content: '\\e825'; } /* '' */\r\n.maki-heliport:before { content: '\\e826'; } /* '' */\r\n.maki-hospital:before { content: '\\e827'; } /* '' */\r\n.maki-ice_cream:before { content: '\\e828'; } /* '' */\r\n.maki-industrial:before { content: '\\e829'; } /* '' */\r\n.maki-land_use:before { content: '\\e82a'; } /* '' */\r\n.maki-laundry:before { content: '\\e82b'; } /* '' */\r\n.maki-library:before { content: '\\e82c'; } /* '' */\r\n.maki-lighthouse:before { content: '\\e82d'; } /* '' */\r\n.maki-lodging:before { content: '\\e82e'; } /* '' */\r\n.maki-logging:before { content: '\\e82f'; } /* '' */\r\n.maki-london_underground:before { content: '\\e830'; } /* '' */\r\n.maki-marker:before { content: '\\e831'; } /* '' */\r\n.maki-minefield:before { content: '\\e832'; } /* '' */\r\n.maki-marker_stroked:before { content: '\\e833'; } /* '' */\r\n.maki-mobilephone:before { content: '\\e834'; } /* '' */\r\n.maki-monument:before { content: '\\e835'; } /* '' */\r\n.maki-museum:before { content: '\\e836'; } /* '' */\r\n.maki-music:before { content: '\\e837'; } /* '' */\r\n.maki-oil_well:before { content: '\\e838'; } /* '' */\r\n.maki-park:before { content: '\\e839'; } /* '' */\r\n.maki-park2:before { content: '\\e83a'; } /* '' */\r\n.maki-parking:before { content: '\\e83b'; } /* '' */\r\n.maki-parking_garage:before { content: '\\e83c'; } /* '' */\r\n.maki-pharmacy:before { content: '\\e83d'; } /* '' */\r\n.maki-pitch:before { content: '\\e83e'; } /* '' */\r\n.maki-playground:before { content: '\\e83f'; } /* '' */\r\n.maki-police:before { content: '\\e840'; } /* '' */\r\n.maki-polling_place:before { content: '\\e841'; } /* '' */\r\n.maki-post:before { content: '\\e842'; } /* '' */\r\n.maki-prison:before { content: '\\e843'; } /* '' */\r\n.maki-rail:before { content: '\\e844'; } /* '' */\r\n.maki-rail_above:before { content: '\\e845'; } /* '' */\r\n.maki-rail_light:before { content: '\\e846'; } /* '' */\r\n.maki-rail_metro:before { content: '\\e847'; } /* '' */\r\n.maki-rail_underground:before { content: '\\e848'; } /* '' */\r\n.maki-religious-christian:before { content: '\\e849'; } /* '' */\r\n.maki-religious-jewish:before { content: '\\e84a'; } /* '' */\r\n.maki-religious-muslim:before { content: '\\e84b'; } /* '' */\r\n.maki-religious-place_of_worship:before { content: '\\e84c'; } /* '' */\r\n.maki-restaurant:before { content: '\\e84d'; } /* '' */\r\n.maki-roadblock:before { content: '\\e84e'; } /* '' */\r\n.maki-rocket:before { content: '\\e84f'; } /* '' */\r\n.maki-school:before { content: '\\e850'; } /* '' */\r\n.maki-scooter:before { content: '\\e851'; } /* '' */\r\n.maki-shop:before { content: '\\e852'; } /* '' */\r\n.maki-skiing:before { content: '\\e853'; } /* '' */\r\n.maki-slaughterhouse:before { content: '\\e854'; } /* '' */\r\n.maki-soccer:before { content: '\\e855'; } /* '' */\r\n.maki-square:before { content: '\\e856'; } /* '' */\r\n.maki-square_stroked:before { content: '\\e857'; } /* '' */\r\n.maki-star:before { content: '\\e858'; } /* '' */\r\n.maki-star_stroked:before { content: '\\e859'; } /* '' */\r\n.maki-suitcase:before { content: '\\e85a'; } /* '' */\r\n.maki-swimming:before { content: '\\e85b'; } /* '' */\r\n.maki-telephone:before { content: '\\e85c'; } /* '' */\r\n.maki-tennis:before { content: '\\e85d'; } /* '' */\r\n.maki-theatre:before { content: '\\e85e'; } /* '' */\r\n.maki-toilets:before { content: '\\e85f'; } /* '' */\r\n.maki-town:before { content: '\\e860'; } /* '' */\r\n.maki-town_hall:before { content: '\\e861'; } /* '' */\r\n.maki-triangle:before { content: '\\e862'; } /* '' */\r\n.maki-triangle_stroked:before { content: '\\e863'; } /* '' */\r\n.maki-village:before { content: '\\e864'; } /* '' */\r\n.maki-warehouse:before { content: '\\e865'; } /* '' */\r\n.maki-waste_basket:before { content: '\\e866'; } /* '' */\r\n.maki-water:before { content: '\\e867'; } /* '' */\r\n.maki-wetland:before { content: '\\e868'; } /* '' */\r\n.maki-zoo:before { content: '\\e869'; } /* '' */\r\n.maki-aerialway:before { content: '\\e86a'; } /* '' */\r\n.maki-airfield:before { content: '\\e86b'; } /* '' */\r\n.maki-airport:before { content: '\\e86c'; } /* '' */\r\n.maki-alcohol_shop:before { content: '\\e86d'; } /* '' */\r\n.maki-america_football:before { content: '\\e86e'; } /* '' */\r\n.maki-art_gallery:before { content: '\\e86f'; } /* '' */\r\n.maki-bakery:before { content: '\\e870'; } /* '' */\r\n.maki-bank:before { content: '\\e871'; } /* '' */\r\n.maki-bar:before { content: '\\e872'; } /* '' */\r\n.maki-baseball:before { content: '\\e873'; } /* '' */\r\n.maki-basketball:before { content: '\\e874'; } /* '' */\r\n.maki-beer:before { content: '\\e875'; } /* '' */"],sourceRoot:""}]);const _=p},(t,e,n)=>{"use strict";t.exports=n(37)},(t,e,n)=>{t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function o(t){return t&&t.__esModule?t:{default:t}}e.default=c;var i=n(3),a=o(n(4)),s=n(14),l=o(n(15));function c(t){var e=t.activeClassName,n=void 0===e?"":e,o=t.activeIndex,a=void 0===o?-1:o,c=t.activeStyle,u=t.autoEscape,f=t.caseSensitive,h=void 0!==f&&f,p=t.className,d=t.findChunks,m=t.highlightClassName,g=void 0===m?"":m,y=t.highlightStyle,v=void 0===y?{}:y,_=t.highlightTag,b=void 0===_?"mark":_,A=t.sanitize,w=t.searchWords,x=t.textToHighlight,C=t.unhighlightClassName,k=void 0===C?"":C,E=t.unhighlightStyle,S=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),O=(0,i.findAll)({autoEscape:u,caseSensitive:h,findChunks:d,sanitize:A,searchWords:w,textToHighlight:x}),T=b,P=-1,L="",R=void 0,I=(0,l.default)((function(t){var e={};for(var n in t)e[n.toLowerCase()]=t[n];return e}));return(0,s.createElement)("span",r({className:p},S,{children:O.map((function(t,e){var r=x.substr(t.start,t.end-t.start);if(t.highlight){P++;var o=void 0;o="object"==typeof g?h?g[r]:(g=I(g))[r.toLowerCase()]:g;var i=P===+a;L=o+" "+(i?n:""),R=!0===i&&null!=c?Object.assign({},v,c):v;var l={children:r,className:L,key:e,style:R};return"string"!=typeof T&&(l.highlightIndex=P),(0,s.createElement)(T,l)}return(0,s.createElement)("span",{children:r,className:k,key:e,style:E})}))}))}c.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},t.exports=e.default},function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);Object.defineProperty(e,"combineChunks",{enumerable:!0,get:function(){return r.combineChunks}}),Object.defineProperty(e,"fillInChunks",{enumerable:!0,get:function(){return r.fillInChunks}}),Object.defineProperty(e,"findAll",{enumerable:!0,get:function(){return r.findAll}}),Object.defineProperty(e,"findChunks",{enumerable:!0,get:function(){return r.findChunks}})},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.findAll=function(t){var e=t.autoEscape,i=t.caseSensitive,a=void 0!==i&&i,s=t.findChunks,l=void 0===s?r:s,c=t.sanitize,u=t.searchWords,f=t.textToHighlight;return o({chunksToHighlight:n({chunks:l({autoEscape:e,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:f})}),totalLength:f?f.length:0})};var n=e.combineChunks=function(t){var e=t.chunks;return e=e.sort((function(t,e){return t.start-e.start})).reduce((function(t,e){if(0===t.length)return[e];var n=t.pop();if(e.start<=n.end){var r=Math.max(n.end,e.end);t.push({start:n.start,end:r})}else t.push(n,e);return t}),[])},r=function(t){var e=t.autoEscape,n=t.caseSensitive,r=t.sanitize,o=void 0===r?i:r,a=t.searchWords,s=t.textToHighlight;return s=o(s),a.filter((function(t){return t})).reduce((function(t,r){r=o(r),e&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var i=new RegExp(r,n?"g":"gi"),a=void 0;a=i.exec(s);){var l=a.index,c=i.lastIndex;c>l&&t.push({start:l,end:c}),a.index==i.lastIndex&&i.lastIndex++}return t}),[])};e.findChunks=r;var o=e.fillInChunks=function(t){var e=t.chunksToHighlight,n=t.totalLength,r=[],o=function(t,e,n){e-t>0&&r.push({start:t,end:e,highlight:n})};if(0===e.length)o(0,n,!1);else{var i=0;e.forEach((function(t){o(i,t.start,!1),o(t.start,t.end,!0),i=t.end})),o(i,n,!1)}return r};function i(t){return t}}])},function(t,e,n){(function(e){if("production"!==e.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n(6)((function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r}),!0)}else t.exports=n(13)()}).call(e,n(5))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,f=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";var r=n(7),o=n(8),i=n(9),a=n(10),s=n(11),l=n(12);t.exports=function(t,n){var c="function"==typeof Symbol&&Symbol.iterator;var u="<<anonymous>>",f={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:d(r.thatReturnsNull),arrayOf:function(t){return d((function(e,n,r,o,i){if("function"!=typeof t)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new p("Invalid "+o+" `"+i+"` of type `"+y(a)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<a.length;l++){var c=t(a,l,r,o,i+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:d((function(e,n,r,o,i){var a=e[n];return t(a)?null:new p("Invalid "+o+" `"+i+"` of type `"+y(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(t){return d((function(e,n,r,o,i){if(!(e[n]instanceof t)){var a=t.name||u;return new p("Invalid "+o+" `"+i+"` of type `"+(((s=e[n]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `")+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:d((function(t,e,n,r,o){return g(t[e])?null:new p("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return d((function(e,n,r,o,i){if("function"!=typeof t)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],l=y(a);if("object"!==l)return new p("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=t(a,c,r,o,i+"."+c,s);if(u instanceof Error)return u}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull;return d((function(e,n,r,o,i){for(var a=e[n],s=0;s<t.length;s++)if(h(a,t[s]))return null;return new p("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(t)+".")}))},oneOfType:function(t){if(!Array.isArray(t))return"production"!==e.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<t.length;n++){var o=t[n];if("function"!=typeof o)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(o),n),r.thatReturnsNull}return d((function(e,n,r,o,i){for(var a=0;a<t.length;a++)if(null==(0,t[a])(e,n,r,o,i,s))return null;return new p("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(t){return d((function(e,n,r,o,i){var a=e[n],l=y(a);if("object"!==l)return new p("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in t){var u=t[c];if(u){var f=u(a,c,r,o,i+"."+c,s);if(f)return f}}return null}))},exact:function(t){return d((function(e,n,r,o,i){var l=e[n],c=y(l);if("object"!==c)return new p("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var u=a({},e[n],t);for(var f in u){var h=t[f];if(!h)return new p("Invalid "+o+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var d=h(l,f,r,o,i+"."+f,s);if(d)return d}return null}))}};function h(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function p(t){this.message=t,this.stack=""}function d(t){if("production"!==e.env.NODE_ENV)var r={},a=0;function l(l,c,f,h,d,m,g){if(h=h||u,m=m||f,g!==s)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==e.env.NODE_ENV&&"undefined"!=typeof console){var y=h+":"+f;!r[y]&&a<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,h),r[y]=!0,a++)}return null==c[f]?l?null===c[f]?new p("The "+d+" `"+m+"` is marked as required in `"+h+"`, but its value is `null`."):new p("The "+d+" `"+m+"` is marked as required in `"+h+"`, but its value is `undefined`."):null:t(c,f,h,d,m)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function m(t){return d((function(e,n,r,o,i,a){var s=e[n];return y(s)!==t?new p("Invalid "+o+" `"+i+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function g(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(g);if(null===e||t(e))return!0;var n=function(t){var e=t&&(c&&t[c]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!n)return!1;var r,o=n.call(e);if(n!==e.entries){for(;!(r=o.next()).done;)if(!g(r.value))return!1}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!g(i[1]))return!1}return!0;default:return!1}}function y(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||"Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol}(e,t)?"symbol":e}function v(t){if(null==t)return""+t;var e=y(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){var e=v(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return p.prototype=Error.prototype,f.checkPropTypes=l,f.PropTypes=f,f}}).call(e,n(5))},function(t,e){"use strict";function n(t){return function(){return t}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},t.exports=r},function(t,e,n){(function(e){"use strict";var n=function(t){};"production"!==e.env.NODE_ENV&&(n=function(t){if(void 0===t)throw new Error("invariant requires an error message argument")}),t.exports=function(t,e,r,o,i,a,s,l){if(n(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,o,i,a,s,l],f=0;(c=new Error(e.replace(/%s/g,(function(){return u[f++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(e,n(5))},function(t,e,n){(function(e){"use strict";var r=n(7);if("production"!==e.env.NODE_ENV){var o=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0,i="Warning: "+t.replace(/%s/g,(function(){return n[o++]}));try{throw new Error(i)}catch(t){}};r=function(t,e){if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==e.indexOf("Failed Composite propType: ")&&!t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[e].concat(r))}}}t.exports=r}).call(e,n(5))},function(t,e){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var a,s,l=i(t),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))r.call(a,u)&&(l[u]=a[u]);if(n){s=n(a);for(var f=0;f<s.length;f++)o.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},function(t,e){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(e){"use strict";if("production"!==e.env.NODE_ENV)var r=n(8),o=n(9),i=n(11),a={};t.exports=function(t,n,s,l,c){if("production"!==e.env.NODE_ENV)for(var u in t)if(t.hasOwnProperty(u)){var f;try{r("function"==typeof t[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,u,typeof t[u]),f=t[u](n,u,l,s,null,i)}catch(t){f=t}if(o(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof f),f instanceof Error&&!(f.message in a)){a[f.message]=!0;var h=c?c():"";o(!1,"Failed %s type: %s%s",s,f.message,null!=h?h:"")}}}}).call(e,n(5))},function(t,e,n){"use strict";var r=n(7),o=n(8),i=n(11);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e){t.exports=n(1)},function(t,e){"use strict";var n=function(t,e){return t===e};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,r=void 0,o=[],i=void 0,a=!1,s=function(t,n){return e(t,o[n])},l=function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return a&&r===this&&n.length===o.length&&n.every(s)?i:(a=!0,r=this,o=n,i=t.apply(this,n))};return l}}])},(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(12),o=n.n(r),i=n(13),a=n.n(i)()(o());a.push([t.id,".ol-control.layer-switcher{top:.5em;right:.5em;text-align:right}.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click{padding-right:.5em}.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click>button{right:0;border-left:0}.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click>.panel{display:block}.ol-control.layer-switcher.layer-switcher-activation-mode-click>.panel{display:none}.ol-control.layer-switcher button{right:0;border-left:0}.ol-control.layer-switcher li.layer{list-style:none}.data-layer-add{display:flex;justify-content:flex-end;margin-bottom:10px}.data-layer-remove{display:flex;justify-content:flex-end;margin-bottom:10px;margin-top:10px}","",{version:3,sources:["webpack://./GeomapPanel.css"],names:[],mappings:"AAAA,2BACE,QAAA,CACA,UAAA,CACA,gBAAA,CAEF,sEACE,kBAAA,CAEF,6EACE,OAAA,CACA,aAAA,CAEF,6EACE,aAAA,CAEF,uEACE,YAAA,CAEF,kCACE,OAAA,CACA,aAAA,CAGF,oCACE,eAAA,CAIF,gBACI,YAAA,CACA,wBAAA,CACA,kBAAA,CAGJ,mBACE,YAAA,CACA,wBAAA,CACA,kBAAA,CACA,eAAA",sourcesContent:[".ol-control.layer-switcher {\n  top: 0.5em;\n  right: 0.5em;\n  text-align: right;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click {\n  padding-right: 0.5em;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > button {\n  right: 0;\n  border-left: 0;\n}\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > .panel {\n  display: block;\n}\n.ol-control.layer-switcher.layer-switcher-activation-mode-click > .panel {\n  display: none;\n}\n.ol-control.layer-switcher button {\n  right: 0;\n  border-left: 0;\n}\n\n.ol-control.layer-switcher li.layer {\n  list-style: none;\n}\n\n\n.data-layer-add { \n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 10px;\n}\n\n.data-layer-remove { \n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 10px;\n  margin-top: 10px;\n}"],sourceRoot:""}]);const s=a},(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(12),o=n.n(r),i=n(13),a=n.n(i)()(o());a.push([t.id,'.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid #b3c5db;background-color:rgba(255,255,255,.4)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:rgba(0,60,136,.3);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid #eee;border-top:none;color:#eee;font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-singlebar-even{background-color:#000}.ol-scale-singlebar-odd{background-color:#fff}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-step-marker{width:1px;height:15px;background-color:#000;float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:12px;z-index:11;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-text{position:absolute;font-size:14px;text-align:center;bottom:25px;color:#000;text-shadow:-2px 0 #fff,0 2px #fff,2px 0 #fff,0 -2px #fff}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid #000}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ol-viewport canvas{all:unset}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:rgba(255,255,255,.4);border-radius:4px;padding:2px}.ol-control:hover{background-color:rgba(255,255,255,.6)}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:#fff;font-weight:bold;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:rgba(0,60,136,.5);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:normal;font-size:1.2em;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;background-color:rgba(0,60,136,.7)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:rgba(0,60,136,.7);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:#000;text-shadow:0 0 2px #fff;font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:rgba(255,255,255,.8)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-0.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid #7b98bc;height:150px;margin:2px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:2px;left:2px;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:rgba(255,255,255,.8)}.ol-overviewmap-box{border:2px dotted rgba(0,60,136,.7)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}',"",{version:3,sources:["webpack://./../node_modules/ol/ol.css"],names:[],mappings:"AAAA,QACE,qBAAA,CACA,iBAAA,CACA,0BAAA,CACA,qCAAA,CAGF,mBACE,OAAA,CACA,SAAA,CACA,iBAAA,CAGF,eACE,4BAAA,CACA,iBAAA,CACA,UAAA,CACA,QAAA,CACA,WAAA,CACA,iBAAA,CAEF,qBACE,qBAAA,CACA,eAAA,CACA,UAAA,CACA,cAAA,CACA,iBAAA,CACA,UAAA,CACA,0BAAA,CACA,mBAAA,CAEF,yBACE,qBAAA,CAEF,wBACE,qBAAA,CAEF,cACE,iBAAA,CACA,UAAA,CACA,QAAA,CAEF,sBACE,SAAA,CACA,WAAA,CACA,qBAAA,CACA,WAAA,CACA,UAAA,CAEF,oBACE,iBAAA,CACA,WAAA,CACA,cAAA,CACA,UAAA,CACA,UAAA,CACA,yDAAA,CAEF,eACE,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,yDAAA,CAEF,oBACE,iBAAA,CACA,WAAA,CACA,SAAA,CACA,qBAAA,CACA,qBAAA,CAGF,gBACE,YAAA,CAEF,8BACE,0BAAA,CACA,wBAAA,CACA,qBAAA,CACA,oBAAA,CACA,gBAAA,CACA,yCAAA,CAEF,oBACE,SAAA,CAEF,eACE,6BAAA,CACA,wBAAA,CACA,qBAAA,CACA,oBAAA,CACA,gBAAA,CAEF,aACE,uBAAA,CACA,oBAAA,CACA,eAAA,CAEF,SACE,WAAA,CACA,mBAAA,CACA,gBAAA,CACA,WAAA,CAEF,YACE,iBAAA,CACA,qCAAA,CACA,iBAAA,CACA,WAAA,CAEF,kBACE,qCAAA,CAEF,SACE,QAAA,CACA,SAAA,CAEF,WACE,QAAA,CACA,UAAA,CACA,mDAAA,CAEF,qBACE,SAAA,CACA,iBAAA,CACA,wDAAA,CAEF,gBACE,WAAA,CACA,SAAA,CAEF,gBACE,UAAA,CACA,QAAA,CAGF,mBACE,aAAA,CACA,UAAA,CACA,SAAA,CACA,UAAA,CACA,gBAAA,CACA,oBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CACA,aAAA,CACA,gBAAA,CACA,kCAAA,CACA,WAAA,CACA,iBAAA,CAEF,qCACE,WAAA,CACA,SAAA,CAEF,uBACE,iBAAA,CAEF,YACE,aAAA,CACA,kBAAA,CACA,eAAA,CACA,qBAAA,CAEF,6BACE,eAAA,CAEF,0BACE,SAAA,CAEF,kDAEE,oBAAA,CACA,kCAAA,CAEF,qBACE,yBAAA,CAEF,sBACE,yBAAA,CAIF,gBACE,gBAAA,CACA,WAAA,CACA,UAAA,CACA,4BAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CAEF,kBACE,uBAAA,CACA,oBAAA,CAEF,mBACE,QAAA,CACA,gBAAA,CACA,UAAA,CACA,wBAAA,CACA,cAAA,CAEF,mBACE,cAAA,CACA,eAAA,CAEF,0CACE,WAAA,CAEF,oBACE,cAAA,CACA,iBAAA,CACA,qBAAA,CAEF,uBACE,aAAA,CAEF,gCACE,YAAA,CAEF,mCACE,+BAAA,CAEF,iCACE,QAAA,CACA,OAAA,CACA,qBAAA,CAEF,qCACE,iBAAA,CACA,gBAAA,CAEF,wCACE,YAAA,CAGF,eACE,SAAA,CACA,SAAA,CACA,YAAA,CAEF,sBACE,iBAAA,CACA,WAAA,CAGF,yBACE,SAAA,CAGF,gBACE,SAAA,CACA,WAAA,CAEF,iCACE,QAAA,CACA,MAAA,CACA,uBAAA,CAEF,2DAEE,aAAA,CAEF,oCACE,wBAAA,CACA,YAAA,CACA,UAAA,CACA,WAAA,CAEF,0CACE,UAAA,CACA,QAAA,CACA,iBAAA,CAEF,yFAEE,YAAA,CAEF,mCACE,+BAAA,CAEF,oBACE,mCAAA,CAGF,0CACE,WAAA",sourcesContent:['.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 1.5px solid rgb(179,197,219);\n  background-color: rgba(255,255,255,0.4);\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n  transition: all 0.25s;\n}\n.ol-scale-singlebar-even{\n  background-color: #000000;\n}\n.ol-scale-singlebar-odd{\n  background-color: #ffffff;\n}\n.ol-scale-bar {\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n}\n.ol-scale-step-marker {\n  width: 1px;\n  height: 15px;\n  background-color: #000000;\n  float: right;\n  z-index: 10;\n}\n.ol-scale-step-text {\n  position: absolute;\n  bottom: -5px;\n  font-size: 12px;\n  z-index: 11;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-text {\n  position: absolute;\n  font-size: 14px;\n  text-align: center;\n  bottom: 25px;\n  color: #000000;\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n.ol-scale-singlebar {\n  position: relative;\n  height: 10px;\n  z-index: 9;\n  box-sizing: border-box;\n  border: 1px solid black;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-viewport canvas {\n  all: unset;\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-weight: bold;\n  text-decoration: none;\n  font-size: inherit;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n  display: flex;\n  flex-flow: row-reverse;\n  align-items: center;\n}\n.ol-attribution a {\n  color: rgba(0,60,136,0.7);\n  text-decoration: none;\n}\n.ol-attribution ul {\n  margin: 0;\n  padding: 1px .5em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n  font-size: 12px;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution button {\n  flex-shrink: 0;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button {\n  bottom: 2px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n'],sourceRoot:""}]);const s=a},,(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u,unByKey:()=>c});var r,o=n(47),i=n(46),a=n(53),s=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.Z.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=(0,a.oL)(this,t[o],e);return r}return(0,a.oL)(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var o=0;o<r;++o)n[o]=(0,a.Vx)(this,t[o],e)}else n=(0,a.Vx)(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)c(n);else if(Array.isArray(t))for(var r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(o.Z);function c(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,a.bN)(t[e]);else(0,a.bN)(t)}l.prototype.on,l.prototype.once,l.prototype.un;const u=l},t=>{"use strict";t.exports=a},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/de8e6d4bc5ceacebaa57.eot?38664031"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/edd66aeabbf03a44589f.woff2?38664031"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/e0b6b3fc480dde6d468e.woff?38664031"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/71695544162dc8d4f376.ttf?38664031"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/img/b138b9e0f6033c5f0356.svg?38664031"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/35712664df5bcd4c683b.eot?66752613"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/1275a1f2f874e02e47f5.woff?66752613"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/fonts/6ebc71fd9ffb63669976.ttf?66752613"},t=>{"use strict";t.exports="public/plugins/orchestracities-map-panel/img/2c3a67768445e6d10eb1.svg?66752613"},(t,e,n)=>{"use strict";n.r(e),n.d(e,{GroupEvent:()=>g,default:()=>v});var r,o=n(56),i=n(59),a=n(60),s=n(48),l=n(46),c=n(58),u=n(42),f=n(51),h=n(40),p=n(44),d=n(53),m=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.layer=n,r}return m(e,t),e}(s.ZP),y="layers";const v=function(t){function e(e){var n=this,r=e||{},o=(0,f.f0)({},r);delete o.layers;var a=r.layers;return(n=t.call(this,o)||this).on,n.once,n.un,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(y,n.handleLayersChanged_),a?Array.isArray(a)?a=new i.Z(a.slice(),{unique:!0}):(0,u.h)("function"==typeof a.getArray,43):a=new i.Z(void 0,{unique:!0}),n.setLayers(a),n}return m(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.bN),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,d.oL)(t,a.Z.ADD,this.handleLayersAdd_,this),(0,d.oL)(t,a.Z.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(d.bN);(0,f.ZH)(this.listenerKeys_);for(var n=t.getArray(),r=0,o=n.length;r<o;r++){var i=n[r];this.registerLayerListeners_(i),this.dispatchEvent(new g("addlayer",i))}this.changed()},e.prototype.registerLayerListeners_=function(t){var n=[(0,d.oL)(t,c.Z.PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.oL)(t,l.Z.CHANGE,this.handleLayerChange_,this)];t instanceof e&&n.push((0,d.oL)(t,"addlayer",this.handleLayerGroupAdd_,this),(0,d.oL)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[(0,p.sq)(t)]=n},e.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new g("addlayer",t.layer))},e.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new g("removelayer",t.layer))},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new g("addlayer",e)),this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,p.sq)(e);this.listenerKeys_[n].forEach(d.bN),delete this.listenerKeys_[n],this.dispatchEvent(new g("removelayer",e)),this.changed()},e.prototype.getLayers=function(){return this.get(y)},e.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),r=0,o=n.length;r<o;++r)this.dispatchEvent(new g("removelayer",n[r]));this.set(y,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r=this.getLayerState(),o=r.zIndex;t||void 0!==r.zIndex||(o=0);for(var i=n,a=e.length;i<a;i++){var s=e[i];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=(0,h.Ed)(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=o)}return e},e.prototype.getSourceState=function(){return"ready"},e}(o.Z)},(t,e)=>{"use strict";const n={TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:t=>`${t} menu`,MenuGroup:t=>`${t} menu group`,MenuItem:t=>`${t} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:t=>`data-testid Panel header ${t}`,headerItems:t=>`Panel header item ${t}`,containerByTitle:t=>`${t} panel`,headerCornerInfo:t=>`Panel header ${t}`},Visualization:{Graph:{VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:t=>`gpl alias ${t}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:t=>`VizLegend series ${t}`},Drawer:{General:{title:t=>`Drawer title ${t}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:t=>`${t} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"Apply changes and go back to dashboard",toggleVizPicker:"toggle-viz-picker",toggleVizOptions:"toggle-viz-options",toggleTableView:"toggle-table-view"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:t=>`Tab ${t}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:t=>`${t} query operation action`,title:t=>`Query editor row title ${t}`,container:t=>`Query editor row ${t}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:t=>`Alert ${t}`,alertV2:t=>`data-testid Alert ${t}`},TransformTab:{content:"Transform editor tab content",newTransform:t=>`New transform ${t}`,transformationEditor:t=>`Transformation editor ${t}`,transformationEditorDebugger:t=>`Transformation editor debugger ${t}`},Transforms:{card:t=>`New transform ${t}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},searchInput:"search transformations"},PageToolbar:{container:()=>".page-toolbar",item:t=>`${t}`},QueryEditorToolbarItem:{button:t=>`QueryEditor toolbar item button ${t}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:t=>t?`Options group ${t}`:"Options group",toggle:t=>t?`Options group ${t} toggle`:"Options group toggle"},PluginVisualization:{item:t=>`Plugin visualization item ${t}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:t=>`Value picker button ${t}`,select:t=>`Value picker select ${t}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:t=>`data-testid Collapse folder ${t}`,expandFolder:t=>`data-testid Expand folder ${t}`,dashboardItem:t=>`${n.Search.dashboardItems} ${t}`,dashboardCard:t=>`data-testid Search card ${t}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:t=>`Call to action button ${t}`,buttonV2:t=>`data-testid Call to action button ${t}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:t=>`data-testid suggestion-${t}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:t=>`data-testid dashboard-row-title-${t}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"}},r={Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:t=>`Data source list item ${t}`},AddDataSource:{url:"/datasources/new",dataSourcePlugins:t=>`Data source plugin item ${t}`,dataSourcePluginsV2:t=>`Add data source ${t}`},ConfirmModal:{delete:"Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:t=>`/d/${t}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:t=>`data-testid Dashboard template variables submenu Label ${t}`,submenuItemValueDropDownValueLinkTexts:t=>`data-testid Dashboard template variables Variable Value DropDown value link text ${t}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:t=>`data-testid Dashboard template variables Variable Value DropDown option text ${t}`},Settings:{General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:t=>`Dashboard settings section item ${t}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Dashboard settings page title"},Annotations:{List:{addAnnotationCTA:n.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:n.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"}},Variables:{List:{addVariableCTA:n.CallToActionCard.button("Add variable"),addVariableCTAV2:n.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:t=>`Variable editor Table Name field ${t}`,tableRowDefinitionFields:t=>`Variable editor Table Definition field ${t}`,tableRowArrowUpButtons:t=>`Variable editor Table ArrowUp button ${t}`,tableRowArrowDownButtons:t=>`Variable editor Table ArrowDown button ${t}`,tableRowDuplicateButtons:t=>`Variable editor Table Duplicate button ${t}`,tableRowRemoveButtons:t=>`Variable editor Table Remove button ${t}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button"},QueryVariable:{queryOptionsDataSourceSelect:n.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}}},Dashboards:{url:"/dashboards",dashboards:t=>`Dashboard search item ${t}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public Dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",EnableSwitch:"data-testid public dashboard on off switch",SaveConfigButton:"data-testid public dashboard save config button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert"}},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:t=>`/d-solo/${t}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemRow:"Playlist item row",itemIdType:"Playlist item dashboard by ID type",itemTagType:"Playlist item dashboard by Tag type",itemMoveUp:"Move playlist item order up",itemMoveDown:"Move playlist item order down",itemDelete:"Delete playlist item"}},o={pages:r,components:n};e.selectors=o},(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r,o=n(57),i=n(61),a=n(49),s=n(53),l=n(54),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const u=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return c(e,t),e.prototype.disposeInternal=function(){(0,l.ZF)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,l.ZF)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,s.bN)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,t)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.Zn&&this.listenerKeys.push((0,s.oL)(t,i.Z.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.Z)},(t,e,n)=>{"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}n.d(e,{$W:()=>u,GW:()=>p,SV:()=>l,Yr:()=>c,bI:()=>s,f9:()=>o,k3:()=>i,mD:()=>d,rU:()=>a,t7:()=>f,uZ:()=>r});var o="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},i="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E};function a(t,e,n,r,o,i){var a=o-n,l=i-r;if(0!==a||0!==l){var c=((t-n)*a+(e-r)*l)/(a*a+l*l);c>1?(n=o,r=i):c>0&&(n+=a*c,r+=l*c)}return s(t,e,n,r)}function s(t,e,n,r){var o=n-t,i=r-e;return o*o+i*i}function l(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,o=Math.abs(t[n][n]),i=n+1;i<e;i++){var a=Math.abs(t[i][n]);a>o&&(o=a,r=i)}if(0===o)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var c=-t[l][n]/t[n][n],u=n;u<e+1;u++)n==u?t[l][u]=0:t[l][u]+=c*t[n][u]}for(var f=new Array(e),h=e-1;h>=0;h--){f[h]=t[h][e]/t[h][h];for(var p=h-1;p>=0;p--)t[p][e]-=t[p][h]*f[h]}return f}function c(t){return t*Math.PI/180}function u(t,e){var n=t%e;return n*e<0?n+e:n}function f(t,e,n){return t+n*(e-t)}function h(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function p(t,e){return Math.floor(h(t,e))}function d(t,e){return Math.ceil(h(t,e))}},(t,e,n)=>{"use strict";n.d(e,{Cf:()=>z,Cr:()=>L,EO:()=>B,Ed:()=>R,GN:()=>y,H6:()=>x,H9:()=>N,HK:()=>g,I7:()=>G,MV:()=>Z,Ne:()=>W,T9:()=>d,Wj:()=>b,Xv:()=>F,YN:()=>m,b8:()=>c,bg:()=>C,d9:()=>s,dY:()=>P,dz:()=>j,f3:()=>a,fS:()=>v,g0:()=>O,hC:()=>k,hI:()=>i,jE:()=>f,kK:()=>M,l7:()=>_,lJ:()=>p,p8:()=>T,pX:()=>h,qP:()=>A,qf:()=>l,qg:()=>S,r4:()=>u,rL:()=>I,w$:()=>E,xb:()=>D});var r=n(41),o=n(42);function i(t){for(var e=p(),n=0,r=t.length;n<r;++n)b(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){var r,o;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function c(t,e){return f(t,e[0],e[1])}function u(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function h(t,e){var n=t[0],o=t[1],i=t[2],a=t[3],s=e[0],l=e[1],c=r.Z.UNKNOWN;return s<n?c|=r.Z.LEFT:s>i&&(c|=r.Z.RIGHT),l<o?c|=r.Z.BELOW:l>a&&(c|=r.Z.ABOVE),c===r.Z.UNKNOWN&&(c=r.Z.INTERSECTING),c}function p(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,n,r,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=r,o):[t,e,n,r]}function m(t){return d(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var n=t[0],r=t[1];return d(n,r,n,r,e)}function y(t,e,n,r,o){return A(m(o),t,e,n,r)}function v(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function _(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function b(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function A(t,e,n,r,o){for(;n<r;n+=o)w(t,e[n],e[n+1]);return t}function w(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function x(t,e){var n;return(n=e(k(t)))||(n=e(E(t)))||(n=e(F(t)))?n:(n=e(I(t)))||!1}function C(t){var e=0;return D(t)||(e=j(t)*L(t)),e}function k(t){return[t[0],t[1]]}function E(t){return[t[2],t[1]]}function S(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function O(t,e){var n;return"bottom-left"===e?n=k(t):"bottom-right"===e?n=E(t):"top-left"===e?n=I(t):"top-right"===e?n=F(t):(0,o.h)(!1,13),n}function T(t,e,n,r,o){var i=P(t,e,n,r),a=i[0],s=i[1],l=i[2],c=i[3],u=i[4],f=i[5],h=i[6],p=i[7];return d(Math.min(a,l,u,h),Math.min(s,c,f,p),Math.max(a,l,u,h),Math.max(s,c,f,p),o)}function P(t,e,n,r){var o=e*r[0]/2,i=e*r[1]/2,a=Math.cos(n),s=Math.sin(n),l=o*a,c=o*s,u=i*a,f=i*s,h=t[0],p=t[1];return[h-l+f,p-c-u,h-l-f,p-c+u,h+l-f,p+c+u,h+l+f,p+c-u,h-l+f,p-c-u]}function L(t){return t[3]-t[1]}function R(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return M(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):m(r),r}function I(t){return[t[0],t[3]]}function F(t){return[t[2],t[3]]}function j(t){return t[2]-t[0]}function M(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function D(t){return t[2]<t[0]||t[3]<t[1]}function B(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function N(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function G(t,e,n){var o=!1,i=h(t,e),a=h(t,n);if(i===r.Z.INTERSECTING||a===r.Z.INTERSECTING)o=!0;else{var s=t[0],l=t[1],c=t[2],u=t[3],f=e[0],p=e[1],d=n[0],m=n[1],g=(m-p)/(d-f),y=void 0,v=void 0;a&r.Z.ABOVE&&!(i&r.Z.ABOVE)&&(o=(y=d-(m-u)/g)>=s&&y<=c),o||!(a&r.Z.RIGHT)||i&r.Z.RIGHT||(o=(v=m-(d-c)*g)>=l&&v<=u),o||!(a&r.Z.BELOW)||i&r.Z.BELOW||(o=(y=d-(m-l)/g)>=s&&y<=c),o||!(a&r.Z.LEFT)||i&r.Z.LEFT||(o=(v=m-(d-s)*g)>=l&&v<=u)}return o}function W(t,e,n,r){var o=[];if(r>1)for(var i=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)o.push(t[0]+i*s/r,t[1],t[2],t[1]+a*s/r,t[2]-i*s/r,t[3],t[0],t[3]-a*s/r);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);for(var l=[],c=[],u=(s=0,o.length);s<u;s+=2)l.push(o[s]),c.push(o[s+1]);return function(t,e,n){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(l,c,n)}function z(t,e){var n=e.getExtent(),r=S(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var o=j(n),i=Math.floor((r[0]-n[0])/o)*o;t[0]-=i,t[2]-=i}return t}function Z(t,e){if(e.canWrapX()){var n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];z(t,e);var r=j(n);if(j(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},(t,e,n)=>{"use strict";n.d(e,{h:()=>o});var r=n(43);function o(t,e){if(!t)throw new r.Z(e)}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r,o=n(44),i=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const a=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===o.q4?o.q4:"v"+o.q4.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return i(e,t),e}(Error)},(t,e,n)=>{"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,{O3:()=>r,q4:()=>a,sq:()=>i});var o=0;function i(t){return t.ol_uid||(t.ol_uid=String(++o))}var a="6.15.1"},(t,e,n)=>{"use strict";n.d(e,{G$:()=>a,Id:()=>c,ME:()=>i,MP:()=>l,Tp:()=>u,V:()=>o,bM:()=>f,tK:()=>s});var r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=-1!==r.indexOf("firefox"),i=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom")&&!!(r.indexOf("version/15.4")>=0||r.match(/cpu (os|iphone os) 15_4 like mac os x/)),a=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),s=-1!==r.indexOf("macintosh"),l="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,c="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,u="undefined"!=typeof Image&&Image.prototype.decode,f=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r,o=n(52),i=n(48),a=n(49),s=n(51),l=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const c=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return l(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(r){var o=e?new i.ZP(t):t;o.target||(o.target=this.eventTarget_||this);var s,l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});n in l||(l[n]=0,c[n]=0),++l[n];for(var u=0,f=r.length;u<f;++u)if(!1===(s="handleEvent"in r[u]?r[u].handleEvent(o):r[u].call(this,o))||o.propagationStopped){s=!1;break}if(0==--l[n]){var h=c[n];for(delete c[n];h--;)this.removeEventListener(n,a.Zn);delete l[n]}return s}},e.prototype.disposeInternal=function(){this.listeners_&&(0,s.ZH)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=a.Zn,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(o.Z)},(t,e,n)=>{"use strict";n.d(e,{ZP:()=>r});const r=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}()},(t,e,n)=>{"use strict";n.d(e,{Dv:()=>i,Zn:()=>a,qe:()=>s,uX:()=>o});var r=n(50);function o(){return!0}function i(){return!1}function a(){}function s(t){var e,n,o,i=!1;return function(){var a=Array.prototype.slice.call(arguments);return i&&this===o&&(0,r.fS)(a,n)||(i=!0,o=this,n=a,e=t.apply(this,arguments)),e}}},(t,e,n)=>{"use strict";function r(t,e,n){for(var r,i,a=n||o,s=0,l=t.length,c=!1;s<l;)(i=+a(t[r=s+(l-s>>1)],e))<0?s=r+1:(l=r,c=!i);return c?s:~s}function o(t,e){return t>e?1:t<e?-1:0}function i(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var o=void 0;if(n>0){for(o=1;o<r;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<r;++o)if(t[o]<=e)return o}else for(o=1;o<r;++o){if(t[o]==e)return o;if(t[o]<e)return"function"==typeof n?n(e,t[o-1],t[o])>0?o-1:o:t[o-1]-e<e-t[o]?o-1:o}return r-1}function a(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function s(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,o=0;o<r;o++)t[t.length]=n[o]}function l(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function c(t,e,n){var r=e||o;return t.every((function(e,o){if(0===o)return!0;var i=r(t[o-1],e);return!(i>0||n&&0===i)}))}n.d(e,{FZ:()=>a,fS:()=>l,h7:()=>i,kK:()=>o,l7:()=>s,pT:()=>c,ry:()=>r})},(t,e,n)=>{"use strict";n.d(e,{KX:()=>i,ZH:()=>o,f0:()=>r,xb:()=>a});var r="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])}return n};function o(t){for(var e in t)delete t[e]}var i="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function a(t){var e;for(e in t)return!1;return!e}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}()},(t,e,n)=>{"use strict";n.d(e,{Vx:()=>i,bN:()=>a,oL:()=>o});var r=n(51);function o(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){var i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function i(t,e,n,r){return o(t,e,n,r,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.ZH)(t))}},(t,e,n)=>{"use strict";n.d(e,{$H:()=>a,E4:()=>o,ZF:()=>s,ep:()=>l,hF:()=>c,jy:()=>i});var r=n(45);function o(t,e,n,o){var i;return i=n&&n.length?n.shift():r.Id?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",o)}function i(t){var e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function c(t,e){for(var n=t.childNodes,r=0;;++r){var o=n[r],i=e[r];if(!o&&!i)break;o!==i&&(o?i?t.insertBefore(i,o):(t.removeChild(o),--r):t.appendChild(i))}}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r,o=n(57),i=n(55),a=n(44),s=n(42),l=n(51),c=n(39),u=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const f=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.background_=e.background;var r=(0,l.f0)({},e);return"object"==typeof e.properties&&(delete r.properties,(0,l.f0)(r,e.properties)),r[i.Z.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,s.h)("number"==typeof r[i.Z.OPACITY],64),r[i.Z.VISIBLE]=void 0===e.visible||e.visible,r[i.Z.Z_INDEX]=e.zIndex,r[i.Z.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[i.Z.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[i.Z.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[i.Z.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?r.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return u(e,t),e.prototype.getBackground=function(){return this.background_},e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,c.uZ)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,a.O3)()},e.prototype.getLayerStatesArray=function(t){return(0,a.O3)()},e.prototype.getExtent=function(){return this.get(i.Z.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(i.Z.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(i.Z.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(i.Z.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(i.Z.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(i.Z.OPACITY)},e.prototype.getSourceState=function(){return(0,a.O3)()},e.prototype.getVisible=function(){return this.get(i.Z.VISIBLE)},e.prototype.getZIndex=function(){return this.get(i.Z.Z_INDEX)},e.prototype.setBackground=function(t){this.background_=t,this.changed()},e.prototype.setExtent=function(t){this.set(i.Z.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(i.Z.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(i.Z.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(i.Z.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(i.Z.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){(0,s.h)("number"==typeof t,64),this.set(i.Z.OPACITY,t)},e.prototype.setVisible=function(t){this.set(i.Z.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(i.Z.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(o.Z)},(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r,o=n(48),i=n(58),a=n(25),s=n(51),l=n(44),c=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.key=n,o.oldValue=r,o}return c(e,t),e}(o.ZP);const f=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,(0,l.sq)(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return c(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&(0,s.f0)({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new u(n,t,e)),n=i.Z.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new u(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var o=r[t];r[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&(0,s.f0)(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],(0,s.xb)(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(a.default)},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={PROPERTYCHANGE:"propertychange"}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r,o=n(43),i=n(57),a=n(60),s=n(48),l=(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c="length",u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.element=n,o.index=r,o}return l(e,t),e}(s.ZP);const f=function(t){function e(e,n){var r=t.call(this)||this;r.on,r.once,r.un;var o=n||{};if(r.unique_=!!o.unique,r.array_=e||[],r.unique_)for(var i=0,a=r.array_.length;i<a;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return l(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(c)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(a.Z.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(a.Z.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(a.Z.REMOVE,r,t)),this.dispatchEvent(new u(a.Z.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(c,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new o.Z(58)},e}(i.Z)},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={ADD:"add",REMOVE:"remove"}},(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}}],l={};function c(t){var e=l[t];if(void 0!==e)return e.exports;var n=l[t]={id:t,exports:{}};return s[t].call(n.exports,n,n.exports,c),n.exports}c.m=s,c.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return c.d(e,{a:e}),e},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.b=document.baseURI||self.location.href,c.nc=void 0;var u={};return(()=>{"use strict";c.r(u),c.d(u,{plugin:()=>yv});var t=c(0),e=c(1),n=c.n(e),r=c(2),o=c(46),i=c(47);const a=0,s=1,l=2,f=3,h=4;var p=c(44);function d(t){return Math.pow(t,3)}function m(t){return 1-d(1-t)}function g(t){return 3*t*t-2*t*t*t}function y(t){return t}var v,_=(v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},v(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(e,n,r){var o=t.call(this)||this,i=r||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===i.transition?250:i.transition,o.transitionStarts_={},o.interpolate=!!i.interpolate,o}return _(e,t),e.prototype.changed=function(){this.dispatchEvent(o.Z.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==l)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==l){t.interimTile=null;break}t.getState()==s?e=t:t.getState()==a?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==f&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,p.O3)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:d(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(i.Z);const A=b;var w=c(54),x=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const C=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.extent=e,i.pixelRatio_=r,i.resolution=n,i.state=o,i}return x(e,t),e.prototype.changed=function(){this.dispatchEvent(o.Z.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,p.O3)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,p.O3)()},e}(i.Z),k=0,E=1,S=2,O=3,T=4;var P=c(45),L=c(40),R=c(53),I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,r,k)||this;return s.src_=o,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.state=k,s.imageLoadFunction_=a,s}I(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=O,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,L.Cr)(this.extent)/this.image_.height),this.state=S,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=k&&this.state!=O||(this.state=E,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=F(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=(0,L.Cr)(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(C);function F(t,e,n){var r=t,i=!0,a=!1,s=!1,l=[(0,R.Vx)(r,o.Z.LOAD,(function(){s=!0,a||e()}))];return r.src&&P.Tp?(a=!0,r.decode().then((function(){i&&e()})).catch((function(t){i&&(s?e():n())}))):l.push((0,R.Vx)(r,o.Z.ERROR,n)),function(){i=!1,l.forEach(R.bN)}}var j=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const M=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=r,s.key=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=i,s}return j(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=l,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){var t;this.state=f,this.unlistenImage_(),this.image_=((t=(0,w.E4)(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=l:this.state=h,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==f&&(this.state=a,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a&&(this.state=s,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=F(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(A);var D={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var B={};B[D.RADIANS]=6370997/(2*Math.PI),B[D.DEGREES]=2*Math.PI*6370997/360,B[D.FEET]=.3048,B[D.METERS]=1,B[D.USFEET]=1200/3937;const N=D;var G=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||B[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();const W=G;var z=c(39),Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=6378137,U=Math.PI*V,q=[-U,-U,U,U],X=[-180,-85,180,85],Y=V*Math.log(Math.tan(Math.PI/2)),K=function(t){function e(e){return t.call(this,{code:e,units:N.METERS,extent:q,global:!0,worldExtent:X,getPointResolution:function(t,e){return t/(0,z.f9)(e[1]/V)}})||this}return Z(e,t),e}(W),H=[new K("EPSG:3857"),new K("EPSG:102100"),new K("EPSG:102113"),new K("EPSG:900913"),new K("http://www.opengis.net/def/crs/EPSG/0/3857"),new K("http://www.opengis.net/gml/srs/epsg.xml#3857")];function $(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=0;a<r;a+=o){i[a]=U*t[a]/180;var s=V*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>Y?s=Y:s<-Y&&(s=-Y),i[a+1]=s}return i}function J(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=0;a<r;a+=o)i[a]=180*t[a]/U,i[a+1]=360*Math.atan(Math.exp(t[a+1]/V))/Math.PI-90;return i}var Q=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tt=[-180,-90,180,90],et=6378137*Math.PI/180,nt=function(t){function e(e,n){return t.call(this,{code:e,units:N.DEGREES,extent:tt,axisOrientation:n,global:!0,metersPerUnit:et,worldExtent:tt})||this}return Q(e,t),e}(W),rt=[new nt("CRS:84"),new nt("EPSG:4326","neu"),new nt("urn:ogc:def:crs:OGC:1.3:CRS84"),new nt("urn:ogc:def:crs:OGC:2:84"),new nt("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new nt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new nt("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],ot={};var it={};function at(t,e,n){var r=t.getCode(),o=e.getCode();r in it||(it[r]={}),it[r][o]=n}function st(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function lt(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function ct(t,e){var n=Math.cos(e),r=Math.sin(e),o=t[0]*n-t[1]*r,i=t[1]*n+t[0]*r;return t[0]=o,t[1]=i,t}function ut(t,e){return t[0]*=e,t[1]*=e,t}function ft(t,e){if(e.canWrapX()){var n=(0,L.dz)(e.getExtent()),r=function(t,e,n){var r=e.getExtent(),o=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var i=n||(0,L.dz)(r);o=Math.floor((t[0]-r[0])/i)}return o}(t,e,n);r&&(t[0]-=r*n)}return t}var ht=6371008.8;function pt(t,e,n){var r=n||ht,o=(0,z.Yr)(t[1]),i=(0,z.Yr)(e[1]),a=(i-o)/2,s=(0,z.Yr)(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var dt=!0;function mt(t){dt=!(void 0===t||t)}function gt(t,e,n){var r;if(void 0!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];r=e}else r=t.slice();return r}function yt(t,e,n){if(void 0!==e&&t!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];t=e}return t}function vt(t){!function(t,e){ot[t]=e}(t.getCode(),t),at(t,t,gt)}function _t(t){return"string"==typeof t?ot[e=t]||ot[e.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var e}function bt(t,e,n,r){var o,i=(t=_t(t)).getPointResolutionFunc();if(i){if(o=i(e,n),r&&r!==t.getUnits())(s=t.getMetersPerUnit())&&(o=o*s/B[r])}else{var a=t.getUnits();if(a==N.DEGREES&&!r||r==N.DEGREES)o=e;else{var s,l=Et(t,_t("EPSG:4326"));if(l===yt&&a!==N.DEGREES)o=e*t.getMetersPerUnit();else{var c=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(pt((c=l(c,c,2)).slice(0,2),c.slice(2,4))+pt(c.slice(4,6),c.slice(6,8)))/2}void 0!==(s=r?B[r]:t.getMetersPerUnit())&&(o/=s)}}return o}function At(t){!function(t){t.forEach(vt)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&at(e,t,gt)}))}))}function wt(t,e){return t?"string"==typeof t?_t(t):t:_t(e)}function xt(t,e){return mt(),Ot(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Ct(t,e){var n=Ot(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=(0,z.$W)(r+180,360)-180),n}function kt(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Et(t,e)===gt)&&n}function Et(t,e){var n=function(t,e){var n;return t in it&&e in it[t]&&(n=it[t][e]),n}(t.getCode(),e.getCode());return n||(n=yt),n}function St(t,e){return Et(_t(t),_t(e))}function Ot(t,e,n){return St(e,n)(t,void 0,t.length)}function Tt(t,e,n,r){var o=St(e,n);return(0,L.Ne)(t,o,void 0,r)}var Pt,Lt,Rt,It=null;function Ft(){return It}function jt(t,e){return It?Ot(t,e,It):t}function Mt(t,e){return It?Ot(t,It,e):(dt&&!lt(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(dt=!1),t)}function Dt(t,e){return It?Tt(t,e,It):t}function Bt(t,e){return It?Tt(t,It,e):t}function Nt(t,e){if(!It)return t;var n=_t(e).getUnits(),r=It.getUnits();return n&&r?t*B[n]/B[r]:t}At(H),At(rt),Pt=H,Lt=$,Rt=J,rt.forEach((function(t){Pt.forEach((function(e){at(t,e,Lt),at(e,t,Rt)}))}));const Gt=function(){function t(t,e,n,r,o,i){this.sourceProj_=t,this.targetProj_=e;var a={},s=St(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,L.dz)(r)==(0,L.dz)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,L.dz)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,L.dz)(this.targetProj_.getExtent()):null;var l=(0,L.rL)(n),c=(0,L.Xv)(n),u=(0,L.w$)(n),f=(0,L.hC)(n),h=this.transformInv_(l),p=this.transformInv_(c),d=this.transformInv_(u),m=this.transformInv_(f),g=10+(i?Math.max(0,Math.ceil((0,z.k3)((0,L.bg)(n)/(i*i*256*256)))):0);if(this.addQuad_(l,c,u,f,h,p,d,m,g),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,o,i){this.triangles_.push({source:[r,o,i],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,o,i,a,s,l){var c=(0,L.hI)([o,i,a,s]),u=this.sourceWorldWidth_?(0,L.dz)(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&u>.5&&u<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=(0,L.hI)([t,e,n,r]);p=(0,L.dz)(d)/this.targetWorldWidth_>.25||p}!h&&this.sourceProj_.isGlobal()&&u&&(p=u>.25||p)}if(!(!p&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3]))||(0,L.kK)(c,this.maxSourceExtent_)){var m=0;if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])))if(l>0)p=!0;else if(1!=(m=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(i[0])&&isFinite(i[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=m&&4!=m&&8!=m)return;if(l>0){if(!p){var g=[(t[0]+n[0])/2,(t[1]+n[1])/2],y=this.transformInv_(g),v=void 0;if(h)v=((0,z.$W)(o[0],f)+(0,z.$W)(a[0],f))/2-(0,z.$W)(y[0],f);else v=(o[0]+a[0])/2-y[0];var _=(o[1]+a[1])/2-y[1];p=v*v+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],A=this.transformInv_(b),w=[(r[0]+t[0])/2,(r[1]+t[1])/2],x=this.transformInv_(w);this.addQuad_(t,e,b,w,o,i,A,x,l-1),this.addQuad_(w,b,n,r,x,A,a,s,l-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],k=this.transformInv_(C),E=[(n[0]+r[0])/2,(n[1]+r[1])/2],S=this.transformInv_(E);this.addQuad_(t,C,E,r,o,k,S,s,l-1),this.addQuad_(C,e,n,E,k,i,a,S,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&m)&&this.addTriangle_(t,n,r,o,a,s),0==(14&m)&&this.addTriangle_(t,n,e,o,a,i),m&&(0==(13&m)&&this.addTriangle_(e,r,t,i,s,o),0==(7&m)&&this.addTriangle_(e,r,n,i,s,a))}},t.prototype.calculateSourceExtent=function(){var t=(0,L.lJ)();return this.triangles_.forEach((function(e,n,r){var o=e.source;(0,L.Wj)(t,o[0]),(0,L.Wj)(t,o[1]),(0,L.Wj)(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();var Wt,zt={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Zt={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0},Vt=c(51),Ut=[];function qt(t,e,n,r,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,o)),t.restore()}function Xt(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function Yt(t,e,n,r){var o=Ot(n,e,t),i=bt(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(i*=a);var s=t.getMetersPerUnit();void 0!==s&&(i/=s);var l=t.getExtent();if(!l||(0,L.b8)(l,o)){var c=bt(t,i,o)/i;isFinite(c)&&c>0&&(i/=c)}return i}function Kt(t,e,n,r,o,i,a,s,l,c,u,f){var h=(0,w.E4)(Math.round(n*t),Math.round(n*e),Ut);if(f||(0,Vt.f0)(h,zt),0===l.length)return h.canvas;function p(t){return Math.round(t*n)/n}h.scale(n,n),h.globalCompositeOperation="lighter";var d=(0,L.lJ)();l.forEach((function(t,e,n){(0,L.l7)(d,t.extent)}));var m=(0,L.dz)(d),g=(0,L.Cr)(d),y=(0,w.E4)(Math.round(n*m/r),Math.round(n*g/r));f||(0,Vt.f0)(y,zt);var v=n/r;l.forEach((function(t,e,n){var r=t.extent[0]-d[0],o=-(t.extent[3]-d[3]),i=(0,L.dz)(t.extent),a=(0,L.Cr)(t.extent);t.image.width>0&&t.image.height>0&&y.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,r*v,o*v,i*v,a*v)}));var _=(0,L.rL)(a);return s.getTriangles().forEach((function(t,e,o){var a=t.source,s=t.target,l=a[0][0],c=a[0][1],u=a[1][0],m=a[1][1],g=a[2][0],v=a[2][1],b=p((s[0][0]-_[0])/i),A=p(-(s[0][1]-_[1])/i),w=p((s[1][0]-_[0])/i),x=p(-(s[1][1]-_[1])/i),C=p((s[2][0]-_[0])/i),k=p(-(s[2][1]-_[1])/i),E=l,S=c;l=0,c=0;var O=[[u-=E,m-=S,0,0,w-b],[g-=E,v-=S,0,0,C-b],[0,0,u,m,x-A],[0,0,g,v,k-A]],T=(0,z.SV)(O);if(T){if(h.save(),h.beginPath(),function(){if(void 0===Wt){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",qt(t,4,5,4,0),qt(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;Wt=Xt(e,0)||Xt(e,4)||Xt(e,8)}return Wt}()||!f){h.moveTo(w,x);for(var P=b-w,L=A-x,R=0;R<4;R++)h.lineTo(w+p((R+1)*P/4),x+p(R*L/3)),3!=R&&h.lineTo(w+p((R+1)*P/4),x+p((R+1)*L/3));h.lineTo(C,k)}else h.moveTo(w,x),h.lineTo(b,A),h.lineTo(C,k);h.clip(),h.transform(T[0],T[2],T[1],T[3],b,A),h.translate(d[0]-E,d[3]-S),h.scale(r/n,-r/n),h.drawImage(y.canvas,0,0),h.restore()}})),u&&(h.save(),h.globalCompositeOperation="source-over",h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,o=(r[0][0]-_[0])/i,a=-(r[0][1]-_[1])/i,s=(r[1][0]-_[0])/i,l=-(r[1][1]-_[1])/i,c=(r[2][0]-_[0])/i,u=-(r[2][1]-_[1])/i;h.beginPath(),h.moveTo(s,l),h.lineTo(o,a),h.lineTo(c,u),h.closePath(),h.stroke()})),h.restore()),h.canvas}var Ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(t){function e(e,n,r,o,i,s,l,c,u,f,p,d){var m=t.call(this,i,a,{interpolate:!!d})||this;m.renderEdges_=void 0!==p&&p,m.pixelRatio_=l,m.gutter_=c,m.canvas_=null,m.sourceTileGrid_=n,m.targetTileGrid_=o,m.wrappedTileCoord_=s||i,m.sourceTiles_=[],m.sourcesListenerKeys_=null,m.sourceZ_=0;var g=o.getTileCoordExtent(m.wrappedTileCoord_),y=m.targetTileGrid_.getExtent(),v=m.sourceTileGrid_.getExtent(),_=y?(0,L.Ed)(g,y):g;if(0===(0,L.bg)(_))return m.state=h,m;var b=e.getExtent();b&&(v=v?(0,L.Ed)(v,b):b);var A=o.getResolution(m.wrappedTileCoord_[0]),w=function(t,e,n,r){var o=(0,L.qg)(n),i=Yt(t,e,o,r);return(!isFinite(i)||i<=0)&&(0,L.H6)(n,(function(n){return i=Yt(t,e,n,r),isFinite(i)&&i>0})),i}(e,r,_,A);if(!isFinite(w)||w<=0)return m.state=h,m;var x=void 0!==f?f:.5;if(m.triangulation_=new Gt(e,r,_,v,w*x,A),0===m.triangulation_.getTriangles().length)return m.state=h,m;m.sourceZ_=n.getZForResolution(w);var C=m.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(C[1]=(0,z.uZ)(C[1],v[1],v[3]),C[3]=(0,z.uZ)(C[3],v[1],v[3])):C=(0,L.Ed)(C,v)),(0,L.bg)(C)){for(var k=n.getTileRangeForExtentAndZ(C,m.sourceZ_),E=k.minX;E<=k.maxX;E++)for(var S=k.minY;S<=k.maxY;S++){var O=u(m.sourceZ_,E,S,l);O&&m.sourceTiles_.push(O)}0===m.sourceTiles_.length&&(m.state=h)}else m.state=h;return m}return Ht(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==l&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=f;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Kt(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=l}this.changed()},e.prototype.load=function(){if(this.state==a){this.state=s,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==a||i==s){t++;var c=(0,R.oL)(e,o.Z.CHANGE,(function(n){var r=e.getState();r!=l&&r!=f&&r!=h||((0,R.bN)(c),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(c)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){t.getState()==a&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(R.bN),this.sourcesListenerKeys_=null},e.prototype.release=function(){this.canvas_&&((0,w.jy)(this.canvas_.getContext("2d")),Ut.push(this.canvas_),this.canvas_=null),t.prototype.release.call(this)},e}(A);const Jt=$t;var Qt=c(42);const te=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.expireCache=function(t){for(;this.canExpireCache();)this.pop()},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return(0,Qt.h)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return(0,Qt.h)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.peek=function(t){if(this.containsKey(t))return this.entries_[t].value_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,Qt.h)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();function ee(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function ne(t,e,n){return t+"/"+e+"/"+n}function re(t){return ne(t[0],t[1],t[2])}function oe(t){return t.split("/").map(Number)}var ie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ie(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=oe(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(re(e.tileCoord)),e.release())}.bind(this))}},e}(te);const se=ae,le="tileloadstart",ce="tileloadend",ue="tileloaderror";var fe=c(48),he=c(57),pe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),de=function(t){function e(e){var n=t.call(this)||this;n.projection=_t(e.projection),n.attributions_=me(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:"ready",n.wrapX_=void 0!==e.wrapX&&e.wrapX,n.interpolate_=!!e.interpolate,n.viewResolver=null,n.viewRejector=null;var r=n;return n.viewPromise_=new Promise((function(t,e){r.viewResolver=t,r.viewRejector=e})),n}return pe(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return(0,p.O3)()},e.prototype.getView=function(){return this.viewPromise_},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getInterpolate=function(){return this.interpolate_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=me(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(he.Z);function me(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}const ge=de;var ye=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function ve(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new ye(t,e,n,r)}const _e=ye;var be=256;function Ae(t,e,n,r,o){var i;for(e+=r;e<n;e+=r)if(i=o(t.slice(e-r,e),t.slice(e,e+r)))return i;return!1}function we(t,e,n,r,o){return!(0,L.H6)(o,(function(o){return!xe(t,e,n,r,o[0],o[1])}))}function xe(t,e,n,r,o,i){for(var a=0,s=t[n-r],l=t[n-r+1];e<n;e+=r){var c=t[e],u=t[e+1];l<=i?u>i&&(c-s)*(i-l)-(o-s)*(u-l)>0&&a++:u<=i&&(c-s)*(i-l)-(o-s)*(u-l)<0&&a--,s=c,l=u}return 0!==a}function Ce(t,e,n,r,o,i){if(0===n.length)return!1;if(!xe(t,e,n[0],r,o,i))return!1;for(var a=1,s=n.length;a<s;++a)if(xe(t,n[a-1],n[a],r,o,i))return!1;return!0}function ke(t,e,n,r,o){var i=(0,L.qP)((0,L.lJ)(),t,e,n,r);return!!(0,L.kK)(o,i)&&(!!(0,L.r4)(o,i)||(i[0]>=o[0]&&i[2]<=o[2]||(i[1]>=o[1]&&i[3]<=o[3]||Ae(t,e,n,r,(function(t,e){return(0,L.I7)(o,t,e)})))))}function Ee(t,e,n,r,o){return!!ke(t,e,n,r,o)||(!!xe(t,e,n,r,o[0],o[1])||(!!xe(t,e,n,r,o[0],o[3])||(!!xe(t,e,n,r,o[2],o[1])||!!xe(t,e,n,r,o[2],o[3]))))}function Se(t,e,n,r,o){if(!Ee(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var i=1,a=n.length;i<a;++i)if(we(t,n[i-1],n[i],r,o)&&!ke(t,n[i-1],n[i],r,o))return!1;return!0}var Oe=c(50);function Te(t){return t[0]>0&&t[1]>0}function Pe(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Le=[0,0,0],Re=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,Qt.h)((0,Oe.pT)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,Qt.h)(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0===o||this.origin_||this.origins_||(this.origin_=(0,L.rL)(o)),(0,Qt.h)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,Qt.h)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:256,(0,Qt.h)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new _e(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(o){var r=this.getTileRangeForExtentAndZ(o,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):o&&this.calculateTileRanges_(o)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,i=r.maxX;o<=i;++o)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var o,i,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],i=t[2]):a=this.getTileCoordExtent(t,r);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?ve(o=Math.floor(o/2),o,i=Math.floor(i/2),i,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return ve(r,r+1,o,o+1,e)}var i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],o=t[1],i=t[2];if(e===r)return ve(o,i,o,i,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-r),s=Math.floor(o*a),l=Math.floor(i*a);return e<r?ve(s,s,l,l,n):ve(s,Math.floor(a*(o+1))-1,l,Math.floor(a*(i+1))-1,n)}var c=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),o=this.getResolution(t),i=Pe(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*i[0]*o,s=r[0]+(e.maxX+1)*i[0]*o,l=r[1]+e.minY*i[1]*o,c=r[1]+(e.maxY+1)*i[1]*o;return(0,L.T9)(a,l,s,c,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Le;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var o=r[1],i=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),ve(o,r[1],i,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Pe(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Pe(this.getTileSize(t[0]),this.tmpSize_),i=n[0]+t[1]*o[0]*r,a=n[1]-(t[2]+1)*o[1]*r,s=i+o[0]*r,l=a+o[1]*r;return(0,L.T9)(i,a,s,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,o){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),l=Pe(this.getTileSize(i),this.tmpSize_),c=a*(t-s[0])/n/l[0],u=a*(s[1]-e)/n/l[1];return r?(c=(0,z.mD)(c,5)-1,u=(0,z.mD)(u,5)-1):(c=(0,z.GW)(c,5),u=(0,z.GW)(u,5)),ee(i,c,u,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,o){var i=this.getOrigin(n),a=this.getResolution(n),s=Pe(this.getTileSize(n),this.tmpSize_),l=(t-i[0])/a/s[0],c=(i[1]-e)/a/s[1];return r?(l=(0,z.mD)(l,5)-1,c=(0,z.mD)(c,5)-1):(l=(0,z.GW)(l,5),c=(0,z.GW)(c,5)),ee(n,l,c,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var n=(0,Oe.h7)(this.resolutions_,t,e||0);return(0,z.uZ)(n,this.minZoom,this.maxZoom)},t.prototype.tileCoordIntersectsViewport=function(t,e){return Ee(e,0,e.length,2,this.getTileCoordExtent(t))},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();const Ie=Re;function Fe(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var o=void 0!==r?r:"top-left",i=Me(t,e,n);return new Ie({extent:t,origin:(0,L.g0)(t,o),resolutions:i,tileSize:n})}(De(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function je(t){var e=t||{},n=e.extent||_t("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Me(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Ie(r)}function Me(t,e,n,r){for(var o=void 0!==e?e:42,i=(0,L.Cr)(t),a=(0,L.dz)(t),s=Pe(void 0!==n?n:256),l=r>0?r:Math.max(a/s[0],i/s[1]),c=o+1,u=new Array(c),f=0;f<c;++f)u[f]=l/Math.pow(2,f);return u}function De(t){var e=(t=_t(t)).getExtent();if(!e){var n=180*B[N.DEGREES]/t.getMetersPerUnit();e=(0,L.T9)(-n,-n,n,n)}return e}var Be=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ne=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return n.tileGrid&&Pe(n.tileGrid.getTileSize(n.tileGrid.getMinZoom()),[256,256]),n.tileCache=new se(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition,interpolate:e.interpolate},n.zDirection=e.zDirection?e.zDirection:0,n}return Be(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var i,a,s,c=!0,u=n.minX;u<=n.maxX;++u)for(var f=n.minY;f<=n.maxY;++f)a=ne(e,u,f),s=!1,o.containsKey(a)&&(s=(i=o.get(a)).getState()===l)&&(s=!1!==r(i)),s||(c=!1);return c},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},e.prototype.getTile=function(t,e,n,r,o){return(0,p.O3)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Fe(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return(0,Qt.h)(null===e||kt(e,t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r,o,i,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=Pe(a.getTileSize(t),this.tmpSize);return 1==s?l:(r=l,o=s,void 0===(i=this.tmpSize)&&(i=[0,0]),i[0]=r[0]*o+.5|0,i[1]=r[1]*o+.5|0,i)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],o=t.getTileCoordCenter(e),i=De(n);if((0,L.b8)(i,o))return e;var a=(0,L.dz)(i),s=Math.ceil((i[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var i=e.getFullTileRange(n);return!i||i.containsXY(r,o)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(ge),Ge=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return Be(e,t),e}(fe.ZP);const We=Ne;function ze(t,e){var n=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(o,a[2].toString()).replace(i,(function(){var t=a[0],n=e.getFullTileRange(t);return(0,Qt.h)(n,55),(n.getHeight()-a[2]-1).toString()})):void 0}}function Ze(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=ze(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),i=(0,z.$W)(o,t.length);return t[i](e,n,r)}}}(r)}var Ve=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ue=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,interpolate:n.interpolate,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return Ve(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=(0,p.sq)(n),o=n.getState();o==s?(this.tileLoadingKeys_[r]=!0,e=le):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=o==f?ue:o==l?ce:void 0),null!=e&&this.dispatchEvent(new Ge(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),o=n[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Ze(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=ne(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(We);const qe=Ue;var Xe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(t){function e(e){var n=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ke,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:r,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:M,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Xe(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[r];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!kt(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){var e=t.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!kt(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!kt(e,t)){var n=(0,p.sq)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Fe(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||kt(e,t))return this.tileCache;var n=(0,p.sq)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new se(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,s){var l=[t,e,n],c=this.getTileCoordForTileUrlFunction(l,i),u=c?this.tileUrlFunction(c,r,i):void 0,f=new this.tileClass(l,void 0!==u?a:h,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,f.addEventListener(o.Z.CHANGE,this.handleTileChange.bind(this)),f},e.prototype.getTile=function(t,e,n,r,o){var i=this.getProjection();if(i&&o&&!kt(i,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,c=re(s);a.containsKey(c)&&(l=a.get(c));var u=this.getKey();if(l&&l.key==u)return l;var f=this.getTileGridForProjection(i),h=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(s,o),d=new Jt(i,f,o,h,s,p,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return d.key=u,l?(d.interimTile=l,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,r,i||o)},e.prototype.getTileInternal=function(t,e,n,r,o){var i=null,s=ne(t,e,n),l=this.getKey();if(this.tileCache.containsKey(s)){if((i=this.tileCache.get(s)).key!=l){var c=i;i=this.createTile_(t,e,n,r,o,l),c.getState()==a?i.interimTile=c.interimTile:i.interimTile=c,i.refreshInterimChain(),this.tileCache.replace(s,i)}}else i=this.createTile_(t,e,n,r,o,l),this.tileCache.set(s,i);return i},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=_t(t);if(n){var r=(0,p.sq)(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(qe);function Ke(t,e){t.getImage().src=e}const He=Ye;var $e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Je=function(t){function e(e){var n=this,r=e||{},o=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(o=r.interpolate);var i=void 0!==r.projection?r.projection:"EPSG:3857",a=void 0!==r.tileGrid?r.tileGrid:je({extent:De(i),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return(n=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:o,opaque:r.opaque,projection:i,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this).gutter_=void 0!==r.gutter?r.gutter:0,n}return $e(e,t),e.prototype.getGutter=function(){return this.gutter_},e}(He);const Qe=Je;var tn=c(56),en=c(55);const nn="prerender",rn="postrender",on="precompose",an="postcompose",sn="rendercomplete";var ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cn=function(t){function e(e){var n=this,r=(0,Vt.f0)({},e);delete r.source,(n=t.call(this,r)||this).on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,n.rendered=!1,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(en.Z.SOURCE,n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return ln(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(en.Z.SOURCE)||null},e.prototype.getRenderSource=function(){return this.getSource()},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():"undefined"},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,R.bN)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,R.oL)(t,o.Z.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.getData=function(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},e.prototype.unrender=function(){this.rendered=!1},e.prototype.setMapInternal=function(t){t||this.unrender(),this.set(en.Z.MAP,t)},e.prototype.getMapInternal=function(){return this.get(en.Z.MAP)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,R.bN)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,R.bN)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,R.oL)(t,on,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,Qt.h)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=(0,R.oL)(this,o.Z.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(en.Z.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),t.prototype.disposeInternal.call(this)},e}(tn.Z);function un(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const fn=cn,hn="preload",pn="useInterimTilesOnError";var dn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mn=function(t){function e(e){var n=this,r=e||{},o=(0,Vt.f0)({},r);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).on,n.once,n.un,n.setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return dn(e,t),e.prototype.getPreload=function(){return this.get(hn)},e.prototype.setPreload=function(t){this.set(hn,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(pn)},e.prototype.setUseInterimTilesOnError=function(t){this.set(pn,t)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(fn);const gn=mn;var yn=c(25),vn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(t){function e(e){var n=t.call(this)||this;return n.ready=!0,n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return vn(e,t),e.prototype.getFeatures=function(t){return(0,p.O3)()},e.prototype.getData=function(t){return null},e.prototype.prepareFrame=function(t){return(0,p.O3)()},e.prototype.renderFrame=function(t,e){return(0,p.O3)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,o){var i=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,o,i)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){},e.prototype.getDataAtPixel=function(t,e,n){return null},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===S&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=S&&e!=O&&t.addEventListener(o.Z.CHANGE,this.boundHandleImageChange_),e==k&&(t.load(),e=t.getState()),e==S},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()},e.prototype.disposeInternal=function(){delete this.layer_,t.prototype.disposeInternal.call(this)},e}(yn.default);const bn=_n;var An=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wn=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.inversePixelTransform=n,i.frameState=r,i.context=o,i}return An(e,t),e}(fe.ZP);var xn,Cn=new Array(6);function kn(t){return Sn(t,1,0,0,1,0,0)}function En(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=e[0],c=e[1],u=e[2],f=e[3],h=e[4],p=e[5];return t[0]=n*l+o*c,t[1]=r*l+i*c,t[2]=n*u+o*f,t[3]=r*u+i*f,t[4]=n*h+o*p+a,t[5]=r*h+i*p+s,t}function Sn(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t}function On(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Tn(t,e,n){return En(t,Sn(Cn,e,0,0,n,0,0))}function Pn(t,e,n){return En(t,Sn(Cn,1,0,0,1,e,n))}function Ln(t,e,n,r,o,i,a,s){var l=Math.sin(i),c=Math.cos(i);return t[0]=r*c,t[1]=o*l,t[2]=-r*l,t[3]=o*c,t[4]=a*r*c-s*r*l+e,t[5]=a*o*l+s*o*c+n,t}function Rn(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];(0,Qt.h)(0!==r,32);var o=e[0],i=e[1],a=e[2],s=e[3],l=e[4],c=e[5];return t[0]=s/r,t[1]=-i/r,t[2]=-a/r,t[3]=o/r,t[4]=(a*c-s*l)/r,t[5]=-(o*c-i*l)/r,t}function In(t){var e="matrix("+t.join(", ")+")";if(P.Id)return e;var n=xn||(xn=document.createElement("div"));return n.style.transform=e,n.style.transform}var Fn=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,jn=/^([a-z]*)$|^hsla?\(.*\)$/i;function Mn(t){return"string"==typeof t?t:Wn(t)}function Dn(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var Bn=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var o=0;for(var i in t)0==(3&o++)&&(delete t[i],--e)}r=function(t){var e,n,r,o,i;jn.exec(t)&&(t=Dn(t));if(Fn.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,l&&(o=(o<<4)+o)),i=[e,n,r,o/255]}else 0==t.indexOf("rgba(")?Gn(i=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((i=t.slice(4,-1).split(",").map(Number)).push(1),Gn(i)):(0,Qt.h)(!1,14);return i}(n),t[n]=r,++e}return r}}();function Nn(t){return Array.isArray(t)?t:Bn(t)}function Gn(t){return t[0]=(0,z.uZ)(t[0]+.5|0,0,255),t[1]=(0,z.uZ)(t[1]+.5|0,0,255),t[2]=(0,z.uZ)(t[2]+.5|0,0,255),t[3]=(0,z.uZ)(t[3],0,1),t}function Wn(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}var zn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zn=[],Vn=null;var Un=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n.pixelContext_=null,n.frameState=null,n}return zn(e,t),e.prototype.getImageData=function(t,e,n){var r,o;Vn||((r=document.createElement("canvas")).width=1,r.height=1,Vn=r.getContext("2d")),Vn.clearRect(0,0,1,1);try{Vn.drawImage(t,e,n,1,1,0,0,1,1),o=Vn.getImageData(0,0,1,1).data}catch(t){return Vn=null,null}return o},e.prototype.getBackground=function(t){var e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0},e.prototype.useContainer=function(t,e,n){var r,o,i=this.getLayer().getClassName();t&&t.className===i&&(!n||t&&t.style.backgroundColor&&(0,Oe.fS)(Nn(t.style.backgroundColor),Nn(n)))&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=i;var a=r.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=(0,w.E4)()).canvas;r.appendChild(s),(a=s.style).position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)},e.prototype.clipUnrotated=function(t,e,n){var r=(0,L.rL)(n),o=(0,L.Xv)(n),i=(0,L.w$)(n),a=(0,L.hC)(n);On(e.coordinateToPixelTransform,r),On(e.coordinateToPixelTransform,o),On(e.coordinateToPixelTransform,i),On(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;On(s,r),On(s,o),On(s,i),On(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var o=new wn(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(nn,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(rn,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,o,i,a){var s=o/2,l=i/2,c=r/e,u=-c,f=-t[0]+a,h=-t[1];return Ln(this.tempTransform,s,l,c,u,-n,f,h)},e.prototype.getDataAtPixel=function(t,e,n){var r=On(this.inversePixelTransform,t.slice()),o=this.context,i=this.getLayer().getExtent();if(i){var a=On(e.pixelToCoordinateTransform,t.slice());if(!(0,L.b8)(i,a))return null}var s,l=Math.round(r[0]),c=Math.round(r[1]),u=this.pixelContext_;if(!u){var f=document.createElement("canvas");f.width=1,f.height=1,u=f.getContext("2d"),this.pixelContext_=u}u.clearRect(0,0,1,1);try{u.drawImage(o.canvas,l,c,1,1,0,0,1,1),s=u.getImageData(0,0,1,1).data}catch(t){return"SecurityError"===t.name?(this.pixelContext_=null,new Uint8Array):s}return 0===s[3]?null:s},e.prototype.disposeInternal=function(){delete this.frameState,t.prototype.disposeInternal.call(this)},e}(bn);const qn=Un;var Xn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yn=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,L.lJ)(),n.tmpTileRange_=new _e(0,0,0,0),n}return Xn(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==l||n==h||n==f&&!r},e.prototype.getTile=function(t,e,n,r){var o=r.pixelRatio,i=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,i);return s.getState()==f&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(l)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),r=On(e.pixelToCoordinateTransform,t.slice()),o=n.getExtent();if(o&&!(0,L.b8)(o,r))return null;for(var i=e.pixelRatio,a=e.viewState.projection,s=e.viewState,c=n.getRenderSource(),u=c.getTileGridForProjection(s.projection),f=c.getTilePixelRatio(e.pixelRatio),h=u.getZForResolution(s.resolution);h>=u.getMinZoom();--h){var p=u.getTileCoordForCoordAndZ(r,h),d=c.getTile(h,p[1],p[2],i,a);if(!(d instanceof M||d instanceof Jt))return null;if(d.getState()===l){var m=u.getOrigin(h),g=Pe(u.getTileSize(h)),y=u.getResolution(h),v=Math.floor(f*((r[0]-m[0])/y-p[1]*g[0])),_=Math.floor(f*((m[1]-r[1])/y-p[2]*g[1])),b=Math.round(f*c.getGutterForProjection(s.projection));return this.getImageData(d.getImage(),v+b,_+b)}}return null},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,i=r.resolution,a=r.center,s=r.rotation,c=t.pixelRatio,u=this.getLayer(),f=u.getSource(),h=f.getRevision(),d=f.getTileGridForProjection(o),m=d.getZForResolution(i,f.zDirection),g=d.getResolution(m),y=t.extent,v=t.viewState.resolution,_=f.getTilePixelRatio(c),b=Math.round((0,L.dz)(y)/v*c),A=Math.round((0,L.Cr)(y)/v*c),w=n.extent&&Bt(n.extent,o);w&&(y=(0,L.Ed)(y,Bt(n.extent,o)));var x=g*b/2/_,C=g*A/2/_,k=[a[0]-x,a[1]-C,a[0]+x,a[1]+C],E=d.getTileRangeForExtentAndZ(y,m),S={};S[m]={};var O=this.createLoadedTileFinder(f,o,S),T=this.tmpExtent,P=this.tmpTileRange_;this.newTiles_=!1;for(var R=s?(0,L.dY)(r.center,v,s,t.size):void 0,I=E.minX;I<=E.maxX;++I)for(var F=E.minY;F<=E.maxY;++F)if(!s||d.tileCoordIntersectsViewport([m,I,F],R)){var j=this.getTile(m,I,F,t);if(this.isDrawableTile(j)){var M=(0,p.sq)(this);if(j.getState()==l)S[m][j.tileCoord.toString()]=j,(it=j.inTransition(M))&&1!==n.opacity&&(j.endTransition(M),it=!1),this.newTiles_||!it&&-1!==this.renderedTiles.indexOf(j)||(this.newTiles_=!0);if(1===j.getAlpha(M,t.time))continue}var D=d.getTileCoordChildTileRange(j.tileCoord,P,T),B=!1;D&&(B=O(m+1,D)),B||d.forEachTileCoordParentTileRange(j.tileCoord,O,P,T)}var N=g/i*c/_;Ln(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,s,-b/2,-A/2);var G=In(this.pixelTransform);this.useContainer(e,G,this.getBackground(t));var W=this.context,z=W.canvas;Rn(this.inversePixelTransform,this.pixelTransform),Ln(this.tempTransform,b/2,A/2,N,N,0,-b/2,-A/2),z.width!=b||z.height!=A?(z.width=b,z.height=A):this.containerReused||W.clearRect(0,0,b,A),w&&this.clipUnrotated(W,t,w),f.getInterpolate()||(0,Vt.f0)(W,zt),this.preRender(W,t),this.renderedTiles.length=0;var Z,V,U,q=Object.keys(S).map(Number);q.sort(Oe.kK),1!==n.opacity||this.containerReused&&!f.getOpaque(t.viewState.projection)?(Z=[],V=[]):q=q.reverse();for(var X=q.length-1;X>=0;--X){var Y=q[X],K=f.getTilePixelSize(Y,c,o),H=d.getResolution(Y)/g,$=K[0]*H*N,J=K[1]*H*N,Q=d.getTileCoordForCoordAndZ((0,L.rL)(k),Y),tt=d.getTileCoordExtent(Q),et=On(this.tempTransform,[_*(tt[0]-k[0])/g,_*(k[3]-tt[3])/g]),nt=_*f.getGutterForProjection(o),rt=S[Y];for(var ot in rt){var it,at=(j=rt[ot]).tileCoord,st=Q[1]-at[1],lt=Math.round(et[0]-(st-1)*$),ct=Q[2]-at[2],ut=Math.round(et[1]-(ct-1)*J),ft=lt-(I=Math.round(et[0]-st*$)),ht=ut-(F=Math.round(et[1]-ct*J)),pt=m===Y,dt=!1;if(!(it=pt&&1!==j.getAlpha((0,p.sq)(this),t.time)))if(Z){U=[I,F,I+ft,F,I+ft,F+ht,I,F+ht];for(var mt=0,gt=Z.length;mt<gt;++mt)if(m!==Y&&Y<V[mt]){var yt=Z[mt];(0,L.kK)([I,F,I+ft,F+ht],[yt[0],yt[3],yt[4],yt[7]])&&(dt||(W.save(),dt=!0),W.beginPath(),W.moveTo(U[0],U[1]),W.lineTo(U[2],U[3]),W.lineTo(U[4],U[5]),W.lineTo(U[6],U[7]),W.moveTo(yt[6],yt[7]),W.lineTo(yt[4],yt[5]),W.lineTo(yt[2],yt[3]),W.lineTo(yt[0],yt[1]),W.clip())}Z.push(U),V.push(Y)}else W.clearRect(I,F,ft,ht);this.drawTileImage(j,t,I,F,ft,ht,nt,pt),Z&&!it?(dt&&W.restore(),this.renderedTiles.unshift(j)):this.renderedTiles.push(j),this.updateUsedTiles(t.usedTiles,f,j)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!(0,L.fS)(this.renderedExtent_,k),this.renderedExtent_=k,this.renderedPixelRatio=c,this.renderedProjection=o,this.manageTilePyramid(t,f,d,c,o,y,m,u.getPreload()),this.scheduleExpireCache(t,f),this.postRender(W,t),n.extent&&W.restore(),(0,Vt.f0)(W,Zt),G!==z.style.transform&&(z.style.transform=G),this.container},e.prototype.drawTileImage=function(t,e,n,r,o,i,a,s){var l=this.getTileImage(t);if(l){var c=(0,p.sq)(this),u=e.layerStatesArray[e.layerIndex],f=u.opacity*(s?t.getAlpha(c,e.time):1),h=f!==this.context.globalAlpha;h&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,o,i),h&&this.context.restore(),f!==u.opacity?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=(0,p.sq)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=(0,p.sq)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,o,i,s,l,c){var u=(0,p.sq)(e);u in t.wantedTiles||(t.wantedTiles[u]={});var f,h,d,m,g,y,v=t.wantedTiles[u],_=t.tileQueue,b=n.getMinZoom(),A=t.viewState.rotation,w=A?(0,L.dY)(t.viewState.center,t.viewState.resolution,A,t.size):void 0,x=0;for(y=b;y<=s;++y)for(h=n.getTileRangeForExtentAndZ(i,y,h),d=n.getResolution(y),m=h.minX;m<=h.maxX;++m)for(g=h.minY;g<=h.maxY;++g)A&&!n.tileCoordIntersectsViewport([y,m,g],w)||(s-y<=l?(++x,(f=e.getTile(y,m,g,r,o)).getState()==a&&(v[f.getKey()]=!0,_.isKeyQueued(f.getKey())||_.enqueue([f,u,n.getTileCoordCenter(f.tileCoord),d])),void 0!==c&&c(f)):e.useTile(y,m,g,o));e.updateCacheSize(x,o)},e}(qn);const Kn=Yn;var Hn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const $n=function(t){function e(e){return t.call(this,e)||this}return Hn(e,t),e.prototype.createRenderer=function(){return new Kn(this)},e}(gn);function Jn(t){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(t)}function Qn(){Qn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Jn(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function tr(){return tr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tr.apply(this,arguments)}function er(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var nr;!function(t){t.Auto="auto",t.Light="light",t.Dark="dark"}(nr||(nr={}));var rr,or,ir,ar,sr={theme:nr.Auto,showLabels:!0},lr={id:"carto",name:"CARTO reference map",isBaseMap:!0,defaultOptions:sr,create:(rr=Qn().mark((function t(e,n,r){return Qn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{init:function(){var t=tr({},sr,n.config),e=t.theme;return e&&e!==nr.Auto||(e=r.isDark?"dark":"light"),t.showLabels?e+="_all":e+="_nolabels",new $n({source:new Qe({attributions:'<a href="https://carto.com/attribution/">© CARTO</a>',url:"https://{1-4}.basemaps.cartocdn.com/".concat(e,"/{z}/{x}/{y}.png")})})}});case 1:case"end":return t.stop()}}),t)})),or=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=rr.apply(t,e);function i(t){er(o,n,r,i,a,"next",t)}function a(t){er(o,n,r,i,a,"throw",t)}i(void 0)}))},function(t,e,n){return or.apply(this,arguments)}),registerOptionsUI:function(t){t.addRadio({path:"config.theme",name:"Theme",settings:{options:[{value:nr.Auto,label:"Auto",description:"Match grafana theme"},{value:nr.Light,label:"Light"},{value:nr.Dark,label:"Dark"}]},defaultValue:sr.theme}).addBooleanSwitch({path:"config.showLabels",name:"Show labels",description:"",defaultValue:sr.showLabels})}},cr=[lr],ur=c(5);ur.config;var fr=Boolean((null===(ir=ur.config.panels)||void 0===ir||null===(ar=ir.debug)||void 0===ar?void 0:ar.state)===t.PluginState.alpha);function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function pr(){pr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==hr(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function dr(){return dr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dr.apply(this,arguments)}function mr(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var gr="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer",yr={url:gr+"/tile/{z}/{y}/{x}",attribution:'Tiles © <a href="'.concat(gr,'">ArcGIS</a>')},vr={id:"xyz",name:"XYZ Tile layer",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){mr(i,r,o,a,s,"next",t)}function s(t){mr(i,r,o,a,s,"throw",t)}a(void 0)}))}}(pr().mark((function t(e,n,r){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{init:function(){var t,e=dr({},n.config);e.url||(e.url=yr.url,e.attribution=null!==(t=e.attribution)&&void 0!==t?t:yr.attribution);return new $n({source:new Qe({url:e.url,attributions:e.attribution}),minZoom:e.minZoom,maxZoom:e.maxZoom})}});case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),registerOptionsUI:function(t){t.addTextInput({path:"config.url",name:"URL template",description:"Must include {x}, {y} or {-y}, and {z} placeholders",settings:{placeholder:yr.url}}).addTextInput({path:"config.attribution",name:"Attribution",settings:{placeholder:yr.attribution}})}},_r=[vr];function br(t){return br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(t)}function Ar(){Ar=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==br(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function wr(){return wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wr.apply(this,arguments)}function xr(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var Cr="custom",kr="streets",Er=new t.Registry((function(){return[{id:kr,name:"World Street Map",slug:"World_Street_Map"},{id:"world-imagery",name:"World Imagery",slug:"World_Imagery"},{id:"world-physical",name:"World Physical",slug:"World_Physical_Map"},{id:"topo",name:"Topographic",slug:"World_Topo_Map"},{id:"usa-topo",name:"USA Topographic",slug:"USA_Topo_Maps"},{id:"ocean",name:"World Ocean",slug:"Ocean/World_Ocean_Base"},{id:Cr,name:"Custom MapServer",description:"Use a custom MapServer with pre-cached values",slug:""}]})),Sr={id:"esri-xyz",name:"ArcGIS MapServer",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xr(i,r,o,a,s,"next",t)}function s(t){xr(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Ar().mark((function t(e,n,r){var o,i,a,s,l;return Ar().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=wr({},n.config),(a=Er.getIfExists(null!==(o=i.server)&&void 0!==o?o:kr)).id!==Cr&&(s="https://services.arcgisonline.com/ArcGIS/rest/services/",i.url="".concat(s).concat(a.slug,"/MapServer/tile/{z}/{y}/{x}"),i.attribution='Tiles © <a href="'.concat(s).concat(a.slug,'/MapServer">ArcGIS</a>')),l=wr({},n,{config:i}),t.abrupt("return",vr.create(e,l,r));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),registerOptionsUI:function(t){t.addSelect({path:"config.server",name:"Server instance",settings:{options:Er.selectOptions().options}}).addTextInput({path:"config.url",name:"URL template",description:"Must include {x}, {y} or {-y}, and {z} placeholders",settings:{placeholder:yr.url},showIf:function(t){var e;return(null===(e=t.config)||void 0===e?void 0:e.server)===Cr}}).addTextInput({path:"config.attribution",name:"Attribution",settings:{placeholder:yr.attribution},showIf:function(t){var e;return(null===(e=t.config)||void 0===e?void 0:e.server)===Cr}})},defaultOptions:{server:kr}},Or=[Sr],Tr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var o=e;n.setProperties(o)}return n}return Tr(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,R.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,R.oL)(t,o.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:((0,Qt.h)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(he.Z);const Lr=Pr;var Rr=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.supportedMediaTypes=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?_t(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===N.TILE_PIXELS&&(r=_t(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return(0,Vt.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,p.O3)()},t.prototype.readFeature=function(t,e){return(0,p.O3)()},t.prototype.readFeatures=function(t,e){return(0,p.O3)()},t.prototype.readGeometry=function(t,e){return(0,p.O3)()},t.prototype.readProjection=function(t){return(0,p.O3)()},t.prototype.writeFeature=function(t,e){return(0,p.O3)()},t.prototype.writeFeatures=function(t,e){return(0,p.O3)()},t.prototype.writeGeometry=function(t,e){return(0,p.O3)()},t}();const Ir=Rr;function Fr(t,e,n){var r,o=n?_t(n.featureProjection):null,i=n?_t(n.dataProjection):null;if(r=o&&i&&!kt(o,i)?(e?t.clone():t).transform(e?o:i,e?i:o):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t}))}return r}var jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Mr(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}const Dr=function(t){function e(){return t.call(this)||this}return jr(e,t),e.prototype.getType=function(){return"json"},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Mr(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Mr(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,p.O3)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,p.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Mr(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,p.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Mr(t))},e.prototype.readProjectionFromObject=function(t){return(0,p.O3)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,p.O3)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,p.O3)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,p.O3)()},e}(Ir),Br="XY",Nr="XYZ",Gr="XYM",Wr="XYZM";var zr=c(49);function Zr(t,e,n,r,o,i){for(var a=i||[],s=0,l=e;l<n;l+=r){var c=t[l],u=t[l+1];a[s++]=o[0]*c+o[2]*u+o[4],a[s++]=o[1]*c+o[3]*u+o[5]}return i&&a.length!=s&&(a.length=s),a}function Vr(t,e,n,r,o,i,a){for(var s=a||[],l=Math.cos(o),c=Math.sin(o),u=i[0],f=i[1],h=0,p=e;p<n;p+=r){var d=t[p]-u,m=t[p+1]-f;s[h++]=u+d*l-m*c,s[h++]=f+d*c+m*l;for(var g=p+2;g<p+r;++g)s[h++]=t[g]}return a&&s.length!=h&&(s.length=h),s}var Ur=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qr=[1,0,0,1,0,0],Xr=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,L.lJ)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,zr.qe)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)})),e}return Ur(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,p.O3)()},e.prototype.closestPointXY=function(t,e,n,r){return(0,p.O3)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,p.O3)()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,L.YN)(e),this.extentRevision_=this.getRevision()}return(0,L.EO)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,p.O3)()},e.prototype.scale=function(t,e,n){(0,p.O3)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,p.O3)()},e.prototype.getType=function(){return(0,p.O3)()},e.prototype.applyTransform=function(t){(0,p.O3)()},e.prototype.intersectsExtent=function(t){return(0,p.O3)()},e.prototype.translate=function(t,e){(0,p.O3)()},e.prototype.transform=function(t,e){var n=_t(t),r=n.getUnits()==N.TILE_PIXELS?function(t,r,o){var i=n.getExtent(),a=n.getWorldExtent(),s=(0,L.Cr)(a)/(0,L.Cr)(i);return Ln(qr,a[0],a[3],s,-s,0,0,0),Zr(t,0,t.length,o,qr,r),St(n,e)(t,r,o)}:St(n,e);return this.applyTransform(r),this},e}(he.Z);const Yr=Xr;var Kr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hr=function(t){function e(){var e=t.call(this)||this;return e.layout=Br,e.stride=2,e.flatCoordinates=null,e}return Kr(e,t),e.prototype.computeExtent=function(t){return(0,L.GN)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,p.O3)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=$r(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,p.O3)()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=$r(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=Br,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=Br:3==t?e=Nr:4==t&&(e=Wr);return e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Vr(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=(0,L.qg)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();!function(t,e,n,r,o,i,a,s){for(var l=s||[],c=a[0],u=a[1],f=0,h=e;h<n;h+=r){var p=t[h]-c,d=t[h+1]-u;l[f++]=c+o*p,l[f++]=u+i*d;for(var m=h+2;m<h+r;++m)l[f++]=t[m]}s&&l.length!=f&&(l.length=f)}(i,0,i.length,a,t,r,o,i),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,o,i,a){for(var s=a||[],l=0,c=e;c<n;c+=r){s[l++]=t[c]+o,s[l++]=t[c+1]+i;for(var u=c+2;u<c+r;++u)s[l++]=t[u]}a&&s.length!=l&&(s.length=l)}(n,0,n.length,r,t,e,n),this.changed()}},e}(Yr);function $r(t){var e;return t==Br?e=2:t==Nr||t==Gr?e=3:t==Wr&&(e=4),e}const Jr=Hr;function Qr(t,e,n,r,o,i,a){var s,l=t[e],c=t[e+1],u=t[n]-l,f=t[n+1]-c;if(0===u&&0===f)s=e;else{var h=((o-l)*u+(i-c)*f)/(u*u+f*f);if(h>1)s=n;else{if(h>0){for(var p=0;p<r;++p)a[p]=(0,z.t7)(t[e+p],t[n+p],h);return void(a.length=r)}s=e}}for(p=0;p<r;++p)a[p]=t[s+p];a.length=r}function to(t,e,n,r,o){var i=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],l=t[e+1],c=(0,z.bI)(i,a,s,l);c>o&&(o=c),i=s,a=l}return o}function eo(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=to(t,e,s,r,o),e=s}return o}function no(t,e,n,r,o,i,a,s,l,c,u){if(e==n)return c;var f,h;if(0===o){if((h=(0,z.bI)(a,s,t[e],t[e+1]))<c){for(f=0;f<r;++f)l[f]=t[e+f];return l.length=r,h}return c}for(var p=u||[NaN,NaN],d=e+r;d<n;)if(Qr(t,d-r,d,r,a,s,p),(h=(0,z.bI)(a,s,p[0],p[1]))<c){for(c=h,f=0;f<r;++f)l[f]=p[f];l.length=r,d+=r}else d+=r*Math.max((Math.sqrt(h)-Math.sqrt(c))/o|0,1);if(i&&(Qr(t,n-r,e,r,a,s,p),(h=(0,z.bI)(a,s,p[0],p[1]))<c)){for(c=h,f=0;f<r;++f)l[f]=p[f];l.length=r}return c}function ro(t,e,n,r,o,i,a,s,l,c,u){for(var f=u||[NaN,NaN],h=0,p=n.length;h<p;++h){var d=n[h];c=no(t,e,d,r,o,i,a,s,l,c,f),e=d}return c}function oo(t,e,n,r){for(var o=0,i=n.length;o<i;++o)for(var a=n[o],s=0;s<r;++s)t[e++]=a[s];return e}function io(t,e,n,r,o){for(var i=o||[],a=0,s=0,l=n.length;s<l;++s){var c=oo(t,e,n[s],r);i[a++]=c,e=c}return i.length=a,i}function ao(t,e,n,r,o,i,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)i[a++]=t[e],i[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var c=[e,n-r],u=0;c.length>0;){for(var f=c.pop(),h=c.pop(),p=0,d=t[h],m=t[h+1],g=t[f],y=t[f+1],v=h+r;v<f;v+=r){var _=t[v],b=t[v+1],A=(0,z.rU)(_,b,d,m,g,y);A>p&&(u=v,p=A)}p>o&&(l[(u-e)/r]=1,h+r<u&&c.push(h,u),u+r<f&&c.push(u,f))}for(v=0;v<s;++v)l[v]&&(i[a++]=t[e+v*r],i[a++]=t[e+v*r+1]);return a}function so(t,e,n,r,o,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=ao(t,e,u,r,o,i,a),s.push(a),e=u}return a}function lo(t,e){return e*Math.round(t/e)}function co(t,e,n,r,o,i,a){if(e==n)return a;var s,l,c=lo(t[e],o),u=lo(t[e+1],o);e+=r,i[a++]=c,i[a++]=u;do{if(s=lo(t[e],o),l=lo(t[e+1],o),(e+=r)==n)return i[a++]=s,i[a++]=l,a}while(s==c&&l==u);for(;e<n;){var f=lo(t[e],o),h=lo(t[e+1],o);if(e+=r,f!=s||h!=l){var p=s-c,d=l-u,m=f-c,g=h-u;p*g==d*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(d<0&&g<d||d==g||d>0&&g>d)?(s=f,l=h):(i[a++]=s,i[a++]=l,c=s,u=l,s=f,l=h)}}return i[a++]=s,i[a++]=l,a}function uo(t,e,n,r,o,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l];a=co(t,e,u,r,o,i,a),s.push(a),e=u}return a}function fo(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=e;s<n;s+=r)i[a++]=t.slice(s,s+r);return i.length=a,i}function ho(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=fo(t,e,c,r,i[a]),e=c}return i.length=a,i}function po(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var c=n[s];i[a++]=ho(t,e,c,r,i[a]),e=c[c.length-1]}return i.length=a,i}function mo(t,e,n,r,o,i,a){var s,l,c=(n-e)/r;if(1===c)s=e;else if(2===c)s=e,l=o;else if(0!==c){for(var u=t[e],f=t[e+1],h=0,p=[0],d=e+r;d<n;d+=r){var m=t[d],g=t[d+1];h+=Math.sqrt((m-u)*(m-u)+(g-f)*(g-f)),p.push(h),u=m,f=g}var y=o*h,v=(0,Oe.ry)(p,y);v<0?(l=(y-p[-v-2])/(p[-v-1]-p[-v-2]),s=e+(-v-2)*r):s=e+v*r}var _=a>1?a:2,b=i||new Array(_);for(d=0;d<_;++d)b[d]=void 0===s?NaN:void 0===l?t[s+d]:(0,z.t7)(t[s+d],t[s+r+d],l);return b}function go(t,e,n,r,o,i){if(n==e)return null;var a;if(o<t[e+r-1])return i?((a=t.slice(e,e+r))[r-1]=o,a):null;if(t[n-1]<o)return i?((a=t.slice(n-r,n))[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,l=n/r;s<l;){var c=s+l>>1;o<t[(c+1)*r-1]?l=c:s=c+1}var u=t[s*r-1];if(o==u)return t.slice((s-1)*r,(s-1)*r+r);var f=(o-u)/(t[(s+1)*r-1]-u);a=[];for(var h=0;h<r-1;++h)a.push((0,z.t7)(t[(s-1)*r+h],t[s*r+h],f));return a.push(o),a}function yo(t,e,n,r){for(var o=t[e],i=t[e+1],a=0,s=e+r;s<n;s+=r){var l=t[s],c=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(c-i)*(c-i)),o=l,i=c}return a}var vo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_o=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return vo(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,Oe.l7)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,L.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(to(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),no(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return Ae(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Gr&&this.layout!=Wr)return null;var n=void 0!==e&&e;return go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return mo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return yo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=ao(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Br)},e.prototype.getType=function(){return"LineString"},e.prototype.intersectsExtent=function(t){return ke(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr);const bo=_o;var Ao=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wo=function(t){function e(e,n,r){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,n);else if(void 0!==n&&r)o.setFlatCoordinates(n,e),o.ends_=r;else{for(var i=o.getLayout(),a=e,s=[],l=[],c=0,u=a.length;c<u;++c){var f=a[c];0===c&&(i=f.getLayout()),(0,Oe.l7)(s,f.getFlatCoordinates()),l.push(s.length)}o.setFlatCoordinates(i,s),o.ends_=l}return o}return Ao(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,Oe.l7)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,L.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ro(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Gr&&this.layout!=Wr||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,o=void 0!==n&&n;return function(t,e,n,r,o,i,a){if(a)return go(t,e,n[n.length-1],r,o,i);var s;if(o<t[r-1])return i?((s=t.slice(0,r))[r-1]=o,s):null;if(t[t.length-1]<o)return i?((s=t.slice(t.length-r))[r-1]=o,s):null;for(var l=0,c=n.length;l<c;++l){var u=n[l];if(e!=u){if(o<t[e+r-1])return null;if(o<=t[u-1])return go(t,e,u,r,o,!1);e=u}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,r,o)},e.prototype.getCoordinates=function(){return ho(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new bo(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],o=0,i=0,a=e.length;i<a;++i){var s=e[i],l=new bo(t.slice(o,s),n);r.push(l),o=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,o=this.stride,i=0,a=r.length;i<a;++i){var s=r[i],l=mo(e,n,s,o,.5);(0,Oe.l7)(t,l),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=so(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,Br,r)},e.prototype.getType=function(){return"MultiLineString"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){if(ke(t,e,n[i],r,o))return!0;e=n[i]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=io(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Jr);const xo=wo;var Co=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ko=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return Co(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var o=this.flatCoordinates,i=(0,z.bI)(t,e,o[0],o[1]);if(i<r){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,i}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,L.HK)(this.flatCoordinates,t)},e.prototype.getType=function(){return"Point"},e.prototype.intersectsExtent=function(t){return(0,L.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var o=0,i=n.length;o<i;++o)t[e++]=n[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr);const Eo=ko;var So=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oo=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return So(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,Oe.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,L.qf)(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,i=this.stride,a=0,s=o.length;a<s;a+=i){var l=(0,z.bI)(t,e,o[a],o[a+1]);if(l<r){r=l;for(var c=0;c<i;++c)n[c]=o[a+c];n.length=i}}return r},e.prototype.getCoordinates=function(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new Eo(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],o=0,i=t.length;o<i;o+=n){var a=new Eo(t.slice(o,o+n),e);r.push(a)}return r},e.prototype.getType=function(){return"MultiPoint"},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,o=e.length;r<o;r+=n){var i=e[r],a=e[r+1];if((0,L.jE)(t,i,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr);const To=Oo;function Po(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];o+=a*s-i*l,i=s,a=l}return o/2}function Lo(t,e,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=Po(t,e,s,r),e=s}return o}var Ro=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Io=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return Ro(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,L.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(to(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),no(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Po(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=ao(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Br)},e.prototype.getType=function(){return"LinearRing"},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=oo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Jr);const Fo=Io;function jo(t,e,n,r,o,i,a){for(var s,l,c,u,f,h,p,d=o[i+1],m=[],g=0,y=n.length;g<y;++g){var v=n[g];for(u=t[v-r],h=t[v-r+1],s=e;s<v;s+=r)f=t[s],p=t[s+1],(d<=h&&p<=d||h<=d&&d<=p)&&(c=(d-h)/(p-h)*(f-u)+u,m.push(c)),u=f,h=p}var _=NaN,b=-1/0;for(m.sort(Oe.kK),u=m[0],s=1,l=m.length;s<l;++s){f=m[s];var A=Math.abs(f-u);A>b&&Ce(t,e,n,r,c=(u+f)/2,d)&&(_=c,b=A),u=f}return isNaN(_)&&(_=o[i]),a?(a.push(_,d,b),a):[_,d,b]}function Mo(t,e,n,r){for(;e<n-r;){for(var o=0;o<r;++o){var i=t[e+o];t[e+o]=t[n-r+o],t[n-r+o]=i}e+=r,n-=r}}function Do(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],l=t[e+1];o+=(s-i)*(l+a),i=s,a=l}return 0===o?void 0:o>0}function Bo(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=Do(t,e,l,r);if(0===a){if(i&&c||!i&&!c)return!1}else if(i&&!c||!i&&c)return!1;e=l}return!0}function No(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],c=Do(t,e,l,r);(0===a?i&&c||!i&&!c:i&&!c||!i&&c)&&Mo(t,e,l,r),e=l}return e}function Go(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i)e=No(t,e,n[i],r,o);return e}var Wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(t){function e(e,n,r){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&r?(o.setFlatCoordinates(n,e),o.ends_=r):o.setCoordinates(e,n),o}return Wo(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,Oe.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,L.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(eo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),ro(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return Ce(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Lo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?No(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,ho(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,L.qg)(this.getExtent());this.flatInteriorPoint_=jo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Eo(this.getFlatInteriorPoint(),Gr)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Fo(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i],l=new Fo(e.slice(o,s),t);r.push(l),o=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Bo(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=No(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=uo(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,Br,r)},e.prototype.getType=function(){return"Polygon"},e.prototype.intersectsExtent=function(t){return Se(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=io(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Jr);const Zo=zo;function Vo(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=[e,n,e,o,r,o,r,n,e,n];return new zo(i,Br,[i.length])}var Uo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qo=function(t){function e(e,n,r){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var i=o.getLayout(),a=e,s=[],l=[],c=0,u=a.length;c<u;++c){var f=a[c];0===c&&(i=f.getLayout());for(var h=s.length,p=f.getEnds(),d=0,m=p.length;d<m;++d)p[d]+=h;(0,Oe.l7)(s,f.getFlatCoordinates()),l.push(p)}n=i,e=s,r=l}return void 0!==n&&r?(o.setFlatCoordinates(n,e),o.endss_=r):o.setCoordinates(e,n),o}return Uo(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,Oe.l7)(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,o=(e=t.getEnds().slice()).length;r<o;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var o=new e(this.flatCoordinates.slice(),this.layout,n);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,L.qf)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=eo(t,e,s,r,o),e=s[s.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,o,i,a,s,l,c,u){for(var f=u||[NaN,NaN],h=0,p=n.length;h<p;++h){var d=n[h];c=ro(t,e,d,r,o,i,a,s,l,c,f),e=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,o,i){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(Ce(t,e,l,r,o,i))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=Lo(t,e,s,r),e=s[s.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Go(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,po(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var o=[],i=(0,L.lJ)(),a=0,s=n.length;a<s;++a){var l=n[a];i=(0,L.GN)(t,e,l[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=l[l.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,o){for(var i=[],a=0,s=n.length;a<s;++a){var l=n[a];i=jo(t,e,l,r,o,2*a,i),e=l[l.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new To(this.getFlatInteriorPoints().slice(),Gr)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(!Bo(t,e,s,r,o))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Go(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,o,i,a,s){for(var l=0,c=n.length;l<c;++l){var u=n[l],f=[];a=uo(t,e,u,r,o,i,a,f),s.push(f),e=u[u.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,Br,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),o=r[r.length-1];if(0!==e)for(var i=0,a=r.length;i<a;++i)r[i]-=e;return new Zo(this.flatCoordinates.slice(e,o),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i].slice(),l=s[s.length-1];if(0!==o)for(var c=0,u=s.length;c<u;++c)s[c]-=o;var f=new Zo(e.slice(o,l),t,s);r.push(f),o=l}return r},e.prototype.getType=function(){return"MultiPolygon"},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(Se(t,e,s,r,o))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,o){for(var i=o||[],a=0,s=0,l=n.length;s<l;++s){var c=io(t,e,n[s],r,i[a]);i[a++]=c,e=c[c.length-1]}return i.length=a,i}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Jr);const Xo=qo;var Yo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ko=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.layerName_=r.layerName,n.layers_=r.layers?r.layers:null,n.dataProjection=_t(r.dataProjection?r.dataProjection:"EPSG:4326"),n}return Yo(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var n=t,r=void 0,o=null,i=null;n.transform&&(o=(r=n.transform).scale,i=r.translate);var a=n.arcs;r&&function(t,e,n){for(var r=0,o=t.length;r<o;++r)ti(t[r],e,n)}(a,o,i);var s=[],l=n.objects,c=this.layerName_,u=void 0;for(var f in l)this.layers_&&-1==this.layers_.indexOf(f)||("GeometryCollection"===l[f].type?(u=l[f],s.push.apply(s,Jo(u,a,o,i,c,f,e))):(u=l[f],s.push(Qo(u,a,o,i,c,f,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(Dr),Ho={Point:function(t,e,n){var r=t.coordinates;e&&n&&ei(r,e,n);return new Eo(r)},LineString:function(t,e){var n=$o(t.arcs,e);return new bo(n)},Polygon:function(t,e){for(var n=[],r=0,o=t.arcs.length;r<o;++r)n[r]=$o(t.arcs[r],e);return new Zo(n)},MultiPoint:function(t,e,n){var r=t.coordinates;if(e&&n)for(var o=0,i=r.length;o<i;++o)ei(r[o],e,n);return new To(r)},MultiLineString:function(t,e){for(var n=[],r=0,o=t.arcs.length;r<o;++r)n[r]=$o(t.arcs[r],e);return new xo(n)},MultiPolygon:function(t,e){for(var n=[],r=0,o=t.arcs.length;r<o;++r){for(var i=t.arcs[r],a=[],s=0,l=i.length;s<l;++s)a[s]=$o(i[s],e);n[r]=a}return new Xo(n)}};function $o(t,e){for(var n,r=[],o=0,i=t.length;o<i;++o)if(n=t[o],o>0&&r.pop(),n>=0)for(var a=0,s=(l=e[n]).length;a<s;++a)r.push(l[a].slice(0));else{var l;for(a=(l=e[~n]).length-1;a>=0;--a)r.push(l[a].slice(0))}return r}function Jo(t,e,n,r,o,i,a){for(var s=t.geometries,l=[],c=0,u=s.length;c<u;++c)l[c]=Qo(s[c],e,n,r,o,i,a);return l}function Qo(t,e,n,r,o,i,a){var s=null,l=t.type;if(l){var c=Ho[l];s=Fr(s="Point"===l||"MultiPoint"===l?c(t,n,r):c(t,e),!1,a)}var u=new Lr({geometry:s});void 0!==t.id&&u.setId(t.id);var f=t.properties;return o&&(f||(f={}),f[o]=i),f&&u.setProperties(f,!0),u}function ti(t,e,n){for(var r=0,o=0,i=0,a=t.length;i<a;++i){var s=t[i];r+=s[0],o+=s[1],s[0]=r,s[1]=o,ei(s,e,n)}}function ei(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}const ni=Ko;var ri=c(14),oi=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Pe(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getDeclutterMode=function(){return this.declutterMode_},t.prototype.getAnchor=function(){return(0,p.O3)()},t.prototype.getImage=function(t){return(0,p.O3)()},t.prototype.getHitDetectionImage=function(){return(0,p.O3)()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return(0,p.O3)()},t.prototype.getImageSize=function(){return(0,p.O3)()},t.prototype.getOrigin=function(){return(0,p.O3)()},t.prototype.getSize=function(){return(0,p.O3)()},t.prototype.setDisplacement=function(t){this.displacement_=t},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Pe(t)},t.prototype.listenImageChange=function(t){(0,p.O3)()},t.prototype.load=function(){(0,p.O3)()},t.prototype.unlistenImageChange=function(t){(0,p.O3)()},t}();const ii=oi;function ai(t){return Array.isArray(t)?Wn(t):t}var si="ol-hidden",li="ol-unselectable",ci="ol-control",ui="ol-collapsed",fi=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),hi=["style","variant","weight","size","lineHeight","family"],pi=function(t){var e=t.match(fi);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=hi.length;r<o;++r){var i=e[r+1];void 0!==i&&(n[hi[r]]=i)}return n.families=n.family.split(/,\s?/),n},di="10px sans-serif",mi="#000",gi="round",yi=[],vi="round",_i="#000",bi="center",Ai="middle",wi=[0,0,0,0],xi=new he.Z;(new i.Z).setSize=function(){};var Ci,ki,Ei=null,Si={},Oi=function(){var t,e,n="32px ",r=["monospace","serif"],o=r.length,i="wmytzilWMYTZIL@#/&?$%10";function a(t,a,s){for(var l=!0,c=0;c<o;++c){var u=r[c];if(e=Li(t+" "+a+" "+n+u,i),s!=u){var f=Li(t+" "+a+" "+n+s+","+u,i);l=l&&f!=e}}return!!l}function s(){for(var e=!0,n=xi.getKeys(),r=0,o=n.length;r<o;++r){var i=n[r];xi.get(i)<100&&(a.apply(this,i.split("\n"))?((0,Vt.ZH)(Si),Ei=null,Ci=void 0,xi.set(i,100)):(xi.set(i,xi.get(i)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var n=pi(e);if(n)for(var r=n.families,o=0,i=r.length;o<i;++o){var l=r[o],c=n.style+"\n"+n.weight+"\n"+l;void 0===xi.get(c)&&(xi.set(c,100,!0),a(n.style,n.weight,l)||(xi.set(c,0,!0),void 0===t&&(t=setInterval(s,32))))}}}(),Ti=function(t){var e=Si[t];if(null==e){if(P.Id){var n=pi(t),r=Pi(t,"Žg");e=(isNaN(Number(n.lineHeight))?1.2:Number(n.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else ki||((ki=document.createElement("div")).innerHTML="M",ki.style.minHeight="0",ki.style.maxHeight="none",ki.style.height="auto",ki.style.padding="0",ki.style.border="none",ki.style.position="absolute",ki.style.display="block",ki.style.left="-99999px"),ki.style.font=t,document.body.appendChild(ki),e=ki.offsetHeight,document.body.removeChild(ki);Si[t]=e}return e};function Pi(t,e){return Ei||(Ei=(0,w.E4)(1,1)),t!=Ci&&(Ei.font=t,Ci=Ei.font),Ei.measureText(e)}function Li(t,e){return Pi(t,e).width}function Ri(t,e,n){if(e in n)return n[e];var r=e.split("\n").reduce((function(e,n){return Math.max(e,Li(t,n))}),0);return n[e]=r,r}function Ii(t,e,n,r,o,i,a,s,l,c,u){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(l,c),t.scale(u[0],u[1]),function(t,e){for(var n=t.contextInstructions,r=0,o=n.length;r<o;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):u[0]<0||u[1]<0?(t.translate(l,c),t.scale(u[0],u[1]),t.drawImage(r,o,i,a,s,0,0,a,s)):t.drawImage(r,o,i,a,s,l,c,a*u[0],s*u[1]),t.restore()}var Fi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ji=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})||this).canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.size_=null,n.renderOptions_=null,n.render(),n}return Fi(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(t){this.fill_=t,this.render()},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=(0,w.E4)(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return S},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(t){this.stroke_=t,this.render()},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var i=r;r=o,o=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=o*Math.sin(s),c=r-Math.sqrt(o*o-l*l),u=Math.sqrt(l*l+c*c),f=u/l;if("miter"===t&&f<=n)return f*e;var h=e/2/f,p=e/2*(c/u),d=Math.sqrt((r+h)*(r+h)+p*p)-r;if(void 0===this.radius2_||"bevel"===t)return 2*d;var m=r*Math.sin(s),g=o-Math.sqrt(r*r-m*m),y=Math.sqrt(m*m+g*g)/m;if(y<=n){var v=y*e/2-o-r;return 2*Math.max(d,v)}return 2*d},e.prototype.createRenderOptions=function(){var t,e=vi,n=0,r=null,o=0,i=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=_i),t=ai(t),void 0===(i=this.stroke_.getWidth())&&(i=1),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(e=this.stroke_.getLineJoin())&&(e=vi),void 0===(n=this.stroke_.getMiterLimit())&&(n=10));var a=this.calculateLineJoinSize_(e,i,n),s=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:i,size:Math.ceil(2*s+a),lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=mi),e.fillStyle=ai(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Nn(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=(0,w.E4)(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-Math.PI/2,i=2*Math.PI/e,a=0;a<e;a++){var s=o+a*i,l=a%2==0?n:r;t.lineTo(l*Math.cos(s),l*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=mi,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(ii);const Mi=ji;var Di=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bi=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,scale:void 0!==n.scale?n.scale:1,rotation:void 0!==n.rotation?n.rotation:0,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView,displacement:void 0!==n.displacement?n.displacement:[0,0],declutterMode:n.declutterMode})||this}return Di(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Mi);const Ni=Bi;var Gi=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();const Wi=Gi;var zi=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();const Zi=zi;var Vi=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Xi,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},t.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Xi,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var Ui=null;function qi(t,e){if(!Ui){var n=new Wi({color:"rgba(255,255,255,0.4)"}),r=new Zi({color:"#3399CC",width:1.25});Ui=[new Vi({image:new Ni({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ui}function Xi(t){return t.getGeometry()}const Yi=Vi;var Ki=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hi="renderOrder",$i=function(t){function e(e){var n=this,r=e||{},o=(0,Vt.f0)({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return Ki(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(Hi)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new ri(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(Hi,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:qi,this.styleFunction_=null===t?void 0:function(t){var e;if("function"==typeof t)e=t;else{var n;Array.isArray(t)?n=t:((0,Qt.h)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}(this.style_),this.changed()},e}(fn);const Ji=$i;var Qi={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ta=[Qi.FILL],ea=[Qi.STROKE],na=[Qi.BEGIN_PATH],ra=[Qi.CLOSE_PATH];const oa=Qi;var ia=c(41);const aa=function(){function t(){}return t.prototype.drawCustom=function(t,e,n,r){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();var sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),la=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.tolerance=e,i.maxExtent=n,i.pixelRatio=o,i.maxLineWidth=0,i.resolution=r,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return sa(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,i=o.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],(0,L.b8)(n,r)&&(o[i++]=r[0],o[i++]=r[1]);return i},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,o,i){var a=this.coordinates,s=a.length,l=this.getBufferedMaxExtent();i&&(e+=r);var c,u,f,h=t[e],p=t[e+1],d=this.tmpCoordinate_,m=!0;for(c=e+r;c<n;c+=r)d[0]=t[c],d[1]=t[c+1],(f=(0,L.pX)(l,d))!==u?(m&&(a[s++]=h,a[s++]=p,m=!1),a[s++]=d[0],a[s++]=d[1]):f===ia.Z.INTERSECTING?(a[s++]=d[0],a[s++]=d[1],m=!1):m=!0,h=d[0],p=d[1],u=f;return(o&&m||c===e+r)&&(a[s++]=h,a[s++]=p),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i],l=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n,r){this.beginGeometry(t,e);var o,i,a,s,l,c=t.getType(),u=t.getStride(),f=this.coordinates.length;switch(c){case"MultiPolygon":o=t.getOrientedFlatCoordinates(),s=[];var h=t.getEndss();l=0;for(var p=0,d=h.length;p<d;++p){var m=[];l=this.drawCustomCoordinates_(o,l,h[p],u,m),s.push(m)}this.instructions.push([oa.CUSTOM,f,s,t,n,po]),this.hitDetectionInstructions.push([oa.CUSTOM,f,s,t,r||n,po]);break;case"Polygon":case"MultiLineString":a=[],o="Polygon"==c?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(o,0,t.getEnds(),u,a),this.instructions.push([oa.CUSTOM,f,a,t,n,ho]),this.hitDetectionInstructions.push([oa.CUSTOM,f,a,t,r||n,ho]);break;case"LineString":case"Circle":o=t.getFlatCoordinates(),i=this.appendFlatLineCoordinates(o,0,o.length,u,!1,!1),this.instructions.push([oa.CUSTOM,f,i,t,n,fo]),this.hitDetectionInstructions.push([oa.CUSTOM,f,i,t,r||n,fo]);break;case"MultiPoint":o=t.getFlatCoordinates(),(i=this.appendFlatPointCoordinates(o,u))>f&&(this.instructions.push([oa.CUSTOM,f,i,t,n,fo]),this.hitDetectionInstructions.push([oa.CUSTOM,f,i,t,r||n,fo]));break;case"Point":o=t.getFlatCoordinates(),this.coordinates.push(o[0],o[1]),i=this.coordinates.length,this.instructions.push([oa.CUSTOM,f,i,t,n]),this.hitDetectionInstructions.push([oa.CUSTOM,f,i,t,r||n])}this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[oa.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[oa.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,o=e.length,i=-1;for(t=0;t<o;++t)(r=(n=e[t])[0])==oa.END_GEOMETRY?i=t:r==oa.BEGIN_GEOMETRY&&(n[2]=t,(0,Oe.FZ)(this.hitDetectionInstructions,i,t),i=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=ai(r||mi)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=ai(o||_i);var i=e.getLineCap();n.lineCap=void 0!==i?i:gi;var a=e.getLineDash();n.lineDash=a?a.slice():yi;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:vi;var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var u=e.getMiterLimit();n.miterLimit=void 0!==u?u:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[oa.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[oa.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,o=t.lineDash,i=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!(0,Oe.fS)(t.currentLineDash,o)||t.currentLineDashOffset!=i||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=i,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[oa.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,L.d9)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,L.f3)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(aa);const ca=la;var ua=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const fa=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.hitDetectionImage_=null,i.image_=null,i.imagePixelRatio_=void 0,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i.declutterMode_=void 0,i.declutterImageWithText_=void 0,i}return ua(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([oa.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oa.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([oa.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([oa.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e},e}(ca);var ha=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pa=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return ha(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var o=this.coordinates.length,i=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[oa.MOVE_TO_LINE_TO,o,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([oa.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,yi,0],na);var i=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(ea),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([oa.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],na);for(var i=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinates_(a,l,i[c],s);this.hitDetectionInstructions.push(ea),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(ea),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(ea),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(na)},e}(ca);const da=pa;var ma=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ga=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return ma(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var o=this.state,i=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(na),this.hitDetectionInstructions.push(na);for(var l=0;l<s;++l){var c=n[l],u=this.coordinates.length,f=this.appendFlatLineCoordinates(t,e,c,r,!0,!a),h=[oa.MOVE_TO_LINE_TO,u,f];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(ra),this.hitDetectionInstructions.push(ra)),e=c}return i&&(this.instructions.push(ta),this.hitDetectionInstructions.push(ta)),a&&(this.instructions.push(ea),this.hitDetectionInstructions.push(ea)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([oa.SET_FILL_STYLE,mi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([oa.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,a,!1,!1);var l=[oa.CIRCLE,s];this.instructions.push(na,l),this.hitDetectionInstructions.push(na,l),void 0!==n.fillStyle&&(this.instructions.push(ta),this.hitDetectionInstructions.push(ta)),void 0!==n.strokeStyle&&(this.instructions.push(ea),this.hitDetectionInstructions.push(ea)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([oa.SET_FILL_STYLE,mi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([oa.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([oa.SET_FILL_STYLE,mi]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([oa.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,c=0,u=i.length;c<u;++c)l=this.drawFlatCoordinatess_(a,l,i[c],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,o=n.length;r<o;++r)n[r]=lo(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(ca);const ya=ga,va="point",_a="line";function ba(t,e,n,r,o){var i,a,s,l,c,u,f,h,p,d=n,m=n,g=0,y=0,v=n;for(i=n;i<r;i+=o){var _=e[i],b=e[i+1];void 0!==l&&(h=_-l,p=b-c,s=Math.sqrt(h*h+p*p),void 0!==u&&(y+=a,Math.acos((u*h+f*p)/(a*s))>t&&(y>g&&(g=y,d=v,m=i),y=0,v=i-o)),a=s,u=h,f=p),l=_,c=b}return(y+=s)>g?[v,i]:[d,m]}var Aa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wa={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},xa=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",i.declutterImageWithText_=void 0,i}return Aa(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||r)){var i=this.coordinates,a=i.length,s=t.getType(),l=null,c=t.getStride();if(o.placement!==_a||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){var u=o.overflow?null:[];switch(s){case"Point":case"MultiPoint":l=t.getFlatCoordinates();break;case"LineString":l=t.getFlatMidpoint();break;case"Circle":l=t.getCenter();break;case"MultiLineString":l=t.getFlatMidpoints(),c=2;break;case"Polygon":l=t.getFlatInteriorPoint(),o.overflow||u.push(l[2]/this.resolution),c=3;break;case"MultiPolygon":var f=t.getFlatInteriorPoints();l=[];for(w=0,x=f.length;w<x;w+=3)o.overflow||u.push(f[w+2]/this.resolution),l.push(f[w],f[w+1]);if(0===l.length)return;c=2}if((P=this.appendFlatPointCoordinates(l,c))===a)return;if(u&&(P-a)/2!=l.length/c){var h=a/2;u=u.filter((function(t,e){var n=i[2*(h+e)]===l[e*c]&&i[2*(h+e)+1]===l[e*c+1];return n||--h,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var p=o.padding;if(p!=wi&&(o.scale[0]<0||o.scale[1]<0)){var d=o.padding[0],m=o.padding[1],g=o.padding[2],y=o.padding[3];o.scale[0]<0&&(m=-m,y=-y),o.scale[1]<0&&(d=-d,g=-g),p=[d,m,g,y]}var v=this.pixelRatio;this.instructions.push([oa.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,p==wi?wi:p.map((function(t){return t*v})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]);var _=1/v;this.hitDetectionInstructions.push([oa.DRAW_IMAGE,a,P,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[_,_],NaN,void 0,this.declutterImageWithText_,p,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,u]),this.endGeometry(e)}else{if(!(0,L.kK)(this.getBufferedMaxExtent(),t.getExtent()))return;var b=void 0;if(l=t.getFlatCoordinates(),"LineString"==s)b=[l.length];else if("MultiLineString"==s)b=t.getEnds();else if("Polygon"==s)b=t.getEnds().slice(0,1);else if("MultiPolygon"==s){var A=t.getEndss();b=[];for(var w=0,x=A.length;w<x;++w)b.push(A[w][0])}this.beginGeometry(t,e);for(var C=o.textAlign,k=0,E=void 0,S=0,O=b.length;S<O;++S){if(null==C){var T=ba(o.maxAngle,l,k,b[S],c);k=T[0],E=T[1]}else E=b[S];for(var w=k;w<E;w+=c)i.push(l[w],l[w+1]);var P=i.length;k=b[S],this.drawChars_(a,P),a=P}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||bi,justify:e.justify,textBaseline:e.textBaseline||Ai,scale:e.scale});var i=this.fillKey_;n&&(i in this.fillStates||(this.fillStates[i]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,i=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,l=wa[r.textBaseline],c=this.textOffsetY_*s,u=this.text_,f=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([oa.DRAW_CHARS,t,e,l,r.overflow,a,r.maxAngle,s,c,o,f*s,u,i,1]),this.hitDetectionInstructions.push([oa.DRAW_CHARS,t,e,l,r.overflow,a,r.maxAngle,1,c,o,f,u,i,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){var i=t.getFill();i?((r=this.textFillState_)||(r={},this.textFillState_=r),r.fillStyle=ai(i.getColor()||mi)):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o={},this.textStrokeState_=o);var s=a.getLineDash(),l=a.getLineDashOffset(),c=a.getWidth(),u=a.getMiterLimit();o.lineCap=a.getLineCap()||gi,o.lineDash=s?s.slice():yi,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||vi,o.lineWidth=void 0===c?1:c,o.miterLimit=void 0===u?10:u,o.strokeStyle=ai(a.getColor()||_i)}else o=null,this.textStrokeState_=o;n=this.textState_;var f=t.getFont()||di;Oi(f);var h=t.getScaleArray();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||Ai,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||wi,n.scale=void 0===h?[1,1]:h;var d=t.getOffsetX(),m=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===m?0:m,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:(0,p.sq)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+(0,p.sq)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(ca);var Ca={Circle:ya,Default:ca,Image:fa,LineString:da,Polygon:ya,Text:xa};const ka=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var o=n[r].finish();t[e][r]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var o=r[e];void 0===o&&(o=new(0,Ca[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o);return o},t}();function Ea(t,e,n,r,o,i,a,s,l,c,u,f){var h=t[e],p=t[e+1],d=0,m=0,g=0,y=0;function v(){d=h,m=p,h=t[e+=r],p=t[e+1],y+=g,g=Math.sqrt((h-d)*(h-d)+(p-m)*(p-m))}do{v()}while(e<n-r&&y+g<i);for(var _=0===g?0:(i-y)/g,b=(0,z.t7)(d,h,_),A=(0,z.t7)(m,p,_),w=e-r,x=y,C=i+s*l(c,o,u);e<n-r&&y+g<C;)v();_=0===g?0:(C-y)/g;var k,E=(0,z.t7)(d,h,_),S=(0,z.t7)(m,p,_);if(f){var O=[b,A,E,S];Vr(O,0,4,2,f,O,O),k=O[0]>O[2]}else k=b>E;var T,P=Math.PI,L=[],R=w+r===e;if(g=0,y=x,h=t[e=w],p=t[e+1],R){v(),T=Math.atan2(p-m,h-d),k&&(T+=T>0?-P:P);var I=(E+b)/2,F=(S+A)/2;return L[0]=[I,F,(C-i)/2,T,o],L}for(var j=0,M=(o=o.replace(/\n/g," ")).length;j<M;){v();var D=Math.atan2(p-m,h-d);if(k&&(D+=D>0?-P:P),void 0!==T){var B=D-T;if(B+=B>P?-2*P:B<-P?2*P:0,Math.abs(B)>a)return null}T=D;for(var N=j,G=0;j<M;++j){var W=s*l(c,o[k?M-j-1:j],u);if(e+r<n&&y+g<i+G+W/2)break;G+=W}if(j!==N){var Z=k?o.substring(M-N,M-j):o.substring(N,j);_=0===g?0:(i+G/2-y)/g;I=(0,z.t7)(d,h,_),F=(0,z.t7)(m,p,_);L.push([I,F,G/2,D,Z]),i+=G}}return L}var Sa=(0,L.lJ)(),Oa=[],Ta=[],Pa=[],La=[];function Ra(t){return t[3].declutterBox}var Ia=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Fa(t,e){return"start"!==e&&"end"!==e||Ia.test(t)||(e="start"===e?"left":"right"),wa[e]}function ja(t,e,n){return n>0&&t.push("\n",""),t.push(e,""),t}var Ma=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var o=t+e+n+r;if(this.labels_[o])return this.labels_[o];var i=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,c=[s.scale[0]*l,s.scale[1]*l],u=Array.isArray(t),f=s.justify?wa[s.justify]:Fa(Array.isArray(t)?t[0]:t,s.textAlign||bi),h=r&&i.lineWidth?i.lineWidth:0,p=u?t:t.split("\n").reduce(ja,[]),d=function(t,e){for(var n=[],r=[],o=[],i=0,a=0,s=0,l=0,c=0,u=e.length;c<=u;c+=2){var f=e[c];if("\n"!==f&&c!==u){var h=e[c+1]||t.font,p=Li(h,f);n.push(p),a+=p;var d=Ti(h);r.push(d),l=Math.max(l,d)}else i=Math.max(i,a),o.push(a),a=0,s+=l}return{width:i,height:s,widths:n,heights:r,lineWidths:o}}(s,p),m=d.width,g=d.height,y=d.widths,v=d.heights,_=d.lineWidths,b=m+h,A=[],w=(b+2)*c[0],x=(g+h)*c[1],C={width:w<0?Math.floor(w):Math.ceil(w),height:x<0?Math.floor(x):Math.ceil(x),contextInstructions:A};(1==c[0]&&1==c[1]||A.push("scale",c),r)&&(A.push("strokeStyle",i.strokeStyle),A.push("lineWidth",h),A.push("lineCap",i.lineCap),A.push("lineJoin",i.lineJoin),A.push("miterLimit",i.miterLimit),(P.Id?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(A.push("setLineDash",[i.lineDash]),A.push("lineDashOffset",i.lineDashOffset)));n&&A.push("fillStyle",a.fillStyle),A.push("textBaseline","middle"),A.push("textAlign","center");for(var k,E=.5-f,S=f*b+E*h,O=[],T=[],L=0,R=0,I=0,F=0,j=0,M=p.length;j<M;j+=2){var D=p[j];if("\n"!==D){var B=p[j+1]||s.font;B!==k&&(r&&O.push("font",B),n&&T.push("font",B),k=B),L=Math.max(L,v[I]);var N=[D,S+E*y[I]+f*(y[I]-_[F]),.5*(h+L)+R];S+=y[I],r&&O.push("strokeText",N),n&&T.push("fillText",N),++I}else R+=L,L=0,S=f*b+E*h,++F}return Array.prototype.push.apply(A,O),Array.prototype.push.apply(A,T),this.labels_[o]=C,C},t.prototype.replayTextBackground_=function(t,e,n,r,o,i,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),i&&(this.alignFill_=i[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,o,i,a,s,l,c,u,f,h,p,d,m){var g,y=n-(a*=f[0]),v=r-(s*=f[1]),_=o+l>t?t-l:o,b=i+c>e?e-c:i,A=p[3]+_*f[0]+p[1],w=p[0]+b*f[1]+p[2],x=y-p[3],C=v-p[0];return(d||0!==u)&&(Oa[0]=x,La[0]=x,Oa[1]=C,Ta[1]=C,Ta[0]=x+A,Pa[0]=Ta[0],Pa[1]=C+w,La[1]=Pa[1]),0!==u?(On(g=Ln([1,0,0,1,0,0],n,r,1,1,u,-n,-r),Oa),On(g,Ta),On(g,Pa),On(g,La),(0,L.T9)(Math.min(Oa[0],Ta[0],Pa[0],La[0]),Math.min(Oa[1],Ta[1],Pa[1],La[1]),Math.max(Oa[0],Ta[0],Pa[0],La[0]),Math.max(Oa[1],Ta[1],Pa[1],La[1]),Sa)):(0,L.T9)(Math.min(x,x+A),Math.min(C,C+w),Math.max(x,x+A),Math.max(C,C+w),Sa),h&&(y=Math.round(y),v=Math.round(v)),{drawImageX:y,drawImageY:v,drawImageW:_,drawImageH:b,originX:l,originY:c,declutterBox:{minX:Sa[0],minY:Sa[1],maxX:Sa[2],maxY:Sa[3],value:m},canvasTransform:g,scale:f}},t.prototype.replayImageOrLabel_=function(t,e,n,r,o,i,a){var s=!(!i&&!a),l=r.declutterBox,c=t.canvas,u=a?a[2]*r.scale[0]/2:0;return l.minX-u<=c.width/e&&l.maxX+u>=0&&l.minY-u<=c.height/e&&l.maxY+u>=0&&(s&&this.replayTextBackground_(t,Oa,Ta,Pa,La,i,a),Ii(t,r.canvasTransform,o,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=On(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var o=this.textStates[e],i=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=Fa(Array.isArray(t)?t[0]:t,o.textAlign||bi),c=wa[o.textBaseline||Ai],u=a&&a.lineWidth?a.lineWidth:0;return{label:i,anchorX:l*(i.width/s-2*o.scale[0])+2*(.5-l)*u,anchorY:c*i.height/s+2*(.5-c)*u}},t.prototype.execute_=function(t,e,n,r,o,i,a,s){var l,c,u;this.pixelCoordinates_&&(0,Oe.fS)(n,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Zr(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),c=this.renderedTransform_,u=n,c[0]=u[0],c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5]);for(var f,h,p,d,m,g,y,v,_,b,A,w,x,C,k,E,S=0,O=r.length,T=0,P=0,R=0,I=null,F=null,j=this.coordinateCache_,M=this.viewRotation_,D=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,B={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},N=this.instructions!=r||this.overlaps?0:200;S<O;){var G=r[S];switch(G[0]){case oa.BEGIN_GEOMETRY:x=G[1],E=G[3],x.getGeometry()?void 0===a||(0,L.kK)(a,E.getExtent())?++S:S=G[2]+1:S=G[2];break;case oa.BEGIN_PATH:P>N&&(this.fill_(t),P=0),R>N&&(t.stroke(),R=0),P||R||(t.beginPath(),d=NaN,m=NaN),++S;break;case oa.CIRCLE:var W=l[T=G[1]],z=l[T+1],Z=l[T+2]-W,V=l[T+3]-z,U=Math.sqrt(Z*Z+V*V);t.moveTo(W+U,z),t.arc(W,z,U,0,2*Math.PI,!0),++S;break;case oa.CLOSE_PATH:t.closePath(),++S;break;case oa.CUSTOM:T=G[1],f=G[2];var q=G[3],X=G[4],Y=6==G.length?G[5]:void 0;B.geometry=q,B.feature=x,S in j||(j[S]=[]);var K=j[S];Y?Y(l,T,f,2,K):(K[0]=l[T],K[1]=l[T+1],K.length=2),X(K,B),++S;break;case oa.DRAW_IMAGE:T=G[1],f=G[2],v=G[3],h=G[4],p=G[5];var H=G[6],$=G[7],J=G[8],Q=G[9],tt=G[10],et=G[11],nt=G[12],rt=G[13],ot=G[14],it=G[15];if(!v&&G.length>=20){_=G[19],b=G[20],A=G[21],w=G[22];var at=this.drawLabelWithPointPlacement_(_,b,A,w);v=at.label,G[3]=v;var st=G[23];h=(at.anchorX-st)*this.pixelRatio,G[4]=h;var lt=G[24];p=(at.anchorY-lt)*this.pixelRatio,G[5]=p,H=v.height,G[6]=H,rt=v.width,G[13]=rt}var ct=void 0;G.length>25&&(ct=G[25]);var ut=void 0,ft=void 0,ht=void 0;G.length>17?(ut=G[16],ft=G[17],ht=G[18]):(ut=wi,ft=!1,ht=!1),tt&&D?et+=M:tt||D||(et-=M);for(var pt=0;T<f;T+=2)if(!(ct&&ct[pt++]<rt/this.pixelRatio)){var dt=[t,e,v,Wt=this.calculateImageOrLabelDimensions_(v.width,v.height,l[T],l[T+1],rt,H,h,p,J,Q,et,nt,o,ut,ft||ht,x),$,ft?I:null,ht?F:null];if(s){if("none"===ot)continue;if("obstacle"===ot){s.insert(Wt.declutterBox);continue}var mt=void 0,gt=void 0;if(it){var yt=f-T;if(!it[yt]){it[yt]=dt;continue}if(mt=it[yt],delete it[yt],gt=Ra(mt),s.collides(gt))continue}if(s.collides(Wt.declutterBox))continue;mt&&(s.insert(gt),this.replayImageOrLabel_.apply(this,mt)),s.insert(Wt.declutterBox)}this.replayImageOrLabel_.apply(this,dt)}++S;break;case oa.DRAW_CHARS:var vt=G[1],_t=G[2],bt=G[3],At=G[4];w=G[5];var wt=G[6],xt=G[7],Ct=G[8];A=G[9];var kt=G[10];_=G[11],b=G[12];var Et=[G[13],G[13]],St=this.textStates[b],Ot=St.font,Tt=[St.scale[0]*xt,St.scale[1]*xt],Pt=void 0;Ot in this.widths_?Pt=this.widths_[Ot]:(Pt={},this.widths_[Ot]=Pt);var Lt=yo(l,vt,_t,2),Rt=Math.abs(Tt[0])*Ri(Ot,_,Pt);if(At||Rt<=Lt){var It=this.textStates[b].textAlign,Ft=Ea(l,vt,_t,2,_,(Lt-Rt)*wa[It],wt,Math.abs(Tt[0]),Ri,Ot,Pt,D?0:this.viewRotation_);t:if(Ft){var jt=[],Mt=void 0,Dt=void 0,Bt=void 0,Nt=void 0,Gt=void 0;if(A)for(Mt=0,Dt=Ft.length;Mt<Dt;++Mt){Bt=(Gt=Ft[Mt])[4],Nt=this.createLabel(Bt,b,"",A),h=Gt[2]+(Tt[0]<0?-kt:kt),p=bt*Nt.height+2*(.5-bt)*kt*Tt[1]/Tt[0]-Ct;var Wt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,Gt[0],Gt[1],Nt.width,Nt.height,h,p,0,0,Gt[3],Et,!1,wi,!1,x);if(s&&s.collides(Wt.declutterBox))break t;jt.push([t,e,Nt,Wt,1,null,null])}if(w)for(Mt=0,Dt=Ft.length;Mt<Dt;++Mt){Bt=(Gt=Ft[Mt])[4],Nt=this.createLabel(Bt,b,w,""),h=Gt[2],p=bt*Nt.height-Ct;Wt=this.calculateImageOrLabelDimensions_(Nt.width,Nt.height,Gt[0],Gt[1],Nt.width,Nt.height,h,p,0,0,Gt[3],Et,!1,wi,!1,x);if(s&&s.collides(Wt.declutterBox))break t;jt.push([t,e,Nt,Wt,1,null,null])}s&&s.load(jt.map(Ra));for(var zt=0,Zt=jt.length;zt<Zt;++zt)this.replayImageOrLabel_.apply(this,jt[zt])}}++S;break;case oa.END_GEOMETRY:if(void 0!==i){var Vt=i(x=G[1],E);if(Vt)return Vt}++S;break;case oa.FILL:N?P++:this.fill_(t),++S;break;case oa.MOVE_TO_LINE_TO:for(T=G[1],f=G[2],C=l[T],y=(k=l[T+1])+.5|0,(g=C+.5|0)===d&&y===m||(t.moveTo(C,k),d=g,m=y),T+=2;T<f;T+=2)g=(C=l[T])+.5|0,y=(k=l[T+1])+.5|0,T!=f-2&&g===d&&y===m||(t.lineTo(C,k),d=g,m=y);++S;break;case oa.SET_FILL_STYLE:I=G,this.alignFill_=G[2],P&&(this.fill_(t),P=0,R&&(t.stroke(),R=0)),t.fillStyle=G[1],++S;break;case oa.SET_STROKE_STYLE:F=G,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,G),++S;break;case oa.STROKE:N?R++:t.stroke(),++S;break;default:++S}}P&&this.fill_(t),R&&t.stroke()},t.prototype.execute=function(t,e,n,r,o,i){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,o,void 0,void 0,i)},t.prototype.executeHitDetection=function(t,e,n,r,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,o)},t}();const Da=Ma;var Ba=["Polygon","Circle","LineString","Image","Text","Default"],Na=function(){function t(t,e,n,r,o,i){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=i,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(o)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var o in r){var i=r[o];n[o]=new Da(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,o=t.length;r<o;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i){var a=2*(r=Math.round(r))+1,s=Ln(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),l=!this.hitDetectionContext_;l&&(this.hitDetectionContext_=(0,w.E4)(a,a));var c,u=this.hitDetectionContext_;u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):l||u.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(c=(0,L.lJ)(),(0,L.Wj)(c,t),(0,L.f3)(c,e*(this.renderBuffer_+r),c));var f,h=function(t){if(void 0!==Ga[t])return Ga[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),o=0;o<=t;++o)for(var i=0;i<=t;++i){var a=o*o+i*i;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((t+o)*e+(t+i))+3),o>0&&s.push(4*((t-o)*e+(t+i))+3),i>0&&(s.push(4*((t+o)*e+(t-i))+3),o>0&&s.push(4*((t-o)*e+(t-i))+3))}for(var l=[],c=(o=0,r.length);o<c;++o)r[o]&&l.push.apply(l,r[o]);return Ga[t]=l,l}(r);function p(t,e){for(var n=u.getImageData(0,0,a,a).data,s=0,l=h.length;s<l;s++)if(n[h[s]]>0){if(!i||"Image"!==f&&"Text"!==f||-1!==i.indexOf(t)){var c=(h[s]-3)/4,p=r-c%a,d=r-(c/a|0),m=o(t,e,p*p+d*d);if(m)return m}u.clearRect(0,0,a,a);break}}var d,m,g,y,v,_=Object.keys(this.executorsByZIndex_).map(Number);for(_.sort(Oe.kK),d=_.length-1;d>=0;--d){var b=_[d].toString();for(g=this.executorsByZIndex_[b],m=Ba.length-1;m>=0;--m)if(void 0!==(y=g[f=Ba[m]])&&(v=y.executeHitDetection(u,s,n,p,c)))return v}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],o=e[2],i=e[3],a=[n,r,n,i,o,i,o,r];return Zr(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return(0,Vt.xb)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,o,i,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Oe.kK),this.maxExtent_&&(t.save(),this.clip(t,n));var l,c,u,f,h,p,d=i||Ba;for(a&&s.reverse(),l=0,c=s.length;l<c;++l){var m=s[l].toString();for(h=this.executorsByZIndex_[m],u=0,f=d.length;u<f;++u){void 0!==(p=h[d[u]])&&p.execute(t,e,n,r,o,a)}}this.maxExtent_&&t.restore()},t}(),Ga={};const Wa=Na,za="image",Za="hybrid",Va="vector",Ua=0,qa=1;var Xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=function(t){function e(e,n,r,o,i,a,s){var l=t.call(this)||this;return l.context_=e,l.pixelRatio_=n,l.extent_=r,l.transform_=o,l.viewRotation_=i,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=[0,0],l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=[0,0],l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=[1,0,0,1,0,0],l}return Xa(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var o=Zr(t,e,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,u=o.length;c<u;c+=2){var f=o[c]-this.imageAnchorX_,h=o[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var p=f+this.imageAnchorX_,d=h+this.imageAnchorY_;Ln(a,p,d,1,1,l,-p,-d),i.setTransform.apply(i,a),i.translate(p,d),i.scale(this.imageScale_[0],this.imageScale_[1]),i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),i.setTransform(1,0,0,1,0,0)}else i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,f,h,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(i.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Zr(t,e,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var c=Ln(this.tmpLocalTransform_,s,l,1,1,a,-s,-l);i.setTransform.apply(i,c),i.translate(s,l),i.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&i.strokeText(this.text_,0,0),this.textFillState_&&i.fillText(this.text_,0,0),i.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&i.strokeText(this.text_,s,l),this.textFillState_&&i.fillText(this.text_,s,l)}}},e.prototype.moveToLineTo_=function(t,e,n,r,o){var i=this.context_,a=Zr(t,e,n,r,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)i.lineTo(a[l],a[l+1]);return o&&i.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var o=0,i=n.length;o<i;++o)e=this.moveToLineTo_(t,e,n[o],r,!0);return e},e.prototype.drawCircle=function(t){if((0,L.kK)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var o=t.getStride();return Zr(r,0,r.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(n*n+r*r),i=this.context_;i.beginPath(),i.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,L.kK)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,L.kK)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,L.kK)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),o=0,i=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=i.length;s<l;++s)o=this.moveToLineTo_(r,o,i[s],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,L.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,L.kK)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),i=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];r=this.drawRings_(n,r,l,i)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,Oe.fS)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:bi;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:ai(r||mi)}}else this.fillState_=null;if(e){var o=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),c=e.getWidth(),u=e.getMiterLimit(),f=a||yi;this.strokeState_={lineCap:void 0!==i?i:gi,lineDash:1===this.pixelRatio_?f:f.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||0)*this.pixelRatio_,lineJoin:void 0!==l?l:vi,lineWidth:(void 0!==c?c:1)*this.pixelRatio_,miterLimit:void 0!==u?u:10,strokeStyle:ai(o||_i)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:ai(n||mi)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),i=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),l=r.getLineJoin(),c=r.getWidth(),u=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:gi,lineDash:a||yi,lineDashOffset:s||0,lineJoin:void 0!==l?l:vi,lineWidth:void 0!==c?c:1,miterLimit:void 0!==u?u:10,strokeStyle:ai(o||_i)}}else this.textStrokeState_=null;var f=t.getFont(),h=t.getOffsetX(),p=t.getOffsetY(),d=t.getRotateWithView(),m=t.getRotation(),g=t.getScaleArray(),y=t.getText(),v=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==f?f:di,textAlign:void 0!==v?v:bi,textBaseline:void 0!==_?_:Ai},this.text_=void 0!==y?Array.isArray(y)?y.reduce((function(t,e,n){return t+(n%2?" ":e)}),""):y:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==m?m:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}else this.text_=""},e}(aa);const Ka=Ya,Ha="fraction",$a="pixels",Ja="bottom-left",Qa="bottom-right",ts="top-left",es="top-right";var ns=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=rs(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var o=rs(t,e,n);this.cache_[o]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function rs(t,e,n){return e+":"+t+":"+(n?Mn(n):"null")}var os=new ns,is=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),as=null,ss=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=r,s.src_=n,s.tainted_,s}return is(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===S){as||(as=(0,w.E4)(1,1)),as.drawImage(this.image_,0,0);try{as.getImageData(0,0,1,1),this.tainted_=!1}catch(t){as=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(o.Z.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=O,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=S,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=(0,w.E4)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==k){this.imageState_=E;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=F(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]&&this.imageState_===S){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Mn(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),o=r.data,i=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,l=this.color_[3],c=0,u=o.length;c<u;c+=4)o[c]*=i,o[c+1]*=a,o[c+2]*=s,o[c+3]*=l;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.Z);var ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cs=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.opacity?r.opacity:1,i=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;(n=t.call(this,{opacity:o,rotation:i,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s,declutterMode:r.declutterMode})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:ts,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:Ha,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:Ha,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var l=void 0!==r.img?r.img:null;n.imgSize_=r.imgSize;var c=r.src;(0,Qt.h)(!(void 0!==c&&l),4),(0,Qt.h)(!l||l&&n.imgSize_,5),void 0!==c&&0!==c.length||!l||(c=l.src||(0,p.sq)(l)),(0,Qt.h)(void 0!==c&&c.length>0,6);var u=void 0!==r.src?k:S;return n.color_=void 0!==r.color?Nn(r.color):null,n.iconImage_=function(t,e,n,r,o,i){var a=os.get(e,r,i);return a||(a=new ss(t,e,n,r,o,i),os.set(e,r,i,a)),a}(l,c,void 0!==n.imgSize_?n.imgSize_:null,n.crossOrigin_,u,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:ts,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return ls(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})},e.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Ha||this.anchorYUnits_==Ha){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Ha&&(t[0]*=e[0]),this.anchorYUnits_==Ha&&(t[1]*=e[1])}if(this.anchorOrigin_!=ts){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=es&&this.anchorOrigin_!=Qa||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Ja&&this.anchorOrigin_!=Qa||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=ts){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=es&&this.offsetOrigin_!=Qa||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Ja&&this.offsetOrigin_!=Qa||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(o.Z.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(o.Z.CHANGE,t)},e}(ii);const us=cs;var fs=.5;function hs(t,e,n,r,o,i,a){var s=t[0]*fs,l=t[1]*fs,c=(0,w.E4)(s,l);c.imageSmoothingEnabled=!1;for(var u=c.canvas,f=new Ka(c,fs,o,null,a),h=n.length,p=Math.floor(16777215/h),d={},m=1;m<=h;++m){var g=n[m-1],y=g.getStyleFunction()||r;if(r){var v=y(g,i);if(v){Array.isArray(v)||(v=[v]);for(var _="#"+("000000"+(m*p).toString(16)).slice(-6),b=0,A=v.length;b<A;++b){var x=v[b],C=x.getGeometryFunction()(g);if(C&&(0,L.kK)(o,C.getExtent())){var k=x.clone(),E=k.getFill();E&&E.setColor(_);var S=k.getStroke();S&&(S.setColor(_),S.setLineDash(null)),k.setText(void 0);var O=x.getImage();if(O&&0!==O.getOpacity()){var T=O.getImageSize();if(!T)continue;var P=(0,w.E4)(T[0],T[1],void 0,{alpha:!1}),R=P.canvas;P.fillStyle=_,P.fillRect(0,0,R.width,R.height),k.setImage(new us({img:R,imgSize:T,anchor:O.getAnchor(),anchorXUnits:$a,anchorYUnits:$a,offset:O.getOrigin(),opacity:1,size:O.getSize(),scale:O.getScale(),rotation:O.getRotation(),rotateWithView:O.getRotateWithView()}))}var I=k.getZIndex()||0;(M=d[I])||(M={},d[I]=M,M.Polygon=[],M.Circle=[],M.LineString=[],M.Point=[]),M[C.getType().replace("Multi","")].push(C,k)}}}}}for(var F=Object.keys(d).map(Number).sort(Oe.kK),j=(m=0,F.length);m<j;++m){var M=d[F[m]];for(var D in M){var B=M[D];for(b=0,A=B.length;b<A;b+=2){f.setStyle(B[b+1]);for(var N=0,G=e.length;N<G;++N)f.setTransform(e[N]),f.drawGeometry(B[b])}}}return c.getImageData(0,0,u.width,u.height)}function ps(t,e,n){var r=[];if(n){var o=Math.floor(Math.round(t[0])*fs),i=Math.floor(Math.round(t[1])*fs),a=4*((0,z.uZ)(o,0,n.width-1)+(0,z.uZ)(i,0,n.height-1)*n.width),s=n.data[a],l=n.data[a+1],c=n.data[a+2]+256*(l+256*s),u=Math.floor(16777215/e.length);c&&c%u==0&&r.push(e[c/u-1])}return r}var ds={Point:function(t,e,n,r,o){var i,a=n.getImage(),s=n.getText();if(a){if(a.getImageState()!=S)return;var l=t;if(o){var c=a.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,i),u.drawPoint(e,r)}else s&&s.getText()&&(i={})}var f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,i),f.drawPoint(e,r)}if(s&&s.getText()){var h=t;o&&(h=o);var p=h.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(e,r)}},LineString:function(t,e,n,r,o){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var l=(o||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,r)}},Polygon:function(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var c=(o||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}},MultiPoint:function(t,e,n,r,o){var i,a=n.getImage(),s=n.getText();if(a){if(a.getImageState()!=S)return;var l=t;if(o){var c=a.getDeclutterMode();if("none"!==c)if(l=o,"obstacle"===c){var u=t.getBuilder(n.getZIndex(),"Image");u.setImageStyle(a,i),u.drawMultiPoint(e,r)}else s&&s.getText()&&(i={})}var f=l.getBuilder(n.getZIndex(),"Image");f.setImageStyle(a,i),f.drawMultiPoint(e,r)}if(s&&s.getText()){var h=t;o&&(h=o);var p=h.getBuilder(n.getZIndex(),"Text");p.setTextStyle(s,i),p.drawText(e,r)}},MultiLineString:function(t,e,n,r,o){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),"LineString");a.setFillStrokeStyle(null,i),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var l=(o||t).getBuilder(n.getZIndex(),"Text");l.setTextStyle(s),l.drawText(e,r)}},MultiPolygon:function(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(a||i){var s=t.getBuilder(n.getZIndex(),"Polygon");s.setFillStrokeStyle(i,a),s.drawMultiPolygon(e,r)}var l=n.getText();if(l&&l.getText()){var c=(o||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}},GeometryCollection:function(t,e,n,r,o){var i,a,s=e.getGeometriesArray();for(i=0,a=s.length;i<a;++i){(0,ds[s[i].getType()])(t,s[i],n,r,o)}},Circle:function(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),"Circle");s.setFillStrokeStyle(i,a),s.drawCircle(e,r)}var l=n.getText();if(l&&l.getText()){var c=(o||t).getBuilder(n.getZIndex(),"Text");c.setTextStyle(l),c.drawText(e,r)}}};function ms(t,e){return parseInt((0,p.sq)(t),10)-parseInt((0,p.sq)(e),10)}function gs(t,e){var n=ys(t,e);return n*n}function ys(t,e){return.5*t/e}function vs(t,e,n,r,o,i,a){var s=!1,l=n.getImage();if(l){var c=l.getImageState();c==S||c==O?l.unlistenImageChange(o):(c==k&&l.load(),l.listenImageChange(o),s=!0)}return function(t,e,n,r,o,i){var a=n.getGeometryFunction()(e);if(!a)return;var s=a.simplifyTransformed(r,o);if(n.getRenderer())_s(t,s,n,e);else{(0,ds[s.getType()])(t,s,n,e,i)}}(t,e,n,r,i,a),s}function _s(t,e,n,r){if("GeometryCollection"!=e.getType())t.getBuilder(n.getZIndex(),"Default").drawCustom(e,r,n.getRenderer(),n.getHitDetectionRenderer());else for(var o=e.getGeometries(),i=0,a=o.length;i<a;++i)_s(t,o[i],n,r)}var bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),As={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},ws={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]},xs=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.renderedLayerRevision_,n.renderedPixelToCoordinateTransform_=null,n.renderedRotation_,n.tmpTransform_=[1,0,0,1,0,0],n}return bs(e,t),e.prototype.prepareTile=function(t,e,n){var r,o=t.getState();return o!==l&&o!==f||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t)&&(r=!0)),r},e.prototype.getTile=function(e,n,r,o){var i=o.pixelRatio,a=o.viewState,s=a.resolution,l=a.projection,c=this.getLayer(),u=c.getSource().getTile(e,n,r,i,l),f=o.viewHints,h=!(f[Ua]||f[qa]);return!h&&u.wantedResolution||(u.wantedResolution=s),this.prepareTile(u,i,l)&&(h||Date.now()-o.time<8)&&c.getRenderMode()!==Va&&this.renderTileImage_(u,o),t.prototype.getTile.call(this,e,n,r,o)},e.prototype.isDrawableTile=function(e){var n=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&(n.getRenderMode()===Va?(0,p.sq)(n)in e.executorGroups:e.hasContext(n))},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!==n&&(this.renderedLayerRevision_=n,this.renderedTiles.length=0),t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var r=this.getLayer(),o=r.getRevision(),i=r.getRenderOrder()||null,a=t.wantedResolution,s=t.getReplayState(r);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=o||s.renderedRenderOrder!=i){var c=r.getSource(),u=r.getDeclutter(),f=c.getTileGrid(),h=c.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),d=c.getSourceTiles(e,n,t),m=(0,p.sq)(r);delete t.hitDetectionImageData[m],t.executorGroups[m]=[],u&&(t.declutterExecutorGroups[m]=[]),s.dirty=!1;for(var g=function(n,o){var p=d[n];if(p.getState()!=l)return"continue";var g=p.tileCoord,v=f.getTileCoordExtent(g),_=(0,L.Ed)(h,v),b=(0,L.f3)(_,r.getRenderBuffer()*a,y.tmpExtent),A=(0,L.fS)(v,_)?null:b,w=new ka(0,b,a,e),x=u?new ka(0,_,a,e):void 0,C=gs(a,e),k=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,a)),e){var o=this.renderFeature(t,C,e,w,x);s.dirty=s.dirty||o}},E=p.getFeatures();i&&i!==s.renderedRenderOrder&&E.sort(i);for(var S=0,O=E.length;S<O;++S){var T=E[S];A&&!(0,L.kK)(A,T.getGeometry().getExtent())||k.call(y,T)}var P=w.finish(),R=r.getRenderMode()!==Va&&u&&1===d.length?null:_,I=new Wa(R,a,e,c.getOverlaps(),P,r.getRenderBuffer());if(t.executorGroups[m].push(I),x){var F=new Wa(null,a,e,c.getOverlaps(),x.finish(),r.getRenderBuffer());t.declutterExecutorGroups[m].push(F)}},y=this,v=0,_=d.length;v<_;++v)g(v);s.renderedRevision=o,s.renderedRenderOrder=i,s.renderedResolution=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var i=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s=this.getLayer(),l=s.getSource().getTileGridForProjection(e.viewState.projection),c=(0,L.hI)([t]);(0,L.f3)(c,i*n,c);for(var u,f={},h=function(t,e,n){var i=t.getId();void 0===i&&(i=(0,p.sq)(t));var a=f[i];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return f[i]=!0,o.splice(o.lastIndexOf(a),1),r(t,s,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return f[i]=!0,r(t,s,e);o.push(f[i]={feature:t,layer:s,geometry:e,distanceSq:n,callback:r})}},d=this.renderedTiles,m=function(r,o){var f=d[r],m=l.getTileCoordExtent(f.wrappedTileCoord);if(!(0,L.kK)(m,c))return"continue";var g=(0,p.sq)(s),y=[f.executorGroups[g]],v=f.declutterExecutorGroups[g];v&&y.push(v),y.some((function(r){for(var o=r===v?e.declutterTree.all().map((function(t){return t.value})):null,s=0,l=r.length;s<l;++s){var c=r[s];if(u=c.forEachFeatureAtCoordinate(t,i,a,n,h,o))return!0}}))},g=0,y=d.length;!u&&g<y;++g)m(g);return u},e.prototype.getFeatures=function(t){return new Promise(function(e,n){for(var r,o=this.getLayer(),i=(0,p.sq)(o),a=o.getSource(),s=this.renderedProjection,c=s.getExtent(),u=this.renderedResolution,f=a.getTileGridForProjection(s),h=On(this.renderedPixelToCoordinateTransform_,t.slice()),d=f.getTileCoordForCoordAndResolution(h,u),m=0,g=this.renderedTiles.length;m<g;++m)if(d.toString()===this.renderedTiles[m].tileCoord.toString()){if((r=this.renderedTiles[m]).getState()===l){var y=f.getTileCoordExtent(r.tileCoord);a.getWrapX()&&s.canWrapX()&&!(0,L.r4)(c,y)&&ft(h,s);break}r=void 0}if(!r||r.loadingSourceTiles>0)e([]);else{var v=f.getTileCoordExtent(r.wrappedTileCoord),_=(0,L.rL)(v),b=[(h[0]-_[0])/u,(_[1]-h[1])/u],A=r.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),w=r.hitDetectionImageData[i];if(!w&&!this.animatingOrInteracting_){var x=Pe(f.getTileSize(f.getZForResolution(u,a.zDirection))),C=this.renderedRotation_;w=hs(x,[this.getRenderTransform(f.getTileCoordCenter(r.wrappedTileCoord),u,0,fs,x[0]*fs,x[1]*fs,0)],A,o.getStyleFunction(),f.getTileCoordExtent(r.wrappedTileCoord),r.getReplayState(o).renderedResolution,C),r.hitDetectionImageData[i]=w}e(ps(b,A,w))}}.bind(this))},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderDeclutter=function(t){var e=this.context,n=e.globalAlpha;e.globalAlpha=this.getLayer().getOpacity();for(var r=t.viewHints,o=!(r[Ua]||r[qa]),i=this.renderedTiles,a=0,s=i.length;a<s;++a){var l=i[a],c=l.declutterExecutorGroups[(0,p.sq)(this.getLayer())];if(c)for(var u=c.length-1;u>=0;--u)c[u].execute(this.context,1,this.getTileRenderTransform(l,t),t.viewState.rotation,o,void 0,t.declutterTree)}e.globalAlpha=n},e.prototype.getTileRenderTransform=function(t,e){var n=e.pixelRatio,r=e.viewState,o=r.center,i=r.resolution,a=r.rotation,s=e.size,l=Math.round(s[0]*n),c=Math.round(s[1]*n),u=this.getLayer().getSource().getTileGridForProjection(e.viewState.projection),f=t.tileCoord,h=u.getTileCoordExtent(t.wrappedTileCoord),p=u.getTileCoordExtent(f,this.tmpExtent)[0]-h[0];return En(Tn(this.inversePixelTransform.slice(),1/n,1/n),this.getRenderTransform(o,i,a,n,l,c,p))},e.prototype.renderFrame=function(e,n){var r=e.viewHints,o=!(r[Ua]||r[qa]);t.prototype.renderFrame.call(this,e,n),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var i=this.getLayer(),a=i.getRenderMode(),s=this.context,l=s.globalAlpha;s.globalAlpha=i.getOpacity();for(var c=ws[a],u=e.viewState,f=u.rotation,h=i.getSource(),d=h.getTileGridForProjection(u.projection).getZForResolution(u.resolution,h.zDirection),m=this.renderedTiles,g=[],y=[],v=!0,_=m.length-1;_>=0;--_){var b=m[_];v=v&&!b.getReplayState(i).dirty;var A=b.executorGroups[(0,p.sq)(i)].filter((function(t){return t.hasExecutors(c)}));if(0!==A.length){var w=this.getTileRenderTransform(b,e),x=b.tileCoord[0],C=!1,k=A[0].getClipCoords(w);if(k){for(var E=0,S=g.length;E<S;++E)if(d!==x&&x<y[E]){var O=g[E];(0,L.kK)([k[0],k[3],k[4],k[7]],[O[0],O[3],O[4],O[7]])&&(C||(s.save(),C=!0),s.beginPath(),s.moveTo(k[0],k[1]),s.lineTo(k[2],k[3]),s.lineTo(k[4],k[5]),s.lineTo(k[6],k[7]),s.moveTo(O[6],O[7]),s.lineTo(O[4],O[5]),s.lineTo(O[2],O[3]),s.lineTo(O[0],O[1]),s.clip())}g.push(k),y.push(x)}for(var T=0,P=A.length;T<P;++T){A[T].execute(s,1,w,f,o,c)}C&&s.restore()}}return s.globalAlpha=l,this.ready=v,this.container},e.prototype.renderFeature=function(t,e,n,r,o){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)i=vs(r,t,n[a],e,this.boundHandleStyleImageChange_,void 0,o)||i;else i=vs(r,t,n,e,this.boundHandleStyleImageChange_,void 0,o);return i},e.prototype.tileImageNeedsRender_=function(t){var e=this.getLayer();if(e.getRenderMode()===Va)return!1;var n=t.getReplayState(e),r=e.getRevision(),o=t.wantedResolution;return n.renderedTileResolution!==o||n.renderedTileRevision!==r},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),r=t.getReplayState(n),o=n.getRevision(),i=t.executorGroups[(0,p.sq)(n)];r.renderedTileRevision=o;var a=t.wrappedTileCoord,s=a[0],l=n.getSource(),c=e.pixelRatio,u=e.viewState.projection,f=l.getTileGridForProjection(u),h=f.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*h,m=f.getResolution(s),g=t.getContext(n);c=Math.round(Math.max(c,d/c));var y=l.getTilePixelSize(s,c,u);g.canvas.width=y[0],g.canvas.height=y[1];var v=c/d;if(1!==v){var _=kn(this.tmpTransform_);Tn(_,v,v),g.setTransform.apply(g,_)}var b=f.getTileCoordExtent(a,this.tmpExtent),A=d/m,w=kn(this.tmpTransform_);Tn(w,A,-A),Pn(w,-b[0],-b[3]);for(var x=0,C=i.length;x<C;++x){i[x].execute(g,v,w,0,!0,As[n.getRenderMode()])}r.renderedTileResolution=t.wantedResolution},e}(Kn);const Cs=xs;var ks=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Es=function(t){function e(e){var n=this,r=e||{},o=(0,Vt.f0)({},r);delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).on,n.once,n.un,r.renderMode===za&&(r.renderMode=void 0);var i=r.renderMode||Za;return(0,Qt.h)(i==Za||i==Va,28),n.renderMode_=i,n.setPreload(r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n.getBackground,n.setBackground,n}return ks(e,t),e.prototype.createRenderer=function(){return new Cs(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(hn)},e.prototype.getUseInterimTilesOnError=function(){return this.get(pn)},e.prototype.setPreload=function(t){this.set(hn,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(pn,t)},e}(Ji);const Ss=Es;var Os=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ts=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,a)||this;return s.extent=null,s.format_=o,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=i,s.url_=r,s.key=r,s}return Os(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.load=function(){this.state==a&&(this.setState(s),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(f)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(l)},e.prototype.setLoader=function(t){this.loader_=t},e}(A);const Ps=Ts;var Ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rs=[];const Is=function(t){function e(e,n,r,o){var i=t.call(this,e,n,{transition:0})||this;return i.context_={},i.executorGroups={},i.declutterExecutorGroups={},i.loadingSourceTiles=0,i.hitDetectionImageData={},i.replayState_={},i.sourceTiles=[],i.errorTileKeys={},i.wantedResolution,i.getSourceTiles=o.bind(void 0,i),i.wrappedTileCoord=r,i}return Ls(e,t),e.prototype.getContext=function(t){var e=(0,p.sq)(t);return e in this.context_||(this.context_[e]=(0,w.E4)(1,1,Rs)),this.context_[e]},e.prototype.hasContext=function(t){return(0,p.sq)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=(0,p.sq)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_){var n=this.context_[e];(0,w.jy)(n),Rs.push(n.canvas),delete this.context_[e]}t.prototype.release.call(this)},e}(A);var Fs=!1;function js(t,e,n,r,o,i,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.getType()&&(s.responseType="arraybuffer"),s.withCredentials=Fs,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;"json"==r||"text"==r?l=s.responseText:"xml"==r?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):"arraybuffer"==r&&(l=s.response),l?i(e.readFeatures(l,{extent:n,featureProjection:o}),e.readProjection(l)):a()}else a()},s.onerror=a,s.send()}function Ms(t,e){return function(n,r,o,i,a){var s=this;js(t,e,n,r,o,(function(t,e){s.addFeatures(t),void 0!==i&&i(t)}),a||zr.Zn)}}var Ds=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bs=function(t){function e(e){var n=this,r=e.projection||"EPSG:3857",o=e.extent||De(r),i=e.tileGrid||je({extent:o,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,opaque:!1,projection:r,state:e.state,tileGrid:i,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Gs,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.sourceTileCache=new se(n.tileCache.highWaterMark),n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:Ps,n.tileGrids_={},n}return Ds(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],n=this.tileCache;if(0===n.getCount())return e;var r=oe(n.peekFirstKey())[0],o=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===r&&n.getState()===l)for(var i=n.getSourceTiles(),a=0,s=i.length;a<s;++a){var c=i[a],u=c.tileCoord;if((0,L.kK)(t,o.getTileCoordExtent(u))){var f=c.getFeatures();if(f)for(var h=0,p=f.length;h<p;++h){var d=f[h],m=d.getGeometry();(0,L.kK)(t,m.getExtent())&&e.push(d)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,n){var r=this.getTileCacheForProjection(e),o=Object.keys(n).reduce((function(t,e){var n,o,i=ne((o=(n=e).substring(n.lastIndexOf("/")+1,n.length).split(",").map(Number))[0],o[1],o[2]),a=r.peek(i);if(a)for(var s=a.sourceTiles,l=0,c=s.length;l<c;++l)t[s[l].getKey()]=!0;return t}),{});t.prototype.expireCache.call(this,e,n),this.sourceTileCache.expireCache(o)},e.prototype.getSourceTiles=function(t,e,n){var r=this;if(n.getState()===a){n.setState(s);var i=n.wrappedTileCoord,c=this.getTileGridForProjection(e),u=c.getTileCoordExtent(i),p=i[0],d=c.getResolution(p);(0,L.f3)(u,-d,u);var m=this.tileGrid,g=m.getExtent();g&&(0,L.Ed)(u,g,u);var y=m.getZForResolution(d,this.zDirection);m.forEachTileCoord(u,y,(function(i){var s=r.tileUrlFunction(i,t,e),c=r.sourceTileCache.containsKey(s)?r.sourceTileCache.get(s):new r.tileClass(i,s?a:h,s,r.format_,r.tileLoadFunction);n.sourceTiles.push(c);var u=c.getState();if(u<l){var p=function(t){r.handleTileChange(t);var e=c.getState();if(e===l||e===f){var i=c.getKey();i in n.errorTileKeys?c.getState()===l&&delete n.errorTileKeys[i]:n.loadingSourceTiles--,e===f?n.errorTileKeys[i]=!0:c.removeEventListener(o.Z.CHANGE,p),0===n.loadingSourceTiles&&n.setState((0,Vt.xb)(n.errorTileKeys)?l:f)}};c.addEventListener(o.Z.CHANGE,p),n.loadingSourceTiles++}u===a&&(c.extent=m.getTileCoordExtent(i),c.projection=e,c.resolution=m.getResolution(i[0]),r.sourceTileCache.set(s,c),c.load())})),n.loadingSourceTiles||n.setState(n.sourceTiles.some((function(t){return t.getState()===f}))?f:l)}return n.sourceTiles},e.prototype.getTile=function(t,e,n,r,o){var i,s=ne(t,e,n),l=this.getKey();if(this.tileCache.containsKey(s)&&(i=this.tileCache.get(s)).key===l)return i;var c=[t,e,n],u=this.getTileCoordForTileUrlFunction(c,o),f=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(o);if(u&&f){var d=p.getTileCoordExtent(u);(0,L.f3)(d,-p.getResolution(t),d),(0,L.kK)(f,d)||(u=null)}var m=!0;if(null!==u){var g=this.tileGrid,y=p.getResolution(t),v=g.getZForResolution(y,1),_=p.getTileCoordExtent(u);(0,L.f3)(_,-y,_),g.forEachTileCoord(_,v,function(t){m=m&&!this.tileUrlFunction(t,r,o)}.bind(this))}var b=new Is(c,m?h:a,u,this.getSourceTiles.bind(this,r,o));return b.key=l,i?(b.interimTile=i,b.refreshInterimChain(),this.tileCache.replace(s,b)):this.tileCache.set(s,b),b},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){for(var r=this.tileGrid,o=r.getResolutions().slice(),i=o.map((function(t,e){return r.getOrigin(e)})),a=o.map((function(t,e){return r.getTileSize(e)})),s=o.length;s<43;++s)o.push(o[s-1]/2),i.push(i[s-1]),a.push(a[s-1]);n=new Ie({extent:r.getExtent(),origins:i,resolutions:o,tileSizes:a}),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var r=Pe(this.getTileGridForProjection(n).getTileSize(t),this.tmpSize);return[Math.round(r[0]*e),Math.round(r[1]*e)]},e.prototype.updateCacheSize=function(e,n){t.prototype.updateCacheSize.call(this,2*e,n),this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(n).highWaterMark},e}(qe);const Ns=Bs;function Gs(t,e){t.setLoader((function(n,r,o){js(e,t.getFormat(),n,r,o,t.onLoad.bind(t),t.onError.bind(t))}))}function Ws(t){return Ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(t)}function zs(){zs=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Ws(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Zs(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var Vs={id:"nextzen",name:"Next Zen map",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Zs(i,r,o,a,s,"next",t)}function s(t){Zs(i,r,o,a,s,"throw",t)}a(void 0)}))}}(zs().mark((function t(e,n){return zs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{init:function(){return new Ss({source:new Ns({attributions:"&copy; OpenStreetMap contributors, Who’s On First, Natural Earth, and openstreetmapdata.com",format:new ni({layerName:"layer",layers:["water","transit","buildings","places","pois","roads","landuse","boundaries"]}),maxZoom:16,url:"https://tile.nextzen.org/tilezen/vector/v1/all/{z}/{x}/{y}.topojson?api_key="+n.apiKey}),style:(t=new Wi({color:""}),e=new Zi({color:"",width:1}),r=new Yi({fill:t,stroke:e}),o=new Yi({stroke:e}),i=[],function(n,a){var s=0,l=n.get("layer"),c=n.get("kind"),u=n.getGeometry();if(u){var f=u.getType();return"water"===l&&"water-layer"===c||"water"===l&&"river"===c||"water"===l&&"stream"===c||"water"===l&&"canal"===c?(e.setColor("#9DD9D2"),e.setWidth(1.5),i[s++]=o):"water"===l&&"riverbank"===c?(t.setColor("#9DD9D2"),e.setWidth(1.5),i[s++]=r):"water"===l&&"water_boundary"===c||"water"===l&&"ocean_boundary"===c||"water"===l&&"riverbank_boundary"===c?(e.setColor("#93cbc4"),e.setWidth(.5),i[s++]=o):"water"===l||"ocean"===l||"lake"===l||"aeroway"===l&&"Polygon"===f?(t.setColor("#9DD9D2"),i[s++]=r):"aeroway"===l&&"LineString"===f&&a<=76.43702828517625?(e.setColor("#f0ede9"),e.setWidth(1),i[s++]=o):"landuse"===l&&"park"===c||"landuse"===l&&"national_park"===c||"landuse"===l&&"nature_reserve"===c||"landuse"===l&&"wood"===c||"landuse"===l&&"park"===c||"landuse"===l&&"grass"===c||"landuse"===l&&"protected_land"===c?(t.setColor("#88D18A"),i[s++]=r):"boundaries"===l&&"country"===c?(e.setColor("#ffffff"),e.setWidth(1.5),i[s++]=o):"boundaries"!==l||"region"!==c&&"macroregion"!==c?"roads"===l&&"highway"===c?(e.setColor("#FA4A48"),e.setWidth(4),i[s++]=o):"roads"===l&&"major_road"===c?(e.setColor("#999"),e.setWidth(2),i[s++]=o):"roads"===l&&"minor_road"===c?(e.setColor("#ccc"),e.setWidth(1),i[s++]=o):"roads"===l?(e.setColor("#fff"),e.setWidth(.5),i[s++]=o):"transit"===l&&"train"===c?(e.setColor("#ffffcc"),e.setWidth(1),i[s++]=o):a<10&&"places"===l?(t.setColor("#cccccc"),e.setWidth(2),e.setColor("#ffffff"),i[s++]=r):a<10&&"buildings"===l&&(t.setColor("#ffffff"),e.setWidth(2),e.setColor("#f2f2f2"),i[s++]=r):(e.setColor("#aaaaaa"),e.setWidth(.5),i[s++]=o),i.length=s,i}return new Yi})});var t,e,r,o,i}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Us=[Vs],qs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xs=function(t){function e(e){var n,r=e||{},o=void 0===r.imageSmoothing||r.imageSmoothing;void 0!==r.interpolate&&(o=r.interpolate),n=void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var i=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",a=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:r.cacheSize,crossOrigin:i,interpolate:o,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,opaque:void 0===r.opaque||r.opaque,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,transition:r.transition,url:a,wrapX:r.wrapX,zDirection:r.zDirection})||this}return qs(e,t),e}(Qe);const Ys=Xs;function Ks(t){return Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(t)}function Hs(){Hs=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Ks(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function $s(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var Js={id:"osm-standard",name:"Open Street Map",isBaseMap:!0,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){$s(i,r,o,a,s,"next",t)}function s(t){$s(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Hs().mark((function t(e,n){return Hs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{init:function(){return new $n({source:new Ys})}});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};function Qs(t){return function(t){if(Array.isArray(t))return tl(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return tl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tl(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var el=[].concat(Qs([Js]),Qs(cr),Qs(Or),Qs(Us),Qs(_r));window.ol&&!ol.ext&&(ol.ext={});var nl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=nl)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});const rl=nl;var il=function(t){var e=0;(t=t||{}).stroke&&(e=t.stroke.getWidth()),t.displacement||(t.displacement=[t.offsetX||0,-t.offsetY||0]),"number"==typeof t.opacity&&this.setOpacity(t.opacity),this._color=t.color,this._fontSize=t.fontSize||1,this._fontStyle=t.fontStyle||"",this._stroke=t.stroke,this._fill=t.fill,this._radius=t.radius-e,this._form=t.form||"none",this._gradient=t.gradient,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],t.glyph?this._glyph=this.getGlyph(t.glyph):this._glyph=this.getTextGlyph(t.text||"",t.font),Mi.call(this,{radius:t.radius,fill:t.fill,rotation:t.rotation,displacement:t.displacement,rotateWithView:t.rotateWithView}),this.getDisplacement||this.getImage()};rl(il,Mi),ii.prototype.getImagePNG=function(t){t=t||window.devicePixelRatio;var e=this.getImage(t);if(!e)return!1;try{return e.toDataURL("image/png")}catch(t){return!1}},il.prototype.defs={fonts:{},glyphs:{}},il.addDefs=function(t,e){var n=t;if("string"==typeof t&&(n={font:t,name:t,copyright:""}),n.font&&"string"==typeof n.font){var r=n.font;for(var o in il.prototype.defs.fonts[r]=n,e){var i=e[o];"string"==typeof i&&1==i.length&&(i={char:i}),il.prototype.defs.glyphs[o]={font:n.font,char:i.char||""+String.fromCharCode(i.code)||"",theme:i.theme||n.name,name:i.name||o,search:i.search||""}}}},il.prototype.clone=function(){var t=new il({text:this._glyph.char,font:this._glyph.font,color:this._color,fontSize:this._fontSize,fontStyle:this._fontStyle,stroke:this._stroke,fill:this._fill,radius:this._radius+(this._stroke?this._stroke.getWidth():0),form:this._form,gradient:this._gradient,offsetX:this._offset[0],offsetY:this._offset[1],opacity:this.getOpacity(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setScale(this.getScale()),t},il.prototype.getFill=function(){return this._fill},il.prototype.getStroke=function(){return this._stroke},il.prototype.getGlyph=function(t){return t?il.prototype.defs.glyphs[t]||{font:"sans-serif",char:t.charAt(0),theme:"none",name:"none",search:""}:this._glyph},il.prototype.getTextGlyph=function(t,e){return{font:e||"sans-serif",char:String(t),theme:"none",name:"none",search:""}},il.prototype.getGlyphName=function(){for(var t in il.prototype.defs.glyphs)if(il.prototype.defs.glyphs[t]===this._glyph)return t;return""},il.prototype.getFontInfo=function(t){return il.prototype.defs.fonts[t.font]},il.prototype.getImage=function(t){t=t||1;var e,n=Mi.prototype.getImage.call(this,t),r=0;this._stroke&&(e=Mn(this._stroke.getColor()),r=this._stroke.getWidth());var o={strokeStyle:e,strokeWidth:r,size:n.width/t},i=n.getContext("2d");if(i.clearRect(0,0,n.width,n.height),this.drawMarker_(o,i,0,0,t),!this.getDisplacement){var a=this.getAnchor();a[0]=n.width/2-this._offset[0],a[1]=n.width/2-this._offset[1]}return n},il.prototype.drawPath_=function(t,e){var n=2*this._radius+t.strokeWidth,r=t.strokeWidth/2,o=t.size/2,i={fac:1,posX:t.size/2,posY:t.size/2};switch(e.lineJoin="round",e.lineCap="round",e.beginPath(),this._form){case"none":i.fac=1;break;case"circle":case"ban":e.arc(o,o,n/2,0,2*Math.PI,!0);break;case"poi":e.arc(o,o-.4*this._radius,.6*this._radius,.15*Math.PI,.85*Math.PI,!0),e.lineTo(o-.89*.05*n,(.95+.45*.05)*n+r),e.arc(o,.95*n+r,.05*n,.85*Math.PI,.15*Math.PI,!0),i={fac:.45,posX:o,posY:o-.35*this._radius};break;case"bubble":e.arc(o,o-.2*this._radius,.8*this._radius,.4*Math.PI,.6*Math.PI,!0),e.lineTo(.5*n+r,n+r),i={fac:.7,posX:o,posY:o-.2*this._radius};break;case"marker":e.arc(o,o-.2*this._radius,.8*this._radius,.25*Math.PI,.75*Math.PI,!0),e.lineTo(.5*n+r,n+r),i={fac:.7,posX:o,posY:o-.2*this._radius};break;case"coma":e.moveTo(o+.8*this._radius,o-.2*this._radius),e.quadraticCurveTo(.95*n+r,.75*n+r,.5*n+r,n+r),e.arc(o,o-.2*this._radius,.8*this._radius,.45*Math.PI,0,!1),i={fac:.7,posX:o,posY:o-.2*this._radius};break;default:var a;switch(this._form){case"shield":a=[.05,0,.95,0,.95,.8,.5,1,.05,.8,.05,0],i.posY=.45*n+r;break;case"blazon":a=[.1,0,.9,0,.9,.8,.6,.8,.5,1,.4,.8,.1,.8,.1,0],i.fac=.8,i.posY=.4*n+r;break;case"bookmark":a=[.05,0,.95,0,.95,1,.5,.8,.05,1,.05,0],i.fac=.9,i.posY=.4*n+r;break;case"hexagon":a=[.05,.2,.5,0,.95,.2,.95,.8,.5,1,.05,.8,.05,.2],i.fac=.9,i.posY=.5*n+r;break;case"diamond":a=[.25,0,.75,0,1,.2,1,.4,.5,1,0,.4,0,.2,.25,0],i.fac=.75,i.posY=.35*n+r;break;case"triangle":a=[0,0,1,0,.5,1,0,0],i.fac=.6,i.posY=.3*n+r;break;case"sign":a=[.5,.05,1,.95,0,.95,.5,.05],i.fac=.7,i.posY=.65*n+r;break;case"lozenge":a=[.5,0,1,.5,.5,1,0,.5,.5,0],i.fac=.7;break;default:a=[0,0,1,0,1,1,0,1,0,0]}for(var s=0;s<a.length;s+=2)e.lineTo(a[s]*n+r,a[s+1]*n+r)}return e.closePath(),i},il.prototype.drawMarker_=function(t,e,n,r,o){var i=this._fill?this._fill.getColor():"#000",a=this._stroke?this._stroke.getColor():"#000";"none"==this._form&&this._stroke&&this._fill&&(a=this._fill.getColor(),i=this._stroke.getColor()),e.setTransform(o,0,0,o,0,0),e.translate(n,r);var s=this.drawPath_(t,e,o);if(this._fill){if(this._gradient&&"none"!=this._form){var l=e.createLinearGradient(0,0,t.size/2,t.size);l.addColorStop(1,Mn(i)),l.addColorStop(0,Mn(a)),e.fillStyle=l}else e.fillStyle=Mn(i);e.fill()}if(this._stroke&&t.strokeWidth&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.stroke()),this._glyph.char){e.font=this._fontStyle+" "+2*s.fac*this._radius*this._fontSize+"px "+this._glyph.font,e.strokeStyle=e.fillStyle,e.lineWidth=t.strokeWidth*("none"==this._form?2:1),e.fillStyle=Mn(this._color||a),e.textAlign="center",e.textBaseline="middle";var c=this._glyph.char;t.strokeWidth&&"transparent"!=a&&e.strokeText(c,s.posX,s.posY),e.fillText(c,s.posX,s.posY)}if("ban"==this._form&&this._stroke&&t.strokeWidth){e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth;var u=this._radius+t.strokeWidth,f=this._radius*Math.cos(Math.PI/4);e.moveTo(u+f,u-f),e.lineTo(u-f,u+f),e.stroke()}},il.prototype.getChecksum=function(){var t=null!==this._stroke?this._stroke.getChecksum():"-",e=null!==this._fill?this._fill.getChecksum():"-";if(null===this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this._radius!=this.checksums_[3]||this._form+"-"+this.glyphs_!=this.checksums_[4]){var n="c"+t+e+(void 0!==this._radius?this._radius.toString():"-")+this._form+"-"+this.glyphs_;this.checksums_=[n,t,e,this._radius,this._form+"-"+this.glyphs_]}return this.checksums_[0]};const al=il;var sl=function(t){t=t||{},this._fill=t.fill||new Wi({color:"rgba(0,0,0,0.5)"}),this._radius=t.radius,this._blur=0===t.blur?0:t.blur||t.radius/3,this._offset=[t.offsetX?t.offsetX:0,t.offsetY?t.offsetY:0],t.displacement||(t.displacement=[t.offsetX||0,-t.offsetY||0]),Mi.call(this,{radius:t.radius,fill:t.fill,displacement:t.displacement}),this.setDisplacement||this.getImage()};rl(sl,Mi),sl.prototype.clone=function(){var t=new sl({fill:this._fill,radius:this._radius,blur:this._blur,offsetX:this._offset[0],offsetY:this._offset[1]});return t.setScale(this.getScale()),t.setOpacity(this.getOpacity()),t},sl.prototype.getImage=function(t){t=t||1;var e=this._radius,n=Mi.prototype.getImage.call(this,t),r=n.getContext("2d");if(r.save(),r.resetTransform(),r.clearRect(0,0,n.width,n.height),r.beginPath(),r.setTransform(t,0,0,t,0,0),r.scale(1,.5),r.arc(e,-e,e-this._blur,0,2*Math.PI,!1),r.fillStyle="#000",r.shadowColor=this._fill.getColor(),r.shadowBlur=.7*this._blur*t,r.shadowOffsetX=0,r.shadowOffsetY=1.5*e*t,r.closePath(),r.fill(),r.shadowColor="transparent",r.restore(),!this.getDisplacement){var o=this.getAnchor();o[0]=n.width/2-this._offset[0],o[1]=n.height/2-this._offset[1]}return n};const ll=sl;al.addDefs({font:"FontAwesome",name:"FontAwesome",copyright:"SIL OFL 1.1",prefix:"fa"},{"fa-glass":"","fa-music":"","fa-search":"","fa-envelope-o":"","fa-heart":"","fa-star":"","fa-star-o":"","fa-user":"","fa-film":"","fa-th-large":"","fa-th":"","fa-th-list":"","fa-check":"","fa-remove":"","fa-close":"","fa-times":"","fa-search-plus":"","fa-search-minus":"","fa-power-off":"","fa-signal":"","fa-gear":"","fa-cog":"","fa-trash-o":"","fa-home":"","fa-file-o":"","fa-clock-o":"","fa-road":"","fa-download":"","fa-arrow-circle-o-down":"","fa-arrow-circle-o-up":"","fa-inbox":"","fa-play-circle-o":"","fa-rotate-right":"","fa-repeat":"","fa-refresh":"","fa-list-alt":"","fa-lock":"","fa-flag":"","fa-headphones":"","fa-volume-off":"","fa-volume-down":"","fa-volume-up":"","fa-qrcode":"","fa-barcode":"","fa-tag":"","fa-tags":"","fa-book":"","fa-bookmark":"","fa-print":"","fa-camera":"","fa-font":"","fa-bold":"","fa-italic":"","fa-text-height":"","fa-text-width":"","fa-align-left":"","fa-align-center":"","fa-align-right":"","fa-align-justify":"","fa-list":"","fa-dedent":"","fa-outdent":"","fa-indent":"","fa-video-camera":"","fa-photo":"","fa-image":"","fa-picture-o":"","fa-pencil":"","fa-map-marker":"","fa-adjust":"","fa-tint":"","fa-edit":"","fa-pencil-square-o":"","fa-share-square-o":"","fa-check-square-o":"","fa-arrows":"","fa-step-backward":"","fa-fast-backward":"","fa-backward":"","fa-play":"","fa-pause":"","fa-stop":"","fa-forward":"","fa-fast-forward":"","fa-step-forward":"","fa-eject":"","fa-chevron-left":"","fa-chevron-right":"","fa-plus-circle":"","fa-minus-circle":"","fa-times-circle":"","fa-check-circle":"","fa-question-circle":"","fa-info-circle":"","fa-crosshairs":"","fa-times-circle-o":"","fa-check-circle-o":"","fa-ban":"","fa-arrow-left":"","fa-arrow-right":"","fa-arrow-up":"","fa-arrow-down":"","fa-mail-forward":"","fa-share":"","fa-expand":"","fa-compress":"","fa-plus":"","fa-minus":"","fa-asterisk":"","fa-exclamation-circle":"","fa-gift":"","fa-leaf":"","fa-fire":"","fa-eye":"","fa-eye-slash":"","fa-warning":"","fa-exclamation-triangle":"","fa-plane":"","fa-calendar":"","fa-random":"","fa-comment":"","fa-magnet":"","fa-chevron-up":"","fa-chevron-down":"","fa-retweet":"","fa-shopping-cart":"","fa-folder":"","fa-folder-open":"","fa-arrows-v":"","fa-arrows-h":"","fa-bar-t-o":"","fa-bar-t":"","fa-twitter-square":"","fa-facebook-square":"","fa-camera-retro":"","fa-key":"","fa-gears":"","fa-cogs":"","fa-comments":"","fa-thumbs-o-up":"","fa-thumbs-o-down":"","fa-star-half":"","fa-heart-o":"","fa-sign-out":"","fa-linkedin-square":"","fa-thumb-tack":"","fa-external-link":"","fa-sign-in":"","fa-trophy":"","fa-github-square":"","fa-upload":"","fa-lemon-o":"","fa-phone":"","fa-square-o":"","fa-bookmark-o":"","fa-phone-square":"","fa-twitter":"","fa-facebook-f":"","fa-facebook":"","fa-github":"","fa-unlock":"","fa-credit-card":"","fa-feed":"","fa-rss":"","fa-hdd-o":"","fa-bullhorn":"","fa-bell":"","fa-certificate":"","fa-hand-o-right":"","fa-hand-o-left":"","fa-hand-o-up":"","fa-hand-o-down":"","fa-arrow-circle-left":"","fa-arrow-circle-right":"","fa-arrow-circle-up":"","fa-arrow-circle-down":"","fa-globe":"","fa-wrench":"","fa-tasks":"","fa-filter":"","fa-briefcase":"","fa-arrows-alt":"","fa-group":"","fa-users":"","fa-chain":"","fa-link":"","fa-cloud":"","fa-flask":"","fa-cut":"","fa-scissors":"","fa-copy":"","fa-files-o":"","fa-paperclip":"","fa-save":"","fa-floppy-o":"","fa-square":"","fa-navicon":"","fa-reorder":"","fa-bars":"","fa-list-ul":"","fa-list-ol":"","fa-strikethrough":"","fa-underline":"","fa-table":"","fa-magic":"","fa-truck":"","fa-pinterest":"","fa-pinterest-square":"","fa-google-plus-square":"","fa-google-plus":"","fa-money":"","fa-caret-down":"","fa-caret-up":"","fa-caret-left":"","fa-caret-right":"","fa-columns":"","fa-unsorted":"","fa-sort":"","fa-sort-down":"","fa-sort-desc":"","fa-sort-up":"","fa-sort-asc":"","fa-envelope":"","fa-linkedin":"","fa-rotate-left":"","fa-undo":"","fa-legal":"","fa-gavel":"","fa-dashboard":"","fa-tachometer":"","fa-comment-o":"","fa-comments-o":"","fa-flash":"","fa-bolt":"","fa-sitemap":"","fa-umbrella":"","fa-paste":"","fa-clipboard":"","fa-lightbulb-o":"","fa-exchange":"","fa-cloud-download":"","fa-cloud-upload":"","fa-user-md":"","fa-stethoscope":"","fa-suitcase":"","fa-bell-o":"","fa-coffee":"","fa-cutlery":"","fa-file-text-o":"","fa-building-o":"","fa-hospital-o":"","fa-ambulance":"","fa-medkit":"","fa-fighter-jet":"","fa-beer":"","fa-h-square":"","fa-plus-square":"","fa-angle-double-left":"","fa-angle-double-right":"","fa-angle-double-up":"","fa-angle-double-down":"","fa-angle-left":"","fa-angle-right":"","fa-angle-up":"","fa-angle-down":"","fa-desktop":"","fa-laptop":"","fa-tablet":"","fa-mobile-phone":"","fa-mobile":"","fa-circle-o":"","fa-quote-left":"","fa-quote-right":"","fa-spinner":"","fa-circle":"","fa-mail-reply":"","fa-reply":"","fa-github-alt":"","fa-folder-o":"","fa-folder-open-o":"","fa-smile-o":"","fa-frown-o":"","fa-meh-o":"","fa-gamepad":"","fa-keyboard-o":"","fa-flag-o":"","fa-flag-checkered":"","fa-terminal":"","fa-code":"","fa-mail-reply-all":"","fa-reply-all":"","fa-star-half-empty":"","fa-star-half-full":"","fa-star-half-o":"","fa-location-arrow":"","fa-crop":"","fa-code-fork":"","fa-unlink":"","fa-chain-broken":"","fa-question":"","fa-info":"","fa-exclamation":"","fa-superscript":"","fa-subscript":"","fa-eraser":"","fa-puzzle-piece":"","fa-microphone":"","fa-microphone-slash":"","fa-shield":"","fa-calendar-o":"","fa-fire-extinguisher":"","fa-rocket":"","fa-maxcdn":"","fa-chevron-circle-left":"","fa-chevron-circle-right":"","fa-chevron-circle-up":"","fa-chevron-circle-down":"","fa-html5":"","fa-css3":"","fa-anchor":"","fa-unlock-alt":"","fa-bullseye":"","fa-ellipsis-h":"","fa-ellipsis-v":"","fa-rss-square":"","fa-play-circle":"","fa-ticket":"","fa-minus-square":"","fa-minus-square-o":"","fa-level-up":"","fa-level-down":"","fa-check-square":"","fa-pencil-square":"","fa-external-link-square":"","fa-share-square":"","fa-compass":"","fa-toggle-down":"","fa-caret-square-o-down":"","fa-toggle-up":"","fa-caret-square-o-up":"","fa-toggle-right":"","fa-caret-square-o-right":"","fa-euro":"","fa-eur":"","fa-gbp":"","fa-dollar":"","fa-usd":"","fa-rupee":"","fa-inr":"","fa-cny":"","fa-rmb":"","fa-yen":"","fa-jpy":"","fa-ruble":"","fa-rouble":"","fa-rub":"","fa-won":"","fa-krw":"","fa-bitcoin":"","fa-btc":"","fa-file":"","fa-file-text":"","fa-sort-alpha-asc":"","fa-sort-alpha-desc":"","fa-sort-amount-asc":"","fa-sort-amount-desc":"","fa-sort-numeric-asc":"","fa-sort-numeric-desc":"","fa-thumbs-up":"","fa-thumbs-down":"","fa-youtube-square":"","fa-youtube":"","fa-xing":"","fa-xing-square":"","fa-youtube-play":"","fa-dropbox":"","fa-stack-overflow":"","fa-instagram":"","fa-flickr":"","fa-adn":"","fa-bitbucket":"","fa-bitbucket-square":"","fa-tumblr":"","fa-tumblr-square":"","fa-long-arrow-down":"","fa-long-arrow-up":"","fa-long-arrow-left":"","fa-long-arrow-right":"","fa-apple":"","fa-windows":"","fa-android":"","fa-linux":"","fa-dribbble":"","fa-skype":"","fa-foursquare":"","fa-trello":"","fa-female":"","fa-male":"","fa-gittip":"","fa-gratipay":"","fa-sun-o":"","fa-moon-o":"","fa-archive":"","fa-bug":"","fa-vk":"","fa-weibo":"","fa-renren":"","fa-pagelines":"","fa-stack-exchange":"","fa-arrow-circle-o-right":"","fa-arrow-circle-o-left":"","fa-toggle-left":"","fa-caret-square-o-left":"","fa-dot-circle-o":"","fa-wheelchair":"","fa-vimeo-square":"","fa-turkish-lira":"","fa-try":"","fa-plus-square-o":"","fa-space-shuttle":"","fa-slack":"","fa-envelope-square":"","fa-wordpress":"","fa-openid":"","fa-institution":"","fa-bank":"","fa-university":"","fa-mortar-board":"","fa-graduation-cap":"","fa-yahoo":"","fa-google":"","fa-reddit":"","fa-reddit-square":"","fa-stumbleupon-circle":"","fa-stumbleupon":"","fa-delicious":"","fa-digg":"","fa-pied-piper":"","fa-pied-piper-alt":"","fa-drupal":"","fa-joomla":"","fa-language":"","fa-fax":"","fa-building":"","fa-child":"","fa-paw":"","fa-spoon":"","fa-cube":"","fa-cubes":"","fa-behance":"","fa-behance-square":"","fa-steam":"","fa-steam-square":"","fa-recycle":"","fa-automobile":"","fa-car":"","fa-cab":"","fa-taxi":"","fa-tree":"","fa-spotify":"","fa-deviantart":"","fa-soundcloud":"","fa-database":"","fa-file-pdf-o":"","fa-file-word-o":"","fa-file-excel-o":"","fa-file-powerpoint-o":"","fa-file-photo-o":"","fa-file-picture-o":"","fa-file-image-o":"","fa-file-zip-o":"","fa-file-archive-o":"","fa-file-sound-o":"","fa-file-audio-o":"","fa-file-movie-o":"","fa-file-video-o":"","fa-file-code-o":"","fa-vine":"","fa-codepen":"","fa-jsfiddle":"","fa-life-bouy":"","fa-life-buoy":"","fa-life-saver":"","fa-support":"","fa-life-ring":"","fa-circle-o-notch":"","fa-ra":"","fa-rebel":"","fa-ge":"","fa-empire":"","fa-git-square":"","fa-git":"","fa-y-combinator-square":"","fa-yc-square":"","fa-hacker-news":"","fa-tencent-weibo":"","fa-qq":"","fa-wechat":"","fa-weixin":"","fa-send":"","fa-paper-plane":"","fa-send-o":"","fa-paper-plane-o":"","fa-history":"","fa-circle-thin":"","fa-header":"","fa-paragraph":"","fa-sliders":"","fa-share-alt":"","fa-share-alt-square":"","fa-bomb":"","fa-soccer-ball-o":"","fa-futbol-o":"","fa-tty":"","fa-binoculars":"","fa-plug":"","fa-slideshare":"","fa-twitch":"","fa-yelp":"","fa-newspaper-o":"","fa-wifi":"","fa-calculator":"","fa-paypal":"","fa-google-wallet":"","fa-cc-visa":"","fa-cc-mastercard":"","fa-cc-discover":"","fa-cc-amex":"","fa-cc-paypal":"","fa-cc-stripe":"","fa-bell-slash":"","fa-bell-slash-o":"","fa-trash":"","fa-copyright":"","fa-at":"","fa-eyedropper":"","fa-paint-brush":"","fa-birthday-cake":"","fa-area-t":"","fa-pie-t":"","fa-line-t":"","fa-lastfm":"","fa-lastfm-square":"","fa-toggle-off":"","fa-toggle-on":"","fa-bicycle":"","fa-bus":"","fa-ioxhost":"","fa-angellist":"","fa-cc":"","fa-shekel":"","fa-sheqel":"","fa-ils":"","fa-meanpath":"","fa-buysellads":"","fa-connectdevelop":"","fa-dashcube":"","fa-forumbee":"","fa-leanpub":"","fa-sellsy":"","fa-shirtsinbulk":"","fa-simplybuilt":"","fa-skyatlas":"","fa-cart-plus":"","fa-cart-arrow-down":"","fa-diamond":"","fa-ship":"","fa-user-secret":"","fa-motorcycle":"","fa-street-view":"","fa-heartbeat":"","fa-venus":"","fa-mars":"","fa-mercury":"","fa-intersex":"","fa-transgender":"","fa-transgender-alt":"","fa-venus-double":"","fa-mars-double":"","fa-venus-mars":"","fa-mars-stroke":"","fa-mars-stroke-v":"","fa-mars-stroke-h":"","fa-neuter":"","fa-genderless":"","fa-facebook-official":"","fa-pinterest-p":"","fa-whatsapp":"","fa-server":"","fa-user-plus":"","fa-user-times":"","fa-hotel":"","fa-bed":"","fa-viacoin":"","fa-train":"","fa-subway":"","fa-medium":"","fa-yc":"","fa-y-combinator":"","fa-optin-monster":"","fa-opencart":"","fa-expeditedssl":"","fa-battery-4":"","fa-battery-full":"","fa-battery-3":"","fa-battery-three-quarters":"","fa-battery-2":"","fa-battery-half":"","fa-battery-1":"","fa-battery-quarter":"","fa-battery-0":"","fa-battery-empty":"","fa-mouse-pointer":"","fa-i-cursor":"","fa-object-group":"","fa-object-ungroup":"","fa-sticky-note":"","fa-sticky-note-o":"","fa-cc-jcb":"","fa-cc-diners-club":"","fa-clone":"","fa-balance-scale":"","fa-hourglass-o":"","fa-hourglass-1":"","fa-hourglass-start":"","fa-hourglass-2":"","fa-hourglass-half":"","fa-hourglass-3":"","fa-hourglass-end":"","fa-hourglass":"","fa-hand-grab-o":"","fa-hand-rock-o":"","fa-hand-stop-o":"","fa-hand-paper-o":"","fa-hand-scissors-o":"","fa-hand-lizard-o":"","fa-hand-spock-o":"","fa-hand-pointer-o":"","fa-hand-peace-o":"","fa-trademark":"","fa-registered":"","fa-creative-commons":"","fa-gg":"","fa-gg-circle":"","fa-tripadvisor":"","fa-odnoklassniki":"","fa-odnoklassniki-square":"","fa-get-pocket":"","fa-wikipedia-w":"","fa-safari":"","fa-chrome":"","fa-firefox":"","fa-opera":"","fa-internet-explorer":"","fa-tv":"","fa-television":"","fa-contao":"","fa-500px":"","fa-amazon":"","fa-calendar-plus-o":"","fa-calendar-minus-o":"","fa-calendar-times-o":"","fa-calendar-check-o":"","fa-industry":"","fa-map-pin":"","fa-map-signs":"","fa-map-o":"","fa-map":"","fa-commenting":"","fa-commenting-o":"","fa-houzz":"","fa-vimeo":"","fa-black-tie":"","fa-fonticons":""});al.addDefs({font:"fontmaki2",name:"Maki2",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki2"},{"maki2-aerialway":{font:"fontmaki2",code:59392,name:"aerialway",search:"telepherique,ski,neige",theme:"transport"},"maki2-airfield":{font:"fontmaki2",code:59393,name:"airfield",search:"aerodrome,avion",theme:"transport"},"maki2-airport":{font:"fontmaki2",code:59394,name:"airport",search:"aeroport,avion",theme:"transport"},"maki2-alcohol-shop":{font:"fontmaki2",code:59395,theme:"commerce",name:"shop",search:"boisson,alcool,vin,verre"},"maki2-america-football":{font:"fontmaki2",code:59396,theme:"sport",name:"football",search:"fooball,rugby"},"maki2-amusement-park":{font:"fontmaki2",code:59397,theme:"loisir",name:"park",search:"pac,roue,attraction"},"maki2-aquarium":{font:"fontmaki2",code:59398,name:"aquarium",search:"aquarium,poison,mer,animal",theme:"loisir"},"maki2-art-gallery":{font:"fontmaki2",code:59399,theme:"loisir",name:"gallery",search:"art,gallerie,peinture"},"maki2-attraction":{font:"fontmaki2",code:59400,name:"attraction",search:"photo,attraction,camera",theme:"tourisme"},"maki2-bakery":{font:"fontmaki2",code:59401,name:"bakery",search:"boulangerie,croissant",theme:"commerce"},"maki2-bank":{font:"fontmaki2",code:59402,name:"bank",search:"banque,carte,paiment",theme:"service"},"maki2-bar":{font:"fontmaki2",code:59403,name:"bar",search:"bar,coupe,verre,boisson",theme:"commerce"},"maki2-barrier":{font:"fontmaki2",code:59404,name:"barrier",search:"barriere,travaux",theme:"service"},"maki2-baseball":{font:"fontmaki2",code:59405,name:"baseball",search:"baseball",theme:"sport"},"maki2-basketball":{font:"fontmaki2",code:59406,name:"basketball",search:"basketball,ballon",theme:"sport"},"maki2-bbq":{font:"fontmaki2",code:59407,name:"bbq",search:"bbq,barbecue,camping",theme:"loisir"},"maki2-beer":{font:"fontmaki2",code:59408,name:"beer",search:"biere,boisson,cafe",theme:"commerce"},"maki2-bicycle":{font:"fontmaki2",code:59409,name:"bicycle",search:"velo,cycle,bicyclette",theme:"transport"},"maki2-bicycle-share":{font:"fontmaki2",code:59410,theme:"transport",name:"share",search:"velo,cycle,bicyclette"},"maki2-blood-bank":{font:"fontmaki2",code:59411,theme:"service",name:"bank",search:"santé,sang,don"},"maki2-buddhism":{font:"fontmaki2",code:59412,name:"buddhism",search:"bouddhisme",theme:"religion"},"maki2-building":{font:"fontmaki2",code:59413,name:"building",search:"maison,batiment",theme:"construction"},"maki2-building-alt1":{font:"fontmaki2",code:59414,theme:"construction",name:"alt1",search:"building,tour,immeuble"},"maki2-bus":{font:"fontmaki2",code:59415,name:"bus",search:"bus",theme:"transport"},"maki2-cafe":{font:"fontmaki2",code:59416,name:"cafe",search:"cafe,bar",theme:"commerce"},"maki2-campsite":{font:"fontmaki2",code:59417,name:"campsite",search:"camping,tente",theme:"tourisme"},"maki2-car":{font:"fontmaki2",code:59418,name:"car",search:"voiture",theme:"transport"},"maki2-car-rental":{font:"fontmaki2",code:59419,theme:"service",name:"rental",search:"voiture,location,parking"},"maki2-car-repair":{font:"fontmaki2",code:59420,theme:"service",name:"repair",search:"voiture,reparation,mecanique"},"maki2-casino":{font:"fontmaki2",code:59421,name:"casino",search:"casino,carte,pique",theme:"loisir"},"maki2-castle":{font:"fontmaki2",code:59422,name:"castle",search:"chateau,tour",theme:"loisir"},"maki2-cemetery":{font:"fontmaki2",code:59423,name:"cemetery",search:"cimetiere,tombe",theme:"religion"},"maki2-charging-station":{font:"fontmaki2",code:59424,theme:"transport",name:"station",search:"voiture,chargement,electrique,station"},"maki2-cinema":{font:"fontmaki2",code:59425,name:"cinema",search:"cinema,film",theme:"tourisme"},"maki2-circle":{font:"fontmaki2",code:59426,name:"circle",search:"cercle",theme:"forme"},"maki2-circle-stroked":{font:"fontmaki2",code:59427,theme:"forme",name:"stroked",search:"cercle,rond"},"maki2-city":{font:"fontmaki2",code:59428,name:"city",search:"ville,batiment,hlm",theme:"construction"},"maki2-clothing-store":{font:"fontmaki2",code:59429,theme:"commerce",name:"store",search:"vetement,magasin"},"maki2-college":{font:"fontmaki2",code:59430,name:"college",search:"college,universite",theme:"education"},"maki2-commercial":{font:"fontmaki2",code:59431,name:"commercial",search:"commercial,tour",theme:"construction"},"maki2-cricket":{font:"fontmaki2",code:59432,name:"cricket",search:"cricket",theme:"sport"},"maki2-cross":{font:"fontmaki2",code:59433,name:"cross",search:"croix",theme:"forme"},"maki2-dam":{font:"fontmaki2",code:59434,name:"dam",search:"barrage,eau",theme:"industrie"},"maki2-danger":{font:"fontmaki2",code:59435,name:"danger",search:"danger,mort,tete",theme:"panneau"},"maki2-defibrillator":{font:"fontmaki2",code:59436,name:"defibrillator",search:"defibrillateur,medecin,sante",theme:"service"},"maki2-dentist":{font:"fontmaki2",code:59437,name:"dentist",search:"dentiste,sante",theme:"service"},"maki2-doctor":{font:"fontmaki2",code:59438,name:"doctor",search:"docteur,medecin,stetoscope",theme:"service"},"maki2-dog-park":{font:"fontmaki2",code:59439,theme:"service",name:"park",search:"chien,parc"},"maki2-drinking-water":{font:"fontmaki2",code:59440,theme:"service",name:"water",search:"eau,ba,boison,robinet"},"maki2-embassy":{font:"fontmaki2",code:59441,name:"embassy",search:"ambassade",theme:"service"},"maki2-emergency-phone":{font:"fontmaki2",code:59442,theme:"service",name:"phone",search:"urgence,sante,telephone"},"maki2-entrance":{font:"fontmaki2",code:59443,name:"entrance",search:"entree",theme:"construction"},"maki2-entrance-alt1":{font:"fontmaki2",code:59444,theme:"service",name:"alt1",search:"sortie,secours"},"maki2-farm":{font:"fontmaki2",code:59445,name:"farm",search:"ferme,batiment",theme:"construction"},"maki2-fast-food":{font:"fontmaki2",code:59446,theme:"commerce",name:"food",search:"fast food,retaurant,hamburger"},"maki2-fence":{font:"fontmaki2",code:59447,name:"fence",search:"herse,barriere",theme:"panneau"},"maki2-ferry":{font:"fontmaki2",code:59448,name:"ferry",search:"ferry,bac,bateau",theme:"transport"},"maki2-fire-station":{font:"fontmaki2",code:59449,theme:"service",name:"station",search:"pompier,feu,station"},"maki2-florist":{font:"fontmaki2",code:59450,name:"florist",search:"fleur,fleuriste,nature",theme:"commerce"},"maki2-fuel":{font:"fontmaki2",code:59451,name:"fuel",search:"pompe,essence",theme:"commerce"},"maki2-furniture":{font:"fontmaki2",code:59452,name:"furniture",search:"meuble,lampe,magazin",theme:"commerce"},"maki2-gaming":{font:"fontmaki2",code:59453,name:"gaming",search:"gaming,jeu,manette,console",theme:"commerce"},"maki2-garden":{font:"fontmaki2",code:59454,name:"garden",search:"jardin,fleur",theme:"loisir"},"maki2-garden-center":{font:"fontmaki2",code:59455,theme:"loisir",name:"center",search:"jardin,arrosoir,fleur"},"maki2-gift":{font:"fontmaki2",code:59456,name:"gift",search:"cadeau,achat",theme:"commerce"},"maki2-globe":{font:"fontmaki2",code:59457,name:"globe",search:"globe,terre",theme:"divers"},"maki2-golf":{font:"fontmaki2",code:59458,name:"golf",search:"golf",theme:"sport"},"maki2-grocery":{font:"fontmaki2",code:59459,name:"grocery",search:"caddy,super,marche",theme:"commerce"},"maki2-hairdresser":{font:"fontmaki2",code:59460,name:"hairdresser",search:"coiffeur",theme:"commerce"},"maki2-harbor":{font:"fontmaki2",code:59461,name:"harbor",search:"port,bateau,ancre",theme:"transport"},"maki2-hardware":{font:"fontmaki2",code:59462,name:"hardware",search:"mecanicien,outil",theme:"service"},"maki2-heart":{font:"fontmaki2",code:59463,name:"heart",search:"coeur,amour",theme:"forme"},"maki2-heliport":{font:"fontmaki2",code:59464,name:"heliport",search:"heliport,helicoptere",theme:"transport"},"maki2-home":{font:"fontmaki2",code:59465,name:"home",search:"maison,bati",theme:"construction"},"maki2-horse-riding":{font:"fontmaki2",code:59466,theme:"sport",name:"riding",search:"animal,cavalier,cheval"},"maki2-hospital":{font:"fontmaki2",code:59467,name:"hospital",search:"hopital,croix",theme:"service"},"maki2-ice-cream":{font:"fontmaki2",code:59468,theme:"loisir",name:"cream",search:"glace,cornet,enfant"},"maki2-industry":{font:"fontmaki2",code:59469,name:"industry",search:"industrie,usine,cheminee",theme:"industrie"},"maki2-information":{font:"fontmaki2",code:59470,name:"information",search:"information,i",theme:"tourisme"},"maki2-jewelry":{font:"fontmaki2",code:59471,name:"jewelry",search:"bijoutier,bague,or",theme:"commerce"},"maki2-karaoke":{font:"fontmaki2",code:59472,name:"karaoke",search:"karaoke,micro,chant",theme:"commerce"},"maki2-landmark":{font:"fontmaki2",code:59473,name:"landmark",search:"manege,info",theme:"service"},"maki2-landuse":{font:"fontmaki2",code:59474,name:"landuse",search:"paysage,maison",theme:"paysage"},"maki2-laundry":{font:"fontmaki2",code:59475,name:"laundry",search:"machine,laver,blanchisserie",theme:"commerce"},"maki2-library":{font:"fontmaki2",code:59476,name:"library",search:"livre,bibliotheque",theme:"service"},"maki2-lighthouse":{font:"fontmaki2",code:59477,name:"lighthouse",search:"phare,lumiere",theme:"transport"},"maki2-lodging":{font:"fontmaki2",code:59478,name:"lodging",search:"lit,hotel",theme:"hebergement"},"maki2-logging":{font:"fontmaki2",code:59479,name:"logging",search:"enregistrement",theme:"hebergement"},"maki2-marker":{font:"fontmaki2",code:59480,name:"marker",search:"marker,poi",theme:"forme"},"maki2-marker-stroked":{font:"fontmaki2",code:59481,theme:"forme",name:"stroked",search:"marker,poi"},"maki2-mobile-phone":{font:"fontmaki2",code:59482,theme:"divers",name:"phone",search:"mobile,telephone"},"maki2-monument":{font:"fontmaki2",code:59483,name:"monument",search:"monument,obelix,tour",theme:"construction"},"maki2-mountain":{font:"fontmaki2",code:59484,name:"mountain",search:"montagne,mont,neige",theme:"paysage"},"maki2-museum":{font:"fontmaki2",code:59485,name:"museum",search:"musee,maison",theme:"tourisme"},"maki2-music":{font:"fontmaki2",code:59486,name:"music",search:"musique,note",theme:"loisir"},"maki2-natural":{font:"fontmaki2",code:59487,name:"natural",search:"naturel,arbre",theme:"paysage"},"maki2-optician":{font:"fontmaki2",code:59488,name:"optician",search:"lunette,opticien",theme:"commerce"},"maki2-paint":{font:"fontmaki2",code:59489,name:"paint",search:"peintre,peinture,rouleau",theme:"commerce"},"maki2-park":{font:"fontmaki2",code:59490,name:"park",search:"parc,arbre,feuille",theme:"paysage"},"maki2-park-alt1":{font:"fontmaki2",code:59491,theme:"paysage",name:"alt1",search:"parc,arbre,sapin"},"maki2-parking":{font:"fontmaki2",code:59492,name:"parking",search:"parking,p",theme:"transport"},"maki2-parking-garage":{font:"fontmaki2",code:59493,theme:"transport",name:"garage",search:"parking,garage"},"maki2-pharmacy":{font:"fontmaki2",code:59494,name:"pharmacy",search:"pharmacie,medicament",theme:"service"},"maki2-picnic-site":{font:"fontmaki2",code:59495,theme:"loisir",name:"site",search:"picnic,site,halte,aire"},"maki2-pitch":{font:"fontmaki2",code:59496,name:"pitch",search:"saut,course",theme:"sport"},"maki2-place-of-worship":{font:"fontmaki2",code:59497,theme:"construction",name:"of",search:"place,immeuble,chateau"},"maki2-playground":{font:"fontmaki2",code:59498,name:"playground",search:"balancoire,enfant,jardin",theme:"loisir"},"maki2-police":{font:"fontmaki2",code:59499,name:"police",search:"police,kepi",theme:"service"},"maki2-post":{font:"fontmaki2",code:59500,name:"post",search:"poste,lettre",theme:"service"},"maki2-prison":{font:"fontmaki2",code:59501,name:"prison",search:"prison,herse,barriere",theme:"service"},"maki2-rail":{font:"fontmaki2",code:59502,name:"rail",search:"rail,fer",theme:"transport"},"maki2-rail-light":{font:"fontmaki2",code:59503,theme:"transport",name:"light",search:"transport,train,sncf,rail"},"maki2-rail-metro":{font:"fontmaki2",code:59504,theme:"transport",name:"metro",search:"transport,train,sncf,rail"},"maki2-ranger-station":{font:"fontmaki2",code:59505,theme:"construction",name:"station",search:"station,maison,ranger"},"maki2-recycling":{font:"fontmaki2",code:59506,name:"recycling",search:"recyclable,fleche",theme:"service"},"maki2-religious-christian":{font:"fontmaki2",code:59507,theme:"religion",name:"christian",search:"religion,chretien,coix"},"maki2-religious-jewish":{font:"fontmaki2",code:59508,theme:"religion",name:"jewish",search:"religion,juif,etoile"},"maki2-religious-muslim":{font:"fontmaki2",code:59509,theme:"religion",name:"muslim",search:"religion,musulman,etoile"},"maki2-residential-community":{font:"fontmaki2",code:59510,theme:"construction",name:"community",search:"residentiel,immeuble,tour"},"maki2-restaurant":{font:"fontmaki2",code:59511,name:"restaurant",search:"restaurant,fourchette,couteau",theme:"commerce"},"maki2-roadblock":{font:"fontmaki2",code:59512,name:"roadblock",search:"sens,interdit,panneau",theme:"transport"},"maki2-rocket":{font:"fontmaki2",code:59513,name:"rocket",search:"fusee",theme:"transport"},"maki2-school":{font:"fontmaki2",code:59514,name:"school",search:"education,ecole,enfant,primaire",theme:"education"},"maki2-scooter":{font:"fontmaki2",code:59515,name:"scooter",search:"scooter,velo",theme:"transport"},"maki2-shelter":{font:"fontmaki2",code:59516,name:"shelter",search:"barriere,pont",theme:"transport"},"maki2-shoe":{font:"fontmaki2",code:59517,name:"shoe",search:"chaussure,cordonnier",theme:"commerce"},"maki2-shop":{font:"fontmaki2",code:59518,name:"shop",search:"boutique,sac",theme:"commerce"},"maki2-skiing":{font:"fontmaki2",code:59519,name:"skiing",search:"ski,descente,montagne",theme:"sport"},"maki2-slaughterhouse":{font:"fontmaki2",code:59520,name:"slaughterhouse",search:"vache,animal,ferme,abatoire",theme:"industrie"},"maki2-snowmobile":{font:"fontmaki2",code:59521,name:"snowmobile",search:"neige,ski,skido,moto",theme:"transport"},"maki2-soccer":{font:"fontmaki2",code:59522,name:"soccer",search:"foot,ballon",theme:"sport"},"maki2-square":{font:"fontmaki2",code:59523,name:"square",search:"carre",theme:"forme"},"maki2-square-stroked":{font:"fontmaki2",code:59524,theme:"forme",name:"stroked",search:"carre"},"maki2-stadium":{font:"fontmaki2",code:59525,name:"stadium",search:"stade,drapeau,chapiteau",theme:"construction"},"maki2-star":{font:"fontmaki2",code:59526,name:"star",search:"etoile",theme:"forme"},"maki2-star-stroked":{font:"fontmaki2",code:59527,theme:"forme",name:"stroked",search:"etoile"},"maki2-suitcase":{font:"fontmaki2",code:59528,name:"suitcase",search:"valise,voyage",theme:"transport"},"maki2-sushi":{font:"fontmaki2",code:59529,name:"sushi",search:"sushi,restaurant,poison",theme:"commerce"},"maki2-swimming":{font:"fontmaki2",code:59530,name:"swimming",search:"eau,nage,piscine",theme:"sport"},"maki2-teahouse":{font:"fontmaki2",code:59531,name:"teahouse",search:"the,salon,tasse",theme:"commerce"},"maki2-telephone":{font:"fontmaki2",code:59532,name:"telephone",search:"telephone,urgence",theme:"service"},"maki2-tennis":{font:"fontmaki2",code:59533,name:"tennis",search:"tennis,balle,raquette",theme:"sport"},"maki2-theatre":{font:"fontmaki2",code:59534,name:"theatre",search:"theatre,culture",theme:"tourisme"},"maki2-toilet":{font:"fontmaki2",code:59535,name:"toilet",search:"toilettte,wc",theme:"service"},"maki2-town":{font:"fontmaki2",code:59536,name:"town",search:"ville,maisons",theme:"construction"},"maki2-town-hall":{font:"fontmaki2",code:59537,theme:"construction",name:"hall",search:"batiment,institution"},"maki2-triangle":{font:"fontmaki2",code:59538,name:"triangle",search:"triangle",theme:"forme"},"maki2-triangle-stroked":{font:"fontmaki2",code:59539,theme:"forme",name:"stroked",search:"triangle"},"maki2-veterinary":{font:"fontmaki2",code:59540,name:"veterinary",search:"animal,veterinaire,patte,empreinte",theme:"commerce"},"maki2-village":{font:"fontmaki2",code:59541,name:"village",search:"village,maison",theme:"construction"},"maki2-volcano":{font:"fontmaki2",code:59542,name:"volcano",search:"volcan,mont,feu",theme:"paysage"},"maki2-warehouse":{font:"fontmaki2",code:59543,name:"warehouse",search:"gite",theme:"construction"},"maki2-waste-basket":{font:"fontmaki2",code:59544,theme:"service",name:"basket",search:"poubelle,recyclage"},"maki2-watch":{font:"fontmaki2",code:59545,name:"watch",search:"montre,bijouterie,heure",theme:"commerce"},"maki2-water":{font:"fontmaki2",code:59546,name:"water",search:"eau,goutte",theme:"forme"},"maki2-watermill":{font:"fontmaki2",code:59547,name:"watermill",search:"moulin,eau",theme:"construction"},"maki2-wetland":{font:"fontmaki2",code:59548,name:"wetland",search:"humide,riziere,marecage",theme:"paysage"},"maki2-wheelchair":{font:"fontmaki2",code:59549,name:"wheelchair",search:"handicape,roue,fauteuil,sante",theme:"service"},"maki2-windmill":{font:"fontmaki2",code:59550,name:"windmill",search:"moulin,vent",theme:"construction"},"maki2-zoo":{font:"fontmaki2",code:59551,name:"zoo",search:"zoo,girafe,animal",theme:"loisir"}}),al.addDefs({font:"fontmaki",name:"Maki",copyright:"CC0 - MapBox - https://www.mapbox.com/maki/",prefix:"maki"},{"maki-bicycle":{font:"fontmaki",code:59392,name:"bicycle",search:"bicycle"},"maki-building":{font:"fontmaki",code:59393,name:"building",search:"building"},"maki-bus":{font:"fontmaki",code:59394,name:"bus",search:"bus"},"maki-cafe":{font:"fontmaki",code:59395,name:"cafe",search:"cafe"},"maki-camera":{font:"fontmaki",code:59396,name:"camera",search:"camera"},"maki-campsite":{font:"fontmaki",code:59397,name:"campsite",search:"campsite"},"maki-car":{font:"fontmaki",code:59398,name:"car",search:"car"},"maki-cemetery":{font:"fontmaki",code:59399,name:"cemetery",search:"cemetery"},"maki-chemist":{font:"fontmaki",code:59400,name:"chemist",search:"chemist"},"maki-cinema":{font:"fontmaki",code:59401,name:"cinema",search:"cinema"},"maki-circle":{font:"fontmaki",code:59402,name:"circle",search:"circle"},"maki-circle_stroked":{font:"fontmaki",code:59403,name:"circle_stroked",search:"circle_stroked"},"maki-city":{font:"fontmaki",code:59404,name:"city",search:"city"},"maki-clothing_store":{font:"fontmaki",code:59405,name:"clothing_store",search:"clothing_store"},"maki-college":{font:"fontmaki",code:59406,name:"college",search:"college"},"maki-commercial":{font:"fontmaki",code:59407,name:"commercial",search:"commercial"},"maki-cricket":{font:"fontmaki",code:59408,name:"cricket",search:"cricket"},"maki-cross":{font:"fontmaki",code:59409,name:"cross",search:"cross"},"maki-dam":{font:"fontmaki",code:59410,name:"dam",search:"dam"},"maki-danger":{font:"fontmaki",code:59411,name:"danger",search:"danger"},"maki-dentist":{font:"fontmaki",code:59412,name:"dentist",search:"dentist"},"maki-disability":{font:"fontmaki",code:59413,name:"disability",search:"disability"},"maki-dog_park":{font:"fontmaki",code:59414,name:"dog_park",search:"dog_park"},"maki-embassy":{font:"fontmaki",code:59415,name:"embassy",search:"embassy"},"maki-emergency_telephone":{font:"fontmaki",code:59416,name:"emergency_telephone",search:"emergency_telephone"},"maki-entrance":{font:"fontmaki",code:59417,name:"entrance",search:"entrance"},"maki-farm":{font:"fontmaki",code:59418,name:"farm",search:"farm"},"maki-fast_food":{font:"fontmaki",code:59419,name:"fast_food",search:"fast_food"},"maki-ferry":{font:"fontmaki",code:59420,name:"ferry",search:"ferry"},"maki-fire_station":{font:"fontmaki",code:59421,name:"fire_station",search:"fire_station"},"maki-fuel":{font:"fontmaki",code:59422,name:"fuel",search:"fuel"},"maki-garden":{font:"fontmaki",code:59423,name:"garden",search:"garden"},"maki-gift":{font:"fontmaki",code:59424,name:"gift",search:"gift"},"maki-golf":{font:"fontmaki",code:59425,name:"golf",search:"golf"},"maki-grocery":{font:"fontmaki",code:59426,name:"grocery",search:"grocery"},"maki-hairdresser":{font:"fontmaki",code:59427,name:"hairdresser",search:"hairdresser"},"maki-harbor":{font:"fontmaki",code:59428,name:"harbor",search:"harbor"},"maki-heart":{font:"fontmaki",code:59429,name:"heart",search:"heart"},"maki-heliport":{font:"fontmaki",code:59430,name:"heliport",search:"heliport"},"maki-hospital":{font:"fontmaki",code:59431,name:"hospital",search:"hospital"},"maki-ice_cream":{font:"fontmaki",code:59432,name:"ice_cream",search:"ice_cream"},"maki-industrial":{font:"fontmaki",code:59433,name:"industrial",search:"industrial"},"maki-land_use":{font:"fontmaki",code:59434,name:"land_use",search:"land_use"},"maki-laundry":{font:"fontmaki",code:59435,name:"laundry",search:"laundry"},"maki-library":{font:"fontmaki",code:59436,name:"library",search:"library"},"maki-lighthouse":{font:"fontmaki",code:59437,name:"lighthouse",search:"lighthouse"},"maki-lodging":{font:"fontmaki",code:59438,name:"lodging",search:"lodging"},"maki-logging":{font:"fontmaki",code:59439,name:"logging",search:"logging"},"maki-london_underground":{font:"fontmaki",code:59440,name:"london_underground",search:"london_underground"},"maki-marker":{font:"fontmaki",code:59441,name:"marker",search:"marker"},"maki-minefield":{font:"fontmaki",code:59442,name:"minefield",search:"minefield"},"maki-marker_stroked":{font:"fontmaki",code:59443,name:"marker_stroked",search:"marker_stroked"},"maki-mobilephone":{font:"fontmaki",code:59444,name:"mobilephone",search:"mobilephone"},"maki-monument":{font:"fontmaki",code:59445,name:"monument",search:"monument"},"maki-museum":{font:"fontmaki",code:59446,name:"museum",search:"museum"},"maki-music":{font:"fontmaki",code:59447,name:"music",search:"music"},"maki-oil_well":{font:"fontmaki",code:59448,name:"oil_well",search:"oil_well"},"maki-park":{font:"fontmaki",code:59449,name:"park",search:"park"},"maki-park2":{font:"fontmaki",code:59450,name:"park2",search:"park2"},"maki-parking":{font:"fontmaki",code:59451,name:"parking",search:"parking"},"maki-parking_garage":{font:"fontmaki",code:59452,name:"parking_garage",search:"parking_garage"},"maki-pharmacy":{font:"fontmaki",code:59453,name:"pharmacy",search:"pharmacy"},"maki-pitch":{font:"fontmaki",code:59454,name:"pitch",search:"pitch"},"maki-playground":{font:"fontmaki",code:59455,name:"playground",search:"playground"},"maki-police":{font:"fontmaki",code:59456,name:"police",search:"police"},"maki-polling_place":{font:"fontmaki",code:59457,name:"polling_place",search:"polling_place"},"maki-post":{font:"fontmaki",code:59458,name:"post",search:"post"},"maki-prison":{font:"fontmaki",code:59459,name:"prison",search:"prison"},"maki-rail":{font:"fontmaki",code:59460,name:"rail",search:"rail"},"maki-rail_above":{font:"fontmaki",code:59461,name:"rail_above",search:"rail_above"},"maki-rail_light":{font:"fontmaki",code:59462,name:"rail_light",search:"rail_light"},"maki-rail_metro":{font:"fontmaki",code:59463,name:"rail_metro",search:"rail_metro"},"maki-rail_underground":{font:"fontmaki",code:59464,name:"rail_underground",search:"rail_underground"},"maki-religious-christian":{font:"fontmaki",code:59465,theme:"religious",name:"christian",search:"religious,christian"},"maki-religious-jewish":{font:"fontmaki",code:59466,theme:"religious",name:"jewish",search:"religious,jewish"},"maki-religious-muslim":{font:"fontmaki",code:59467,theme:"religious",name:"muslim",search:"religious,muslim"},"maki-religious-place_of_worship":{font:"fontmaki",code:59468,theme:"religious",name:"place_of_worship",search:"religious,place_of_worship"},"maki-restaurant":{font:"fontmaki",code:59469,name:"restaurant",search:"restaurant"},"maki-roadblock":{font:"fontmaki",code:59470,name:"roadblock",search:"roadblock"},"maki-rocket":{font:"fontmaki",code:59471,name:"rocket",search:"rocket"},"maki-school":{font:"fontmaki",code:59472,name:"school",search:"school"},"maki-scooter":{font:"fontmaki",code:59473,name:"scooter",search:"scooter"},"maki-shop":{font:"fontmaki",code:59474,name:"shop",search:"shop"},"maki-skiing":{font:"fontmaki",code:59475,name:"skiing",search:"skiing"},"maki-slaughterhouse":{font:"fontmaki",code:59476,name:"slaughterhouse",search:"slaughterhouse"},"maki-soccer":{font:"fontmaki",code:59477,name:"soccer",search:"soccer"},"maki-square":{font:"fontmaki",code:59478,name:"square",search:"square"},"maki-square_stroked":{font:"fontmaki",code:59479,name:"square_stroked",search:"square_stroked"},"maki-star":{font:"fontmaki",code:59480,name:"star",search:"star"},"maki-star_stroked":{font:"fontmaki",code:59481,name:"star_stroked",search:"star_stroked"},"maki-suitcase":{font:"fontmaki",code:59482,name:"suitcase",search:"suitcase"},"maki-swimming":{font:"fontmaki",code:59483,name:"swimming",search:"swimming"},"maki-telephone":{font:"fontmaki",code:59484,name:"telephone",search:"telephone"},"maki-tennis":{font:"fontmaki",code:59485,name:"tennis",search:"tennis"},"maki-theatre":{font:"fontmaki",code:59486,name:"theatre",search:"theatre"},"maki-toilets":{font:"fontmaki",code:59487,name:"toilets",search:"toilets"},"maki-town":{font:"fontmaki",code:59488,name:"town",search:"town"},"maki-town_hall":{font:"fontmaki",code:59489,name:"town_hall",search:"town_hall"},"maki-triangle":{font:"fontmaki",code:59490,name:"triangle",search:"triangle"},"maki-triangle_stroked":{font:"fontmaki",code:59491,name:"triangle_stroked",search:"triangle_stroked"},"maki-village":{font:"fontmaki",code:59492,name:"village",search:"village"},"maki-warehouse":{font:"fontmaki",code:59493,name:"warehouse",search:"warehouse"},"maki-waste_basket":{font:"fontmaki",code:59494,name:"waste_basket",search:"waste_basket"},"maki-water":{font:"fontmaki",code:59495,name:"water",search:"water"},"maki-wetland":{font:"fontmaki",code:59496,name:"wetland",search:"wetland"},"maki-zoo":{font:"fontmaki",code:59497,name:"zoo",search:"zoo"},"maki-aerialway":{font:"fontmaki",code:59498,name:"aerialway",search:"aerialway"},"maki-airfield":{font:"fontmaki",code:59499,name:"airfield",search:"airfield"},"maki-airport":{font:"fontmaki",code:59500,name:"airport",search:"airport"},"maki-alcohol_shop":{font:"fontmaki",code:59501,name:"alcohol_shop",search:"alcohol_shop"},"maki-america_football":{font:"fontmaki",code:59502,name:"america_football",search:"america_football"},"maki-art_gallery":{font:"fontmaki",code:59503,name:"art_gallery",search:"art_gallery"},"maki-bakery":{font:"fontmaki",code:59504,name:"bakery",search:"bakery"},"maki-bank":{font:"fontmaki",code:59505,name:"bank",search:"bank"},"maki-bar":{font:"fontmaki",code:59506,name:"bar",search:"bar"},"maki-baseball":{font:"fontmaki",code:59507,name:"baseball",search:"baseball"},"maki-basketball":{font:"fontmaki",code:59508,name:"basketball",search:"basketball"},"maki-beer":{font:"fontmaki",code:59509,name:"beer",search:"beer"}});var cl=c(59),ul=c(60),fl=c(58),hl=function(){function t(t){this.rbush_=new ri(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,p.sq)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var i=t[r],a=e[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:a};n[r]=s,this.items_[(0,p.sq)(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,p.sq)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,p.sq)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];(0,L.fS)(r,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,o=t.length;r<o;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return(0,Vt.xb)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,L.T9)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();const pl=hl,dl="addfeature",ml="changefeature",gl="clear",yl="removefeature",vl="featuresloadstart",_l="featuresloadend",bl="featuresloaderror";function Al(t,e){return[[-1/0,-1/0,1/0,1/0]]}var wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xl=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.feature=n,o.features=r,o}return wl(e,t),e}(fe.ZP),Cl=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===r.wrapX||r.wrapX})||this).on,n.once,n.un,n.loader_=zr.Zn,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&((0,Qt.h)(n.format_,7),n.loader_=Ms(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:Al;var o,i,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new pl:null,n.loadedExtentsRtree_=new pl,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(o=r.features).getArray()),a||void 0!==o||(o=new cl.Z(i)),void 0!==i&&n.addFeaturesInternal(i),void 0!==o&&n.bindFeaturesCollection_(o),n}return wl(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,p.sq)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new xl(dl,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,R.oL)(e,o.Z.CHANGE,this.handleFeatureChange_,this),(0,R.oL)(e,fl.Z.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&((0,Qt.h)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],s=(0,p.sq)(a);this.addToIndex_(s,a)&&n.push(a)}o=0;for(var l=n.length;o<l;o++){a=n[o],s=(0,p.sq)(a);this.setupChangeEvents_(s,a);var c=a.getGeometry();if(c){var u=c.getExtent();e.push(u),r.push(a)}else this.nullGeometryFeatures_[s]=a}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(dl)){o=0;for(var f=n.length;o<f;o++)this.dispatchEvent(new xl(dl,n[o]))}},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(dl,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(yl,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(ul.Z.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(ul.Z.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(R.bN)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var n=function(t){this.removeFeatureInternal(t)}.bind(this);for(var r in this.featuresRtree_.forEach(n),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new xl(gl);this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,Vt.xb)(this.nullGeometryFeatures_)||(0,Oe.l7)(t,(0,Vt.KX)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t,e){var n=this;if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var r=(0,L.MV)(t,e);return[].concat.apply([],r.map((function(t){return n.featuresRtree_.getInExtent(t)})))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],o=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||zr.uX;return this.featuresRtree_.forEachInExtent(s,(function(t){if(l(t)){var e=t.getGeometry(),c=a;if((a=e.closestPointXY(n,r,i,a))<c){o=t;var u=Math.sqrt(a);s[0]=n-u,s[1]=r-u,s[2]=n+u,s[3]=r+u}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,p.sq)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var i=e.getId();if(void 0!==i){var a=i.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new xl(ml,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,p.sq)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,Vt.xb)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,o=this.strategy_(t,e,n),i=function(t,i){var s=o[t];r.forEachInExtent(s,(function(t){return(0,L.r4)(t.extent,s)}))||(++a.loadingExtentsCount_,a.dispatchEvent(new xl(vl)),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new xl(_l,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new xl(bl))}.bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,l=o.length;s<l;++s)i(s);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if((0,L.fS)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){if(t){var e=(0,p.sq)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}},e.prototype.removeFeatureInternal=function(t){var e=(0,p.sq)(t),n=this.featureChangeKeys_[e];if(n){n.forEach(R.bN),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new xl(yl,t)),t}},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,Qt.h)(this.format_,7),this.url_=t,this.setLoader(Ms(t,this.format_))},e}(ge);const kl=Cl;var El=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sl=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.minDistance=e.minDistance||0,n.interpolationRatio=0,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return(0,Qt.h)("Point"==e.getType(),10),e},n.createCustomCluster_=e.createCluster,n.source=null,n.boundRefresh_=n.refresh.bind(n),n.updateDistance(n.distance,n.minDistance),n.setSource(e.source||null),n}return El(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(o.Z.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(o.Z.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var n=0===t?0:Math.min(e,t)/t,r=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,r&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=(0,L.lJ)(),e=this.distance*this.resolution,n=this.source.getFeatures(),r={},o=0,i=n.length;o<i;o++){var a=n[o];if(!((0,p.sq)(a)in r)){var s=this.geometryFunction(a);if(s){var l=s.getCoordinates();(0,L.HK)(l,t),(0,L.f3)(t,e,t);var c=this.source.getFeaturesInExtent(t).filter((function(t){var e=(0,p.sq)(t);return!(e in r)&&(r[e]=!0,!0)}));this.features.push(this.createCluster(c,t))}}}},e.prototype.createCluster=function(t,e){for(var n=[0,0],r=t.length-1;r>=0;--r){var o=this.geometryFunction(t[r]);o?st(n,o.getCoordinates()):t.splice(r,1)}ut(n,1/t.length);var i=(0,L.qg)(e),a=this.interpolationRatio,s=new Eo([n[0]*(1-a)+i[0]*a,n[1]*(1-a)+i[1]*a]);return this.createCustomCluster_?this.createCustomCluster_(s,t):new Lr({geometry:s,features:t})},e}(kl);const Ol=Sl;var Tl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pl=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,L.lJ)(),n.wrappedRenderedExtent_=(0,L.lJ)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n.compositionContext_=null,n.opacity_=1,n}return Tl(e,t),e.prototype.renderWorlds=function(t,e,n){var r=e.extent,o=e.viewState,i=o.center,a=o.resolution,s=o.projection,l=o.rotation,c=s.getExtent(),u=this.getLayer().getSource(),f=e.pixelRatio,h=e.viewHints,p=!(h[Ua]||h[qa]),d=this.compositionContext_,m=Math.round(e.size[0]*f),g=Math.round(e.size[1]*f),y=u.getWrapX()&&s.canWrapX(),v=y?(0,L.dz)(c):null,_=y?Math.ceil((r[2]-c[2])/v)+1:1,b=y?Math.floor((r[0]-c[0])/v):0;do{var A=this.getRenderTransform(i,a,l,f,m,g,b*v);t.execute(d,1,A,l,p,void 0,n)}while(++b<_)},e.prototype.setupCompositionContext_=function(){if(1!==this.opacity_){var t=(0,w.E4)(this.context.canvas.width,this.context.canvas.height,Zn);this.compositionContext_=t}else this.compositionContext_=this.context},e.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,(0,w.jy)(this.compositionContext_),Zn.push(this.compositionContext_.canvas),this.compositionContext_=null}},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,n){Sn(t,e,0,0,n,0,0)}(this.pixelTransform,1/n,1/n),Rn(this.inversePixelTransform,this.pixelTransform);var o=In(this.pixelTransform);this.useContainer(e,o,this.getBackground(t));var i=this.context,a=i.canvas,s=this.replayGroup_,l=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!l||l.isEmpty()))return null;var c=Math.round(t.size[0]*n),u=Math.round(t.size[1]*n);a.width!=c||a.height!=u?(a.width=c,a.height=u,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||i.clearRect(0,0,c,u),this.preRender(i,t);var f=t.viewState,h=f.projection;this.opacity_=r.opacity,this.setupCompositionContext_();var p=!1,d=!0;if(r.extent&&this.clipping){var m=Bt(r.extent,h);(p=(d=(0,L.kK)(m,t.extent))&&!(0,L.r4)(m,t.extent))&&this.clipUnrotated(this.compositionContext_,t,m)}return d&&this.renderWorlds(s,t),p&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(i,t),this.renderedRotation_!==f.rotation&&(this.renderedRotation_=f.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];On(this.pixelTransform,n);var r=this.renderedCenter_,o=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,l=this.getLayer(),c=[],u=n[0]*fs,f=n[1]*fs;c.push(this.getRenderTransform(r,o,i,fs,u,f,0).slice());var h=l.getSource(),p=a.getExtent();if(h.getWrapX()&&a.canWrapX()&&!(0,L.r4)(p,s)){for(var d=s[0],m=(0,L.dz)(p),g=0,y=void 0;d<p[0];)y=m*--g,c.push(this.getRenderTransform(r,o,i,fs,u,f,y).slice()),d+=m;for(g=0,d=s[2];d>p[2];)y=m*++g,c.push(this.getRenderTransform(r,o,i,fs,u,f,y).slice()),d-=m}this.hitDetectionImageData_=hs(n,c,this.renderedFeatures_,l.getStyleFunction(),s,o,i)}e(ps(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var i=this;if(this.replayGroup_){var a,s=e.viewState.resolution,l=e.viewState.rotation,c=this.getLayer(),u={},f=function(t,e,n){var i=(0,p.sq)(t),a=u[i];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return u[i]=!0,o.splice(o.lastIndexOf(a),1),r(t,c,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return u[i]=!0,r(t,c,e);o.push(u[i]={feature:t,layer:c,geometry:e,distanceSq:n,callback:r})}},h=[this.replayGroup_];return this.declutterExecutorGroup&&h.push(this.declutterExecutorGroup),h.some((function(r){return a=r.forEachFeatureAtCoordinate(t,s,l,n,f,r===i.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[Ua],o=t.viewHints[qa],i=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(this.ready&&!i&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,l=t.viewState,c=l.projection,u=l.resolution,f=t.pixelRatio,h=e.getRevision(),p=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=ms);var m=l.center.slice(),g=(0,L.f3)(s,p*u),y=g.slice(),v=[g.slice()],_=c.getExtent();if(n.getWrapX()&&c.canWrapX()&&!(0,L.r4)(_,t.extent)){var b=(0,L.dz)(_),A=Math.max((0,L.dz)(g)/2,b);g[0]=_[0]-A,g[2]=_[2]+A,ft(m,c);var w=(0,L.Cf)(v[0],c);w[0]<_[0]&&w[2]<_[2]?v.push([w[0]+b,w[1],w[2]+b,w[3]]):w[0]>_[0]&&w[2]>_[2]&&v.push([w[0]-b,w[1],w[2]-b,w[3]])}if(this.ready&&this.renderedResolution_==u&&this.renderedRevision_==h&&this.renderedRenderOrder_==d&&(0,L.r4)(this.wrappedRenderedExtent_,g))return(0,Oe.fS)(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=m,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var x,C=new ka(ys(u,f),g,u,f);this.getLayer().getDeclutter()&&(x=new ka(ys(u,f),g,u,f));var k,E=Ft();if(E){for(var S=0,O=v.length;S<O;++S){var T=Dt(v[S],c);n.loadFeatures(T,Nt(u,c),E)}k=Et(E,c)}else for(S=0,O=v.length;S<O;++S)n.loadFeatures(v[S],u,c);var P=gs(u,f),R=!0,I=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,u)),n){var o=this.renderFeature(t,P,n,C,k,x);R=R&&!o}}.bind(this),F=Dt(g,c),j=n.getFeaturesInExtent(F);d&&j.sort(d);for(S=0,O=j.length;S<O;++S)I(j[S]);this.renderedFeatures_=j,this.ready=R;var M=C.finish(),D=new Wa(g,u,f,n.getOverlaps(),M,e.getRenderBuffer());return x&&(this.declutterExecutorGroup=new Wa(g,u,f,n.getOverlaps(),x.finish(),e.getRenderBuffer())),this.renderedResolution_=u,this.renderedRevision_=h,this.renderedRenderOrder_=d,this.renderedExtent_=y,this.wrappedRenderedExtent_=g,this.renderedCenter_=m,this.renderedProjection_=c,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,o,i){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,l=n.length;s<l;++s)a=vs(r,t,n[s],e,this.boundHandleStyleImageChange_,o,i)||a;else a=vs(r,t,n,e,this.boundHandleStyleImageChange_,o,i);return a},e}(qn);const Ll=Pl;var Rl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Il=function(t){function e(e){return t.call(this,e)||this}return Rl(e,t),e.prototype.createRenderer=function(){return new Ll(this)},e}(Ji);var Fl=c(36),jl=c(15),Ml=c.n(jl);function Dl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Bl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bl(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nl(t){return Nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(t)}function Gl(){Gl=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Nl(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Wl(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function zl(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Wl(i,r,o,a,s,"next",t)}function s(t){Wl(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Zl(t,e){if(Array.isArray(e)){var n=e[0];if(n.latitude&&n.longitude&&(n.key||n.keys))return function(t,e){var n,r=0,o=new Map,i=Dl(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,s={coords:[a.longitude,a.latitude]};if(a.name&&(o.set(a.name,s),o.set(a.name.toUpperCase(),s),s.props={name:a.name}),a.key&&(o.set(a.key,s),o.set(a.key.toUpperCase(),s)),a.keys){var l,c=Dl(a.keys);try{for(c.s();!(l=c.n()).done;){var u=l.value;o.set(u,s),o.set(u.toUpperCase(),s)}}catch(t){c.e(t)}finally{c.f()}}r++}}catch(t){i.e(t)}finally{i.f()}return{path:t,find:function(t){var e=o.get(t);return e||(e=o.get(t.toUpperCase())),e},count:r,examples:function(t){var e=[];if(o.size<1)e.push("no values found");else{var n,r=Dl(o.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;if(e.push(i),e.length>=t)break}}catch(t){r.e(t)}finally{r.f()}}return e}}}(t,e)}return{path:t,error:"Unable to parse locations",find:function(t){},examples:function(t){return[]}}}var Vl={},Ul="public/gazetteer/countries.json";function ql(t){return Xl.apply(this,arguments)}function Xl(){return(Xl=zl(Gl().mark((function t(e){var n,r;return Gl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e||(e=Ul),n=Vl[e]){t.next=15;break}return t.prev=3,t.next=6,(0,ur.getBackendSrv)().get(e);case 6:r=t.sent,n=Zl(e,r),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),n={path:e,error:"Error loading URL",find:function(t){},examples:function(t){return[]}};case 14:Vl[e]=n;case 15:return t.abrupt("return",n);case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function Yl(t){if(null!=t&&t.length){var e,n=[16,8,4,2,1],r=!0,o=[],i=[];o[0]=-90,o[1]=90,i[0]=-180,i[1]=180,t.split("").forEach((function(t){e="0123456789bcdefghjkmnpqrstuvwxyz".indexOf(t),n.forEach((function(t){Kl(r?i:o,e,t),r=!r}))}));var a=(o[0]+o[1])/2;return[(i[0]+i[1])/2,a]}}function Kl(t,e,n){e&n?t[0]=(t[0]+t[1])/2:t[1]=(t[0]+t[1])/2}var Hl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function $l(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}const Jl=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return Hl(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(R.bN),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,R.oL)(this.geometries_[t],o.Z.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,L.qf)(this.getExtent(),t,e))return r;for(var o=this.geometries_,i=0,a=o.length;i<a;++i)r=o[i].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,L.YN)(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)(0,L.l7)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return $l(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,o=!1,i=0,a=r.length;i<a;++i){var s=r[i],l=s.getSimplifiedGeometry(t);n.push(l),l!==s&&(o=!0)}if(o){var c=new e(null);return c.setGeometriesArray(n),c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return"GeometryCollection"},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=(0,L.qg)(this.getExtent()));for(var o=this.geometries_,i=0,a=o.length;i<a;++i)o[i].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray($l(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(Yr);var Ql=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tc=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=_t(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=_t(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"],n}return Ql(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=null,r=ec((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new Lr;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(r),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,o=0,i=r.length;o<i;++o)n.push(this.readFeatureFromObject(r[o],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return ec(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=_t(n.properties.name):"EPSG"===n.type?e=_t("EPSG:"+n.properties.code):(0,Qt.h)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;var o=t.getProperties(),i=t.getGeometry();return i&&(n.geometry=nc(i,e),delete o[t.getGeometryName()]),(0,Vt.xb)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,o=t.length;r<o;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return nc(t,this.adaptOptions(e))},e}(Dr);function ec(t,e){if(!t)return null;var n;switch(t.type){case"Point":n=function(t){return new Eo(t.coordinates)}(t);break;case"LineString":n=function(t){return new bo(t.coordinates)}(t);break;case"Polygon":n=function(t){return new Zo(t.coordinates)}(t);break;case"MultiPoint":n=function(t){return new To(t.coordinates)}(t);break;case"MultiLineString":n=function(t){return new xo(t.coordinates)}(t);break;case"MultiPolygon":n=function(t){return new Xo(t.coordinates)}(t);break;case"GeometryCollection":n=function(t,e){var n=t.geometries.map((function(t){return ec(t,e)}));return new Jl(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Fr(n,!1,e)}function nc(t,e){var n,r=(t=Fr(t,!0,e)).getType();switch(r){case"Point":n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case"LineString":n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case"Polygon":n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"MultiPoint":n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case"MultiLineString":n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case"MultiPolygon":n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case"GeometryCollection":n=function(t,e){var n=t.getGeometriesArray().map((function(t){var n=(0,Vt.f0)({},e);return delete n.featureProjection,nc(t,n)}));return{type:"GeometryCollection",geometries:n}}(t,e);break;case"Circle":n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}const rc=tc;function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oc.apply(this,arguments)}var ic;!function(t){t.Geojson="geojson",t.Auto="auto",t.Geohash="geohash",t.Coords="coords",t.Lookup="lookup"}(ic||(ic={}));var ac=oc({},ic);function sc(t){return sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(t)}function lc(){lc=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==sc(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}function uc(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function fc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){uc(i,r,o,a,s,"next",t)}function s(t){uc(i,r,o,a,s,"throw",t)}a(void 0)}))}}function hc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return pc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dc(t){return function(e){var n,r=hc(e.fields);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t(o,e,[]))return o}}catch(t){r.e(t)}finally{r.f()}}}function mc(e){return function(n){var r,o=hc(n.fields);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(e.has(i.name.toLowerCase()))return i;var a=(0,t.getFieldDisplayName)(i,n);if(e.has(a))return i}}catch(t){o.e(t)}finally{o.f()}}}var gc,yc,vc,_c={mode:ac.Auto,geojson:mc(new Set(["location","geojson"])),geohash:mc(new Set(["geohash"])),latitude:mc(new Set(["latitude","lat"])),longitude:mc(new Set(["longitude","lon","lng"])),h3:mc(new Set(["h3"])),wkt:mc(new Set(["wkt"])),lookup:mc(new Set(["lookup"]))};function bc(t){return Ac.apply(this,arguments)}function Ac(){return(Ac=fc(lc().mark((function e(n){var r,o;return lc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=cc({},_c,{mode:null!==(r=null==n?void 0:n.mode)&&void 0!==r?r:ac.Auto}),e.t0=o.mode,e.next=e.t0===ac.Geohash?4:e.t0===ac.Lookup?6:e.t0===ac.Coords?11:e.t0===ac.Geojson?14:16;break;case 4:return null!=n&&n.geohash&&(o.geohash=dc((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:n.geohash}))),e.abrupt("break",16);case 6:return null!=n&&n.lookup&&(o.lookup=dc((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:n.lookup}))),e.next=9,ql(null==n?void 0:n.gazetteer);case 9:return o.gazetteer=e.sent,e.abrupt("break",16);case 11:return null!=n&&n.latitude&&(o.latitude=dc((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:n.latitude}))),null!=n&&n.longitude&&(o.longitude=dc((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:n.longitude}))),e.abrupt("break",16);case 14:return null!=n&&n.geojson&&(o.geojson=dc((0,t.getFieldMatcher)({id:t.FieldMatcherID.byName,options:n.geojson}))),e.abrupt("break",16);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(t,e){var n={points:[]};if(null==t||!t.length)return n;var r=function(t,e){var n,r={mode:null!==(n=e.mode)&&void 0!==n?n:ac.Auto};if(r.mode===ac.Auto){if(r.geojson=e.geojson(t),r.geojson)return r.mode=ac.Geojson,r;if(r.latitude=e.latitude(t),r.longitude=e.longitude(t),r.latitude&&r.longitude)return r.mode=ac.Coords,r;if(r.geohash=e.geohash(t),r.geohash)return r.mode=ac.Geohash,r;if(r.lookup=e.geohash(t),r.lookup)return r.mode=ac.Lookup,r}switch(r.mode){case ac.Geojson:r.geojson=e.geojson(t);break;case ac.Coords:r.latitude=e.latitude(t),r.longitude=e.longitude(t);break;case ac.Geohash:r.geohash=e.geohash(t);break;case ac.Lookup:r.lookup=e.lookup(t)}return r}(t,e);switch(r.mode){case ac.Geojson:r.geojson?n.points=function(t){for(var e=t.values.length,n=new Array(e),r=0;r<t.values.length;r++)n[r]=t.values.get(r)?(new rc).readGeometry(t.values.get(r),{featureProjection:"EPSG:3857"}):new Yr;return n}(r.geojson):n.warning="Missing latitude/longitude fields";break;case ac.Coords:r.latitude&&r.longitude?n.points=function(t,e){for(var n=e.values.length,r=new Array(n),o=0;o<n;o++)r[o]=new Eo(xt([t.values.get(o),e.values.get(o)]));return r}(r.longitude,r.latitude):n.warning="Missing latitude/longitude fields";break;case ac.Geohash:r.geohash?n.points=function(t){for(var e=t.values.length,n=new Array(e),r=0;r<e;r++){var o=Yl(t.values.get(r));o&&(n[r]=new Eo(xt(o)))}return n}(r.geohash):n.warning="Missing geohash field";break;case ac.Lookup:r.lookup?e.gazetteer?n.points=function(t,e){for(var n=e.values.length,r=new Array(n),o=0;o<n;o++){var i=t.find(e.values.get(o));null!=i&&i.coords&&(r[o]=new Eo(xt(i.coords)))}return r}(e.gazetteer,r.lookup):n.warning="Gazetteer not found":n.warning="Missing lookup field";break;case ac.Auto:n.warning="Unable to find location fields"}return n}!function(t){t.Linear="linear",t.Quadratic="quad"}(gc||(gc={})),function(t){t.Mod="mod",t.Clamped="clamped"}(yc||(yc={})),function(t){t.Fixed="fixed",t.Field="field",t.Template="template"}(vc||(vc={}));var xc,Cc,kc,Ec,Sc;Object.freeze({fixed:"",mode:vc.Field,field:""});!function(t){t.Fixed="fixed",t.Field="field",t.Mapping="mapping"}(xc||(xc={})),function(t){t.Icon="img/icons/unicons",t.IOT="img/icons/iot",t.Marker="img/icons/marker",t.BG="img/bg"}(Cc||(Cc={})),function(t){t.Icon="icon",t.Image="image"}(kc||(kc={})),function(t){t.Folder="folder",t.URL="url",t.Upload="upload"}(Ec||(Ec={})),function(t){t.SMALL="small",t.NORMAL="normal"}(Sc||(Sc={}));var Oc=c(4),Tc=c.n(Oc);function Pc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Lc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rc(e,n){if(e&&null!=n&&n.length){var r,o=Pc(e.fields);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(n===i.name)return i;if(n===(0,t.getFieldDisplayName)(i,e))return i}}catch(t){o.e(t)}finally{o.f()}}}function Ic(e){var n,r=null===(n=e.state)||void 0===n?void 0:n.calcs;if(r){var o=r[t.ReducerID.lastNotNull];if(null!=o)return o}for(var i=e.values,a=i.length-1;a>=0;){var s=i.get(a--);if(null!=s)return s}}function Fc(e,n,r){return function(e,n,r){var o;if(!e){var i,a,s=r.visualization.getColorByName(null!==(i=n.fixed)&&void 0!==i?i:"grey");return{isAssumed:Boolean(null===(a=n.field)||void 0===a?void 0:a.length)||!n.fixed,fixed:s,value:function(){return s},get:function(t){return s}}}var l=(0,t.getFieldColorModeForField)(e);if(l.isByValue||null!==(o=e.config.mappings)&&void 0!==o&&o.length){var c=(0,t.getDisplayProcessor)({field:e,theme:r}),u=function(t){var e;return null!==(e=c(t).color)&&void 0!==e?e:"#ccc"};return{field:e,get:function(t){return u(e.values.get(t))},value:function(){return u(Ic(e))}}}var f=l.getCalculator(e,r)(0,0);return{fixed:f,value:function(){return f},get:function(t){return f},field:e}}(Rc(e,n.field),n,r)}function jc(e,n){return function(e,n,r){if(!e){var o,i,a=null!==(o=n.fixed)&&void 0!==o?o:0;return{isAssumed:Boolean(null===(i=n.field)||void 0===i?void 0:i.length)||!n.fixed,fixed:a,value:function(){return a},get:function(){return a}}}var s=function(e){if(e.type!==t.FieldType.number)return{min:0,max:100,delta:100};var n=e.config.min,r=e.config.max;if(!(0,Oc.isNumber)(n)||!(0,Oc.isNumber)(r))if(e.values&&e.values.length){var o=(0,t.reduceField)({field:e,reducers:[t.ReducerID.min,t.ReducerID.max]});(0,Oc.isNumber)(n)||(n=o[t.ReducerID.min]),(0,Oc.isNumber)(r)||(r=o[t.ReducerID.max])}else n=0,r=100;return{min:n,max:r,delta:r-n}}(e),l=n.max-n.min;if(e.values.length<1||l<=0||s.delta<=0)return{fixed:n.min,value:function(){return n.min},get:function(){return n.min}};var c=function(t){return n.min+t*l};if(r===gc.Quadratic){var u=Math.PI*Math.pow(n.max/2,2),f=Math.PI*Math.pow(n.min/2,2),h=u-f;c=function(t){var e=f+h*t;return 2*Math.sqrt(e/Math.PI)}}var p=function(t){var n=e.values.get(t),r=0;return n!==-1/0&&(r=(n-s.min)/s.delta),r>1?r=1:r<0&&(r=0),c(r)};return{get:p,value:function(){return p(Ic(e))},field:e}}(Rc(e,null==n?void 0:n.field),n)}function Mc(t){return t||(t={min:0,max:1}),null==t.min&&(t.min=0),null==t.max&&(t.max=1),t}var Dc=c(3);function Bc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Nc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gc(n,r){return(0,e.useMemo)((function(){return function(e,n){var r,o={display:new Set,raw:new Set,fields:new Map},i=Bc(e);try{for(i.s();!(r=i.n()).done;){var a,s=r.value,l=Bc(s.fields);try{for(l.s();!(a=l.n()).done;){var c=a.value;if(!n||n(c)){var u=(0,t.getFieldDisplayName)(c,s,e);o.display.add(u),o.fields.set(u,c),c.name&&u!==c.name&&(o.raw.add(c.name),o.fields.set(c.name,c))}}}catch(t){l.e(t)}finally{l.f()}}}catch(t){i.e(t)}finally{i.f()}return o}(n,r)}),[n,r])}function Wc(t,n,o,i){return(0,e.useMemo)((function(){var e=!1,a=[];o&&a.push(o);var s,l=Bc(t.display);try{for(l.s();!(s=l.n()).done;){var c=s.value;e||c!==n||(e=!0);var u=t.fields.get(c);i&&i!==(null==u?void 0:u.type)||a.push({value:c,label:c,icon:u?(0,r.getFieldTypeIcon)(u):void 0})}}catch(t){l.e(t)}finally{l.f()}var f,h=Bc(t.raw);try{for(h.s();!(f=h.n()).done;){var p=f.value;t.display.has(p)||(e||p!==n||(e=!0),a.push({value:p,label:"".concat(p," (base field name)")}))}}catch(t){h.e(t)}finally{h.f()}return n&&!e&&a.push({value:n,label:"".concat(n," (not found)")}),a}),[t,n,o,i])}function zc(t){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(t)}function Zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uc(t,e){return Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Uc(t,e)}function qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kc(t);if(e){var o=Kc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xc(this,n)}}function Xc(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yc(t)}function Yc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kc(t){return Kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Kc(t)}function Hc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $c,Jc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uc(t,e)}(s,t);var e,o,i,a=qc(s);function s(){var t;Zc(this,s);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return Hc(Yc(t=a.call.apply(a,[this].concat(r))),"state",{text:"",inputCorrected:!1}),Hc(Yc(t),"inputRef",n().createRef()),Hc(Yc(t),"updateValue",(function(){var e,n=void 0,r=null===(e=t.inputRef.current)||void 0===e?void 0:e.value;null!=r&&r.length&&(n=+r,isNaN(n))||(n!==t.props.value&&t.props.onChange(n),t.state.inputCorrected&&t.setState({inputCorrected:!1}))})),Hc(Yc(t),"updateValueDebounced",(0,Oc.debounce)(t.updateValue,500)),Hc(Yc(t),"onChange",(function(e){var n=void 0,r=!1,o=t.props.min,i=t.props.max,a=e.currentTarget.valueAsNumber;Number.isNaN(a)||(null!=o&&a<o?(n=o.toString(),r=!0):null!=i&&a>i?(n=i.toString(),r=!0):n=e.currentTarget.value),t.setState({text:n||"",inputCorrected:r}),t.updateValueDebounced()})),Hc(Yc(t),"onKeyPress",(function(e){"Enter"===e.key&&t.updateValue()})),t}return e=s,(o=[{key:"componentDidMount",value:function(){this.setState({text:isNaN(this.props.value)?"":"".concat(this.props.value)})}},{key:"componentDidUpdate",value:function(t){if(this.props.value!==t.value){var e=isNaN(this.props.value)?"":"".concat(this.props.value);e!==this.state.text&&this.setState({text:e})}}},{key:"renderInput",value:function(){return n().createElement(r.Input,{type:"number",ref:this.inputRef,min:this.props.min,max:this.props.max,step:this.props.step,autoFocus:this.props.autoFocus,value:this.state.text,onChange:this.onChange,onBlur:this.updateValue,onKeyPress:this.onKeyPress,placeholder:this.props.placeholder})}},{key:"render",value:function(){var t=this.state.inputCorrected;if(t){var e="",o=this.props,i=o.min,a=o.max;return null==a?null!=i&&(e="< ".concat(i)):e=null!=i?"".concat(i," < > ").concat(a):"> ".concat(a),n().createElement(r.Field,{invalid:t,error:"Out of range ".concat(e),validationMessageHorizontalOverflow:!0,style:{direction:"rtl"}},this.renderInput())}return this.renderInput()}}])&&Vc(e.prototype,o),i&&Vc(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(e.PureComponent);function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var tu,eu,nu={label:"Fixed value",value:"_____fixed_____"},ru=function(t){var o=t.value,i=t.context,a=t.onChange,s=t.item.settings,l=(0,r.useStyles2)(ou),c=null==o?void 0:o.field,u=Boolean(!c),f=Wc(Gc(i.data),c,nu),h=(0,e.useMemo)((function(){return Mc(s)}),[s]),p=(0,e.useCallback)((function(t){a(function(t,e){var n=Mc(e),r=n.min,o=n.max;if(t||(t={}),null==t.max&&(t.max=o),null==t.min&&(t.min=r),t.min>t.max){var i=t.max;t.max=t.min,t.min=i}return t.min<r&&(t.min=r),t.max>o&&(t.max=o),null==t.fixed&&(t.fixed=t.min+(t.max-t.min)/2),t.field||(t.fixed>o?t.fixed=o:t.fixed<r&&(t.fixed=r)),t}(t,h))}),[a,h]),d=(0,e.useCallback)((function(t){var e=t.value;p(Qc({},o,e&&e!==nu.value?{field:e}:{field:void 0}))}),[p,o]),m=(0,e.useCallback)((function(t){void 0!==t&&p(Qc({},o,{min:t}))}),[p,o]),g=(0,e.useCallback)((function(t){void 0!==t&&p(Qc({},o,{max:t}))}),[p,o]),y=(0,e.useCallback)((function(t){void 0!==t&&p(Qc({},o,{fixed:t}))}),[p,o]),v=null!=o?o:{},_=u?nu:f.find((function(t){return t.value===c}));return n().createElement(n().Fragment,null,n().createElement("div",null,n().createElement(r.Select,{value:_,options:f,onChange:d,noOptionsMessage:"No fields found"})),n().createElement("div",{className:l.range},u&&n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Value",labelWidth:8,grow:!0},n().createElement(Jc,Qc({value:v.fixed},h,{onChange:y})))),!u&&!h.hideRange&&n().createElement(n().Fragment,null,n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Min",labelWidth:8,grow:!0},n().createElement(Jc,Qc({value:v.min},h,{onChange:m})))),n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Max",labelWidth:8,grow:!0},n().createElement(Jc,Qc({value:v.max},h,{onChange:g})))))))},ou=function(t){return{range:(0,Dc.css)($c||(e=["\n    padding-top: 8px;\n  "],n||(n=e.slice(0)),$c=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))))};var e,n};function iu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}var su={label:"Fixed color",value:"_____fixed_____"},lu=function(t){var o,i=t.value,a=t.context,s=t.onChange,l="dark-green",c=(0,r.useStyles2)(cu),u=null==i?void 0:i.field,f=Boolean(!u),h=Wc(Gc(a.data),u,su),p=(0,e.useCallback)((function(t){var e=t.value;if(e&&e!==su.value)s(au({},i,{field:e}));else{var n,r=null!==(n=null==i?void 0:i.fixed)&&void 0!==n?n:l;s(au({},i,{field:void 0,fixed:r}))}}),[s,i]),d=(0,e.useCallback)((function(t){s({field:void 0,fixed:null!=t?t:l})}),[s]),m=f?su:h.find((function(t){return t.value===u}));return n().createElement(n().Fragment,null,n().createElement("div",{className:c.container},n().createElement(r.Select,{value:m,options:h,onChange:p,noOptionsMessage:"No fields found"}),f&&n().createElement("div",{className:c.picker},n().createElement(r.ColorPicker,{color:null!==(o=null==i?void 0:i.fixed)&&void 0!==o?o:l,onChange:d,enableNamedColors:!0}))))},cu=function(t){return{container:(0,Dc.css)(tu||(tu=iu(["\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n  "]))),picker:(0,Dc.css)(eu||(eu=iu(["\n    padding-left: 8px;\n  "])))}};yc.Mod,yc.Clamped;function uu(t){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(t)}function fu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hu(t,e){return hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hu(t,e)}function pu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gu(t);if(e){var o=gu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return du(this,n)}}function du(t,e){if(e&&("object"===uu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mu(t)}function mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gu(t){return gu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(t)}var yu,vu,_u,bu,Au,wu,xu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}(a,t);var e,r,o,i=pu(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(mu(e=i.call(this,t)),"sub",void 0),e.state={subProps:t.initialSubProps},e}return e=a,(r=[{key:"componentDidMount",value:function(){var t=this;this.sub=this.props.watch.subscribe({next:function(e){t.setState({subProps:e})},complete:function(){},error:function(t){}})}},{key:"componentWillUnmount",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"render",value:function(){var t=this.state.subProps;return n().createElement(this.props.child,t)}}])&&fu(e.prototype,r),o&&fu(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.Component);function Cu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function ku(e){var o,i,a=e.color,s=(0,r.useTheme2)();if(!a||!a.field&&a.fixed)return n().createElement(n().Fragment,null);var l=Eu(s),c=function(e){return"".concat((0,t.formattedValueToString)(a.field.display(e)))},u=(0,t.getFieldColorModeForField)(a.field);if(u.isContinuous&&u.getColors){var f,h=u.getColors(ur.config.theme2),p=(0,t.reduceField)({field:a.field,reducers:[t.ReducerID.min,t.ReducerID.max,t.ReducerID.mean]});return n().createElement(n().Fragment,null,n().createElement(r.Label,null,null==a||null===(f=a.field)||void 0===f?void 0:f.name),n().createElement("div",{className:l.gradientContainer,style:{backgroundImage:"linear-gradient(to right, ".concat(h.map((function(t){return t})).join(", "))}},n().createElement("div",{style:{color:s.colors.getContrastText(h[0])}},c(p.min)),n().createElement("div",{style:{color:s.colors.getContrastText(h[h.length-1])}},c(p.max))))}var d=null===(o=a.field)||void 0===o||null===(i=o.config)||void 0===i?void 0:i.thresholds;if(!d||d.steps.length<2)return yu||(yu=n().createElement("div",null));var m=function(e,n){var r,o=[],i=e.thresholds;if(!i||!i.steps.length)return o;for(var a=i.steps,s=(0,t.getValueFormat)(i.mode===t.ThresholdsMode.Percentage?"percent":null!==(r=e.unit)&&void 0!==r?r:""),l=function(e){return(0,t.formattedValueToString)(s(e))},c=1;c<=a.length;c++){var u=a[c-1],f=1===c?"0m":l(a[c-1].value)+"m",h=c===a.length?"+":"-"+l(a[c].value)+"m";o.push({label:"".concat(f).concat(h),color:n.visualization.getColorByName(u.color),yAxis:1})}return o}(a.field.config,ur.config.theme2);return n().createElement("div",{className:l.infoWrap},vu||(vu=n().createElement(r.Label,null,"Stationshöhe")),n().createElement("div",{className:l.legend},m.map((function(t,e){return n().createElement("div",{key:"".concat(e,"/").concat(t.label),className:l.legendItem},n().createElement("i",{style:{background:t.color}}),t.label)}))))}var Eu=(0,r.stylesFactory)((function(t){return{infoWrap:(0,Dc.css)(_u||(_u=Cu(["\n    background: ",";\n    border-radius: 2px;\n    padding: ",";\n  "])),t.colors.background.secondary,t.spacing(1)),legend:(0,Dc.css)(bu||(bu=Cu(["\n    line-height: 18px;\n    display: flex;\n    flex-direction: column;\n    font-size: ",";\n\n    i {\n      width: 18px;\n      height: 18px;\n      float: left;\n      margin-right: 8px;\n      opacity: 0.7;\n    }\n  "])),t.typography.bodySmall.fontSize),legendItem:(0,Dc.css)(Au||(Au=Cu(["\n    white-space: nowrap;\n  "]))),gradientContainer:(0,Dc.css)(wu||(wu=Cu(["\n    min-width: 200px;\n    display: flex;\n    justify-content: space-between;\n    font-size: ",";\n    padding: ",";\n  "])),t.typography.bodySmall.fontSize,t.spacing(0,.5))}})),Su={id:"circle",name:"Circle",hasFill:!0,make:function(t,e,n){return new Yi({image:new Ni({stroke:new Zi({color:t}),fill:new Wi({color:e}),radius:n})})}},Ou=new t.Registry((function(){return[Su,{id:"square",name:"Square",hasFill:!0,make:function(t,e,n){return new Yi({image:new Mi({fill:new Wi({color:e}),stroke:new Zi({color:t,width:1}),points:4,radius:n,angle:Math.PI/4})})}},{id:"triangle",name:"Triangle",hasFill:!0,make:function(t,e,n){return new Yi({image:new Mi({fill:new Wi({color:e}),stroke:new Zi({color:t,width:1}),points:3,radius:n,rotation:Math.PI/4,angle:0})})}},{id:"star",name:"Star",hasFill:!0,make:function(t,e,n){return new Yi({image:new Mi({fill:new Wi({color:e}),stroke:new Zi({color:t,width:1}),points:5,radius:n,radius2:.4*n,angle:0})})}},{id:"cross",name:"Cross",hasFill:!1,make:function(t,e,n){return new Yi({image:new Mi({fill:new Wi({color:e}),stroke:new Zi({color:t,width:1}),points:4,radius:n,radius2:0,angle:0})})}},{id:"x",name:"X",hasFill:!1,make:function(t,e,n){return new Yi({image:new Mi({fill:new Wi({color:e}),stroke:new Zi({color:t,width:1}),points:4,radius:n,radius2:0,angle:Math.PI/4})})}}]})),Tu=c(26),Pu=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Pe(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Wi({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:va,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Pe(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();const Lu=Pu;var Ru=c(6),Iu=c.n(Ru),Fu=c(7),ju=c.n(Fu),Mu=c(8),Du=c.n(Mu),Bu=c(9),Nu=c.n(Bu),Gu=c(10),Wu=c.n(Gu),zu=c(11),Zu=c.n(zu),Vu=c(18),Uu={};Uu.styleTagTransform=Zu(),Uu.setAttributes=Nu(),Uu.insert=Du().bind(null,"head"),Uu.domAPI=ju(),Uu.insertStyleElement=Wu();Iu()(Vu.Z,Uu);Vu.Z&&Vu.Z.locals&&Vu.Z.locals;var qu=c(19),Xu={};Xu.styleTagTransform=Zu(),Xu.setAttributes=Nu(),Xu.insert=Du().bind(null,"head"),Xu.domAPI=ju(),Xu.insertStyleElement=Wu();Iu()(qu.Z,Xu);qu.Z&&qu.Z.locals&&qu.Z.locals;function Yu(t){return Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(t)}function Ku(){Ku=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Yu(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Hu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function $u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function Qu(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var tf,ef={size:{fixed:5,min:2,max:15},color:{fixed:"dark-green"},geoJsonStrokeSize:{fixed:5,min:1,max:10},fillOpacity:.4,shape:"circle",showLegend:!0,showPin:!1,enableGradient:!1,enableShadow:!1,pinShape:"marker",iconSize:9,cluster:!1,clusterDistance:20,clusterMinDistance:0,clusterValue:"size"},nf="markers",rf={type:nf,config:ef,location:{mode:ac.Auto}};!function(t){t.circle="circle",t.poi="poi",t.bubble="bubble",t.marker="marker",t.coma="coma",t.shield="shield",t.blazon="blazon",t.bookmark="bookmark",t.hexagon="hexagon",t.diamond="diamond",t.triangle="triangle",t.sign="sign",t.ban="ban",t.lozenge="lozenge",t.square="square"}(tf||(tf={}));var of={id:nf,name:"Markers",description:"use markers to render each data point",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qu(i,r,o,a,s,"next",t)}function s(t){Qu(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Ku().mark((function e(r,o,i){var a,s,l,c,u,f,h,p,d,m,g,y,v,_,b,A,w,x,C,k;return Ku().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(t){var e,n,r,i,a=null!==(e=null===(n=o.config)||void 0===n?void 0:n.enableShadow)&&void 0!==e?e:ef.enableShadow,s=null!==(r=null===(i=o.config)||void 0===i?void 0:i.enableGradient)&&void 0!==r?r:ef.enableGradient,l=[];a&&l.push(new Yi({image:new ll({radius:10,blur:5,offsetX:0,offsetY:0,fill:new Wi({color:"rgba(255,255,255,0.4)"})})})),l.push(new Yi({image:new al({form:w.pinShape,fontSize:.5,color:"#fff",radius:w.iconSize,glyph:w.selectIcon,offsetY:a?-(Number(w.iconSize)+1):-Number(w.iconSize),gradient:s,fill:new Wi({color:t.color})})}));var c=new al({});return(c=a?l[1].getImage():l[0].getImage())&&c instanceof al&&c.getFill().setColor(t.color),l},v=function(e,n){var r=w.size,o=n;return e.forEach((function(e){if(r.field){var i=e.getProperties().frame.fields;Array.isArray(i)&&i.forEach((function(e){e.name===r.field&&e.display&&(o=(0,t.formattedValueToString)(e.display(n)))}))}})),o},y=function(t,e){var n;switch(null===(n=o.config)||void 0===n?void 0:n.clusterValue){case"size":return String(e);case"sum":case"average":return String(v(t,e));default:return""}},g=function(t){var e;switch(null===(e=o.config)||void 0===e?void 0:e.clusterValue){case"size":return t.length;case"sum":return d(t);case"average":return(d(t)/t.length).toFixed(2);default:return NaN}},m=function(e,n,r){var o;if(!e)return null!==(o=i.visualization.getColorByName(n.fixed))&&void 0!==o?o:"grey";var a=(0,t.getFieldColorModeForField)(e);return a.isByValue?(0,t.getScaleCalculator)(e,i)(r).color:a.getCalculator(e,i)(0,0)},d=function(t){var e=0,n=w.size;return t.forEach((function(t){if(n.field){var r=t.getProperties(),o=r.frame.fields,i=r.rowIndex;Array.isArray(o)&&o.forEach((function(t){t.name===n.field&&(e+=t.values.buffer[i])}))}})),e},p=function(t,e){var n,r,i=null!==(n=null===(r=o.config)||void 0===r?void 0:r.showPin)&&void 0!==n?n:ef.showPin,a=new Yi({image:new al({radius:20,fontSize:.3,form:"circle",color:"#fff",glyph:i?w.selectIcon:"",fill:new Wi({color:Ml()(t).setAlpha(.4).toRgbString()}),offsetY:-8}),text:new Lu({font:"12px Verdana-Bold",fill:new Wi({color:"#fff"}),offsetY:6})});return a.getText().setText(e),a},e.next=9,bc(o.location);case 9:return f=e.sent,h=new Il({title:o.name,displayProperties:o.displayProperties,icon:null===(a=o.config)||void 0===a?void 0:a.selectIcon,titleField:o.titleField,timeField:o.timeField}),b=null!==(s=o.config)&&void 0!==s&&s.cluster?new Il({displayProperties:o.displayProperties,icon:null===(l=o.config)||void 0===l?void 0:l.selectIcon,titleField:o.titleField,timeField:o.timeField,style:function(t){var e=t.get("features").length;if(e>1){var n=t.get("features")[0].get("config"),r=g(t.get("features"));return p(m(Rc(n.frame,n.config),n.config,r),y(t.get("features"),r))}if(1===e){var o=t.get("features")[0].get("style");return _(o)}return null}}):new Il({displayProperties:o.displayProperties,icon:null===(c=o.config)||void 0===c?void 0:c.selectIcon,titleField:o.titleField,timeField:o.timeField}),A=new Fl.default({layers:[h,b],title:o.name,combine:!0}),w=Ju({},ef,null==o?void 0:o.config),x=new Tu.ReplaySubject(1),C=null,w.showLegend&&(C=n().createElement(xu,{watch:x,initialSubProps:{},child:ku})),k=null!==(u=Ou.getIfExists(w.shape))&&void 0!==u?u:Su,e.abrupt("return",{init:function(){return A},legend:C,update:function(t){var e,n,r,a,s,l,c;if(null===(e=t.series)||void 0===e||!e.length){var u,p;null==h||null===(u=h.getSource())||void 0===u||u.clear();var d=null==h||null===(p=h.getSource())||void 0===p?void 0:p.getFeatures();null==d||d.forEach((function(t){var e;null==h||null===(e=h.getSource())||void 0===e||e.removeFeature(t)}))}var m,g=[],y=[],v=null!==(n=null===(r=o.config)||void 0===r?void 0:r.fillOpacity)&&void 0!==n?n:ef.fillOpacity,A=null!==(a=null===(s=o.config)||void 0===s?void 0:s.showPin)&&void 0!==a?a:ef.showPin,E=null!==(l=null===(c=o.config)||void 0===c?void 0:c.cluster)&&void 0!==l?l:ef.cluster,S=Hu(t.series);try{for(S.s();!(m=S.n()).done;){var O=m.value;if(o.query&&o.query.options===O.refId||O.meta){var T=wc(O,f);if(T.warning)continue;for(var P=Fc(O,w.color,i),R=jc(O,w.size),I=0;I<O.length;I++){var F=P.get(I),j=Ml()(F).setAlpha(v).toRgbString(),M=R.get(I);try{var D=T.points[I].getType(),B=new Lr(T.points[I]);if("Point"===D)B.setStyle(k.make(F,j,M));else{var N=jc(O,w.geoJsonStrokeSize),G=new Yi({stroke:new Zi({color:F,width:N.get(I)}),fill:new Wi({color:j})});B.setStyle(G)}if(g.push(B),A||E){var W=(0,L.qg)(T.points[I].getExtent()),z=new Lr(new Eo(W));z.setStyle(_({color:F})),z.set("style",{color:F,fillColor:j}),E&&z.set("config",{frame:O,config:w.color}),z.setProperties({frame:O,rowIndex:I}),y.push(z)}else B.setProperties({frame:O,rowIndex:I})}catch(t){}}C&&x.next({color:P,size:R});break}}}catch(t){S.e(t)}finally{S.f()}var Z=new kl({features:g});if(h.setSource(Z),A||E){var V=new kl({features:y});if(E){var U,q,X,Y,K=new Ol({distance:null!==(U=null===(q=o.config)||void 0===q?void 0:q.clusterDistance)&&void 0!==U?U:ef.clusterDistance,minDistance:null!==(X=null===(Y=o.config)||void 0===Y?void 0:Y.clusterMinDistance)&&void 0!==X?X:ef.clusterMinDistance,source:V});b.setSource(K)}else b.setSource(V)}}});case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),registerOptionsUI:function(t){var e=Object.getOwnPropertyNames(al.prototype.defs.glyphs),n=[];n.push({value:"",label:"none"}),e.map((function(t){return n.push({value:t,label:t.replace("fa-","")})})),t.addCustomEditor({id:"config.color",path:"config.color",name:"Marker Color",editor:lu,settings:{},defaultValue:{fixed:"grey"}}).addCustomEditor({id:"config.size",path:"config.size",name:"Marker Size",editor:ru,settings:{min:1,max:100},defaultValue:{fixed:5,min:1,max:20}}).addSelect({path:"config.shape",name:"Marker Shape",settings:{options:Ou.selectOptions().options},defaultValue:"circle"}).addSliderInput({path:"config.fillOpacity",name:"Fill opacity",defaultValue:ef.fillOpacity,settings:{min:0,max:1,step:.1},showIf:function(t){var e,n;return null===(e=Ou.getIfExists(null===(n=t.config)||void 0===n?void 0:n.shape))||void 0===e?void 0:e.hasFill}}).addBooleanSwitch({path:"config.showPin",name:"Show pin",description:"Show pin",defaultValue:ef.showPin}).addSelect({path:"config.pinShape",name:"Pin Shape",settings:{options:[{value:tf.bubble,label:"bubble"},{value:tf.circle,label:"circle"},{value:tf.coma,label:"coma"},{value:tf.diamond,label:"diamond"},{value:tf.hexagon,label:"hexagon"},{value:tf.lozenge,label:"lozenge"},{value:tf.marker,label:"marker"},{value:tf.poi,label:"poi"},{value:tf.square,label:"square"},{value:tf.triangle,label:"triangle"},{value:tf.shield,label:"shield"},{value:tf.sign,label:"sign"}]},defaultValue:tf.marker,showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addNumberInput({path:"config.iconSize",name:"Pin size",defaultValue:ef.iconSize,showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addCustomEditor({id:"config.geoJsonStrokeSize",path:"config.geoJsonStrokeSize",name:"Geometry Stroke Size",editor:ru,settings:{min:1,max:10},defaultValue:{fixed:5,min:1,max:10}}).addSelect({path:"config.selectIcon",name:"Select icon for the pin",settings:{options:n},defaultValue:"none",showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.enableShadow",name:"Enable shadow for the pin",defaultValue:!1,showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.enableGradient",name:"Enable gradient for the pin",defaultValue:!1,showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.showPin)}}).addBooleanSwitch({path:"config.showLegend",name:"Show legend",description:"Show legend",defaultValue:ef.showLegend}).addBooleanSwitch({path:"config.cluster",name:"Cluster geometries",description:"Cluster geometries",defaultValue:ef.cluster}).addSliderInput({path:"config.clusterDistance",name:"Distance",description:"Distance in pixels within which features will be clustered together.",defaultValue:ef.clusterDistance,settings:{min:0,max:100,step:1},showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}}).addSliderInput({path:"config.clusterMinDistance",name:"Min distance",description:"Minimum distance in pixels between clusters.",defaultValue:ef.clusterMinDistance,settings:{min:0,max:50,step:1},showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}}).addSelect({path:"config.clusterValue",name:"Value to display",description:"Value to display in the cluster",defaultValue:ef.clusterValue,settings:{options:[{value:"none",label:"none"},{value:"size",label:"size"},{value:"average",label:"average"},{value:"sum",label:"sum"}]},showIf:function(t){var e;return!0===(null===(e=t.config)||void 0===e?void 0:e.cluster)}})},defaultOptions:ef};function af(t){return af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(t)}function sf(){sf=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==af(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function cf(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var uf={src:"public/maps/countries.geojson"},ff={id:"geojson-value-mapper",name:"Map values to GeoJSON file",description:"color features based on query results",isBaseMap:!1,state:t.PluginState.alpha,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){cf(i,r,o,a,s,"next",t)}function s(t){cf(i,r,o,a,s,"throw",t)}a(void 0)}))}}(sf().mark((function t(e,n,r){var o,i,a;return sf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=lf({},uf,n.config),i=new kl({url:o.src,format:new rc}),a=new Il({source:i}),t.abrupt("return",{init:function(){return a},update:function(t){i.getFeatures().forEach((function(t){}))}});case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),registerOptionsUI:function(t){t.addSelect({path:"config.src",name:"GeoJSON URL",settings:{options:[{label:"public/maps/countries.geojson",value:"public/maps/countries.geojson"},{label:"public/maps/usa-states.geojson",value:"public/maps/usa-states.geojson"}],allowCustomValue:!0},defaultValue:uf.src})},defaultOptions:uf},hf=34962,pf=34963,df=35048,mf=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function gf(t,e){for(var n=(0,Vt.f0)({preserveDrawingBuffer:!0,antialias:!P.ME},e),r=mf.length,o=0;o<r;++o)try{var i=t.getContext(mf[o],n);if(i)return i}catch(t){}return null}var yf=35044,vf=function(){function t(t,e){this.array=null,this.type=t,(0,Qt.h)(t===hf||t===pf,62),this.usage=void 0!==e?e:yf}return t.prototype.ofSize=function(t){this.array=new(_f(this.type))(t)},t.prototype.fromArray=function(t){var e=_f(this.type);this.array=e.from?e.from(t):new e(t)},t.prototype.fromArrayBuffer=function(t){this.array=new(_f(this.type))(t)},t.prototype.getType=function(){return this.type},t.prototype.getArray=function(){return this.array},t.prototype.getUsage=function(){return this.usage},t.prototype.getSize=function(){return this.array?this.array.length:0},t}();function _f(t){switch(t){case hf:return Float32Array;case pf:return Uint32Array;default:return Float32Array}}const bf=vf,Af="webglcontextlost",wf="webglcontextrestored";var xf=c(52),Cf=function(){function t(t){this.gl_=t.webGlContext;var e=this.gl_;this.scaleRatio_=t.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var n=e.createShader(e.VERTEX_SHADER);e.shaderSource(n,t.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),e.compileShader(n);var r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,t.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n  }\n"),e.compileShader(r),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,n),e.attachShader(this.renderTargetProgram_,r),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],t.uniforms&&Object.keys(t.uniforms).forEach(function(n){this.uniforms_.push({value:t.uniforms[n],location:e.getUniformLocation(this.renderTargetProgram_,n)})}.bind(this))}return t.prototype.getGL=function(){return this.gl_},t.prototype.init=function(t){var e=this.getGL(),n=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,n[0],n[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var r=e.RGBA,o=e.RGBA,i=e.UNSIGNED_BYTE;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,0,r,n[0],n[1],0,o,i,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},t.prototype.apply=function(t,e,n,r){var o=this.getGL(),i=t.size;if(o.bindFramebuffer(o.FRAMEBUFFER,e?e.getFrameBuffer():null),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,this.renderTargetTexture_),!e){var a=(0,p.sq)(o.canvas);if(!t.renderTargets[a]){var s=o.getContextAttributes();s&&s.preserveDrawingBuffer&&(o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT)),t.renderTargets[a]=!0}}o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.bindBuffer(o.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),o.useProgram(this.renderTargetProgram_),o.enableVertexAttribArray(this.renderTargetAttribLocation_),o.vertexAttribPointer(this.renderTargetAttribLocation_,2,o.FLOAT,!1,0,0),o.uniform2f(this.renderTargetUniformLocation_,i[0],i[1]),o.uniform1i(this.renderTargetTextureLocation_,0);var l=t.layerStatesArray[t.layerIndex].opacity;o.uniform1f(this.renderTargetOpacityLocation_,l),this.applyUniforms(t),n&&n(o,t),o.drawArrays(o.TRIANGLES,0,6),r&&r(o,t)},t.prototype.getFrameBuffer=function(){return this.frameBuffer_},t.prototype.applyUniforms=function(t){var e,n=this.getGL(),r=1;this.uniforms_.forEach((function(o){if((e="function"==typeof o.value?o.value(t):o.value)instanceof HTMLCanvasElement||e instanceof ImageData)o.texture||(o.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(r)]),n.bindTexture(n.TEXTURE_2D,o.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),e instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,e.width,e.height,0,n.UNSIGNED_BYTE,new Uint8Array(e.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),n.uniform1i(o.location,r++);else if(Array.isArray(e))switch(e.length){case 2:return void n.uniform2f(o.location,e[0],e[1]);case 3:return void n.uniform3f(o.location,e[0],e[1],e[2]);case 4:return void n.uniform4f(o.location,e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&n.uniform1f(o.location,e)}))},t}();const kf=Cf;function Ef(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}var Sf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Of="u_projectionMatrix",Tf="u_offsetScaleMatrix",Pf="u_offsetRotateMatrix",Lf="u_time",Rf="u_zoom",If="u_resolution",Ff={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126},jf={};function Mf(t){return"shared/"+t}var Df=0;var Bf=function(t){function e(e){var n,r=t.call(this)||this,o=e||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvasCacheKey_=o.canvasCacheKey?Mf(o.canvasCacheKey):(n="unique/"+Df,Df+=1,n),r.canvas_=function(t){var e=jf[t];if(!e){var n=document.createElement("canvas");n.style.position="absolute",n.style.left="0",e={users:0,canvas:n},jf[t]=e}return e.users+=1,e.canvas}(r.canvasCacheKey_),r.gl_=gf(r.canvas_),r.bufferCache_={},r.extensionCache_={},r.currentProgram_=null,r.canvas_.addEventListener(Af,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(wf,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=[1,0,0,1,0,0],r.offsetScaleMatrix_=[1,0,0,1,0,0],r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],o.uniforms&&r.setUniforms(o.uniforms);var i=r.getGL();return r.postProcessPasses_=o.postProcesses?o.postProcesses.map((function(t){return new kf({webGlContext:i,scaleRatio:t.scaleRatio,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms})})):[new kf({webGlContext:i})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return Sf(e,t),e.prototype.setUniforms=function(t){for(var e in this.uniforms_=[],t)this.uniforms_.push({name:e,value:t[e]});this.uniformLocations_={}},e.prototype.canvasCacheKeyMatches=function(t){return this.canvasCacheKey_===Mf(t)},e.prototype.getExtension=function(t){if(t in this.extensionCache_)return this.extensionCache_[t];var e=this.gl_.getExtension(t);return this.extensionCache_[t]=e,e},e.prototype.bindBuffer=function(t){var e=this.getGL(),n=(0,p.sq)(t),r=this.bufferCache_[n];r||(r={buffer:t,webGlBuffer:e.createBuffer()},this.bufferCache_[n]=r);e.bindBuffer(t.getType(),r.webGlBuffer)},e.prototype.flushBufferData=function(t){var e=this.getGL();this.bindBuffer(t),e.bufferData(t.getType(),t.getArray(),t.getUsage())},e.prototype.deleteBuffer=function(t){var e=this.getGL(),n=(0,p.sq)(t),r=this.bufferCache_[n];r&&!e.isContextLost()&&e.deleteBuffer(r.webGlBuffer),delete this.bufferCache_[n]},e.prototype.disposeInternal=function(){this.canvas_.removeEventListener(Af,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(wf,this.boundHandleWebGLContextRestored_),function(t){var e=jf[t];if(e&&(e.users-=1,!(e.users>0))){var n=gf(e.canvas).getExtension("WEBGL_lose_context");n&&n.loseContext(),delete jf[t]}}(this.canvasCacheKey_),delete this.gl_,delete this.canvas_},e.prototype.prepareDraw=function(t,e){var n=this.getGL(),r=this.getCanvas(),o=t.size,i=t.pixelRatio;r.width=o[0]*i,r.height=o[1]*i,r.style.width=o[0]+"px",r.style.height=o[1]+"px",n.useProgram(this.currentProgram_);for(var a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(t);n.bindTexture(n.TEXTURE_2D,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,e?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.prepareDrawToRenderTarget=function(t,e,n){var r=this.getGL(),o=e.getSize();r.bindFramebuffer(r.FRAMEBUFFER,e.getFramebuffer()),r.viewport(0,0,o[0],o[1]),r.bindTexture(r.TEXTURE_2D,e.getTexture()),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,n?r.ZERO:r.ONE_MINUS_SRC_ALPHA),r.useProgram(this.currentProgram_),this.applyFrameState(t),this.applyUniforms(t)},e.prototype.drawElements=function(t,e){var n=this.getGL();this.getExtension("OES_element_index_uint");var r=n.UNSIGNED_INT,o=e-t,i=4*t;n.drawElements(n.TRIANGLES,o,r,i)},e.prototype.finalizeDraw=function(t,e,n){for(var r=0,o=this.postProcessPasses_.length;r<o;r++)r===o-1?this.postProcessPasses_[r].apply(t,null,e,n):this.postProcessPasses_[r].apply(t,this.postProcessPasses_[r+1])},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.applyFrameState=function(t){var e=t.size,n=t.viewState.rotation,r=kn(this.offsetScaleMatrix_);Tn(r,2/e[0],2/e[1]);var o=kn(this.offsetRotateMatrix_);0!==n&&function(t,e){var n=Math.cos(e),r=Math.sin(e);En(t,Sn(Cn,n,r,-r,n,0,0))}(o,-n),this.setUniformMatrixValue(Tf,Ef(this.tmpMat4_,r)),this.setUniformMatrixValue(Pf,Ef(this.tmpMat4_,o)),this.setUniformFloatValue(Lf,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(Rf,t.viewState.zoom),this.setUniformFloatValue(If,t.viewState.resolution)},e.prototype.applyUniforms=function(t){var e,n=this.getGL(),r=0;this.uniforms_.forEach(function(o){if((e="function"==typeof o.value?o.value(t):o.value)instanceof HTMLCanvasElement||e instanceof HTMLImageElement||e instanceof ImageData)o.texture||(o.prevValue=void 0,o.texture=n.createTexture()),n.activeTexture(n["TEXTURE".concat(r)]),n.bindTexture(n.TEXTURE_2D,o.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(!(e instanceof HTMLImageElement)||e.complete)&&o.prevValue!==e&&(o.prevValue=e,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)),n.uniform1i(this.getUniformLocation(o.name),r++);else if(Array.isArray(e)&&6===e.length)this.setUniformMatrixValue(o.name,Ef(this.tmpMat4_,e));else if(Array.isArray(e)&&e.length<=4)switch(e.length){case 2:return void n.uniform2f(this.getUniformLocation(o.name),e[0],e[1]);case 3:return void n.uniform3f(this.getUniformLocation(o.name),e[0],e[1],e[2]);case 4:return void n.uniform4f(this.getUniformLocation(o.name),e[0],e[1],e[2],e[3]);default:return}else"number"==typeof e&&n.uniform1f(this.getUniformLocation(o.name),e)}.bind(this))},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,this.uniformLocations_={},this.attribLocations_={},!0)},e.prototype.compileShader=function(t,e){var n=this.getGL(),r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r},e.prototype.getProgram=function(t,e){var n=this.getGL(),r=this.compileShader(t,n.FRAGMENT_SHADER),o=this.compileShader(e,n.VERTEX_SHADER),i=n.createProgram();if(n.attachShader(i,r),n.attachShader(i,o),n.linkProgram(i),!n.getShaderParameter(r,n.COMPILE_STATUS)){var a="Fragment shader compliation failed: ".concat(n.getShaderInfoLog(r));throw new Error(a)}if(n.deleteShader(r),!n.getShaderParameter(o,n.COMPILE_STATUS)){a="Vertex shader compilation failed: ".concat(n.getShaderInfoLog(o));throw new Error(a)}if(n.deleteShader(o),!n.getProgramParameter(i,n.LINK_STATUS)){a="GL program linking failed: ".concat(n.getShaderInfoLog(o));throw new Error(a)}return i},e.prototype.getUniformLocation=function(t){return void 0===this.uniformLocations_[t]&&(this.uniformLocations_[t]=this.getGL().getUniformLocation(this.currentProgram_,t)),this.uniformLocations_[t]},e.prototype.getAttributeLocation=function(t){return void 0===this.attribLocations_[t]&&(this.attribLocations_[t]=this.getGL().getAttribLocation(this.currentProgram_,t)),this.attribLocations_[t]},e.prototype.makeProjectionTransform=function(t,e){var n=t.size,r=t.viewState.rotation,o=t.viewState.resolution,i=t.viewState.center;return kn(e),Ln(e,0,0,2/(o*n[0]),2/(o*n[1]),-r,-i[0],-i[1]),e},e.prototype.setUniformFloatValue=function(t,e){this.getGL().uniform1f(this.getUniformLocation(t),e)},e.prototype.setUniformFloatVec4=function(t,e){this.getGL().uniform4fv(this.getUniformLocation(t),e)},e.prototype.setUniformMatrixValue=function(t,e){this.getGL().uniformMatrix4fv(this.getUniformLocation(t),!1,e)},e.prototype.enableAttributeArray_=function(t,e,n,r,o){var i=this.getAttributeLocation(t);i<0||(this.getGL().enableVertexAttribArray(i),this.getGL().vertexAttribPointer(i,e,n,!1,r,o))},e.prototype.enableAttributes=function(t){for(var e=function(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];e+=r.size*Nf(r.type)}return e}(t),n=0,r=0;r<t.length;r++){var o=t[r];this.enableAttributeArray_(o.name,o.size,o.type||5126,e,n),n+=o.size*Nf(o.type)}},e.prototype.handleWebGLContextLost=function(){(0,Vt.ZH)(this.bufferCache_),this.currentProgram_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.createTexture=function(t,e,n){var r=this.getGL(),o=n||r.createTexture(),i=r.RGBA,a=r.RGBA,s=r.UNSIGNED_BYTE;return r.bindTexture(r.TEXTURE_2D,o),e?r.texImage2D(r.TEXTURE_2D,0,i,a,s,e):r.texImage2D(r.TEXTURE_2D,0,i,t[0],t[1],0,a,s,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),o},e}(xf.Z);function Nf(t){switch(t){case Ff.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Ff.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Ff.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Ff.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}const Gf=Bf;var Wf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zf="GENERATE_BUFFERS",Zf=function(t){function e(e,n){var r=t.call(this,e)||this,o=n||{};return r.inversePixelTransform_=[1,0,0,1,0,0],r.pixelContext_=null,r.postProcesses_=o.postProcesses,r.uniforms_=o.uniforms,r.helper,e.addChangeListener(en.Z.MAP,r.removeHelper.bind(r)),r.dispatchPreComposeEvent=r.dispatchPreComposeEvent.bind(r),r.dispatchPostComposeEvent=r.dispatchPostComposeEvent.bind(r),r}return Wf(e,t),e.prototype.dispatchPreComposeEvent=function(t,e){var n=this.getLayer();if(n.hasListener(on)){var r=new wn(on,void 0,e,t);n.dispatchEvent(r)}},e.prototype.dispatchPostComposeEvent=function(t,e){var n=this.getLayer();if(n.hasListener(an)){var r=new wn(an,void 0,e,t);n.dispatchEvent(r)}},e.prototype.reset=function(t){this.uniforms_=t.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)},e.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)},e.prototype.prepareFrame=function(t){if(this.getLayer().getRenderSource()){for(var n=!0,r=-1,o=void 0,i=0,a=t.layerStatesArray.length;i<a;i++){var s=t.layerStatesArray[i].layer,l=s.getRenderer();if(l instanceof e){var c=s.getClassName();if((n||c!==o)&&(r+=1,n=!1),o=c,l===this)break}else n=!0}var u="map/"+t.mapId+"/group/"+r;this.helper&&this.helper.canvasCacheKeyMatches(u)||(this.removeHelper(),this.helper=new Gf({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:u}),o&&(this.helper.getCanvas().className=o),this.afterHelperCreated())}return this.prepareFrameInternal(t)},e.prototype.afterHelperCreated=function(){},e.prototype.prepareFrameInternal=function(t){return!0},e.prototype.disposeInternal=function(){this.removeHelper(),t.prototype.disposeInternal.call(this)},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){Ln(this.inversePixelTransform_,0,0,n.pixelRatio,-n.pixelRatio,0,0,-n.size[1]);var o=new wn(t,this.inversePixelTransform_,n,e);r.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(nn,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(rn,t,e)},e.prototype.getDataAtPixel=function(t,e,n){var r=On([e.pixelRatio,0,0,e.pixelRatio,0,0],t.slice()),o=this.helper.getGL();if(!o)return null;var i=this.getLayer().getExtent();if(i){var a=On(e.pixelToCoordinateTransform,t.slice());if(!(0,L.b8)(i,a))return null}var s=o.getContextAttributes();if(!s||!s.preserveDrawingBuffer)return new Uint8Array;var l,c=Math.round(r[0]),u=Math.round(r[1]),f=this.pixelContext_;if(!f){var h=document.createElement("canvas");h.width=1,h.height=1,f=h.getContext("2d"),this.pixelContext_=f}f.clearRect(0,0,1,1);try{f.drawImage(o.canvas,c,u,1,1,0,0,1,1),l=f.getImageData(0,0,1,1).data}catch(t){return l}return 0===l[3]?null:l},e}(bn);function Vf(t,e){var n=e||[],r=256,o=255;return n[0]=Math.floor(t/r/r/r)/o,n[1]=Math.floor(t/r/r)%r/o,n[2]=Math.floor(t/r)%r/o,n[3]=t%r/o,n}const Uf=Zf;var qf=new Uint8Array(4);const Xf=function(){function t(t,e){this.helper_=t;var n=t.getGL();this.texture_=n.createTexture(),this.framebuffer_=n.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return t.prototype.setSize=function(t){(0,Oe.fS)(t,this.size_)||(this.size_[0]=t[0],this.size_[1]=t[1],this.updateSize_())},t.prototype.getSize=function(){return this.size_},t.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},t.prototype.readAll=function(){if(this.dataCacheDirty_){var t=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,t[0],t[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},t.prototype.readPixel=function(t,e){if(t<0||e<0||t>this.size_[0]||e>=this.size_[1])return qf[0]=0,qf[1]=0,qf[2]=0,qf[3]=0,qf;this.readAll();var n=Math.floor(t)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return qf[0]=this.data_[4*n],qf[1]=this.data_[4*n+1],qf[2]=this.data_[4*n+2],qf[3]=this.data_[4*n+3],qf},t.prototype.getTexture=function(){return this.texture_},t.prototype.getFramebuffer=function(){return this.framebuffer_},t.prototype.updateSize_=function(){var t=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(t,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,t[0],t[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(t[0]*t[1]*4)},t}();var Yf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kf=function(t){function e(e,n){var r=this,o=n.uniforms||{},i=[1,0,0,1,0,0];o[Of]=i,(r=t.call(this,e,{uniforms:o,postProcesses:n.postProcesses})||this).ready=!1,r.sourceRevision_=-1,r.verticesBuffer_=new bf(hf,df),r.hitVerticesBuffer_=new bf(hf,df),r.indicesBuffer_=new bf(pf,df),r.vertexShader_=n.vertexShader,r.fragmentShader_=n.fragmentShader,r.program_,r.hitDetectionEnabled_=!(!n.hitFragmentShader||!n.hitVertexShader),r.hitVertexShader_=n.hitVertexShader,r.hitFragmentShader_=n.hitFragmentShader,r.hitProgram_;var a=n.attributes?n.attributes.map((function(t){return{name:"a_"+t.name,size:1,type:Ff.FLOAT}})):[];r.attributes=[{name:"a_position",size:2,type:Ff.FLOAT},{name:"a_index",size:1,type:Ff.FLOAT}].concat(a),r.hitDetectionAttributes=[{name:"a_position",size:2,type:Ff.FLOAT},{name:"a_index",size:1,type:Ff.FLOAT},{name:"a_hitColor",size:4,type:Ff.FLOAT},{name:"a_featureUid",size:1,type:Ff.FLOAT}].concat(a),r.customAttributes=n.attributes?n.attributes:[],r.previousExtent_=(0,L.lJ)(),r.currentTransform_=i,r.renderTransform_=[1,0,0,1,0,0],r.invertRenderTransform_=[1,0,0,1,0,0],r.renderInstructions_=new Float32Array(0),r.hitRenderInstructions_=new Float32Array(0),r.hitRenderTarget_,r.generateBuffersRun_=0,r.worker_=function(){var t='const e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let e=1,n=arguments.length;e<n;++e){const n=arguments[e];if(null!=n)for(const e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},n="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";n.indexOf("firefox");-1!==n.indexOf("safari")&&-1==n.indexOf("chrom")&&(n.indexOf("version/15.4")>=0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==n.indexOf("webkit")&&n.indexOf("edge"),n.indexOf("macintosh"),"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),function(){let e=!1;try{const n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}(),new Array(6);const t="GENERATE_BUFFERS",o=[],r={vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]=t,e[n+1]=o,e[n+2]=r}function s(e,n,t,s,f,c){const l=3+f,a=e[n+0],u=e[n+1],d=o;d.length=f;for(let t=0;t<d.length;t++)d[t]=e[n+2+t];let g=c?c.vertexPosition:0,x=c?c.indexPosition:0;const h=g/l;return i(t,g,a,u,0),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,1),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,2),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,3),d.length&&t.set(d,g+3),g+=l,s[x++]=h,s[x++]=h+1,s[x++]=h+3,s[x++]=h+1,s[x++]=h+2,s[x++]=h+3,r.vertexPosition=g,r.indexPosition=x,r}const f=self;f.onmessage=n=>{const o=n.data;if(o.type===t){const n=3,t=2,r=o.customAttributesCount,i=t+r,c=new Float32Array(o.renderInstructions),l=c.length/i,a=4*l*(r+n),u=new Uint32Array(6*l),d=new Float32Array(a);let g;for(let e=0;e<c.length;e+=i)g=s(c,e,d,u,r,g);const x=e({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};';return new Worker("undefined"==typeof Blob?"data:application/javascript;base64,"+Buffer.from(t,"binary").toString("base64"):URL.createObjectURL(new Blob([t],{type:"application/javascript"})))}(),r.worker_.addEventListener("message",function(t){var e=t.data;if(e.type===zf){var n=e.projectionTransform;e.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(e.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(e.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=n,Rn(this.invertRenderTransform_,this.renderTransform_),e.hitDetection?this.hitRenderInstructions_=new Float32Array(t.data.renderInstructions):(this.renderInstructions_=new Float32Array(t.data.renderInstructions),e.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0)),this.getLayer().changed()}}.bind(r)),r.featureCache_={},r.featureCount_=0;var s=r.getLayer().getSource();return r.sourceListenKeys_=[(0,R.oL)(s,dl,r.handleSourceFeatureAdded_,r),(0,R.oL)(s,ml,r.handleSourceFeatureChanged_,r),(0,R.oL)(s,yl,r.handleSourceFeatureDelete_,r),(0,R.oL)(s,gl,r.handleSourceFeatureClear_,r)],s.forEachFeature(function(t){this.featureCache_[(0,p.sq)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++}.bind(r)),r}return Yf(e,t),e.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new Xf(this.helper))},e.prototype.handleSourceFeatureAdded_=function(t){var e=t.feature;this.featureCache_[(0,p.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++},e.prototype.handleSourceFeatureChanged_=function(t){var e=t.feature;this.featureCache_[(0,p.sq)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()}},e.prototype.handleSourceFeatureDelete_=function(t){var e=t.feature;delete this.featureCache_[(0,p.sq)(e)],this.featureCount_--},e.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},e.prototype.renderFrame=function(t){var e=this.helper.getGL();this.preRender(e,t);var n=t.viewState.projection,r=this.getLayer().getSource().getWrapX()&&n.canWrapX(),o=n.getExtent(),i=t.extent,a=r?(0,L.dz)(o):null,s=r?Math.ceil((i[2]-o[2])/a)+1:1,l=r?Math.floor((i[0]-o[0])/a):0,c=l,u=this.indicesBuffer_.getSize();do{this.helper.makeProjectionTransform(t,this.currentTransform_),Pn(this.currentTransform_,c*a,0),En(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t),this.helper.drawElements(0,u)}while(++c<s);this.helper.finalizeDraw(t,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);var f=this.helper.getCanvas();return this.hitDetectionEnabled_&&(this.renderHitDetection(t,l,s,a),this.hitRenderTarget_.clearCachedData()),this.postRender(e,t),f},e.prototype.prepareFrameInternal=function(t){var e=this.getLayer(),n=e.getSource(),r=t.viewState,o=!t.viewHints[Ua]&&!t.viewHints[qa],i=!(0,L.fS)(this.previousExtent_,t.extent),a=this.sourceRevision_<n.getRevision();if(a&&(this.sourceRevision_=n.getRevision()),o&&(i||a)){var s=r.projection,l=r.resolution,c=e instanceof Ji?e.getRenderBuffer():0,u=(0,L.f3)(t.extent,c*l);n.loadFeatures(u,l,s),this.rebuildBuffers_(t),this.previousExtent_=t.extent.slice()}return this.helper.useProgram(this.program_),this.helper.prepareDraw(t),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},e.prototype.rebuildBuffers_=function(t){var e=[1,0,0,1,0,0];this.helper.makeProjectionTransform(t,e);var n,r,o=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===o||(this.renderInstructions_=new Float32Array(o)),this.hitDetectionEnabled_){var i=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===i||(this.hitRenderInstructions_=new Float32Array(i))}var a,s=[],l=[],c=0,u=0;for(var f in this.featureCache_)if((r=(n=this.featureCache_[f]).geometry)&&"Point"===r.getType()){s[0]=r.getFlatCoordinates()[0],s[1]=r.getFlatCoordinates()[1],On(e,s),a=Vf(u+6,l),this.renderInstructions_[c++]=s[0],this.renderInstructions_[c++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=s[0],this.hitRenderInstructions_[u++]=s[1],this.hitRenderInstructions_[u++]=a[0],this.hitRenderInstructions_[u++]=a[1],this.hitRenderInstructions_[u++]=a[2],this.hitRenderInstructions_[u++]=a[3],this.hitRenderInstructions_[u++]=Number(f));for(var h=void 0,p=0;p<this.customAttributes.length;p++)h=this.customAttributes[p].callback(n.feature,n.properties),this.renderInstructions_[c++]=h,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[u++]=h)}var d={type:zf,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(d.projectionTransform=e,d.generateBuffersRun=++this.generateBuffersRun_,this.ready=!1,this.worker_.postMessage(d,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var m={type:zf,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};m.projectionTransform=e,m.hitDetection=!0,this.worker_.postMessage(m,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if((0,Qt.h)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var i=On(e.coordinateToPixelTransform,t.slice()),a=this.hitRenderTarget_.readPixel(i[0]/2,i[1]/2),s=function(t){var e=0,n=256,r=255;return e+=Math.round(t[0]*n*n*n*r),e+=Math.round(t[1]*n*n*r),e+=Math.round(t[2]*n*r),e+Math.round(t[3]*r)}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],c=Math.floor(l).toString(),u=this.getLayer().getSource().getFeatureByUid(c);return u?r(u,this.getLayer(),null):void 0}},e.prototype.renderHitDetection=function(t,e,n,r){if(this.hitVerticesBuffer_.getSize()){var o=e;this.hitRenderTarget_.setSize([Math.floor(t.size[0]/2),Math.floor(t.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(t,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);do{this.helper.makeProjectionTransform(t,this.currentTransform_),Pn(this.currentTransform_,o*r,0),En(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(t);var i=this.indicesBuffer_.getSize();this.helper.drawElements(0,i)}while(++o<n)}},e.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(t){(0,R.bN)(t)})),this.sourceListenKeys_=null,t.prototype.disposeInternal.call(this)},e}(Uf);const Hf=Kf;var $f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jf="blur",Qf="gradient",th="radius",eh=["#00f","#0ff","#0f0","#ff0","#f00"],nh=function(t){function e(e){var n=this,r=e||{},o=(0,Vt.f0)({},r);delete o.gradient,delete o.radius,delete o.blur,delete o.weight,(n=t.call(this,o)||this).gradient_=null,n.addChangeListener(Qf,n.handleGradientChanged_),n.setGradient(r.gradient?r.gradient:eh),n.setBlur(void 0!==r.blur?r.blur:15),n.setRadius(void 0!==r.radius?r.radius:8);var i=r.weight?r.weight:"weight";return n.weightFunction_="string"==typeof i?function(t){return t.get(i)}:i,n.setRenderOrder(null),n}return $f(e,t),e.prototype.getBlur=function(){return this.get(Jf)},e.prototype.getGradient=function(){return this.get(Qf)},e.prototype.getRadius=function(){return this.get(th)},e.prototype.handleGradientChanged_=function(){this.gradient_=function(t){for(var e=1,n=256,r=(0,w.E4)(e,n),o=r.createLinearGradient(0,0,e,n),i=1/(t.length-1),a=0,s=t.length;a<s;++a)o.addColorStop(a*i,t[a]);return r.fillStyle=o,r.fillRect(0,0,e,n),r.canvas}(this.getGradient())},e.prototype.setBlur=function(t){this.set(Jf,t)},e.prototype.setGradient=function(t){this.set(Qf,t)},e.prototype.setRadius=function(t){this.set(th,t)},e.prototype.createRenderer=function(){return new Hf(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(t){var e=this.weightFunction_(t);return void 0!==e?(0,z.uZ)(e,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(th)+this.get(Jf))}.bind(this),u_blurSlope:function(){return this.get(th)/Math.max(1,this.get(Jf))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})},e.prototype.renderDeclutter=function(){},e}(Ji);const rh=nh;function oh(t){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(t)}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ah(t,e){return ah=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ah(t,e)}function sh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ch(t);if(e){var o=ch(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lh(this,n)}}function lh(t,e){if(e&&("object"===oh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ch(t){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ch(t)}var uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ah(t,e)}(i,t);var e,n,r,o=sh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,{})).location=t,e}return e=i,(n=[{key:"update",value:function(t){this.clear(!0);var e=wc(t,this.location);if(e.points){for(var n=0;n<t.length;n++)this.addFeatureInternal(new Lr({frame:t,rowIndex:n,geometry:e.points[n]}));this.changed()}else this.changed()}}])&&ih(e.prototype,n),r&&ih(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(kl);function fh(t){return fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(t)}function hh(){hh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==fh(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function dh(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var mh={weight:{fixed:1,min:0,max:1},blur:15,radius:5},gh={id:"heatmap",name:"Heatmap",description:"visualizes a heatmap of the data",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){dh(i,r,o,a,s,"next",t)}function s(t){dh(i,r,o,a,s,"throw",t)}a(void 0)}))}}(hh().mark((function e(n,r,o){var i,a,s,l,c;return hh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ph({},mh,r.config),e.next=3,bc(r.location);case 3:return a=e.sent,s=new uh(a),l="_weight",(c=new rh({source:s,blur:i.blur,radius:i.radius,weight:function(t){return t.get(l)}})).set("title",r.name),e.abrupt("return",{init:function(){return c},update:function(e){var n,r=e.series[0];if(r){s.update(r);var a=jc(r,i.weight);s.forEachFeature((function(t){var e=t.get("rowIndex");null!=e&&t.set(l,a.get(e))}));var u=["#00f","#0ff","#0f0","#ff0","#f00"],f=null!==(n=a.field)&&void 0!==n?n:r.fields.find((function(e){return e.type===t.FieldType.number}));if(f){var h=(0,t.getFieldColorModeForField)(f);if(h.isContinuous&&h.getColors&&(u=h.getColors(o)),h.isByValue){var p=(0,t.getScaleCalculator)(f,o);u=[];var d=f.config.min,m=f.config.max;(0,Oc.isNumber)(d)||(d=0),(0,Oc.isNumber)(m)||(m=100);for(var g=m-d,y=0;y<10;y++){var v=p(y*(g/10)).color;u.push(v)}}}c.setGradient(u)}}});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),registerOptionsUI:function(t){t.addCustomEditor({id:"config.weight",path:"config.weight",name:"Weight values",description:"Scale the distribution for each row",editor:ru,settings:{min:0,max:1,hideRange:!0},defaultValue:{fixed:1,min:0,max:1}}).addSliderInput({path:"config.radius",description:"configures the size of clusters",name:"Radius",defaultValue:mh.radius,settings:{min:1,max:50,step:1}}).addSliderInput({path:"config.blur",description:"configures the amount of blur of clusters",name:"Blur",defaultValue:mh.blur,settings:{min:1,max:50,step:1}})},defaultOptions:mh};function yh(t){return yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(t)}function vh(){vh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==yh(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(this,arguments)}function bh(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var Ah={icon:"https://openlayers.org/en/latest/examples/data/icon.png"},wh={id:"last-point-tracker",name:"Icon at last point",description:"Show an icon at the last point",isBaseMap:!1,showLocation:!0,state:t.PluginState.alpha,create:function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){bh(i,r,o,a,s,"next",t)}function s(t){bh(i,r,o,a,s,"throw",t)}a(void 0)}))}}(vh().mark((function t(e,n,r){var o,i,a,s,l;return vh().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new Lr({}),i=_h({},Ah,n.config),o.setStyle(new Yi({image:new us({src:i.icon})})),a=new kl({features:[o]}),s=new Il({source:a}),t.next=7,bc(n.location);case 7:return l=t.sent,t.abrupt("return",{init:function(){return s},update:function(t){var e=t.series[0];if(e&&e.length){var n,r=wc(e,l);if(r.warning)return;if(null!==(n=r.points)&&void 0!==n&&n.length){var i=r.points[r.points.length-1];o.setGeometry(i)}}}});case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),defaultOptions:Ah},xh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Ch=function(t){function e(e,n,r,o,i){var a=this,s=void 0!==i?k:S;return(a=t.call(this,e,n,r,s)||this).loader_=void 0!==i?i:null,a.canvas_=o,a.error_=null,a}return xh(e,t),e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=O):this.state=S,this.changed()},e.prototype.load=function(){this.state==k&&(this.state=E,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(C);var kh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Eh=function(t){function e(e,n,r,o,i,a,s){var l=this,c=e.getExtent(),u=n.getExtent(),f=u?(0,L.Ed)(r,u):r,h=Yt(e,n,(0,L.qg)(f),o),p=new Gt(e,n,f,c,.5*h,o),d=a(p.calculateSourceExtent(),h,i),m=d?k:T,g=d?d.getPixelRatio():1;return(l=t.call(this,r,o,g,m)||this).targetProj_=n,l.maxSourceExtent_=c,l.triangulation_=p,l.targetResolution_=o,l.targetExtent_=r,l.sourceImage_=d,l.sourcePixelRatio_=g,l.interpolate_=s,l.canvas_=null,l.sourceListenerKey_=null,l}return kh(e,t),e.prototype.disposeInternal=function(){this.state==E&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==S){var e=(0,L.dz)(this.targetExtent_)/this.targetResolution_,n=(0,L.Cr)(this.targetExtent_)/this.targetResolution_;this.canvas_=Kt(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==k){this.state=E,this.changed();var t=this.sourceImage_.getState();t==S||t==O?this.reproject_():(this.sourceListenerKey_=(0,R.oL)(this.sourceImage_,o.Z.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=S&&e!=O||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,R.bN)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(C);var Sh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oh="imageloadstart",Th="imageloadend",Ph="imageloaderror",Lh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return Sh(e,t),e}(fe.ZP),Rh=function(t){function e(e){var n=this,r=void 0===e.imageSmoothing||e.imageSmoothing;return void 0!==e.interpolate&&(r=e.interpolate),(n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:r})||this).on,n.once,n.un,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return Sh(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,Oe.h7)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var o=this.getProjection();if(o&&r&&!kt(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&kt(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,L.fS)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Eh(o,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,o)}.bind(this),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,r){return(0,p.O3)()},e.prototype.handleImageChange=function(t){var e,n=t.target;switch(n.getState()){case E:this.loading=!0,e=Oh;break;case S:this.loading=!1,e=Th;break;case O:this.loading=!1,e=Ph;break;default:return}this.hasListener(e)&&this.dispatchEvent(new Lh(e,n))},e}(ge);const Ih=Rh;var Fh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jh=function(t){function e(e){var n=this,r=e||{},o=void 0===r.imageSmoothing||r.imageSmoothing;return void 0!==r.interpolate&&(o=r.interpolate),(n=t.call(this,{attributions:r.attributions,interpolate:o,projection:r.projection,resolutions:r.resolutions,state:r.state})||this).canvasFunction_=r.canvasFunction,n.canvas_=null,n.renderedRevision_=0,n.ratio_=void 0!==r.ratio?r.ratio:1.5,n}return Fh(e,t),e.prototype.getImageInternal=function(t,e,n,r){e=this.findNearestResolution(e);var o=this.canvas_;if(o&&this.renderedRevision_==this.getRevision()&&o.getResolution()==e&&o.getPixelRatio()==n&&(0,L.r4)(o.getExtent(),t))return o;t=t.slice(),(0,L.H9)(t,this.ratio_);var i=[(0,L.dz)(t)/e*n,(0,L.Cr)(t)/e*n],a=this.canvasFunction_.call(this,t,e,n,i,r);return a&&(o=new Ch(t,e,n,a)),this.canvas_=o,this.renderedRevision_=this.getRevision(),o},e}(Ih);const Mh=jh;var Dh=function(t){(t=t||{}).canvasFunction=this.calculateImage,this._source=t.source,this._canvas=document.createElement("CANVAS"),this._source.on(["addfeature","removefeature","clear","removefeature"],function(){this.changed()}.bind(this)),Mh.call(this,t),t.useWorker&&(this.worker=new ol_ext_Worker(this.computeImage,{onMessage:this.onImageData.bind(this)})),this._position={extent:[],resolution:0},this.set("scale",t.scale||4),this._weight="function"==typeof t.weight?t.weight:function(e){return e.get(t.weight||"weight")}};rl(Dh,Mh),Dh.prototype.getSource=function(){return this._source},Dh.prototype.setData=function(t,e,n){var r=this.getColor(t);e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3]},Dh.prototype.getValue=function(t){if(!this._canvas)return null;var e=this.transform(t);return this._canvas.getContext("2d").getImageData(Math.round(e[0]),Math.round(e[1]),1,1).data},Dh.prototype.computeImage=function(t){var e,n,r,o=function(t){return(t=(t+6)%6)<1?Math.round(255*t):t<3?255:t<4?Math.round(255*(4-t)):0},i=t.data.pts,a=t.data.width,s=t.data.height,l=new Uint8ClampedArray(a*s*4);for(n=0;n<s;n++)for(e=0;e<a;e++){for(var c=0,u=0,f=0;f<i.length;++f){var h=e-i[f][0],p=n-i[f][1],d=h*h+p*p;if(0===d){u=1,c=i[f][2];break}var m=1/(d*d);c+=m*i[f][2],u+=m}var g=(r=void 0,[o((r=4-.04*(c/u))+2),o(r),o(r-2),255]),y=4*(n*a+e);l[y]=g[0],l[y+1]=g[1],l[y+2]=g[2],l[y+3]=g[3]}return{type:"image",data:l,width:a,height:s}},Dh.prototype.calculateImage=function(t,e,n,r){if(!this._source)return this._canvas;if(this._updated)return this._updated=!1,this._canvas;var o=Math.round(r[0]/(this.get("scale")*n)),i=Math.round(r[1]/(this.get("scale")*n)),a=[],s=o/(t[2]-t[0]),l=i/(t[1]-t[3]),c=this.transform=function(e,n){return[(e[0]-t[0])*s,(e[1]-t[3])*l,n]};if(this._source.getFeatures().forEach(function(t){a.push(c(t.getGeometry().getFirstCoordinate(),this._weight(t)))}.bind(this)),this.worker)this.worker.postMessage({pts:a,width:o,height:i},!0),this.dispatchEvent({type:"drawstart"}),this._canvas.width===Math.round(r[0])&&this._canvas.height===Math.round(r[1])&&this._position.resolution===e&&this._position.extent[0]===t[0]&&this._position.extent[1]===t[1]||(this._canvas.width=Math.round(r[0]),this._canvas.height=Math.round(r[1])),this._position.extent=t,this._position.resolution=e;else{this._canvas.width=Math.round(r[0]),this._canvas.height=Math.round(r[1]);var u=this.computeImage({data:{pts:a,width:o,height:i}});this.onImageData(u)}return this._canvas},Dh.prototype.onImageData=function(t){var e=this._internal=document.createElement("CANVAS");e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(new ImageData(t.data,t.width,t.height),0,0),this._canvas.getContext("2d").drawImage(e,0,0,this._canvas.width,this._canvas.height),this.worker&&(this.dispatchEvent({type:"drawend"}),this._updated=!0,this.changed())};const Bh=Dh;var Nh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gh=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return Nh(e,t),e}(fn);const Wh=Gh;var zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zh=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return zh(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,r=t.viewState,o=r.resolution,i=this.getLayer().getSource(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=(0,L.Ed)(s,Bt(e.extent,r.projection))),!a[Ua]&&!a[qa]&&!(0,L.xb)(s))if(i){var l=r.projection,c=i.getImage(s,o,n,l);c&&(this.loadImage(c)?this.image_=c:c.getState()===T&&(this.image_=null))}else this.image_=null;return!!this.image_},e.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),r=On(e.pixelToCoordinateTransform,t.slice()),o=n.getExtent();if(o&&!(0,L.b8)(o,r))return null;var i=this.image_.getExtent(),a=this.image_.getImage(),s=(0,L.dz)(i),l=Math.floor(a.width*((r[0]-i[0])/s));if(l<0||l>=a.width)return null;var c=(0,L.Cr)(i),u=Math.floor(a.height*((i[3]-r[1])/c));return u<0||u>=a.height?null:this.getImageData(a,l,u)},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),o=n.getResolution(),i=n.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],s=t.pixelRatio,l=t.viewState,c=l.center,u=s*o/(l.resolution*i),f=t.extent,h=l.resolution,p=l.rotation,d=Math.round((0,L.dz)(f)/h*s),m=Math.round((0,L.Cr)(f)/h*s);Ln(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,p,-d/2,-m/2),Rn(this.inversePixelTransform,this.pixelTransform);var g=In(this.pixelTransform);this.useContainer(e,g,this.getBackground(t));var y=this.context,v=y.canvas;v.width!=d||v.height!=m?(v.width=d,v.height=m):this.containerReused||y.clearRect(0,0,d,m);var _=!1,b=!0;if(a.extent){var A=Bt(a.extent,l.projection);(_=(b=(0,L.kK)(A,t.extent))&&!(0,L.r4)(A,t.extent))&&this.clipUnrotated(y,t,A)}var w=n.getImage(),x=Ln(this.tempTransform,d/2,m/2,u,u,0,i*(r[0]-c[0])/o,i*(c[1]-r[3])/o);this.renderedResolution=o*s/i;var C=w.width*x[0],k=w.height*x[3];if(this.getLayer().getSource().getInterpolate()||(0,Vt.f0)(y,zt),this.preRender(y,t),b&&C>=.5&&k>=.5){var E=x[4],S=x[5],O=a.opacity,T=void 0;1!==O&&(T=y.globalAlpha,y.globalAlpha=O),y.drawImage(w,0,0,+w.width,+w.height,E,S,C,k),1!==O&&(y.globalAlpha=T)}return this.postRender(y,t),_&&y.restore(),(0,Vt.f0)(y,Zt),g!==v.style.transform&&(v.style.transform=g),this.container},e}(qn);const Vh=Zh;var Uh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const qh=function(t){function e(e){return t.call(this,e)||this}return Uh(e,t),e.prototype.createRenderer=function(){return new Vh(this)},e.prototype.getData=function(e){return t.prototype.getData.call(this,e)},e}(Wh);function Xh(t){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(t)}function Yh(){Yh=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==Xh(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function Hh(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var $h={weight:{fixed:1,min:0,max:1/0},showData:!1,showPopup:!1,scale:4},Jh={id:"idwmap",name:"IDW Interpolation",description:"visualizes a Inverse Distance Weighted Interpolation",isBaseMap:!1,showLocation:!0,create:function(){var e=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Hh(i,r,o,a,s,"next",t)}function s(t){Hh(i,r,o,a,s,"throw",t)}a(void 0)}))}}(Yh().mark((function e(n,r,o){var i,a,s,l,c,u,f,h;return Yh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kh({},$h,r.config),e.next=3,bc(r.location);case 3:return a=e.sent,s=new uh(a),l="_weight",c=new Bh({source:s,scale:i.scale,weight:function(t){return t.get(l)}}),u=new qh({source:c,opacity:.5}),f=new Il,i.showData&&(f=new Il({title:r.name,displayProperties:r.displayProperties,titleField:r.titleField,timeField:r.timeField,source:c.getSource(),style:function(t){return new Yi({text:new Lu({text:t.get(l).toString(),stroke:new Zi({color:[255,255,255,128],width:1.25})})})}})),h=new Fl.default({layers:[u,f],title:r.name,combine:!0}),e.abrupt("return",{init:function(){return h},update:function(e){var n,r=e.series[0];if(r){s.update(r);var a=jc(r,i.weight);s.forEachFeature((function(t){var e=t.get("rowIndex");if(null!=e){var n=a.get(e);t.set(l,n)}}));var u=null!==(n=a.field)&&void 0!==n?n:r.fields.find((function(e){return e.type===t.FieldType.number}));if(u)if((0,t.getFieldColorModeForField)(u).isByValue){var f=(0,t.getScaleCalculator)(u,o);c.getColor=function(t){var e=f(t).color;return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),255]}}}}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),registerOptionsUI:function(t){t.addCustomEditor({id:"config.weight",path:"config.weight",name:"Weight values",description:"Scale the distribution for each row",editor:ru,settings:{min:0,max:1/0},defaultValue:{fixed:1,min:0,max:1/0}}).addSliderInput({path:"config.scale",description:"configures the precision of the interpolation",name:"Scale",defaultValue:$h.scale,settings:{min:0,max:100,step:1}}).addBooleanSwitch({path:"config.showData",name:"Show data",description:"Show data",defaultValue:$h.showData})},defaultOptions:$h},Qh=[of,gh,Jh,wh,ff];function tp(t){return function(t){if(Array.isArray(t))return ep(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return ep(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ep(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ep(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var np={type:"default",config:{}},rp={id:np.type,name:"Default base layer",isBaseMap:!0,create:function(t,e,n){var r,o=null===ur.config||void 0===ur.config||null===(r=ur.config.geomapDefaultBaseLayerConfig)||void 0===r?void 0:r.type;if(o){var i=op.getIfExists(o);if(!i)throw new Error("Invalid basemap configuraiton on server");return i.create(t,ur.config.geomapDefaultBaseLayerConfig,n)}return lr.create(t,e,n)}},op=new t.Registry((function(){return[rp].concat(tp(el),tp(Qh))})),ip=function(){};var ap="undefined"!=typeof window;const sp=function(t,n,r){if(!ap)return[n,ip,ip];if(!t)throw new Error("useLocalStorage key may not be falsy");var o=r?r.raw?function(t){return t}:r.deserializer:JSON.parse,i=(0,e.useRef)((function(t){try{var e=r?r.raw?String:r.serializer:JSON.stringify,i=localStorage.getItem(t);return null!==i?o(i):(n&&localStorage.setItem(t,e(n)),n)}catch(t){return n}})),a=(0,e.useState)((function(){return i.current(t)})),s=a[0],l=a[1];(0,e.useLayoutEffect)((function(){return l(i.current(t))}),[t]);var c=(0,e.useCallback)((function(e){try{var n="function"==typeof e?e(s):e;if(void 0===n)return;var i=void 0;i=r?r.raw?"string"==typeof n?n:JSON.stringify(n):r.serializer?r.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(t,i),l(o(i))}catch(t){}}),[t,l]),u=(0,e.useCallback)((function(){try{localStorage.removeItem(t),l(void 0)}catch(t){}}),[t,l]);return[s,c,u]};var lp,cp,up,fp,hp,pp,dp,mp,gp,yp=c(20);function vp(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function _p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ap(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ap(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ap(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wp=n().memo((function(t){var o,i,a,s,l=t.id,c=t.title,u=t.children,f=t.forceOpen,h=t.isOpenDefault,p=t.renderTitle,d=t.className,m=t.itemsCount,g=t.isNested,y=void 0!==g&&g,v=!1!==h,_=bp(sp(Cp(l),{isExpanded:v}),2),b=_[0],A=_[1],w=bp((0,e.useState)(null!==(o=null==b?void 0:b.isExpanded)&&void 0!==o?o:v),2),x=w[0],C=w[1],k=(0,r.useStyles2)(xp);(0,e.useEffect)((function(){!x&&f&&f>0&&C(!0)}),[f,x]);var E=(0,e.useCallback)((function(){A({isExpanded:!x}),C(!x)}),[A,C,x]);p||(p=function(t){return t||void 0===m||0===m?c:i||(i=n().createElement("span",null,c," ",n().createElement(r.Counter,{value:m})))});var S=(0,Dc.cx)((_p(a={},k.box,!0),_p(a,k.boxNestedExpanded,y&&x),a),d,"options-group"),O=(0,Dc.cx)(k.header,(_p(s={},k.headerExpanded,x),_p(s,k.headerNested,y),s)),T=(0,Dc.cx)(k.body,_p({},k.bodyNested,y));return n().createElement("div",{className:S,"data-testid":"options-category","aria-label":yp.selectors.components.OptionsGroup.group(l)},n().createElement("div",{className:O,onClick:E,"aria-label":yp.selectors.components.OptionsGroup.toggle(l)},n().createElement("div",{className:(0,Dc.cx)(k.toggle,"editor-options-group-toggle")},n().createElement(r.Icon,{name:x?"angle-down":"angle-right"})),n().createElement("div",{className:k.title,role:"heading"},p(x))),x&&n().createElement("div",{className:T},u))}));wp.displayName="OptionsPaneCategory";var xp=function(t){return{box:(0,Dc.css)(lp||(lp=vp(["\n      border-top: 1px solid ",";\n    "])),t.colors.border.weak),boxNestedExpanded:(0,Dc.css)(cp||(cp=vp(["\n      margin-bottom: ",";\n    "])),t.spacing(2)),toggle:(0,Dc.css)(up||(up=vp(["\n      color: ",";\n      margin-right: ",";\n    "])),t.colors.text.secondary,t.spacing(1)),title:(0,Dc.css)(fp||(fp=vp(["\n      flex-grow: 1;\n      overflow: hidden;\n    "]))),header:(0,Dc.css)(hp||(hp=vp(["\n      display: flex;\n      cursor: pointer;\n      align-items: baseline;\n      padding: ",";\n      color: ",";\n      font-weight: ",";\n\n      &:hover {\n        background: ",";\n      }\n    "])),t.spacing(1),t.colors.text.primary,t.typography.fontWeightMedium,t.colors.emphasize(t.colors.background.primary,.03)),headerExpanded:(0,Dc.css)(pp||(pp=vp(["\n      color: ",";\n    "])),t.colors.text.primary),headerNested:(0,Dc.css)(dp||(dp=vp(["\n      padding: ",";\n    "])),t.spacing(.5,0,.5,0)),body:(0,Dc.css)(mp||(mp=vp(["\n      padding: ",";\n    "])),t.spacing(1,2,1,4)),bodyNested:(0,Dc.css)(gp||(gp=vp(["\n      position: relative;\n      padding-right: 0;\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 8px;\n        width: 1px;\n        height: 100%;\n        background: ",";\n      }\n    "])),t.colors.border.weak)}},Cp=function(t){return"".concat("grafana.dashboard.editor.ui",".optionGroup[").concat(t,"]")};function kp(){return kp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kp.apply(this,arguments)}function Ep(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Op=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Sp(this,"items",[]),Sp(this,"categories",[]),Sp(this,"parent",void 0),this.props=e}var e,r,o;return e=t,(r=[{key:"addItem",value:function(t){return t.parent=this,this.items.push(t),this}},{key:"addCategory",value:function(t){return t.props.isNested=!0,t.parent=this,this.categories.push(t),this}},{key:"render",value:function(t){return this.props.customRender?this.props.customRender():n().createElement(wp,kp({key:this.props.title},this.props),this.items.map((function(t){return t.render()})),this.categories.map((function(t){return t.render()})))}}])&&Ep(e.prototype,r),o&&Ep(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Tp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function Lp(t){return Lp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lp(t)}function Rp(t){return function(t){if(Array.isArray(t))return Ip(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Ip(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ip(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ip(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fp(t,e,n){var r=Array.isArray(e)?e:e.split("."),o=r.shift();if(o.endsWith("]")){var i=o.lastIndexOf("["),a=+o.substring(i+1,o.length-1),s=o.substr(0,i),l=t[s],c=Array.isArray(l)?Rp(l):[];return r.length&&(null!=(l=c[a])&&"object"===Lp(l)||(l={}),n=Fp(l,r,n)),c[a]=n,Pp({},t,Tp({},s,c))}if(!r.length)return Pp({},t,Tp({},o,n));var u=t[o];return null!=u&&"object"===Lp(u)||(u={}),Pp({},t,Tp({},o,Fp(u,r,n)))}var jp=c(21),Mp=c.n(jp);function Dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bp,Np=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"parent",void 0),this.props=e}var e,o,i;return e=t,o=[{key:"getLabel",value:function(t){var e=this.props,o=e.title,i=e.description;if(!t)return this.parent.props.title===o?null:o;var a=[];return this.parent.parent&&a.push(this.highlightWord(this.parent.parent.props.title,t)),this.parent.props.title!==o&&a.push(this.highlightWord(this.parent.props.title,t)),n().createElement(r.Label,{description:i&&this.highlightWord(i,t),category:a},this.highlightWord(o,t))}},{key:"highlightWord",value:function(t,e){return n().createElement(Mp(),{textToHighlight:t,searchWords:[e],highlightClassName:"search-fragment-highlight"})}},{key:"render",value:function(t){var e=this.props,o=e.title,i=e.description,a=e.render,s=e.showIf,l=e.skipField,c="".concat(this.parent.props.id," ").concat(o);return s&&!s()?null:l?a():n().createElement(r.Field,{label:this.getLabel(t),description:i,key:c,"aria-label":yp.selectors.components.PanelEditor.OptionsPane.fieldLabel(c)},a())}}],o&&Dp(e.prototype,o),i&&Dp(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Wp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zp(t){return zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(t)}function Zp(){Zp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==zp(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Vp(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function Up(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Vp(i,r,o,a,s,"next",t)}function s(t){Vp(i,r,o,a,s,"throw",t)}a(void 0)}))}}function qp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Xp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yp=[{label:"Countries",description:"Lookup countries by name, two letter code, or three leter code",value:Ul},{label:"USA States",description:"Lookup states by name or 2 ",value:"public/gazetteer/usa-states.json"}],Kp=function(t){var o=t.value,i=t.onChange,a=(t.context,Hp((0,r.useTheme2)())),s=qp((0,e.useState)(),2),l=s[0],c=s[1];(0,e.useEffect)((function(){function t(){return(t=Up(Zp().mark((function t(){var e;return Zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ql(o);case 2:e=t.sent,c(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[o,c]);var u=(0,e.useMemo)((function(){var t=[].concat(Yp),e=t.find((function(t){return t.value===(null==l?void 0:l.path)}));return!e&&l&&(e={label:l.path,value:l.path},t.push(e)),{options:t,current:e}}),[l]),f=u.current,h=u.options;return n().createElement(n().Fragment,null,n().createElement(r.Select,{menuShouldPortal:!0,value:f,options:h,onChange:function(t){return i(t.value)},allowCustomValue:!0,formatCreateLabel:function(t){return"Load from URL: ".concat(t)}}),l&&n().createElement(n().Fragment,null,l.error&&n().createElement(r.Alert,{title:l.error,severity:"warning"}),l.count&&n().createElement("div",{className:a.keys},n().createElement("b",null,"(",l.count,")"),l.examples(10).map((function(t){return n().createElement("span",{key:t},t,",")}))," ","&ellipsis;")))},Hp=(0,r.stylesFactory)((function(t){return{keys:(0,Dc.css)(Bp||(e=["\n      margin-top: 4px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      > span {\n        margin-left: 4px;\n      }\n    "],n||(n=e.slice(0)),Bp=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))))};var e,n}));function $p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Jp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qp,td=function(o){var i=o.value,a=o.context,s=o.onChange,l=(o.item,(0,e.useMemo)((function(){return a.data.map((function(e){return{value:e.refId,label:"Query: ".concat(e.refId," (size: ").concat(e.length,")"),description:e.fields.map((function(e){return(0,t.getFieldDisplayName)(e)})).join(", ")}}))}),[a.data])),c=$p((0,e.useState)({refIds:[],value:void 0}),2),u=c[0],f=c[1],h=(0,e.useMemo)((function(){var t;return null!==(t=l.find((function(t){return t.value===(null==i?void 0:i.options)})))&&void 0!==t?t:function(t,e,n){if(n){return t.find((function(t){return!e.some((function(e){return t===e}))}))||void 0}}(l,u.refIds,u.value)}),[i,l,u]),p=(0,e.useCallback)((function(e){s(null!=e&&e.value?{id:t.FrameMatcherID.byRefId,options:e.value}:void 0)}),[s]);return l===u.refIds&&(null==h?void 0:h.value)===u.value||f({refIds:l,value:null==h?void 0:h.value}),n().createElement(r.Select,{options:l,onChange:p,isClearable:!0,placeholder:"Change filter",value:h})};function ed(t){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}function rd(){rd=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==ed(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function od(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return id(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return id(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function id(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ad(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}var sd,ld=function(o){var i=o.options,a=o.onChange,s=o.data,l=o.filter,c=(0,e.useMemo)((function(){return op.selectOptions(null!=i&&i.type?[i.type]:[np.type],l)}),[null==i?void 0:i.type,l]),u=(0,e.useMemo)((function(){var e=op.getIfExists(null==i?void 0:i.type);if(!e||!(e.registerOptionsUI||e.showLocation||e.showOpacity||"nextzen"===e.id))return null;var n,r=new t.PanelOptionsEditorBuilder;return"nextzen"===e.id&&r.addTextInput({path:"apiKey",name:"API key",description:"API key for nextzen",settings:{}}),e.showLocation&&r.addTextInput({path:"name",name:"Name",description:"Layer name",settings:{}}).addCustomEditor({id:"query",path:"query",name:"Query",editor:td,defaultValue:void 0}).addRadio({path:"location.mode",name:"Location",description:"",defaultValue:ac.Auto,settings:{options:[{value:ac.Auto,label:"Auto"},{value:ac.Coords,label:"Coords"},{value:ac.Geohash,label:"Geohash"},{value:ac.Lookup,label:"Lookup"},{value:ac.Geojson,label:"Geojson"}]}}).addFieldNamePicker({path:"location.geojson",name:"Geojson field",showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Geojson}}).addFieldNamePicker({path:"location.latitude",name:"Latitude field",settings:{filter:function(e){return e.type===t.FieldType.number},noFieldsMessage:"No numeric fields found"},showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Coords}}).addFieldNamePicker({path:"location.longitude",name:"Longitude field",settings:{filter:function(e){return e.type===t.FieldType.number},noFieldsMessage:"No numeric fields found"},showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Coords}}).addFieldNamePicker({path:"location.geohash",name:"Geohash field",settings:{filter:function(e){return e.type===t.FieldType.string},noFieldsMessage:"No strings fields found"},showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Geohash}}).addFieldNamePicker({path:"location.lookup",name:"Lookup field",settings:{filter:function(e){return e.type===t.FieldType.string},noFieldsMessage:"No strings fields found"},showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Lookup}}).addCustomEditor({id:"gazetteer",path:"location.gazetteer",name:"Gazetteer",editor:Kp,showIf:function(t){var e;return(null===(e=t.location)||void 0===e?void 0:e.mode)===ac.Lookup}}).addFieldNamePicker({path:"titleField",name:"Pop up title",settings:{filter:function(e){return e.type===t.FieldType.string},noFieldsMessage:"No string fields found"}}).addFieldNamePicker({path:"timeField",name:"Pop up Time",settings:{filter:function(e){return e.type===t.FieldType.time},noFieldsMessage:"No time fields found"}}).addMultiSelect({path:"displayProperties",name:"Properties",description:"Select properties to be displayed",settings:{allowCustomValue:!1,options:[],placeholder:"All Properties",getOptions:(n=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){ad(i,r,o,a,s,"next",t)}function s(t){ad(i,r,o,a,s,"throw",t)}a(void 0)}))}}(rd().mark((function e(n){var r,o,i,a,s,l,c,u,f,h,p,d,m,g,y,v,_;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],n&&n.data&&n.data.length>0&&n.options&&n.options.query&&n.options.query.options){for(o=n.data,i=0;i<o.length;i++)if(o[i].refId&&o[i].refId===n.options.query.options){a=n.data[i],s=od(a.fields);try{for(s.s();!(l=s.n()).done;)c=l.value,u=(0,t.getFieldDisplayName)(c,a,n.data),f=c.name,r.push({value:f,label:u})}catch(t){s.e(t)}finally{s.f()}}}else if(n&&n.data&&n.data.length>0&&n.data[0].meta)for(h=n.data,p=0;p<h.length;p++){d=n.data[p],m=od(d.fields);try{for(m.s();!(g=m.n()).done;)y=g.value,v=(0,t.getFieldDisplayName)(y,d,n.data),_=y.name,r.push({value:_,label:v})}catch(t){m.e(t)}finally{m.f()}}return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)}))),function(t){return n.apply(this,arguments)})},defaultValue:""}),e.registerOptionsUI&&e.registerOptionsUI(r),e.showOpacity,r}),[null==i?void 0:i.type]),f=(0,e.useMemo)((function(){var t=op.getIfExists(null==i?void 0:i.type);if(!u||!t)return null;var e=new Op({id:"Layer config",title:"Layer config"}),r={data:s,options:i},o=nd({},i,{type:t.id,config:nd({},t.defaultOptions,null==i?void 0:i.config)});return(!i||t.defaultOptions&&!i.config)&&a(o),function(t,e,r,o){var i,a=Gp(t);try{var s=function(){var t=i.value;if(t.showIf&&!t.showIf(o.options,o.data))return"continue";var a=e(t.category),s=t.editor;a.addItem(new Np({title:t.name,description:t.description,render:function(){return n().createElement(s,{value:(0,Oc.get)(o.options,t.path),onChange:function(e){r(t.path,e)},item:t,context:o})}}))};for(a.s();!(i=a.n()).done;)s()}catch(t){a.e(t)}finally{a.f()}}(u.getRegistry().list(),(function(t){return e}),(function(t,e){a(Fp(o,t,e))}),r),n().createElement(n().Fragment,null,Qp||(Qp=n().createElement("br",null)),e.items.map((function(t){return t.render()})))}),[u,a,s,i]);return n().createElement("div",null,n().createElement(r.Select,{menuShouldPortal:!0,options:c.options,value:c.current,onChange:function(t){var e=op.getIfExists(t.value);e&&a(nd({},i,{type:e.id,config:nd({},e.defaultOptions)}))}}),f)};function cd(e){return!!e.isBaseMap&&(e.state!==t.PluginState.alpha||fr)}var ud=function(t){var e=t.value,r=t.onChange,o=t.context;return ur.config.geomapDisableCustomBaseLayer?sd||(sd=n().createElement("div",null,"The base layer is configured by the server admin.")):n().createElement(ld,{options:e,data:o.data,onChange:r,filter:cd})};function fd(e){return!e.isBaseMap&&(e.state!==t.PluginState.alpha||fr)}var hd=function(t){var e=t.value,o=t.onChange,i=t.context;return n().createElement(n().Fragment,null,n().createElement("div",{className:"data-layer-add"},n().createElement(r.ToolbarButton,{icon:"plus",tooltip:"add new layer",variant:"primary",key:"Add",onClick:function(){var t=e?Tc().cloneDeep(e):[];t.push(rf),o(t)}},"Add Layer")),(e||[]).map((function(t,a){return n().createElement(n().Fragment,null,n().createElement(r.CollapsableSection,{label:t.name?t.name+" layer":"unnamed layer",isOpen:!1},n().createElement(ld,{options:t||void 0,data:i.data,onChange:function(t){var n=e?Tc().cloneDeep(e):[];n[a]=t,o(n)},filter:fd}),n().createElement("div",{className:"data-layer-remove"},n().createElement(r.ToolbarButton,{icon:"trash-alt",tooltip:"delete",variant:"destructive",key:"Delete",onClick:function(t){!function(t){var n=e?Tc().cloneDeep(e):[];n.splice(t,1),o(n)}(a)}},"Delete"))))})))},pd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dd=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return pd(e,t),e.prototype.dispatchRenderEvent=function(t,e){(0,p.O3)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Ln(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Rn(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i,a,s){var l,c=e.viewState;function u(t,e,n,r){return o.call(i,e,t?n:null,r)}var f=c.projection,h=ft(t.slice(),f),p=[[0,0]];if(f.canWrapX()&&r){var d=f.getExtent(),m=(0,L.dz)(d);p.push([-m,0],[m,0])}for(var g=e.layerStatesArray,y=g.length,v=[],_=[],b=0;b<p.length;b++)for(var A=y-1;A>=0;--A){var w=g[A],x=w.layer;if(x.hasRenderer()&&un(w,c)&&a.call(s,x)){var C=x.getRenderer(),k=x.getSource();if(C&&k){var E=k.getWrapX()?h:t,S=u.bind(null,w.managed);_[0]=E[0]+p[b][0],_[1]=E[1]+p[b][1],l=C.forEachFeatureAtCoordinate(_,e,n,S,v)}if(l)return l}}if(0!==v.length){var O=1/v.length;return v.forEach((function(t,e){return t.distanceSq+=e*O})),v.sort((function(t,e){return t.distanceSq-e.distanceSq})),v.some((function(t){return l=t.callback(t.feature,t.layer,t.geometry)})),l}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){return(0,p.O3)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,o,i){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,zr.uX,this,o,i)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){(0,p.O3)()},e.prototype.scheduleExpireIconCache=function(t){os.canExpireCache()&&t.postRenderFunctions.push(md)},e}(xf.Z);function md(t,e){os.expire()}const gd=dd;var yd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const vd=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=(0,R.oL)(xi,fl.Z.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className="ol-unselectable ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return yd(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new wn(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){(0,R.bN)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(on,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],o=null,i=0,a=e.length;i<a;++i){var s=e[i];t.layerIndex=i;var l=s.layer,c=l.getSourceState();if(!un(s,n)||"ready"!=c&&"undefined"!=c)l.unrender();else{var u=l.render(t,o);u&&(u!==o&&(this.children_.push(u),o=u),"getDeclutter"in l&&r.push(l))}}for(i=r.length-1;i>=0;--i)r[i].renderDeclutter(t);(0,w.hF)(this.element_,this.children_),this.dispatchRenderEvent(an,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){for(var i=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],c=l.layer;if(c.hasRenderer()&&un(l,i)&&o(c)){var u=c.getRenderer().getDataAtPixel(t,e,n);if(u){var f=r(c,u);if(f)return f}}}},e}(gd);var _d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const bd=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==r?r:null,o}return _d(e,t),e}(fe.ZP);var Ad=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wd=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,i)||this;return s.originalEvent=r,s.pixel_=null,s.coordinate_=null,s.dragging=void 0!==o&&o,s.activePointers=a,s}return Ad(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(bd),xd={SINGLECLICK:"singleclick",CLICK:o.Z.CLICK,DBLCLICK:o.Z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Cd="pointermove",kd="pointerdown";var Ed=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Sd=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=(0,R.oL)(i,kd,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=(0,R.oL)(i,Cd,r.relayMoveEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(o.Z.TOUCHMOVE,r.boundHandleTouchMove_,!!P.bM&&{passive:!1}),r}return Ed(e,t),e.prototype.emulateClick_=function(t){var e=new wd(xd.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new wd(xd.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new wd(xd.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t,n=e.pointerId;if(e.type==xd.POINTERUP||e.type==xd.POINTERCANCEL){for(var r in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[r].target!==e.target){delete this.trackedTouches_[r];break}}else e.type!=xd.POINTERDOWN&&e.type!=xd.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=(0,Vt.KX)(this.trackedTouches_)},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new wd(xd.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new wd(xd.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"==typeof r?zr.Zn:r}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push((0,R.oL)(o,xd.POINTERMOVE,this.handlePointerMove_,this),(0,R.oL)(o,xd.POINTERUP,this.handlePointerUp_,this),(0,R.oL)(this.element_,xd.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push((0,R.oL)(this.element_.getRootNode(),xd.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new wd(xd.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}},e.prototype.relayMoveEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new wd(xd.POINTERMOVE,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,R.bN)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(o.Z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,R.bN)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(R.bN),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(i.Z);var Od=c(61);const Td="layergroup",Pd="size",Ld="target",Rd="view";var Id=1/0;const Fd=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,Vt.ZH)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){(0,Qt.h)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Id&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,o=e[t],i=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),c=l<r&&n[l]<n[s]?l:s;e[t]=e[c],n[t]=n[c],t=c}e[t]=o,n[t]=i,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,o=n[e],i=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>i))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=o,r[e]=i},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,o=this.elements_,i=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=r(t=o[e]))==Id?delete this.queuedElements_[this.keyFunction_(t)]:(i[a]=n,o[a++]=t);o.length=a,i.length=a,this.heapify_()},t}();var jd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Md=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return jd(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&e[0].addEventListener(o.Z.CHANGE,this.boundHandleTileChange_);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===l||n===f||n===h){e.removeEventListener(o.Z.CHANGE,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==a||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,n.load())},e}(Fd);const Dd=Md;const Bd={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Nd(t,e,n){return function(r,o,i,a,s){if(r){if(!o&&!e)return r;var l=e?0:i[0]*o,c=e?0:i[1]*o,u=s?s[0]:0,f=s?s[1]:0,h=t[0]+l/2+u,p=t[2]-l/2+u,d=t[1]+c/2+f,m=t[3]-c/2+f;h>p&&(p=h=(p+h)/2),d>m&&(m=d=(m+d)/2);var g=(0,z.uZ)(r[0],h,p),y=(0,z.uZ)(r[1],d,m);if(a&&n&&o){var v=30*o;g+=-v*Math.log(1+Math.max(0,h-r[0])/v)+v*Math.log(1+Math.max(0,r[0]-p)/v),y+=-v*Math.log(1+Math.max(0,d-r[1])/v)+v*Math.log(1+Math.max(0,r[1]-m)/v)}return[g,y]}}}function Gd(t){return t}function Wd(t,e,n,r){var o=(0,L.dz)(e)/n[0],i=(0,L.Cr)(e)/n[1];return r?Math.min(t,Math.max(o,i)):Math.min(t,Math.min(o,i))}function zd(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,z.uZ)(r,n/2,2*e)}function Zd(t,e,n,r,o){return function(i,a,s,l){if(void 0!==i){var c=r?Wd(t,r,s,o):t;return(void 0===n||n)&&l?zd(i,c,e):(0,z.uZ)(i,e,c)}}}function Vd(t){return void 0!==t?0:void 0}function Ud(t){return void 0!==t?t:void 0}var qd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xd=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=(0,Vt.f0)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=wt(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.nextCenter_=null,n.nextResolution_,n.nextRotation_,n.cancelAnchor_=void 0,r.projection&&mt(),r.center&&(r.center=Mt(r.center,n.projection_)),r.extent&&(r.extent=Bt(r.extent,n.projection_)),n.applyOptions_(r),n}return qd(e,t),e.prototype.applyOptions_=function(t){var e=(0,Vt.f0)({},t);for(var n in Bd)delete e[n];this.setProperties(e,!0);var r=function(t){var e,n,r,o=28,i=2,a=void 0!==t.minZoom?t.minZoom:0,s=void 0!==t.maxZoom?t.maxZoom:o,l=void 0!==t.zoomFactor?t.zoomFactor:i,c=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=wt(t.projection,"EPSG:3857"),p=h.getExtent(),d=t.constrainOnlyCenter,m=t.extent;c||m||!h.isGlobal()||(d=!1,m=p);if(void 0!==t.resolutions){var g=t.resolutions;n=g[a],r=void 0!==g[s]?g[s]:g[g.length-1],e=t.constrainResolution?function(t,e,n,r){return function(o,i,a,s){if(void 0!==o){var l=t[0],c=t[t.length-1],u=n?Wd(l,n,a,r):l;if(s)return void 0===e||e?zd(o,u,c):(0,z.uZ)(o,c,u);var f=Math.min(u,o),h=Math.floor((0,Oe.h7)(t,f,i));return t[h]>u&&h<t.length-1?t[h+1]:t[h]}}}(g,u,!d&&m,f):Zd(n,r,u,!d&&m,f)}else{var y=(p?Math.max((0,L.dz)(p),(0,L.Cr)(p)):360*B[N.DEGREES]/h.getMetersPerUnit())/be/Math.pow(i,0),v=y/Math.pow(i,o-0);void 0!==(n=t.maxResolution)?a=0:n=y/Math.pow(l,a),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,s):y/Math.pow(l,s):v),s=a+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,s-a),e=t.constrainResolution?function(t,e,n,r,o,i){return function(a,s,l,c){if(void 0!==a){var u=o?Wd(e,o,l,i):e,f=void 0!==n?n:0;if(c)return void 0===r||r?zd(a,u,f):(0,z.uZ)(a,f,u);var h=Math.ceil(Math.log(e/u)/Math.log(t)-1e-9),p=-s*(.5-1e-9)+.5,d=Math.min(u,a),m=Math.floor(Math.log(e/d)/Math.log(t)+p),g=Math.max(h,m),y=e/Math.pow(t,g);return(0,z.uZ)(y,f,u)}}}(l,n,r,u,!d&&m,f):Zd(n,r,u,!d&&m,f)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:l}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;var o=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Nd(t.extent,t.constrainOnlyCenter,e)}var n=wt(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,Nd(r,!1,!1)}return Gd}(t),i=r.constraint,a=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=o||(0,z.Yr)(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=i?0:t:void 0}):!1===e?Ud:"number"==typeof e?(n=e,r=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/r+.5)*r:void 0}):Ud}return Vd;var n,r;var o,i}(t);this.constraints_={center:o,resolution:i,rotation:a},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var o=this.getResolution(),i=o/2*(r[3]-e[3]+e[1]-r[1]),a=o/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+i,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,Vt.f0)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=(0,Vt.f0)({},r)).center=Mt(r.center,this.getProjection())),r.anchor&&((r=(0,Vt.f0)({},r)).anchor=Mt(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var r=0;r<n&&!this.isDef();++r){var o=arguments[r];o.center&&this.setCenterInternal(o.center),void 0!==o.zoom?this.setZoom(o.zoom):o.resolution&&this.setResolution(o.resolution),void 0!==o.rotation&&this.setRotation(o.rotation)}if(r!==n){for(var i=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,c=[];r<n;++r){var u=arguments[r],f={start:i,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||g,callback:e};if(u.center&&(f.sourceCenter=a,f.targetCenter=u.center.slice(),a=f.targetCenter),void 0!==u.zoom?(f.sourceResolution=s,f.targetResolution=this.getResolutionForZoom(u.zoom),s=f.targetResolution):u.resolution&&(f.sourceResolution=s,f.targetResolution=u.resolution,s=f.targetResolution),void 0!==u.rotation){f.sourceRotation=l;var h=(0,z.$W)(u.rotation-l+Math.PI,2*Math.PI)-Math.PI;f.targetRotation=l+h,l=f.targetRotation}Kd(f)?f.complete=!0:i+=f.duration,c.push(f)}this.animations_.push(c),this.setHint(Ua,1),this.updateAnimations_()}else e&&Yd(e,!0)},e.prototype.getAnimating=function(){return this.hints_[Ua]>0},e.prototype.getInteracting=function(){return this.hints_[qa]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(Ua,-this.hints_[Ua]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&Yd(r[0].callback,!1),!t)for(var o=0,i=r.length;o<i;++o){var a=r[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],o=!0,i=0,a=r.length;i<a;++i){var s=r[i];if(!s.complete){var l=t-s.start,c=s.duration>0?l/s.duration:1;c>=1?(s.complete=!0,c=1):o=!1;var u=s.easing(c);if(s.sourceCenter){var f=s.sourceCenter[0],h=s.sourceCenter[1],p=s.targetCenter[0],d=s.targetCenter[1];this.nextCenter_=s.targetCenter;var m=f+u*(p-f),g=h+u*(d-h);this.targetCenter_=[m,g]}if(s.sourceResolution&&s.targetResolution){var y=1===u?s.targetResolution:s.sourceResolution+u*(s.targetResolution-s.sourceResolution);if(s.anchor){var v=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(y,0,v,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===u?(0,z.$W)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+u*(s.targetRotation-s.sourceRotation);if(s.anchor){var A=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(A,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(Ua,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var w=r[0].callback;w&&Yd(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(ct(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),st(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),o=this.getResolution();void 0!==r&&void 0!==o&&(n=[e[0]-t*(e[0]-r[0])/o,e[1]-t*(e[1]-r[1])/o]);return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?jt(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(Bd.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Dt(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();(0,Qt.h)(n,1);var r=this.getResolution();(0,Qt.h)(void 0!==r,2);var o=this.getRotation();return(0,Qt.h)(void 0!==o,3),(0,L.p8)(n,r,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Bd.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Bt(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=(0,L.dz)(t)/n[0],o=(0,L.Cr)(t)/n[1];return Math.max(r,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(Bd.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/o}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){var i=this.getViewportSizeMinusPadding_();r=Hd(r,this.getViewportSize_(),[i[0]/2+o[3],i[1]/2+o[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var o=(0,Oe.h7)(this.resolutions_,t,1);r=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,z.uZ)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,z.uZ)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if((0,Qt.h)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))(0,Qt.h)(!(0,L.xb)(t),25),n=Vo(r=Bt(t,this.getProjection()));else if("Circle"===t.getType()){var r;(n=Vo(r=Bt(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),(0,L.qg)(r))}else{var o=Ft();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),o=t.getFlatCoordinates(),i=t.getStride(),a=1/0,s=1/0,l=-1/0,c=-1/0,u=0,f=o.length;u<f;u+=i){var h=o[u]*n-o[u+1]*r,p=o[u]*r+o[u+1]*n;a=Math.min(a,h),s=Math.min(s,p),l=Math.max(l,h),c=Math.max(c,p)}return[a,s,l,c]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var o,i=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),l=this.getResolutionForExtentInternal(s,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,a?0:1);var c=this.getRotation(),u=Math.sin(c),f=Math.cos(c),h=(0,L.qg)(s);h[0]+=(i[1]-i[3])/2*l,h[1]+=(i[0]-i[2])/2*l;var p=h[0]*f-h[1]*u,d=h[1]*f+h[0]*u,m=this.getConstrainedCenter([p,d],l),g=n.callback?n.callback:zr.Zn;void 0!==n.duration?this.animateInternal({resolution:l,center:m,duration:n.duration,easing:n.easing},g):(this.targetResolution_=l,this.targetCenter_=m,this.applyTargetState_(!1,!0),Yd(g,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(Mt(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Hd(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var o,i=this.padding_;if(i&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Hd(t,r,[a[0]/2+i[3],a[1]/2+i[0]],e,n);o=[t[0]-s[0],t[1]-s[1]]}return o},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=jt(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&Mt(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=Mt(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(t?Mt(t,this.getProjection()):t)},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(r),i=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,i,o,n,this.calculateCenterShift(this.targetCenter_,i,r,o));this.get(Bd.ROTATION)!==r&&this.set(Bd.ROTATION,r),this.get(Bd.RESOLUTION)!==i&&(this.set(Bd.RESOLUTION,i),this.set("zoom",this.getZoom(),!0)),a&&this.get(Bd.CENTER)&&lt(this.get(Bd.CENTER),a)||this.set(Bd.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,o=e||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,i,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=l,void this.applyTargetState_();var c=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&lt(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:l,resolution:s,duration:r,easing:m,anchor:c}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(qa,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&Mt(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(qa,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(he.Z);function Yd(t,e){setTimeout((function(){t(e)}),0)}function Kd(t){return!(t.sourceCenter&&t.targetCenter&&!lt(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Hd(t,e,n,r,o){var i=Math.cos(-o),a=Math.sin(-o),s=t[0]*i-t[1]*a,l=t[1]*i+t[0]*a;return[(s+=(e[0]/2-n[0])*r)*i-(l+=(n[1]-e[1]/2)*r)*(a=-a),l*i+s*a]}const $d=Xd;var Jd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Qd(t){t instanceof fn?t.setMapInternal(null):t instanceof Fl.default&&t.getLayers().forEach(Qd)}function tm(t,e){if(t instanceof fn)t.setMapInternal(e);else if(t instanceof Fl.default)for(var n=t.getLayers().getArray(),r=0,o=n.length;r<o;++r)tm(n[r],e)}var em=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,o,i={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Fl.default({layers:t.layers});i[Td]=a,i[Ld]=t.target,i[Rd]=t.view instanceof $d?t.view:new $d,void 0!==t.controls&&(Array.isArray(t.controls)?n=new cl.Z(t.controls.slice()):((0,Qt.h)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new cl.Z(t.interactions.slice()):((0,Qt.h)("function"==typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new cl.Z(t.overlays.slice()):((0,Qt.h)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new cl.Z;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:o,values:i}}(e);n.renderComplete_,n.loaded_=!0,n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:P.MP,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.targetChangeHandlerKeys_=null,n.controls=r.controls||new cl.Z,n.interactions=r.interactions||new cl.Z,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Dd(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Td,n.handleLayerGroupChanged_),n.addChangeListener(Rd,n.handleViewChanged_),n.addChangeListener(Pd,n.handleSizeChanged_),n.addChangeListener(Ld,n.handleTargetChanged_),n.setProperties(r.values);var o=n;return!e.view||e.view instanceof $d||e.view.then((function(t){o.setView(new $d(t))})),n.controls.addEventListener(ul.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(ul.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.addEventListener(ul.Z.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(ul.Z.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.addEventListener(ul.Z.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(ul.Z.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n}return Jd(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.handleLayerAdd_=function(t){tm(t.layer,this)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,i=void 0!==n.layerFilter?n.layerFilter:zr.uX,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,e,null,i,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.getAllLayers=function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Fl.default?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_&&this.renderer_){var r=n||{},o=void 0!==r.hitTolerance?r.hitTolerance:0,i=r.layerFilter||zr.uX;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,i)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:zr.uX,o=void 0!==e.hitTolerance?e.hitTolerance:0,i=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,i,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Ld)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return jt(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?On(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Td)},e.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof cl.Z)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e];if(r.visible){var o=r.layer.getRenderer();if(o&&!o.ready)return!0;var i=r.layer.getSource();if(i&&i.loading)return!0}}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=Mt(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?On(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Pd)},e.prototype.getView=function(){return this.get(Rd)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,o){if(!t||!(n in t.wantedTiles))return Id;if(!t.wantedTiles[n][e.getKey()])return Id;var i=t.viewState.center,a=r[0]-i[0],s=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(a*a+s*s)/o}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new wd(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===kd||n===o.Z.WHEEL||n===o.Z.KEYDOWN){var r=this.getOwnerDocument(),i=this.viewport_.getRootNode?this.viewport_.getRootNode():r,a=e.target;if(this.overlayContainerStopEvent_.contains(a)||!(i===r?r.documentElement:i).contains(a))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var c=s[l];if(c.getMap()===this&&c.getActive()&&this.getTargetElement())if(!c.handleEvent(t)||t.propagationStopped)break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var o=t.viewHints;if(o[Ua]||o[qa]){var i=Date.now()-t.time>8;n=i?0:8,r=i?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(sn)&&this.renderer_.dispatchRenderEvent(sn,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new bd(Od.Z.LOADEND,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new bd(Od.Z.LOADSTART,this,t))));for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)(0,R.bN)(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(o.Z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(o.Z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,(0,w.ZF)(this.viewport_)}var n=this.getTargetElement();if(n){for(var r in n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Sd(this,this.moveTolerance_),xd)this.mapBrowserEventHandler_.addEventListener(xd[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(o.Z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(o.Z.WHEEL,this.boundHandleBrowserEvent_,!!P.bM&&{passive:!1});var i=this.getOwnerDocument().defaultView,a=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[(0,R.oL)(a,o.Z.KEYDOWN,this.handleBrowserEvent,this),(0,R.oL)(a,o.Z.KEYPRESS,this.handleBrowserEvent,this),(0,R.oL)(i,o.Z.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,R.bN)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,R.bN)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,R.oL)(t,fl.Z.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,R.oL)(t,o.Z.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(R.bN),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new Fl.GroupEvent("addlayer",t)),this.layerGroupPropertyListenerKeys_=[(0,R.oL)(t,fl.Z.PROPERTYCHANGE,this.render,this),(0,R.oL)(t,o.Z.CHANGE,this.render,this),(0,R.oL)(t,"addlayer",this.handleLayerAdd_,this),(0,R.oL)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.handleLayerRemove_=function(t){Qd(t.layer)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),o=this.frameState_,i=null;if(void 0!==n&&Te(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();if(i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,L.p8)(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{},mapId:(0,p.sq)(this),renderTargets:{}},s.nextCenter&&s.nextResolution){var l=isNaN(s.nextRotation)?s.rotation:s.nextRotation;i.nextExtent=(0,L.p8)(s.nextCenter,s.nextResolution,l,n)}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),o)(!this.previousExtent_||!(0,L.xb)(this.previousExtent_)&&!(0,L.fS)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new bd(Od.Z.MOVESTART,this,o)),this.previousExtent_=(0,L.YN)(this.previousExtent_));this.previousExtent_&&!i.viewHints[Ua]&&!i.viewHints[qa]&&!(0,L.fS)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new bd(Od.Z.MOVEEND,this,i)),(0,L.d9)(i.extent,this.previousExtent_))}this.dispatchEvent(new bd(Od.Z.POSTRENDER,this,i)),this.renderComplete_=this.hasListener(Od.Z.LOADSTART)||this.hasListener(Od.Z.LOADEND)||this.hasListener(sn)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new Fl.GroupEvent("removelayer",e)),this.set(Td,t)},e.prototype.setSize=function(t){this.set(Pd,t)},e.prototype.setTarget=function(t){this.set(Ld,t)},e.prototype.setView=function(t){if(!t||t instanceof $d)this.set(Rd,t);else{this.set(Rd,new $d);var e=this;t.then((function(t){e.setView(new $d(t))}))}},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(o)||!Te(e=[r,o])&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(he.Z);const nm=em;var rm=c(38),om=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),im=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",a=void 0!==r.tipLabel?r.tipLabel:"Attributions",s=void 0!==r.expandClassName?r.expandClassName:i+"-expand",l=void 0!==r.collapseLabel?r.collapseLabel:"›",c=void 0!==r.collapseClassName?r.collapseClassName:i+"-collapse";"string"==typeof l?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=l,n.collapseLabel_.className=c):n.collapseLabel_=l;var u=void 0!==r.label?r.label:"i";"string"==typeof u?(n.label_=document.createElement("span"),n.label_.textContent=u,n.label_.className=s):n.label_=u;var f=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=a,n.toggleButton_.appendChild(f),n.toggleButton_.addEventListener(o.Z.CLICK,n.handleClick_.bind(n),!1);var h=i+" "+"ol-unselectable "+ci+(n.collapsed_&&n.collapsible_?" ol-collapsed":"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=h,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return om(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,o=t.layerStatesArray,i=0,a=o.length;i<a;++i){var s=o[i];if(un(s,t.viewState)){var l=s.layer.getSource();if(l){var c=l.getAttributions();if(c){var u=c(t);if(u)if(r=r&&!1!==l.getAttributionsCollapsible(),Array.isArray(u))for(var f=0,h=u.length;f<h;++f)u[f]in e||(n.push(u[f]),e[u[f]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,Oe.fS)(e,this.renderedAttributions_)){(0,w.ep)(this.ulElement_);for(var r=0,o=e.length;r<o;++r){var i=document.createElement("li");i.innerHTML=e[r],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(ui),this.collapsed_?(0,w.$H)(this.collapseLabel_,this.label_):(0,w.$H)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(rm.default);const am=im;var sm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lm=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",a=void 0!==r.label?r.label:"⇧",s=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"==typeof a?(n.label_=document.createElement("span"),n.label_.className=s,n.label_.textContent=a):(n.label_=a,n.label_.classList.add(s));var l=r.tipLabel?r.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=l,c.appendChild(n.label_),c.addEventListener(o.Z.CLICK,n.handleClick_.bind(n),!1);var u=i+" "+"ol-unselectable "+ci,f=n.element;return f.className=u,f.appendChild(c),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(si),n}return sm(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:m}):t.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(si);o||0!==n?o&&0!==n&&this.element.classList.remove(si):this.element.classList.add(si)}this.label_.style.transform=r}this.rotation_=n}},e}(rm.default);const cm=lm;var um=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fm=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",a=void 0!==r.delta?r.delta:1,s=void 0!==r.zoomInClassName?r.zoomInClassName:i+"-in",l=void 0!==r.zoomOutClassName?r.zoomOutClassName:i+"-out",c=void 0!==r.zoomInLabel?r.zoomInLabel:"+",u=void 0!==r.zoomOutLabel?r.zoomOutLabel:"–",f=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=f,p.appendChild("string"==typeof c?document.createTextNode(c):c),p.addEventListener(o.Z.CLICK,n.handleClick_.bind(n,a),!1);var d=document.createElement("button");d.className=l,d.setAttribute("type","button"),d.title=h,d.appendChild("string"==typeof u?document.createTextNode(u):u),d.addEventListener(o.Z.CLICK,n.handleClick_.bind(n,-a),!1);var m=i+" "+"ol-unselectable "+ci,g=n.element;return g.className=m,g.appendChild(p),g.appendChild(d),n.duration_=void 0!==r.duration?r.duration:250,n}return um(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:m})):e.setZoom(r)}}},e}(rm.default);const hm=fm;const pm="active";var dm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function mm(t,e,n,r){var o=t.getZoom();if(void 0!==o){var i=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(i);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:m})}}const gm=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return dm(e,t),e.prototype.getActive=function(){return this.get(pm)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(pm,t)},e.prototype.setMap=function(t){this.map_=t},e}(he.Z);var ym=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vm=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return ym(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==xd.DBLCLICK){var n=t.originalEvent,r=t.map,o=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_;mm(r.getView(),i,o,this.duration_),n.preventDefault(),e=!0}return!e},e}(gm);const _m=vm;var bm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Am=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return bm(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==xd.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==xd.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==xd.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==xd.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){t.activePointers&&(this.targetPointers=t.activePointers)},e}(gm);function wm(t){for(var e=t.length,n=0,r=0,o=0;o<e;o++)n+=t[o].clientX,r+=t[o].clientY;return[n/e,r/e]}const xm=Am;function Cm(t){var e=arguments;return function(t){for(var n=!0,r=0,o=e.length;r<o&&(n=n&&e[r](t));++r);return n}}var km=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Em=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){var e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Sm=zr.uX,Om=function(t){var e=t.originalEvent;return 0==e.button&&!(P.G$&&P.tK&&e.ctrlKey)},Tm=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Pm=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Lm=function(t){var e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Rm=function(t){var e=t.originalEvent;return(0,Qt.h)(void 0!==e,56),"mouse"==e.pointerType},Im=function(t){var e=t.originalEvent;return(0,Qt.h)(void 0!==e,56),e.isPrimary&&0===e.button},Fm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jm=function(t){function e(e){var n=t.call(this,{stopDown:zr.Dv})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=r.condition?r.condition:Cm(Tm,Im);return n.condition_=r.onFocusOnly?Cm(Em,o):o,n.noKinetic_=!1,n}return Fm(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=wm(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map.getView();ut(r,o.getResolution()),ct(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),i=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(i),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:m})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(xm);const Mm=jm;var Dm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bm=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:zr.Dv})||this).condition_=r.condition?r.condition:km,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return Dm(e,t),e.prototype.handleDragEvent=function(t){if(Rm(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Vd){var r=e.getSize(),o=t.pixel,i=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=i-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=i}}},e.prototype.handleUpEvent=function(t){return!Rm(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Rm(t)&&(!(!Om(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(xm);const Nm=Bm;var Gm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wm=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Gm(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Zo([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(xf.Z);const zm=Wm;var Zm=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vm="boxstart",Um="boxdrag",qm="boxend",Xm="boxcancel",Ym=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=r,o}return Zm(e,t),e}(fe.ZP),Km=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.box_=new zm(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:Om,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return Zm(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],o=n[1]-e[1];return r*r+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Ym(Um,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Ym(e?qm:Xm,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ym(Vm,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(xm);const Hm=Km;var $m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jm=function(t){function e(e){var n=this,r=e||{},o=r.condition?r.condition:Pm;return(n=t.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return $m(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap().getView(),n=this.getGeometry();if(this.out_){var r=e.rotatedExtentForGeometry(n),o=e.getResolutionForExtentInternal(r),i=e.getResolution()/o;(n=n.clone()).scale(i*i)}e.fitInternal(n,{duration:this.duration_,easing:m})},e}(Hm);const Qm=Jm,tg=37,eg=38,ng=39,rg=40;var og=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ig=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return Tm(t)&&Lm(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return og(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==o.Z.KEYDOWN){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==rg||r==tg||r==ng||r==eg)){var i=t.map.getView(),a=i.getResolution()*this.pixelDelta_,s=0,l=0;r==rg?l=-a:r==tg?s=-a:r==ng?s=a:l=a;var c=[s,l];ct(c,i.getRotation()),function(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:y,center:t.getConstrainedCenter(o)})}}(i,c,this.duration_),n.preventDefault(),e=!0}}return!e},e}(gm);const ag=ig;var sg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lg=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:Lm,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return sg(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==o.Z.KEYDOWN||t.type==o.Z.KEYPRESS){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=t.map,a=r=="+".charCodeAt(0)?this.delta_:-this.delta_;mm(i.getView(),a,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(gm);const cg=lg;const ug=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var o=this.points_[e]-this.points_[n],i=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(i,o),this.initialVelocity_=Math.sqrt(o*o+i*i)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();var fg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hg="trackpad",pg="wheel",dg=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var o=r.condition?r.condition:Sm;return n.condition_=r.onFocusOnly?Cm(Em,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return fg(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap();t&&t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;if(t.type!==o.Z.WHEEL)return!0;var e,n=t.map,r=t.originalEvent;if(r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==o.Z.WHEEL&&(e=r.deltaY,P.V&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=P.MP),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?hg:pg);var a=n.getView();if(this.mode_===hg&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-(0,z.uZ)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),mm(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(gm);const mg=dg;var gg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yg=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=zr.Dv),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return gg(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var i=o-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=i}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==Vd){var l=a.getViewport().getBoundingClientRect(),c=wm(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(c),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(xm);const vg=yg;var _g=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bg=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=zr.Dv),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return _g(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,i=n.clientY-r.clientY,a=Math.sqrt(o*o+i*i);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var c=s.getViewport().getBoundingClientRect(),u=wm(this.targetPointers);u[0]-=c.left,u[1]-=c.top,this.anchor_=s.getCoordinateFromPixelInternal(u),s.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(xm);const Ag=bg;function wg(t){var e=t||{},n=new cl.Z,r=new ug(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Nm),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new _m({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Mm({onFocusOnly:e.onFocusOnly,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new vg),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Ag({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new ag),n.push(new cg({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new mg({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Qm({duration:e.zoomDuration})),n}var xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cg=function(t){function e(e){return(e=(0,Vt.f0)({},e)).controls||(e.controls=function(t){var e=t||{},n=new cl.Z;return(void 0===e.zoom||e.zoom)&&n.push(new hm(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new cm(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new am(e.attributionOptions)),n}()),e.interactions||(e.interactions=wg({onFocusOnly:!0})),t.call(this,e)||this}return xg(e,t),e.prototype.createRenderer=function(){return new vd(this)},e}(nm);const kg=Cg;var Eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sg="units",Og="degrees",Tg="imperial",Pg="nautical",Lg="metric",Rg="us",Ig=[1,2,5],Fg=25.4/.28,jg=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this).on,n.once,n.un,n.innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+li,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==r.minWidth?r.minWidth:64,n.maxWidth_=r.maxWidth,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addChangeListener(Sg,n.handleUnitsChanged_),n.setUnits(r.units||Lg),n.scaleBar_=r.bar||!1,n.scaleBarSteps_=r.steps||4,n.scaleBarText_=r.text||!1,n.dpi_=r.dpi||void 0,n}return Eg(e,t),e.prototype.getUnits=function(){return this.get(Sg)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Sg,t)},e.prototype.setDpi=function(t){this.dpi_=t},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,r=this.getUnits(),o=r==Og?N.DEGREES:N.METERS,i=bt(n,t.resolution,e,o),a=this.minWidth_*(this.dpi_||Fg)/Fg,s=void 0!==this.maxWidth_?this.maxWidth_*(this.dpi_||Fg)/Fg:void 0,l=a*i,c="";if(r==Og){var u=B[N.DEGREES];(l*=u)<u/60?(c="″",i*=3600):l<u?(c="′",i*=60):c="°"}else r==Tg?l<.9144?(c="in",i/=.0254):l<1609.344?(c="ft",i/=.3048):(c="mi",i/=1609.344):r==Pg?(i/=1852,c="NM"):r==Lg?l<.001?(c="μm",i*=1e6):l<1?(c="mm",i*=1e3):l<1e3?c="m":(c="km",i/=1e3):r==Rg?l<.9144?(c="in",i*=39.37):l<1609.344?(c="ft",i/=.30480061):(c="mi",i/=1609.3472):(0,Qt.h)(!1,33);for(var f,h,p,d,m,g,y,v=3*Math.floor(Math.log(a*i)/Math.log(10));;){p=Math.floor(v/3);var _=Math.pow(10,p);if(f=Ig[(v%3+3)%3]*_,h=Math.round(f/i),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(void 0!==s&&h>=s){f=d,h=m,p=g;break}if(h>=a)break;d=f,m=h,g=p,++v}y=this.scaleBar_?this.createScaleBar(h,f,c):f.toFixed(p<0?-p:0)+" "+c,this.renderedHTML_!=y&&(this.innerElement_.innerHTML=y,this.renderedHTML_=y),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var r="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),o=[],i=t/this.scaleBarSteps_,a="ol-scale-singlebar-odd",s=0;s<this.scaleBarSteps_;s++)0===s&&o.push(this.createMarker("absolute",s)),o.push('<div><div class="ol-scale-singlebar '+a+'" style="width: '+i+'px;"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&o.push(this.createStepText(s+1,t,!0,e,n)),a="ol-scale-singlebar-odd"===a?"ol-scale-singlebar-even":"ol-scale-singlebar-odd";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+r+"</div>":"")+o.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,r,o){var i=(0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+o);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+i+"</div>"},e.prototype.getScaleForResolution=function(){var t=bt(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,N.METERS),e=this.dpi_||Fg;return parseFloat(t.toString())*(1e3/25.4)*e},e.prototype.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},e}(rm.default);const Mg=jg;var Dg=c(17),Bg=c.n(Dg),Ng=c(22),Gg={};Gg.styleTagTransform=Zu(),Gg.setAttributes=Nu(),Gg.insert=Du().bind(null,"head"),Gg.domAPI=ju(),Gg.insertStyleElement=Wu();Iu()(Ng.Z,Gg);Ng.Z&&Ng.Z.locals&&Ng.Z.locals;var Wg;!function(t){t.Zero="zero",t.Coordinates="coords",t.Auto="auto"}(Wg||(Wg={}));var zg,Zg,Vg,Ug=new t.Registry((function(){return[{id:Wg.Zero,name:"(0°, 0°)",lat:0,lon:0},{id:"north-america",name:"North America",lat:40,lon:-100,zoom:4},{id:"europe",name:"Europe",lat:46,lon:14,zoom:4},{id:"west-asia",name:"West Asia",lat:26,lon:53,zoom:4},{id:"se-asia",name:"South-east Asia",lat:10,lon:106,zoom:4},{id:Wg.Coordinates,name:"Coordinates"},{id:Wg.Auto,name:"Auto center"}]}));function qg(t){return qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(t)}function Xg(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Yg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kg(t,e){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kg(t,e)}function Hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qg(t);if(e){var o=Qg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $g(this,n)}}function $g(t,e){if(e&&("object"===qg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jg(t)}function Jg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qg(t)}var ty,ey,ny,ry=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kg(t,e)}(a,t);var e,r,o,i=Hg(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(Jg(e=i.call(this,t)),"style",oy(ur.config.theme)),e}return e=a,(r=[{key:"render",value:function(){var t=this.props,e=t.topRight,r=t.bottomLeft;return n().createElement("div",{className:this.style.overlay},Boolean(null==e?void 0:e.length)&&n().createElement("div",{className:this.style.TR},e),Boolean(null==r?void 0:r.length)&&n().createElement("div",{className:this.style.BL},r))}}])&&Yg(e.prototype,r),o&&Yg(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.PureComponent),oy=(0,r.stylesFactory)((function(t){return{overlay:(0,Dc.css)(zg||(zg=Xg(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 500;\n    pointer-events: none;\n  "]))),TR:(0,Dc.css)(Zg||(Zg=Xg(["\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    pointer-events: auto;\n  "]))),BL:(0,Dc.css)(Vg||(Vg=Xg(["\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    pointer-events: auto;\n  "])))}}));function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sy(t,e){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},sy(t,e)}function ly(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fy(t);if(e){var o=fy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cy(this,n)}}function cy(t,e){if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uy(t)}function uy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fy(t)}function hy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var py=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sy(t,e)}(a,t);var e,r,o,i=ly(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),hy(uy(e=i.call(this,t)),"style",dy(ur.config.theme)),hy(uy(e),"updateViewState",(function(){var t=e.props.map.getView();e.setState({zoom:t.getZoom(),center:Ot(t.getCenter(),t.getProjection(),"EPSG:4326")})})),e.state={zoom:0,center:[0,0]},e}return e=a,(r=[{key:"componentDidMount",value:function(){this.props.map.on("moveend",this.updateViewState),this.updateViewState()}},{key:"render",value:function(){var t=this.state,e=t.zoom,r=t.center;return n().createElement("div",{className:this.style.infoWrap},n().createElement("table",null,n().createElement("tbody",null,n().createElement("tr",null,ty||(ty=n().createElement("th",null,"Zoom:")),n().createElement("td",null,null==e?void 0:e.toFixed(1))),n().createElement("tr",null,ey||(ey=n().createElement("th",null,"Center: ")),n().createElement("td",null,r[0].toFixed(5),", ",r[1].toFixed(5))))))}}])&&ay(e.prototype,r),o&&ay(e,o),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.PureComponent),dy=(0,r.stylesFactory)((function(t){return{infoWrap:(0,Dc.css)(ny||(e=["\n    color: ",";\n    background: ",";\n    border-radius: 2px;\n    padding: 8px;\n  "],n||(n=e.slice(0)),ny=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),t.colors.text,Ml()(t.colors.panelBg).setAlpha(.7).toString())};var e,n})),my=c(23),gy={};gy.styleTagTransform=Zu(),gy.setAttributes=Nu(),gy.insert=Du().bind(null,"head"),gy.domAPI=ju(),gy.insertStyleElement=Wu();Iu()(my.Z,gy);my.Z&&my.Z.locals&&my.Z.locals;var yy,vy,_y,by,Ay,wy,xy,Cy;function ky(t){return(0,Dc.css)(yy||(e=["\n    .ol-scale-line {\n      background: ","; // rgba(0,60,136,0.3);\n    }\n    .ol-scale-line-inner {\n      border: 1px solid ","; // #eee;\n      border-top: 0px;\n      color: ","; //  #eee;\n    }\n    .ol-control {\n      background-color: ","; //rgba(255,255,255,0.4);\n    }\n    .ol-control:hover {\n      background-color: ","; // rgba(255,255,255,0.6);\n    }\n    .ol-control button {\n      color: ","; // white;\n      background-color: ","; // rgba(0,60,136,0.5);\n    }\n    .ol-control button:hover {\n      background-color: ","; // rgba(0,60,136,0.5);\n    }\n    .ol-control button:focus {\n      background-color: ","; // rgba(0,60,136,0.5);\n    }\n    .ol-attribution ul {\n      color: ","; //  #000;\n      text-shadow: none;\n    }\n    .ol-attribution:not(.ol-collapsed) {\n      background-color: ","; // rgba(255,255,255,0.8);\n    }\n  "],n||(n=e.slice(0)),yy=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),t.colors.border.weak,t.colors.text.primary,t.colors.text.primary,t.colors.background.secondary,t.colors.action.hover,t.colors.secondary.text,t.colors.secondary.main,t.colors.secondary.shade,t.colors.secondary.main,t.colors.text.primary,t.colors.background.secondary);var e,n}function Ey(t){return Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ey(t)}function Sy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Oy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return Py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Py(t,e)}function Ly(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fy(t);if(e){var o=Fy(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ry(this,n)}}function Ry(t,e){if(e&&("object"===Ey(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Iy(t)}function Iy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fy(t)}function jy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var My=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Py(t,e)}(s,e);var r,o,i,a=Ly(s);function s(){var t;Oy(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return jy(Iy(t=a.call.apply(a,[this].concat(n))),"style",Wy(ur.config.theme2)),t}return r=s,(o=[{key:"render",value:function(){var e=this,r=this.props,o=r.data,i=r.rowIndex,a=r.columnIndex,s=r.propsToShow,l=r.timeField,c=r.titleField,u=r.icon;return o&&null!=i?s&&s.length>1?n().createElement("div",{className:this.style.infoWrap},c.map((function(t,r){return n().createElement("div",{key:"".concat(r,"/").concat(i)},n().createElement("div",{className:e.style.singleDisplay},n().createElement("h5",null,n().createElement("i",{className:"fa "+u+" "+e.style.icon}),Dy(t,i))))})),s.map((function(r,a){return n().createElement("div",{key:"".concat(a,"/").concat(i),className:e.style.row},n().createElement("span",null,(0,t.getFieldDisplayName)(r,o),":"),n().createElement("span",null,Dy(r,i)))}))):s?n().createElement("div",{className:this.style.infoWrap},s.map((function(r,s){return n().createElement("div",{key:"".concat(s,"/").concat(i),className:s===a?e.style.highlight:""},n().createElement("div",{className:e.style.singleDisplay},n().createElement("h5",null,(0,t.getFieldDisplayName)(r,o))),n().createElement("div",{className:e.style.singleDisplay},n().createElement("h1",null,n().createElement("i",{className:"fa "+u+" "+e.style.icon}),Dy(r,i))))})),l.map((function(t,r){return n().createElement("div",{key:"".concat(r,"/").concat(i),className:e.style.rightDisplay},n().createElement("h6",null,Dy(t,i)))})),c.map((function(t,r){return n().createElement("div",{key:"".concat(r,"/").concat(i),className:e.style.rightDisplay},n().createElement("h6",null,Dy(t,i)))}))):n().createElement("div",{className:this.style.infoWrap},l.map((function(t,r){return n().createElement("div",{key:"".concat(r,"/").concat(i),className:e.style.rightDisplay},n().createElement("h6",null,Dy(t,i)))})),c.map((function(t,r){return n().createElement("div",{key:"".concat(r,"/").concat(i),className:e.style.rightDisplay},n().createElement("h6",null,Dy(t,i)))}))):null}}])&&Ty(r.prototype,o),i&&Ty(r,i),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.PureComponent);function Dy(e,n){var r=e.values.get(n);return e.display?(0,t.formattedValueToString)(e.display(r)):"".concat(r)}var By,Ny,Gy,Wy=(0,r.stylesFactory)((function(t){return{infoWrap:(0,Dc.css)(vy||(vy=Sy(["\n    padding: 0px;\n    div {\n      font-weight: ",";\n      padding: ",";\n    }\n  "])),t.typography.fontWeightMedium,t.spacing(.25,2)),row:(0,Dc.css)(_y||(_y=Sy(["\n    padding: 2px;\n    display: flex;\n    justify-content: space-between;\n  "]))),highlight:(0,Dc.css)(by||(by=Sy(["\n    background: ",";\n  "])),t.colors.action.hover),singleDisplay:(0,Dc.css)(Ay||(Ay=Sy(["\n    text-align: center;\n    h1 {\n      font-size: 3.5rem;\n      font-weight: ",";\n      margin: 0px;\n    }\n  "])),t.typography.fontWeightBold),rightDisplay:(0,Dc.css)(wy||(wy=Sy(["\n    padding-top: 0px;\n    padding-bottom: 0px;\n    text-align: right;\n    h6 {\n      font-height: 1;\n      margin: 0px;\n    }\n  "]))),leftDisplay:(0,Dc.css)(xy||(xy=Sy(["\n    text-align: left;\n  "]))),icon:(0,Dc.css)(Cy||(Cy=Sy(["\n    margin-right: 5px;\n  "])))}}));function zy(t){return zy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(t)}function Zy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(this,arguments)}function Uy(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qy(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xy(){Xy=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function f(){}function h(){}function p(){}var d={};s(d,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&n.call(g,o)&&(d=g);var y=p.prototype=f.prototype=Object.create(d);function v(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==zy(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},v(_.prototype),s(_.prototype,i,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=C,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function Yy(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function Ky(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Yy(i,r,o,a,s,"next",t)}function s(t){Yy(i,r,o,a,s,"throw",t)}a(void 0)}))}}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $y(t,e){return $y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$y(t,e)}function Jy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ev(t);if(e){var o=ev(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qy(this,n)}}function Qy(t,e){if(e&&("object"===zy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tv(t)}function tv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ev(t)}function nv(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rv,ov=void 0,iv=void 0,av=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$y(t,e)}(u,e);var o,i,a,s,l,c=Jy(u);function u(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),nv(tv(n=c.call(this,e)),"globalCSS",ky(ur.config.theme2)),nv(tv(n),"counter",0),nv(tv(n),"map",void 0),nv(tv(n),"basemap",void 0),nv(tv(n),"layers",[]),nv(tv(n),"mouseWheelZoom",void 0),nv(tv(n),"style",sv(ur.config.theme)),nv(tv(n),"hoverPayload",{point:{},pageX:-1,pageY:-1}),nv(tv(n),"hoverEvent",new t.DataHoverEvent(n.hoverPayload)),nv(tv(n),"initMapRef",function(){var t=Ky(Xy().mark((function t(e){var r;return Xy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.map&&n.map.dispose(),e){t.next=4;break}return n.map=void 0,t.abrupt("return");case 4:return r=n.props.options,n.map=new kg({view:n.initMapView(r.view),pixelRatio:1,layers:[],controls:[],target:e,interactions:wg({mouseWheelZoom:!1})}),n.mouseWheelZoom=new mg,n.map.addInteraction(n.mouseWheelZoom),n.initControls(r.controls),n.initBasemap(r.basemap),t.next=12,n.initLayers(r.layers);case 12:n.forceUpdate(),n.map.on("singleclick",n.pointerClickListener);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),nv(tv(n),"pointerClickListener",(function(t){if(n.map){var e=t.originalEvent,r=n.map.getEventPixel(e);n.map.forEachFeatureAtPixel(r,(function(t,e,n){var r=t.getProperties().frame.fields;if(r&&(0,Oc.isArray)(r)){for(var o=!1,i=0;i<r.length&&!o;i++)o="link"===r[i].name;if(o){var a=t.getProperties().rowIndex,s=r[i-1].values.buffer[a];window.open(s,"_self")}}}))}})),nv(tv(n),"pointerMoveListener",(function(t){if(n.map){var e=t.originalEvent,r=n.map.getEventPixel(e),o=Ct(n.map.getCoordinateFromPixel(r)),i=tv(n).hoverPayload;i.pageX=e.pageX,i.pageY=e.pageY,i.point={lat:o[1],lon:o[0]},i.data=void 0,i.rowIndex=void 0,i.propsToShow=void 0;var a={},s=[];n.map.forEachFeatureAtPixel(r,(function(t,e,n){var r=[];if(!i.data){var o=t.getProperties();o.features&&(0,Oc.isArray)(o.features)&&1===o.features.length&&(o=o.features[0].getProperties());var l=o.frame,c=e.getProperties();if(l){var u,f=Uy(void 0!==c.displayProperties?c.displayProperties:[]);try{var h=function(){var t=u.value,e=l.fields.filter((function(e){return e.name===t}));r.push(e[0])};for(f.s();!(u=f.n()).done;)h()}catch(t){f.e(t)}finally{f.f()}i.icon=c.icon?c.icon:"",i.data=a.data=l,i.propsToShow=r.length>0?r:l.fields,i.titleField=l.fields.filter((function(t){return t.name===c.titleField})),i.timeField=l.fields.filter((function(t){return t.name===c.timeField})),i.rowIndex=a.rowIndex=o.rowIndex}}s.push({feature:t,layer:e,geo:n})})),n.hoverPayload.features=s.length?s:void 0,n.props.eventBus.publish(n.hoverEvent);var l=n.state.ttip;a.data===(null==l?void 0:l.data)&&a.rowIndex===(null==l?void 0:l.rowIndex)||n.setState({ttip:Vy({},i)})}})),n.state={},n}return o=u,i=[{key:"componentDidMount",value:function(){iv=this}},{key:"shouldComponentUpdate",value:function(t){if(!this.map)return!0;this.props.height===t.height&&this.props.width===t.width||this.map.updateSize();var e=!1;return this.props.options!==t.options&&(e=this.optionsChanged(t.options)),(e||this.props.data!==t.data)&&this.dataChanged(t.data),!0}},{key:"optionsChanged",value:function(t){var e,n,r=!1,o=this.props.options;return t.view!==o.view&&this.map.setView(this.initMapView(t.view)),t.controls!==o.controls&&this.initControls(null!==(e=t.controls)&&void 0!==e?e:{showZoom:!0,showAttribution:!0,showLayercontrol:!0}),t.basemap!==o.basemap&&(this.initBasemap(t.basemap),r=!0),t.layers!==o.layers&&(this.initLayers(null!==(n=t.layers)&&void 0!==n?n:[]),r=!0),r}},{key:"dataChanged",value:function(t){var e,n=Uy(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.handler.update&&r.handler.update(t)}}catch(t){n.e(t)}finally{n.f()}if(this.props.options.view.id===Wg.Auto&&this.map){var o,i=(0,L.lJ)(),a=Uy(this.map.getLayers().getArray());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s instanceof Il){var l=s.getSource();if(void 0!==l&&l instanceof kl){var c,u=Uy(l.getFeatures());try{for(u.s();!(c=u.n()).done;){var f=c.value.getGeometry();f&&(0,L.l7)(i,f.getExtent())}}catch(t){u.e(t)}finally{u.f()}}}}}catch(t){a.e(t)}finally{a.f()}if(!(0,Oc.isEqual)(i,(0,L.lJ)())){this.map.getView().fit(i);var h=this.map.getView().getZoom();h&&this.map.getView().setZoom(h-.5)}}}},{key:"initBasemap",value:(l=Ky(Xy().mark((function t(e){var n,r,o,i,a;return Xy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.map){t.next=2;break}return t.abrupt("return");case 2:return null!==(n=e)&&void 0!==n&&n.type&&!ur.config.geomapDisableCustomBaseLayer||(e=np),o=null!==(r=op.getIfExists(e.type))&&void 0!==r?r:rp,t.next=6,o.create(this.map,e,ur.config.theme2);case 6:i=t.sent,a=i.init(),this.basemap&&(this.map.removeLayer(this.basemap),this.basemap.dispose()),this.basemap=a,this.map.getLayers().insertAt(0,this.basemap);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"initLayers",value:(s=Ky(Xy().mark((function t(e){var r,o,i,a,s,l,c,u,f,h;return Xy().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Uy(this.layers);try{for(r.s();!(o=r.n()).done;)i=o.value,this.map.removeLayer(i.layer),i.layer.dispose()}catch(t){r.e(t)}finally{r.f()}e||(e=[]),a=[],this.layers=[],s=Uy(e),t.prev=6,s.s();case 8:if((l=s.n()).done){t.next=24;break}if(c=l.value,u=op.getIfExists(c.type)){t.next=14;break}return t.abrupt("continue",22);case 14:return t.next=16,u.create(this.map,c,ur.config.theme2);case 16:f=t.sent,(h=f.init()).___handler=f,this.map.addLayer(h),this.layers.push({config:c,layer:h,handler:f}),f.legend&&a.push(n().createElement("div",{key:"".concat(this.counter++)},f.legend));case 22:t.next=8;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(6),s.e(t.t0);case 29:return t.prev=29,s.f(),t.finish(29);case 32:this.setState({bottomLeft:a}),this.dataChanged(this.props.data);case 34:case"end":return t.stop()}}),t,this,[[6,26,29,32]])}))),function(t){return s.apply(this,arguments)})},{key:"initMapView",value:function(t){var e=new $d({center:[0,0],zoom:1,showFullExtent:!0});t.shared&&(ov?e=ov:ov=e);var n=Ug.getIfExists(t.id);if(n){var r,o,i,a,s=void 0;null==n.lat?n.id!==Wg.Coordinates&&n.id!==Wg.Auto||(s=[null!==(r=t.lon)&&void 0!==r?r:0,null!==(o=t.lat)&&void 0!==o?o:0]):s=[null!==(i=n.lon)&&void 0!==i?i:0,null!==(a=n.lat)&&void 0!==a?a:0],s&&e.setCenter(xt(s))}return t.maxZoom&&e.setMaxZoom(t.maxZoom),t.minZoom&&e.setMaxZoom(t.minZoom),t.zoom&&e.setZoom(t.zoom),e}},{key:"initControls",value:function(t){if(this.map){this.map.getControls().clear(),t.showZoom&&this.map.addControl(new hm),t.showScale&&this.map.addControl(new Mg({units:t.scaleUnits,minWidth:100})),t.showLayercontrol&&this.map.addControl(new(Bg())({label:"L",tipLabel:"Select layers",groupSelectStyle:"none",activationMode:"click"}));var e=this.map;this.map.on("click",(function(t){!function(t){var n=e.forEachFeatureAtPixel(t,(function(t){return t}));if(n){var r=n.get("features");if(r&&r.length>1){var o=(0,L.lJ)();r.forEach((function(t){(0,L.l7)(o,t.getGeometry().getExtent())}));var i=e.getView();i.fit(o);var a=i.getZoom();a&&e.getView().setZoom(a-2)}}}(t.pixel)})),this.mouseWheelZoom.setActive(Boolean(t.mouseWheelZoom)),t.showAttribution&&this.map.addControl(new am({collapsed:!0,collapsible:!0}));var r=[];t.showDebug&&(r=[n().createElement(py,{key:"debug",map:this.map})]),this.setState({topRight:r})}}},{key:"render",value:function(){var t=this.state,e=t.ttip,o=t.topRight,i=t.bottomLeft;return n().createElement(n().Fragment,null,n().createElement("div",{className:this.style.wrap},n().createElement("div",{className:this.style.map,ref:this.initMapRef}),n().createElement(ry,{bottomLeft:i,topRight:o})),n().createElement(r.Portal,null,e&&e.data&&n().createElement(r.VizTooltipContainer,{className:this.style.viz,position:{x:e.pageX,y:e.pageY},offset:{x:10,y:10}},n().createElement(My,e))))}}],i&&Hy(o.prototype,i),a&&Hy(o,a),Object.defineProperty(o,"prototype",{writable:!1}),u}(e.Component),sv=(0,r.stylesFactory)((function(t){return{wrap:(0,Dc.css)(By||(By=Zy(["\n    position: relative;\n    width: 100%;\n    height: 100%;\n  "]))),map:(0,Dc.css)(Ny||(Ny=Zy(["\n    position: absolute;\n    z-index: 0;\n    width: 100%;\n    height: 100%;\n  "]))),viz:(0,Dc.css)(Gy||(Gy=Zy(["\n    border-radius: 10px;\n  "])))}}));function lv(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function cv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(this,arguments)}var fv=function(t){var o,i=t.value,a=t.onChange,s=(t.context,(0,e.useMemo)((function(){var t=[];return null!=i&&i.id?t.push(i.id):t.push(Ug.list()[0].id),Ug.selectOptions(t)}),[null==i?void 0:i.id])),l=(0,e.useCallback)((function(){var t=null==iv?void 0:iv.map;if(t){var e=t.getView(),n=e.getCenter();if(n){var r=Ct(n,e.getProjection());a(uv({},i,{id:Wg.Coordinates,lon:+r[0].toFixed(6),lat:+r[1].toFixed(6),zoom:+e.getZoom().toFixed(2)}))}}}),[i,a]),c=function(t,e){if(t instanceof Il){var n=t.getSource();if(void 0!==n&&n instanceof kl){var r,o=lv(n.getFeatures());try{for(o.s();!(r=o.n()).done;){var i=r.value.getGeometry();i&&(0,L.l7)(e,i.getExtent())}}catch(t){o.e(t)}finally{o.f()}}}},u=(0,e.useCallback)((function(t){var e,n,r,o=Ug.getIfExists(t.value);if(o&&o.id!==Wg.Auto)a(uv({},i,{id:o.id,lat:null!==(e=o.lat)&&void 0!==e?e:null==i?void 0:i.lat,lon:null!==(n=o.lon)&&void 0!==n?n:null==i?void 0:i.lon,zoom:null!==(r=o.zoom)&&void 0!==r?r:null==i?void 0:i.zoom}));else if(o&&o.id===Wg.Auto){var s=null==iv?void 0:iv.map;if(s){var l,u=(0,L.lJ)(),f=lv(s.getLayers().getArray());try{for(f.s();!(l=f.n()).done;){var h=l.value;if(c(h,u),h instanceof Fl.default){var p,d=lv(h.getLayersArray());try{for(d.s();!(p=d.n()).done;){var m=p.value;c(m,u)}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){f.e(t)}finally{f.f()}if(!(0,Oc.isEqual)(u,(0,L.lJ)())){var g=s.getView(),y=g.getCenter();y=(0,L.qg)(u),g.fit(u);var v=g.getZoom();if(y&&v){var _=Ct(y,g.getProjection());a(uv({},i,{id:o.id,lon:+_[0].toFixed(6),lat:+_[1].toFixed(6),zoom:+v.toFixed(0)}))}}}}}),[i,a]);return n().createElement(n().Fragment,null,n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"View",labelWidth:10,grow:!0},n().createElement(r.Select,{menuShouldPortal:!0,options:s.options,value:s.current,onChange:u}))),(null==i?void 0:i.id)===Wg.Coordinates&&n().createElement(n().Fragment,null,n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Latitude",labelWidth:10,grow:!0},n().createElement(Jc,{value:i.lat,min:-90,max:90,step:.001,onChange:function(t){a(uv({},i,{lat:t}))}}))),n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Longitude",labelWidth:10,grow:!0},n().createElement(Jc,{value:i.lon,min:-180,max:180,step:.001,onChange:function(t){a(uv({},i,{lon:t}))}})))),n().createElement(r.InlineFieldRow,null,n().createElement(r.InlineField,{label:"Zoom",labelWidth:10,grow:!0},n().createElement(Jc,{value:null!==(o=null==i?void 0:i.zoom)&&void 0!==o?o:1,min:1,max:18,step:.01,onChange:function(t){a(uv({},i,{zoom:t}))}}))),n().createElement(r.VerticalGroup,null,n().createElement(r.Button,{variant:"secondary",size:"sm",fullWidth:!0,onClick:l},rv||(rv=n().createElement("span",null,"Use current map settings")))))},hv={id:Wg.Zero,lat:0,lon:0,zoom:1};function pv(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dv(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function dv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function gv(t){var e=+t;return isNaN(e)?void 0:e}var yv=new t.PanelPlugin(av).setNoPadding().setPanelChangeHandler((function(e,n,r,o){if("grafana-worldmap-panel"===n&&r.angular){var i=function(e){var n={defaults:{},overrides:[]},r={view:{id:Wg.Zero},controls:{showZoom:!0,mouseWheelZoom:Boolean(e.mouseWheelZoom)},basemap:{type:"default"},layers:[]},o=gv(e.decimals);o&&(n.defaults.decimals=o);if(e.thresholds&&e.colors){var i,a=e.thresholds.split(",").map((function(t){return Number(t.trim())})),s=[],l=pv(e.colors);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=s.length-1;u>=0?s.push({value:a[u],color:c}):s.push({value:-1/0,color:c})}}catch(t){l.e(t)}finally{l.f()}n.defaults.thresholds={mode:t.ThresholdsMode.Absolute,steps:s}}(o=gv(e.initialZoom))&&(r.view.zoom=o);var f={"(0°, 0°)":Wg.Zero,"North America":"north-america",Europe:"europe","West Asia":"west-asia","SE Asia":"se-asia","Last GeoHash":Wg.Coordinates};return r.view.id=f[e.mapCenter],r.view.lat=gv(e.mapCenterLatitude),r.view.lon=gv(e.mapCenterLongitude),{fieldConfig:n,options:r}}(mv({},r.angular,{fieldConfig:o})),a=i.fieldConfig,s=i.options;return e.fieldConfig=a,s}return{}})).useFieldConfig().setPanelOptions((function(t){var e=["Map view"];t.addCustomEditor({category:e,id:"view",path:"view",name:"Initial view",description:"This location will show when the panel first loads",editor:fv,defaultValue:hv}),t.addBooleanSwitch({category:e,path:"view.shared",description:"Use the same view across multiple panels.  Note: this may require a dashboard reload.",name:"Share view",defaultValue:hv.shared}),t.addCustomEditor({category:["Base layer"],id:"basemap",path:"basemap",name:"Base layer",editor:ud,defaultValue:np}),t.addCustomEditor({category:["Data layer"],id:"layers",path:"layers",name:"Data layer",editor:hd}),e=["Map controls"],t.addBooleanSwitch({category:e,path:"controls.showZoom",description:"show buttons in the upper left",name:"Show zoom control",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.mouseWheelZoom",name:"Mouse wheel zoom",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showAttribution",name:"Show attribution",description:"Show the map source attribution info in the lower right",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showLayercontrol",name:"Show layer control",description:"Allow to select layers",defaultValue:!0}).addBooleanSwitch({category:e,path:"controls.showScale",name:"Show scale",description:"Indicate map scale",defaultValue:!1}).addBooleanSwitch({category:e,path:"controls.showDebug",name:"Show debug",description:"show map info",defaultValue:!1})}))})(),u})()));
//# sourceMappingURL=module.js.map