{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///../node_modules/ol/ol.css","webpack:///./GeomapPanel.css","webpack:///./static/css/fontmaki.css","webpack:///./static/css/fontmaki2.css","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/css-loader/dist/runtime/getUrl.js","webpack:///../node_modules/css-loader/dist/runtime/sourceMaps.js","webpack:///../node_modules/ol-layerswitcher/dist/ol-layerswitcher.js","webpack:///../node_modules/rbush/rbush.min.js","webpack:///../node_modules/react-highlight-words/dist/main.js","webpack:///../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///../node_modules/style-loader/dist/runtime/insertBySelector.js","webpack:///../node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack:///../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack:///../node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack:///../node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack:///../node_modules/tinycolor2/tinycolor.js","webpack:///external amd \"@emotion/css\"","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"lodash\"","webpack:///external amd \"react\"","webpack:///external amd \"rxjs\"","webpack:///../node_modules/ol/AssertionError.js","webpack:///../node_modules/ol/Collection.js","webpack:///../node_modules/ol/CollectionEventType.js","webpack:///../node_modules/ol/Disposable.js","webpack:///../node_modules/ol/MapEventType.js","webpack:///../node_modules/ol/Object.js","webpack:///../node_modules/ol/ObjectEventType.js","webpack:///../node_modules/ol/Observable.js","webpack:///../node_modules/ol/array.js","webpack:///../node_modules/ol/asserts.js","webpack:///../node_modules/ol/control/Control.js","webpack:///../node_modules/ol/dom.js","webpack:///../node_modules/ol/events.js","webpack:///../node_modules/ol/events/Event.js","webpack:///../node_modules/ol/events/EventType.js","webpack:///../node_modules/ol/events/Target.js","webpack:///../node_modules/ol/extent.js","webpack:///../node_modules/ol/extent/Relationship.js","webpack:///../node_modules/ol/functions.js","webpack:///../node_modules/ol/has.js","webpack:///../node_modules/ol/layer/Base.js","webpack:///../node_modules/ol/layer/Group.js","webpack:///../node_modules/ol/layer/Property.js","webpack:///../node_modules/ol/math.js","webpack:///../node_modules/ol/obj.js","webpack:///../node_modules/ol/util.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/runtime/nonce","webpack:///../node_modules/ol/easing.js","webpack:///../node_modules/ol/Tile.js","webpack:///../node_modules/ol/TileState.js","webpack:///../node_modules/ol/ImageBase.js","webpack:///../node_modules/ol/Image.js","webpack:///../node_modules/ol/ImageState.js","webpack:///../node_modules/ol/ImageTile.js","webpack:///../node_modules/ol/reproj/common.js","webpack:///../node_modules/ol/proj/Units.js","webpack:///../node_modules/ol/proj/Projection.js","webpack:///../node_modules/ol/proj/epsg3857.js","webpack:///../node_modules/ol/proj/epsg4326.js","webpack:///../node_modules/ol/proj/projections.js","webpack:///../node_modules/ol/proj/transforms.js","webpack:///../node_modules/ol/coordinate.js","webpack:///../node_modules/ol/sphere.js","webpack:///../node_modules/ol/proj.js","webpack:///../node_modules/ol/reproj/Triangulation.js","webpack:///../node_modules/ol/renderer/canvas/common.js","webpack:///../node_modules/ol/reproj.js","webpack:///../node_modules/ol/reproj/Tile.js","webpack:///../node_modules/ol/structs/LRUCache.js","webpack:///../node_modules/ol/tilecoord.js","webpack:///../node_modules/ol/TileCache.js","webpack:///../node_modules/ol/source/Source.js","webpack:///../node_modules/ol/TileRange.js","webpack:///../node_modules/ol/geom/flat/segments.js","webpack:///../node_modules/ol/geom/flat/contains.js","webpack:///../node_modules/ol/geom/flat/intersectsextent.js","webpack:///../node_modules/ol/size.js","webpack:///../node_modules/ol/tilegrid/TileGrid.js","webpack:///../node_modules/ol/tilegrid/common.js","webpack:///../node_modules/ol/tilegrid.js","webpack:///../node_modules/ol/source/Tile.js","webpack:///../node_modules/ol/tileurlfunction.js","webpack:///../node_modules/ol/source/UrlTile.js","webpack:///../node_modules/ol/source/TileEventType.js","webpack:///../node_modules/ol/source/TileImage.js","webpack:///../node_modules/ol/source/XYZ.js","webpack:///../node_modules/ol/render/EventType.js","webpack:///../node_modules/ol/layer/Layer.js","webpack:///../node_modules/ol/layer/TileProperty.js","webpack:///../node_modules/ol/layer/BaseTile.js","webpack:///../node_modules/ol/renderer/Layer.js","webpack:///../node_modules/ol/render/Event.js","webpack:///../node_modules/ol/transform.js","webpack:///../node_modules/ol/color.js","webpack:///../node_modules/ol/renderer/canvas/Layer.js","webpack:///../node_modules/ol/renderer/canvas/TileLayer.js","webpack:///../node_modules/ol/layer/Tile.js","webpack:///./layers/basemaps/carto.ts","webpack:///./config.ts","webpack:///./layers/basemaps/generic.ts","webpack:///./layers/basemaps/esri.ts","webpack:///../node_modules/ol/Feature.js","webpack:///../node_modules/ol/format/Feature.js","webpack:///../node_modules/ol/format/JSONFeature.js","webpack:///../node_modules/ol/geom/GeometryLayout.js","webpack:///../node_modules/ol/geom/flat/transform.js","webpack:///../node_modules/ol/geom/Geometry.js","webpack:///../node_modules/ol/geom/SimpleGeometry.js","webpack:///../node_modules/ol/geom/flat/closest.js","webpack:///../node_modules/ol/geom/flat/deflate.js","webpack:///../node_modules/ol/geom/flat/simplify.js","webpack:///../node_modules/ol/geom/flat/inflate.js","webpack:///../node_modules/ol/geom/flat/interpolate.js","webpack:///../node_modules/ol/geom/flat/length.js","webpack:///../node_modules/ol/geom/LineString.js","webpack:///../node_modules/ol/geom/MultiLineString.js","webpack:///../node_modules/ol/geom/Point.js","webpack:///../node_modules/ol/geom/MultiPoint.js","webpack:///../node_modules/ol/geom/flat/area.js","webpack:///../node_modules/ol/geom/LinearRing.js","webpack:///../node_modules/ol/geom/flat/interiorpoint.js","webpack:///../node_modules/ol/geom/flat/reverse.js","webpack:///../node_modules/ol/geom/flat/orient.js","webpack:///../node_modules/ol/geom/Polygon.js","webpack:///../node_modules/ol/geom/MultiPolygon.js","webpack:///../node_modules/ol/geom/flat/center.js","webpack:///../node_modules/ol/format/TopoJSON.js","webpack:///../node_modules/ol/style/Image.js","webpack:///../node_modules/ol/colorlike.js","webpack:///../node_modules/ol/css.js","webpack:///../node_modules/ol/render/canvas.js","webpack:///../node_modules/ol/style/RegularShape.js","webpack:///../node_modules/ol/style/Circle.js","webpack:///../node_modules/ol/style/Fill.js","webpack:///../node_modules/ol/style/Stroke.js","webpack:///../node_modules/ol/style/Style.js","webpack:///../node_modules/ol/layer/BaseVector.js","webpack:///../node_modules/ol/render/canvas/Instruction.js","webpack:///../node_modules/ol/render/VectorContext.js","webpack:///../node_modules/ol/render/canvas/Builder.js","webpack:///../node_modules/ol/render/canvas/ImageBuilder.js","webpack:///../node_modules/ol/render/canvas/LineStringBuilder.js","webpack:///../node_modules/ol/render/canvas/PolygonBuilder.js","webpack:///../node_modules/ol/geom/flat/straightchunk.js","webpack:///../node_modules/ol/render/canvas/TextBuilder.js","webpack:///../node_modules/ol/style/TextPlacement.js","webpack:///../node_modules/ol/render/canvas/BuilderGroup.js","webpack:///../node_modules/ol/geom/flat/textpath.js","webpack:///../node_modules/ol/render/canvas/Executor.js","webpack:///../node_modules/ol/render/canvas/ExecutorGroup.js","webpack:///../node_modules/ol/layer/VectorTileRenderType.js","webpack:///../node_modules/ol/render/canvas/Immediate.js","webpack:///../node_modules/ol/style/IconAnchorUnits.js","webpack:///../node_modules/ol/style/IconOrigin.js","webpack:///../node_modules/ol/style/IconImageCache.js","webpack:///../node_modules/ol/style/IconImage.js","webpack:///../node_modules/ol/style/Icon.js","webpack:///../node_modules/ol/render/canvas/hitdetect.js","webpack:///../node_modules/ol/renderer/vector.js","webpack:///../node_modules/ol/renderer/canvas/VectorTileLayer.js","webpack:///../node_modules/ol/ViewHint.js","webpack:///../node_modules/ol/layer/VectorTile.js","webpack:///../node_modules/ol/VectorTile.js","webpack:///../node_modules/ol/VectorRenderTile.js","webpack:///../node_modules/ol/featureloader.js","webpack:///../node_modules/ol/source/VectorTile.js","webpack:///./layers/basemaps/nextzen.ts","webpack:///../node_modules/ol/source/OSM.js","webpack:///./layers/basemaps/osm.ts","webpack:///./layers/basemaps/index.ts","webpack:///../node_modules/ol-ext/util/ext.js","webpack:///../node_modules/ol-ext/style/FontSymbol.js","webpack:///../node_modules/ol-ext/style/Shadow.js","webpack:///../node_modules/ol-ext/style/FontAwesomeDef.js","webpack:///../node_modules/ol-ext/style/FontMaki2Def.js","webpack:///../node_modules/ol-ext/style/FontMakiDef.js","webpack:///../node_modules/ol/structs/RBush.js","webpack:///../node_modules/ol/source/VectorEventType.js","webpack:///../node_modules/ol/loadingstrategy.js","webpack:///../node_modules/ol/source/Vector.js","webpack:///../node_modules/ol/source/Cluster.js","webpack:///../node_modules/ol/renderer/canvas/VectorLayer.js","webpack:///../node_modules/ol/layer/Vector.js","webpack:///./gazetteer/gazetteer.ts","webpack:///./gazetteer/worldmap.ts","webpack:///./utils/geohash.ts","webpack:///../node_modules/ol/geom/GeometryCollection.js","webpack:///../node_modules/ol/format/GeoJSON.js","webpack:///./extension.ts","webpack:///./utils/location.ts","webpack:///./dimensions/types.ts","webpack:///./dimensions/utils.ts","webpack:///./dimensions/color.ts","webpack:///./dimensions/scale.ts","webpack:///./dimensions/editors/utils.ts","webpack:///./dimensions/editors/NumberInput.tsx","webpack:///./dimensions/editors/ScaleDimensionEditor.tsx","webpack:///./dimensions/editors/ColorDimensionEditor.tsx","webpack:///./dimensions/editors/ScalarDimensionEditor.tsx","webpack:///./components/ObservablePropsWrapper.tsx","webpack:///./layers/data/MarkersLegend.tsx","webpack:///./layers/data/utils.ts","webpack:///./utils/regularShapes.ts","webpack:///../node_modules/ol/style/Text.js","webpack:///./static/css/fontmaki2.css?e5dd","webpack:///./static/css/fontmaki.css?3e28","webpack:///./layers/data/markersLayer.tsx","webpack:///./layers/data/geojsonMapper.ts","webpack:///../node_modules/ol/webgl.js","webpack:///../node_modules/ol/webgl/Buffer.js","webpack:///../node_modules/ol/webgl/ContextEventType.js","webpack:///../node_modules/ol/webgl/PostProcessingPass.js","webpack:///../node_modules/ol/vec/mat4.js","webpack:///../node_modules/ol/webgl/Helper.js","webpack:///../node_modules/ol/renderer/webgl/Layer.js","webpack:///../node_modules/ol/webgl/RenderTarget.js","webpack:///../node_modules/ol/renderer/webgl/PointsLayer.js","webpack:///../node_modules/ol/worker/webgl.js","webpack:///../node_modules/ol/layer/Heatmap.js","webpack:///./utils/frameVectorSource.ts","webpack:///./layers/data/heatMap.tsx","webpack:///./layers/data/lastPointTracker.ts","webpack:///../node_modules/ol/ImageCanvas.js","webpack:///../node_modules/ol/reproj/Image.js","webpack:///../node_modules/ol/source/Image.js","webpack:///../node_modules/ol/source/ImageCanvas.js","webpack:///../node_modules/ol-ext/source/IDW.js","webpack:///../node_modules/ol/layer/BaseImage.js","webpack:///../node_modules/ol/renderer/canvas/ImageLayer.js","webpack:///../node_modules/ol/layer/Image.js","webpack:///./layers/data/idwMap.tsx","webpack:///./layers/data/index.ts","webpack:///./layers/registry.ts","webpack:///../node_modules/react-use/esm/misc/util.js","webpack:///../node_modules/react-use/esm/useLocalStorage.js","webpack:///../node_modules/@grafana/e2e-selectors/dist/esm/selectors/components.js","webpack:///../node_modules/@grafana/e2e-selectors/dist/esm/selectors/index.js","webpack:///../node_modules/@grafana/e2e-selectors/dist/esm/selectors/pages.js","webpack:///./editor/PanelEditor/OptionsPaneCategory.tsx","webpack:///./editor/PanelEditor/OptionsPaneCategoryDescriptor.tsx","webpack:///./editor/PanelEditor/utils.ts","webpack:///./editor/PanelEditor/OptionsPaneItemDescriptor.tsx","webpack:///./editor/GazetteerPathEditor.tsx","webpack:///./editor/FrameSelectionEditor.tsx","webpack:///./editor/LayerEditor.tsx","webpack:///./editor/PanelEditor/getVizualizationOptions.tsx","webpack:///./editor/BaseLayerEditor.tsx","webpack:///./editor/DataLayersEditor.tsx","webpack:///../node_modules/ol/ViewProperty.js","webpack:///../node_modules/ol/centerconstraint.js","webpack:///../node_modules/ol/resolutionconstraint.js","webpack:///../node_modules/ol/rotationconstraint.js","webpack:///../node_modules/ol/View.js","webpack:///../node_modules/ol/renderer/Map.js","webpack:///../node_modules/ol/renderer/Composite.js","webpack:///../node_modules/ol/MapEvent.js","webpack:///../node_modules/ol/MapBrowserEvent.js","webpack:///../node_modules/ol/MapBrowserEventType.js","webpack:///../node_modules/ol/pointer/EventType.js","webpack:///../node_modules/ol/MapBrowserEventHandler.js","webpack:///../node_modules/ol/MapProperty.js","webpack:///../node_modules/ol/structs/PriorityQueue.js","webpack:///../node_modules/ol/TileQueue.js","webpack:///../node_modules/ol/PluggableMap.js","webpack:///../node_modules/ol/control/Attribution.js","webpack:///../node_modules/ol/control/Rotate.js","webpack:///../node_modules/ol/control/Zoom.js","webpack:///../node_modules/ol/interaction/Property.js","webpack:///../node_modules/ol/interaction/Interaction.js","webpack:///../node_modules/ol/interaction/DoubleClickZoom.js","webpack:///../node_modules/ol/interaction/Pointer.js","webpack:///../node_modules/ol/events/condition.js","webpack:///../node_modules/ol/interaction/DragPan.js","webpack:///../node_modules/ol/interaction/DragRotate.js","webpack:///../node_modules/ol/render/Box.js","webpack:///../node_modules/ol/interaction/DragBox.js","webpack:///../node_modules/ol/interaction/DragZoom.js","webpack:///../node_modules/ol/interaction/KeyboardPan.js","webpack:///../node_modules/ol/events/KeyCode.js","webpack:///../node_modules/ol/interaction/KeyboardZoom.js","webpack:///../node_modules/ol/Kinetic.js","webpack:///../node_modules/ol/interaction/MouseWheelZoom.js","webpack:///../node_modules/ol/interaction/PinchRotate.js","webpack:///../node_modules/ol/interaction/PinchZoom.js","webpack:///../node_modules/ol/interaction.js","webpack:///../node_modules/ol/Map.js","webpack:///../node_modules/ol/control.js","webpack:///../node_modules/ol/control/ScaleLine.js","webpack:///./view.ts","webpack:///./GeomapPanel.css?9f45","webpack:///./GeomapOverlay.tsx","webpack:///./components/DebugOverlay.tsx","webpack:///../node_modules/ol/ol.css?2bfa","webpack:///./components/DataHoverView.tsx","webpack:///./GeomapPanel.tsx","webpack:///./globalStyles.ts","webpack:///./editor/MapViewEditor.tsx","webpack:///./types.ts","webpack:///./migrations.ts","webpack:///./module.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ol-box {\\n  box-sizing: border-box;\\n  border-radius: 2px;\\n  border: 1.5px solid rgb(179,197,219);\\n  background-color: rgba(255,255,255,0.4);\\n}\\n\\n.ol-mouse-position {\\n  top: 8px;\\n  right: 8px;\\n  position: absolute;\\n}\\n\\n.ol-scale-line {\\n  background: rgba(0,60,136,0.3);\\n  border-radius: 4px;\\n  bottom: 8px;\\n  left: 8px;\\n  padding: 2px;\\n  position: absolute;\\n}\\n.ol-scale-line-inner {\\n  border: 1px solid #eee;\\n  border-top: none;\\n  color: #eee;\\n  font-size: 10px;\\n  text-align: center;\\n  margin: 1px;\\n  will-change: contents, width;\\n  transition: all 0.25s;\\n}\\n.ol-scale-singlebar-even{\\n  background-color: #000000;\\n}\\n.ol-scale-singlebar-odd{\\n  background-color: #ffffff;\\n}\\n.ol-scale-bar {\\n  position: absolute;\\n  bottom: 8px;\\n  left: 8px;\\n}\\n.ol-scale-step-marker {\\n  width: 1px;\\n  height: 15px;\\n  background-color: #000000;\\n  float: right;\\n  z-index: 10;\\n}\\n.ol-scale-step-text {\\n  position: absolute;\\n  bottom: -5px;\\n  font-size: 12px;\\n  z-index: 11;\\n  color: #000000;\\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\\n}\\n.ol-scale-text {\\n  position: absolute;\\n  font-size: 14px;\\n  text-align: center;\\n  bottom: 25px;\\n  color: #000000;\\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\\n}\\n.ol-scale-singlebar {\\n  position: relative;\\n  height: 10px;\\n  z-index: 9;\\n  box-sizing: border-box;\\n  border: 1px solid black;\\n}\\n\\n.ol-unsupported {\\n  display: none;\\n}\\n.ol-viewport, .ol-unselectable {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n.ol-viewport canvas {\\n  all: unset;\\n}\\n.ol-selectable {\\n  -webkit-touch-callout: default;\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n  -ms-user-select: text;\\n  user-select: text;\\n}\\n.ol-grabbing {\\n  cursor: -webkit-grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: grabbing;\\n}\\n.ol-grab {\\n  cursor: move;\\n  cursor: -webkit-grab;\\n  cursor: -moz-grab;\\n  cursor: grab;\\n}\\n.ol-control {\\n  position: absolute;\\n  background-color: rgba(255,255,255,0.4);\\n  border-radius: 4px;\\n  padding: 2px;\\n}\\n.ol-control:hover {\\n  background-color: rgba(255,255,255,0.6);\\n}\\n.ol-zoom {\\n  top: .5em;\\n  left: .5em;\\n}\\n.ol-rotate {\\n  top: .5em;\\n  right: .5em;\\n  transition: opacity .25s linear, visibility 0s linear;\\n}\\n.ol-rotate.ol-hidden {\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: opacity .25s linear, visibility 0s linear .25s;\\n}\\n.ol-zoom-extent {\\n  top: 4.643em;\\n  left: .5em;\\n}\\n.ol-full-screen {\\n  right: .5em;\\n  top: .5em;\\n}\\n\\n.ol-control button {\\n  display: block;\\n  margin: 1px;\\n  padding: 0;\\n  color: white;\\n  font-weight: bold;\\n  text-decoration: none;\\n  font-size: inherit;\\n  text-align: center;\\n  height: 1.375em;\\n  width: 1.375em;\\n  line-height: .4em;\\n  background-color: rgba(0,60,136,0.5);\\n  border: none;\\n  border-radius: 2px;\\n}\\n.ol-control button::-moz-focus-inner {\\n  border: none;\\n  padding: 0;\\n}\\n.ol-zoom-extent button {\\n  line-height: 1.4em;\\n}\\n.ol-compass {\\n  display: block;\\n  font-weight: normal;\\n  font-size: 1.2em;\\n  will-change: transform;\\n}\\n.ol-touch .ol-control button {\\n  font-size: 1.5em;\\n}\\n.ol-touch .ol-zoom-extent {\\n  top: 5.5em;\\n}\\n.ol-control button:hover,\\n.ol-control button:focus {\\n  text-decoration: none;\\n  background-color: rgba(0,60,136,0.7);\\n}\\n.ol-zoom .ol-zoom-in {\\n  border-radius: 2px 2px 0 0;\\n}\\n.ol-zoom .ol-zoom-out {\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n\\n.ol-attribution {\\n  text-align: right;\\n  bottom: .5em;\\n  right: .5em;\\n  max-width: calc(100% - 1.3em);\\n  display: flex;\\n  flex-flow: row-reverse;\\n  align-items: center;\\n}\\n.ol-attribution a {\\n  color: rgba(0,60,136,0.7);\\n  text-decoration: none;\\n}\\n.ol-attribution ul {\\n  margin: 0;\\n  padding: 1px .5em;\\n  color: #000;\\n  text-shadow: 0 0 2px #fff;\\n  font-size: 12px;\\n}\\n.ol-attribution li {\\n  display: inline;\\n  list-style: none;\\n}\\n.ol-attribution li:not(:last-child):after {\\n  content: \\\" \\\";\\n}\\n.ol-attribution img {\\n  max-height: 2em;\\n  max-width: inherit;\\n  vertical-align: middle;\\n}\\n.ol-attribution button {\\n  flex-shrink: 0;\\n}\\n.ol-attribution.ol-collapsed ul {\\n  display: none;\\n}\\n.ol-attribution:not(.ol-collapsed) {\\n  background: rgba(255,255,255,0.8);\\n}\\n.ol-attribution.ol-uncollapsible {\\n  bottom: 0;\\n  right: 0;\\n  border-radius: 4px 0 0;\\n}\\n.ol-attribution.ol-uncollapsible img {\\n  margin-top: -.2em;\\n  max-height: 1.6em;\\n}\\n.ol-attribution.ol-uncollapsible button {\\n  display: none;\\n}\\n\\n.ol-zoomslider {\\n  top: 4.5em;\\n  left: .5em;\\n  height: 200px;\\n}\\n.ol-zoomslider button {\\n  position: relative;\\n  height: 10px;\\n}\\n\\n.ol-touch .ol-zoomslider {\\n  top: 5.5em;\\n}\\n\\n.ol-overviewmap {\\n  left: 0.5em;\\n  bottom: 0.5em;\\n}\\n.ol-overviewmap.ol-uncollapsible {\\n  bottom: 0;\\n  left: 0;\\n  border-radius: 0 4px 0 0;\\n}\\n.ol-overviewmap .ol-overviewmap-map,\\n.ol-overviewmap button {\\n  display: block;\\n}\\n.ol-overviewmap .ol-overviewmap-map {\\n  border: 1px solid #7b98bc;\\n  height: 150px;\\n  margin: 2px;\\n  width: 150px;\\n}\\n.ol-overviewmap:not(.ol-collapsed) button {\\n  bottom: 2px;\\n  left: 2px;\\n  position: absolute;\\n}\\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\\n.ol-overviewmap.ol-uncollapsible button {\\n  display: none;\\n}\\n.ol-overviewmap:not(.ol-collapsed) {\\n  background: rgba(255,255,255,0.8);\\n}\\n.ol-overviewmap-box {\\n  border: 2px dotted rgba(0,60,136,0.7);\\n}\\n\\n.ol-overviewmap .ol-overviewmap-box:hover {\\n  cursor: move;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/ol/ol.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,oCAAoC;EACpC,uCAAuC;AACzC;;AAEA;EACE,QAAQ;EACR,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,8BAA8B;EAC9B,kBAAkB;EAClB,WAAW;EACX,SAAS;EACT,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,4BAA4B;EAC5B,qBAAqB;AACvB;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,yBAAyB;AAC3B;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX;AACA;EACE,UAAU;EACV,YAAY;EACZ,yBAAyB;EACzB,YAAY;EACZ,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,eAAe;EACf,WAAW;EACX,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,cAAc;EACd,yEAAyE;AAC3E;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,UAAU;EACV,sBAAsB;EACtB,uBAAuB;AACzB;;AAEA;EACE,aAAa;AACf;AACA;EACE,2BAA2B;EAC3B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;EACjB,0CAA0C;AAC5C;AACA;EACE,UAAU;AACZ;AACA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,iBAAiB;AACnB;AACA;EACE,wBAAwB;EACxB,qBAAqB;EACrB,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,oBAAoB;EACpB,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,uCAAuC;EACvC,kBAAkB;EAClB,YAAY;AACd;AACA;EACE,uCAAuC;AACzC;AACA;EACE,SAAS;EACT,UAAU;AACZ;AACA;EACE,SAAS;EACT,WAAW;EACX,qDAAqD;AACvD;AACA;EACE,UAAU;EACV,kBAAkB;EAClB,0DAA0D;AAC5D;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,cAAc;EACd,WAAW;EACX,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,iBAAiB;EACjB,oCAAoC;EACpC,YAAY;EACZ,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,kBAAkB;AACpB;AACA;EACE,cAAc;EACd,mBAAmB;EACnB,gBAAgB;EAChB,sBAAsB;AACxB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,UAAU;AACZ;AACA;;EAEE,qBAAqB;EACrB,oCAAoC;AACtC;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,0BAA0B;AAC5B;;;AAGA;EACE,iBAAiB;EACjB,YAAY;EACZ,WAAW;EACX,6BAA6B;EAC7B,aAAa;EACb,sBAAsB;EACtB,mBAAmB;AACrB;AACA;EACE,yBAAyB;EACzB,qBAAqB;AACvB;AACA;EACE,SAAS;EACT,iBAAiB;EACjB,WAAW;EACX,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,eAAe;EACf,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;EACE,eAAe;EACf,kBAAkB;EAClB,sBAAsB;AACxB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,SAAS;EACT,QAAQ;EACR,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,iBAAiB;AACnB;AACA;EACE,aAAa;AACf;;AAEA;EACE,UAAU;EACV,UAAU;EACV,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,aAAa;AACf;AACA;EACE,SAAS;EACT,OAAO;EACP,wBAAwB;AAC1B;AACA;;EAEE,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,aAAa;EACb,WAAW;EACX,YAAY;AACd;AACA;EACE,WAAW;EACX,SAAS;EACT,kBAAkB;AACpB;AACA;;EAEE,aAAa;AACf;AACA;EACE,iCAAiC;AACnC;AACA;EACE,qCAAqC;AACvC;;AAEA;EACE,YAAY;AACd\",\"sourcesContent\":[\".ol-box {\\n  box-sizing: border-box;\\n  border-radius: 2px;\\n  border: 1.5px solid rgb(179,197,219);\\n  background-color: rgba(255,255,255,0.4);\\n}\\n\\n.ol-mouse-position {\\n  top: 8px;\\n  right: 8px;\\n  position: absolute;\\n}\\n\\n.ol-scale-line {\\n  background: rgba(0,60,136,0.3);\\n  border-radius: 4px;\\n  bottom: 8px;\\n  left: 8px;\\n  padding: 2px;\\n  position: absolute;\\n}\\n.ol-scale-line-inner {\\n  border: 1px solid #eee;\\n  border-top: none;\\n  color: #eee;\\n  font-size: 10px;\\n  text-align: center;\\n  margin: 1px;\\n  will-change: contents, width;\\n  transition: all 0.25s;\\n}\\n.ol-scale-singlebar-even{\\n  background-color: #000000;\\n}\\n.ol-scale-singlebar-odd{\\n  background-color: #ffffff;\\n}\\n.ol-scale-bar {\\n  position: absolute;\\n  bottom: 8px;\\n  left: 8px;\\n}\\n.ol-scale-step-marker {\\n  width: 1px;\\n  height: 15px;\\n  background-color: #000000;\\n  float: right;\\n  z-index: 10;\\n}\\n.ol-scale-step-text {\\n  position: absolute;\\n  bottom: -5px;\\n  font-size: 12px;\\n  z-index: 11;\\n  color: #000000;\\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\\n}\\n.ol-scale-text {\\n  position: absolute;\\n  font-size: 14px;\\n  text-align: center;\\n  bottom: 25px;\\n  color: #000000;\\n  text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\\n}\\n.ol-scale-singlebar {\\n  position: relative;\\n  height: 10px;\\n  z-index: 9;\\n  box-sizing: border-box;\\n  border: 1px solid black;\\n}\\n\\n.ol-unsupported {\\n  display: none;\\n}\\n.ol-viewport, .ol-unselectable {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none;\\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n.ol-viewport canvas {\\n  all: unset;\\n}\\n.ol-selectable {\\n  -webkit-touch-callout: default;\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n  -ms-user-select: text;\\n  user-select: text;\\n}\\n.ol-grabbing {\\n  cursor: -webkit-grabbing;\\n  cursor: -moz-grabbing;\\n  cursor: grabbing;\\n}\\n.ol-grab {\\n  cursor: move;\\n  cursor: -webkit-grab;\\n  cursor: -moz-grab;\\n  cursor: grab;\\n}\\n.ol-control {\\n  position: absolute;\\n  background-color: rgba(255,255,255,0.4);\\n  border-radius: 4px;\\n  padding: 2px;\\n}\\n.ol-control:hover {\\n  background-color: rgba(255,255,255,0.6);\\n}\\n.ol-zoom {\\n  top: .5em;\\n  left: .5em;\\n}\\n.ol-rotate {\\n  top: .5em;\\n  right: .5em;\\n  transition: opacity .25s linear, visibility 0s linear;\\n}\\n.ol-rotate.ol-hidden {\\n  opacity: 0;\\n  visibility: hidden;\\n  transition: opacity .25s linear, visibility 0s linear .25s;\\n}\\n.ol-zoom-extent {\\n  top: 4.643em;\\n  left: .5em;\\n}\\n.ol-full-screen {\\n  right: .5em;\\n  top: .5em;\\n}\\n\\n.ol-control button {\\n  display: block;\\n  margin: 1px;\\n  padding: 0;\\n  color: white;\\n  font-weight: bold;\\n  text-decoration: none;\\n  font-size: inherit;\\n  text-align: center;\\n  height: 1.375em;\\n  width: 1.375em;\\n  line-height: .4em;\\n  background-color: rgba(0,60,136,0.5);\\n  border: none;\\n  border-radius: 2px;\\n}\\n.ol-control button::-moz-focus-inner {\\n  border: none;\\n  padding: 0;\\n}\\n.ol-zoom-extent button {\\n  line-height: 1.4em;\\n}\\n.ol-compass {\\n  display: block;\\n  font-weight: normal;\\n  font-size: 1.2em;\\n  will-change: transform;\\n}\\n.ol-touch .ol-control button {\\n  font-size: 1.5em;\\n}\\n.ol-touch .ol-zoom-extent {\\n  top: 5.5em;\\n}\\n.ol-control button:hover,\\n.ol-control button:focus {\\n  text-decoration: none;\\n  background-color: rgba(0,60,136,0.7);\\n}\\n.ol-zoom .ol-zoom-in {\\n  border-radius: 2px 2px 0 0;\\n}\\n.ol-zoom .ol-zoom-out {\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n\\n.ol-attribution {\\n  text-align: right;\\n  bottom: .5em;\\n  right: .5em;\\n  max-width: calc(100% - 1.3em);\\n  display: flex;\\n  flex-flow: row-reverse;\\n  align-items: center;\\n}\\n.ol-attribution a {\\n  color: rgba(0,60,136,0.7);\\n  text-decoration: none;\\n}\\n.ol-attribution ul {\\n  margin: 0;\\n  padding: 1px .5em;\\n  color: #000;\\n  text-shadow: 0 0 2px #fff;\\n  font-size: 12px;\\n}\\n.ol-attribution li {\\n  display: inline;\\n  list-style: none;\\n}\\n.ol-attribution li:not(:last-child):after {\\n  content: \\\" \\\";\\n}\\n.ol-attribution img {\\n  max-height: 2em;\\n  max-width: inherit;\\n  vertical-align: middle;\\n}\\n.ol-attribution button {\\n  flex-shrink: 0;\\n}\\n.ol-attribution.ol-collapsed ul {\\n  display: none;\\n}\\n.ol-attribution:not(.ol-collapsed) {\\n  background: rgba(255,255,255,0.8);\\n}\\n.ol-attribution.ol-uncollapsible {\\n  bottom: 0;\\n  right: 0;\\n  border-radius: 4px 0 0;\\n}\\n.ol-attribution.ol-uncollapsible img {\\n  margin-top: -.2em;\\n  max-height: 1.6em;\\n}\\n.ol-attribution.ol-uncollapsible button {\\n  display: none;\\n}\\n\\n.ol-zoomslider {\\n  top: 4.5em;\\n  left: .5em;\\n  height: 200px;\\n}\\n.ol-zoomslider button {\\n  position: relative;\\n  height: 10px;\\n}\\n\\n.ol-touch .ol-zoomslider {\\n  top: 5.5em;\\n}\\n\\n.ol-overviewmap {\\n  left: 0.5em;\\n  bottom: 0.5em;\\n}\\n.ol-overviewmap.ol-uncollapsible {\\n  bottom: 0;\\n  left: 0;\\n  border-radius: 0 4px 0 0;\\n}\\n.ol-overviewmap .ol-overviewmap-map,\\n.ol-overviewmap button {\\n  display: block;\\n}\\n.ol-overviewmap .ol-overviewmap-map {\\n  border: 1px solid #7b98bc;\\n  height: 150px;\\n  margin: 2px;\\n  width: 150px;\\n}\\n.ol-overviewmap:not(.ol-collapsed) button {\\n  bottom: 2px;\\n  left: 2px;\\n  position: absolute;\\n}\\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\\n.ol-overviewmap.ol-uncollapsible button {\\n  display: none;\\n}\\n.ol-overviewmap:not(.ol-collapsed) {\\n  background: rgba(255,255,255,0.8);\\n}\\n.ol-overviewmap-box {\\n  border: 2px dotted rgba(0,60,136,0.7);\\n}\\n\\n.ol-overviewmap .ol-overviewmap-box:hover {\\n  cursor: move;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ol-control.layer-switcher {\\n  top: 0.5em;\\n  right: 0.5em;\\n  text-align: right;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click {\\n  padding-right: 0.5em;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > button {\\n  right: 0;\\n  border-left: 0;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > .panel {\\n  display: block;\\n}\\n.ol-control.layer-switcher.layer-switcher-activation-mode-click > .panel {\\n  display: none;\\n}\\n.ol-control.layer-switcher button {\\n  right: 0;\\n  border-left: 0;\\n}\\n\\n.ol-control.layer-switcher li.layer {\\n  list-style: none;\\n}\\n\\n\\n.data-layer-add { \\n    display: flex;\\n    justify-content: flex-end;\\n    margin-bottom: 10px;\\n}\\n\\n.data-layer-remove { \\n  display: flex;\\n  justify-content: flex-end;\\n  margin-bottom: 10px;\\n  margin-top: 10px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./GeomapPanel.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,UAAU;EACV,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,oBAAoB;AACtB;AACA;EACE,QAAQ;EACR,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;EACE,aAAa;AACf;AACA;EACE,QAAQ;EACR,cAAc;AAChB;;AAEA;EACE,gBAAgB;AAClB;;;AAGA;IACI,aAAa;IACb,yBAAyB;IACzB,mBAAmB;AACvB;;AAEA;EACE,aAAa;EACb,yBAAyB;EACzB,mBAAmB;EACnB,gBAAgB;AAClB\",\"sourcesContent\":[\".ol-control.layer-switcher {\\n  top: 0.5em;\\n  right: 0.5em;\\n  text-align: right;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click {\\n  padding-right: 0.5em;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > button {\\n  right: 0;\\n  border-left: 0;\\n}\\n.ol-control.layer-switcher.shown.layer-switcher-activation-mode-click > .panel {\\n  display: block;\\n}\\n.ol-control.layer-switcher.layer-switcher-activation-mode-click > .panel {\\n  display: none;\\n}\\n.ol-control.layer-switcher button {\\n  right: 0;\\n  border-left: 0;\\n}\\n\\n.ol-control.layer-switcher li.layer {\\n  list-style: none;\\n}\\n\\n\\n.data-layer-add { \\n    display: flex;\\n    justify-content: flex-end;\\n    margin-bottom: 10px;\\n}\\n\\n.data-layer-remove { \\n  display: flex;\\n  justify-content: flex-end;\\n  margin-bottom: 10px;\\n  margin-top: 10px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../font/fontmaki.eot?66752613\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../font/fontmaki.woff?66752613\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../font/fontmaki.ttf?66752613\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../font/fontmaki.svg?66752613\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___, { hash: \"#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___, { hash: \"#fontmaki\" });\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/** Maki is a clean point of interest icon set made for web cartography\\r\\n\\tby Mapbox https://www.mapbox.com/maki/\\r\\n*/\\r\\n@font-face {\\r\\n  font-family: 'fontmaki';\\r\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\r\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format('embedded-opentype'),\\r\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format('woff'),\\r\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('truetype'),\\r\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('svg');\\r\\n  font-weight: normal;\\r\\n  font-style: normal;\\r\\n}\\r\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\r\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\r\\n/*\\r\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\r\\n  @font-face {\\r\\n    font-family: 'fontmaki';\\r\\n    src: url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\\r\\n  }\\r\\n}\\r\\n*/\\r\\n \\r\\n [class^=\\\"maki-\\\"]:before, [class*=\\\" maki-\\\"]:before {\\r\\n  font-family: \\\"fontmaki\\\";\\r\\n  font-style: normal;\\r\\n  font-weight: normal;\\r\\n  speak: none;\\r\\n \\r\\n  display: inline-block;\\r\\n  text-decoration: inherit;\\r\\n  width: 1em;\\r\\n  margin-right: .2em;\\r\\n  text-align: center;\\r\\n  /* opacity: .8; */\\r\\n \\r\\n  /* For safety - reset parent styles, that can break glyph codes*/\\r\\n  font-variant: normal;\\r\\n  text-transform: none;\\r\\n \\r\\n  /* fix buttons height, for twitter bootstrap */\\r\\n  line-height: 1em;\\r\\n \\r\\n  /* Animation center compensation - margins should be symmetric */\\r\\n  /* remove if not needed */\\r\\n  margin-left: .2em;\\r\\n \\r\\n  /* you can be more comfortable with increased icons size */\\r\\n  /* font-size: 120%; */\\r\\n \\r\\n  /* Font smoothing. That was taken from TWBS */\\r\\n  -webkit-font-smoothing: antialiased;\\r\\n  -moz-osx-font-smoothing: grayscale;\\r\\n \\r\\n  /* Uncomment for 3D effect */\\r\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\r\\n}\\r\\n \\r\\n.maki-bicycle:before { content: '\\\\e800'; } /* '' */\\r\\n.maki-building:before { content: '\\\\e801'; } /* '' */\\r\\n.maki-bus:before { content: '\\\\e802'; } /* '' */\\r\\n.maki-cafe:before { content: '\\\\e803'; } /* '' */\\r\\n.maki-camera:before { content: '\\\\e804'; } /* '' */\\r\\n.maki-campsite:before { content: '\\\\e805'; } /* '' */\\r\\n.maki-car:before { content: '\\\\e806'; } /* '' */\\r\\n.maki-cemetery:before { content: '\\\\e807'; } /* '' */\\r\\n.maki-chemist:before { content: '\\\\e808'; } /* '' */\\r\\n.maki-cinema:before { content: '\\\\e809'; } /* '' */\\r\\n.maki-circle:before { content: '\\\\e80a'; } /* '' */\\r\\n.maki-circle_stroked:before { content: '\\\\e80b'; } /* '' */\\r\\n.maki-city:before { content: '\\\\e80c'; } /* '' */\\r\\n.maki-clothing_store:before { content: '\\\\e80d'; } /* '' */\\r\\n.maki-college:before { content: '\\\\e80e'; } /* '' */\\r\\n.maki-commercial:before { content: '\\\\e80f'; } /* '' */\\r\\n.maki-cricket:before { content: '\\\\e810'; } /* '' */\\r\\n.maki-cross:before { content: '\\\\e811'; } /* '' */\\r\\n.maki-dam:before { content: '\\\\e812'; } /* '' */\\r\\n.maki-danger:before { content: '\\\\e813'; } /* '' */\\r\\n.maki-dentist:before { content: '\\\\e814'; } /* '' */\\r\\n.maki-disability:before { content: '\\\\e815'; } /* '' */\\r\\n.maki-dog_park:before { content: '\\\\e816'; } /* '' */\\r\\n.maki-embassy:before { content: '\\\\e817'; } /* '' */\\r\\n.maki-emergency_telephone:before { content: '\\\\e818'; } /* '' */\\r\\n.maki-entrance:before { content: '\\\\e819'; } /* '' */\\r\\n.maki-farm:before { content: '\\\\e81a'; } /* '' */\\r\\n.maki-fast_food:before { content: '\\\\e81b'; } /* '' */\\r\\n.maki-ferry:before { content: '\\\\e81c'; } /* '' */\\r\\n.maki-fire_station:before { content: '\\\\e81d'; } /* '' */\\r\\n.maki-fuel:before { content: '\\\\e81e'; } /* '' */\\r\\n.maki-garden:before { content: '\\\\e81f'; } /* '' */\\r\\n.maki-gift:before { content: '\\\\e820'; } /* '' */\\r\\n.maki-golf:before { content: '\\\\e821'; } /* '' */\\r\\n.maki-grocery:before { content: '\\\\e822'; } /* '' */\\r\\n.maki-hairdresser:before { content: '\\\\e823'; } /* '' */\\r\\n.maki-harbor:before { content: '\\\\e824'; } /* '' */\\r\\n.maki-heart:before { content: '\\\\e825'; } /* '' */\\r\\n.maki-heliport:before { content: '\\\\e826'; } /* '' */\\r\\n.maki-hospital:before { content: '\\\\e827'; } /* '' */\\r\\n.maki-ice_cream:before { content: '\\\\e828'; } /* '' */\\r\\n.maki-industrial:before { content: '\\\\e829'; } /* '' */\\r\\n.maki-land_use:before { content: '\\\\e82a'; } /* '' */\\r\\n.maki-laundry:before { content: '\\\\e82b'; } /* '' */\\r\\n.maki-library:before { content: '\\\\e82c'; } /* '' */\\r\\n.maki-lighthouse:before { content: '\\\\e82d'; } /* '' */\\r\\n.maki-lodging:before { content: '\\\\e82e'; } /* '' */\\r\\n.maki-logging:before { content: '\\\\e82f'; } /* '' */\\r\\n.maki-london_underground:before { content: '\\\\e830'; } /* '' */\\r\\n.maki-marker:before { content: '\\\\e831'; } /* '' */\\r\\n.maki-minefield:before { content: '\\\\e832'; } /* '' */\\r\\n.maki-marker_stroked:before { content: '\\\\e833'; } /* '' */\\r\\n.maki-mobilephone:before { content: '\\\\e834'; } /* '' */\\r\\n.maki-monument:before { content: '\\\\e835'; } /* '' */\\r\\n.maki-museum:before { content: '\\\\e836'; } /* '' */\\r\\n.maki-music:before { content: '\\\\e837'; } /* '' */\\r\\n.maki-oil_well:before { content: '\\\\e838'; } /* '' */\\r\\n.maki-park:before { content: '\\\\e839'; } /* '' */\\r\\n.maki-park2:before { content: '\\\\e83a'; } /* '' */\\r\\n.maki-parking:before { content: '\\\\e83b'; } /* '' */\\r\\n.maki-parking_garage:before { content: '\\\\e83c'; } /* '' */\\r\\n.maki-pharmacy:before { content: '\\\\e83d'; } /* '' */\\r\\n.maki-pitch:before { content: '\\\\e83e'; } /* '' */\\r\\n.maki-playground:before { content: '\\\\e83f'; } /* '' */\\r\\n.maki-police:before { content: '\\\\e840'; } /* '' */\\r\\n.maki-polling_place:before { content: '\\\\e841'; } /* '' */\\r\\n.maki-post:before { content: '\\\\e842'; } /* '' */\\r\\n.maki-prison:before { content: '\\\\e843'; } /* '' */\\r\\n.maki-rail:before { content: '\\\\e844'; } /* '' */\\r\\n.maki-rail_above:before { content: '\\\\e845'; } /* '' */\\r\\n.maki-rail_light:before { content: '\\\\e846'; } /* '' */\\r\\n.maki-rail_metro:before { content: '\\\\e847'; } /* '' */\\r\\n.maki-rail_underground:before { content: '\\\\e848'; } /* '' */\\r\\n.maki-religious-christian:before { content: '\\\\e849'; } /* '' */\\r\\n.maki-religious-jewish:before { content: '\\\\e84a'; } /* '' */\\r\\n.maki-religious-muslim:before { content: '\\\\e84b'; } /* '' */\\r\\n.maki-religious-place_of_worship:before { content: '\\\\e84c'; } /* '' */\\r\\n.maki-restaurant:before { content: '\\\\e84d'; } /* '' */\\r\\n.maki-roadblock:before { content: '\\\\e84e'; } /* '' */\\r\\n.maki-rocket:before { content: '\\\\e84f'; } /* '' */\\r\\n.maki-school:before { content: '\\\\e850'; } /* '' */\\r\\n.maki-scooter:before { content: '\\\\e851'; } /* '' */\\r\\n.maki-shop:before { content: '\\\\e852'; } /* '' */\\r\\n.maki-skiing:before { content: '\\\\e853'; } /* '' */\\r\\n.maki-slaughterhouse:before { content: '\\\\e854'; } /* '' */\\r\\n.maki-soccer:before { content: '\\\\e855'; } /* '' */\\r\\n.maki-square:before { content: '\\\\e856'; } /* '' */\\r\\n.maki-square_stroked:before { content: '\\\\e857'; } /* '' */\\r\\n.maki-star:before { content: '\\\\e858'; } /* '' */\\r\\n.maki-star_stroked:before { content: '\\\\e859'; } /* '' */\\r\\n.maki-suitcase:before { content: '\\\\e85a'; } /* '' */\\r\\n.maki-swimming:before { content: '\\\\e85b'; } /* '' */\\r\\n.maki-telephone:before { content: '\\\\e85c'; } /* '' */\\r\\n.maki-tennis:before { content: '\\\\e85d'; } /* '' */\\r\\n.maki-theatre:before { content: '\\\\e85e'; } /* '' */\\r\\n.maki-toilets:before { content: '\\\\e85f'; } /* '' */\\r\\n.maki-town:before { content: '\\\\e860'; } /* '' */\\r\\n.maki-town_hall:before { content: '\\\\e861'; } /* '' */\\r\\n.maki-triangle:before { content: '\\\\e862'; } /* '' */\\r\\n.maki-triangle_stroked:before { content: '\\\\e863'; } /* '' */\\r\\n.maki-village:before { content: '\\\\e864'; } /* '' */\\r\\n.maki-warehouse:before { content: '\\\\e865'; } /* '' */\\r\\n.maki-waste_basket:before { content: '\\\\e866'; } /* '' */\\r\\n.maki-water:before { content: '\\\\e867'; } /* '' */\\r\\n.maki-wetland:before { content: '\\\\e868'; } /* '' */\\r\\n.maki-zoo:before { content: '\\\\e869'; } /* '' */\\r\\n.maki-aerialway:before { content: '\\\\e86a'; } /* '' */\\r\\n.maki-airfield:before { content: '\\\\e86b'; } /* '' */\\r\\n.maki-airport:before { content: '\\\\e86c'; } /* '' */\\r\\n.maki-alcohol_shop:before { content: '\\\\e86d'; } /* '' */\\r\\n.maki-america_football:before { content: '\\\\e86e'; } /* '' */\\r\\n.maki-art_gallery:before { content: '\\\\e86f'; } /* '' */\\r\\n.maki-bakery:before { content: '\\\\e870'; } /* '' */\\r\\n.maki-bank:before { content: '\\\\e871'; } /* '' */\\r\\n.maki-bar:before { content: '\\\\e872'; } /* '' */\\r\\n.maki-baseball:before { content: '\\\\e873'; } /* '' */\\r\\n.maki-basketball:before { content: '\\\\e874'; } /* '' */\\r\\n.maki-beer:before { content: '\\\\e875'; } /* '' */\", \"\",{\"version\":3,\"sources\":[\"webpack://./static/css/fontmaki.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\"/** Maki is a clean point of interest icon set made for web cartography\\r\\n\\tby Mapbox https://www.mapbox.com/maki/\\r\\n*/\\r\\n@font-face {\\r\\n  font-family: 'fontmaki';\\r\\n  src: url('../font/fontmaki.eot?66752613');\\r\\n  src: url('../font/fontmaki.eot?66752613#iefix') format('embedded-opentype'),\\r\\n       url('../font/fontmaki.woff?66752613') format('woff'),\\r\\n       url('../font/fontmaki.ttf?66752613') format('truetype'),\\r\\n       url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\\r\\n  font-weight: normal;\\r\\n  font-style: normal;\\r\\n}\\r\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\r\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\r\\n/*\\r\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\r\\n  @font-face {\\r\\n    font-family: 'fontmaki';\\r\\n    src: url('../font/fontmaki.svg?66752613#fontmaki') format('svg');\\r\\n  }\\r\\n}\\r\\n*/\\r\\n \\r\\n [class^=\\\"maki-\\\"]:before, [class*=\\\" maki-\\\"]:before {\\r\\n  font-family: \\\"fontmaki\\\";\\r\\n  font-style: normal;\\r\\n  font-weight: normal;\\r\\n  speak: none;\\r\\n \\r\\n  display: inline-block;\\r\\n  text-decoration: inherit;\\r\\n  width: 1em;\\r\\n  margin-right: .2em;\\r\\n  text-align: center;\\r\\n  /* opacity: .8; */\\r\\n \\r\\n  /* For safety - reset parent styles, that can break glyph codes*/\\r\\n  font-variant: normal;\\r\\n  text-transform: none;\\r\\n \\r\\n  /* fix buttons height, for twitter bootstrap */\\r\\n  line-height: 1em;\\r\\n \\r\\n  /* Animation center compensation - margins should be symmetric */\\r\\n  /* remove if not needed */\\r\\n  margin-left: .2em;\\r\\n \\r\\n  /* you can be more comfortable with increased icons size */\\r\\n  /* font-size: 120%; */\\r\\n \\r\\n  /* Font smoothing. That was taken from TWBS */\\r\\n  -webkit-font-smoothing: antialiased;\\r\\n  -moz-osx-font-smoothing: grayscale;\\r\\n \\r\\n  /* Uncomment for 3D effect */\\r\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\r\\n}\\r\\n \\r\\n.maki-bicycle:before { content: '\\\\e800'; } /* '' */\\r\\n.maki-building:before { content: '\\\\e801'; } /* '' */\\r\\n.maki-bus:before { content: '\\\\e802'; } /* '' */\\r\\n.maki-cafe:before { content: '\\\\e803'; } /* '' */\\r\\n.maki-camera:before { content: '\\\\e804'; } /* '' */\\r\\n.maki-campsite:before { content: '\\\\e805'; } /* '' */\\r\\n.maki-car:before { content: '\\\\e806'; } /* '' */\\r\\n.maki-cemetery:before { content: '\\\\e807'; } /* '' */\\r\\n.maki-chemist:before { content: '\\\\e808'; } /* '' */\\r\\n.maki-cinema:before { content: '\\\\e809'; } /* '' */\\r\\n.maki-circle:before { content: '\\\\e80a'; } /* '' */\\r\\n.maki-circle_stroked:before { content: '\\\\e80b'; } /* '' */\\r\\n.maki-city:before { content: '\\\\e80c'; } /* '' */\\r\\n.maki-clothing_store:before { content: '\\\\e80d'; } /* '' */\\r\\n.maki-college:before { content: '\\\\e80e'; } /* '' */\\r\\n.maki-commercial:before { content: '\\\\e80f'; } /* '' */\\r\\n.maki-cricket:before { content: '\\\\e810'; } /* '' */\\r\\n.maki-cross:before { content: '\\\\e811'; } /* '' */\\r\\n.maki-dam:before { content: '\\\\e812'; } /* '' */\\r\\n.maki-danger:before { content: '\\\\e813'; } /* '' */\\r\\n.maki-dentist:before { content: '\\\\e814'; } /* '' */\\r\\n.maki-disability:before { content: '\\\\e815'; } /* '' */\\r\\n.maki-dog_park:before { content: '\\\\e816'; } /* '' */\\r\\n.maki-embassy:before { content: '\\\\e817'; } /* '' */\\r\\n.maki-emergency_telephone:before { content: '\\\\e818'; } /* '' */\\r\\n.maki-entrance:before { content: '\\\\e819'; } /* '' */\\r\\n.maki-farm:before { content: '\\\\e81a'; } /* '' */\\r\\n.maki-fast_food:before { content: '\\\\e81b'; } /* '' */\\r\\n.maki-ferry:before { content: '\\\\e81c'; } /* '' */\\r\\n.maki-fire_station:before { content: '\\\\e81d'; } /* '' */\\r\\n.maki-fuel:before { content: '\\\\e81e'; } /* '' */\\r\\n.maki-garden:before { content: '\\\\e81f'; } /* '' */\\r\\n.maki-gift:before { content: '\\\\e820'; } /* '' */\\r\\n.maki-golf:before { content: '\\\\e821'; } /* '' */\\r\\n.maki-grocery:before { content: '\\\\e822'; } /* '' */\\r\\n.maki-hairdresser:before { content: '\\\\e823'; } /* '' */\\r\\n.maki-harbor:before { content: '\\\\e824'; } /* '' */\\r\\n.maki-heart:before { content: '\\\\e825'; } /* '' */\\r\\n.maki-heliport:before { content: '\\\\e826'; } /* '' */\\r\\n.maki-hospital:before { content: '\\\\e827'; } /* '' */\\r\\n.maki-ice_cream:before { content: '\\\\e828'; } /* '' */\\r\\n.maki-industrial:before { content: '\\\\e829'; } /* '' */\\r\\n.maki-land_use:before { content: '\\\\e82a'; } /* '' */\\r\\n.maki-laundry:before { content: '\\\\e82b'; } /* '' */\\r\\n.maki-library:before { content: '\\\\e82c'; } /* '' */\\r\\n.maki-lighthouse:before { content: '\\\\e82d'; } /* '' */\\r\\n.maki-lodging:before { content: '\\\\e82e'; } /* '' */\\r\\n.maki-logging:before { content: '\\\\e82f'; } /* '' */\\r\\n.maki-london_underground:before { content: '\\\\e830'; } /* '' */\\r\\n.maki-marker:before { content: '\\\\e831'; } /* '' */\\r\\n.maki-minefield:before { content: '\\\\e832'; } /* '' */\\r\\n.maki-marker_stroked:before { content: '\\\\e833'; } /* '' */\\r\\n.maki-mobilephone:before { content: '\\\\e834'; } /* '' */\\r\\n.maki-monument:before { content: '\\\\e835'; } /* '' */\\r\\n.maki-museum:before { content: '\\\\e836'; } /* '' */\\r\\n.maki-music:before { content: '\\\\e837'; } /* '' */\\r\\n.maki-oil_well:before { content: '\\\\e838'; } /* '' */\\r\\n.maki-park:before { content: '\\\\e839'; } /* '' */\\r\\n.maki-park2:before { content: '\\\\e83a'; } /* '' */\\r\\n.maki-parking:before { content: '\\\\e83b'; } /* '' */\\r\\n.maki-parking_garage:before { content: '\\\\e83c'; } /* '' */\\r\\n.maki-pharmacy:before { content: '\\\\e83d'; } /* '' */\\r\\n.maki-pitch:before { content: '\\\\e83e'; } /* '' */\\r\\n.maki-playground:before { content: '\\\\e83f'; } /* '' */\\r\\n.maki-police:before { content: '\\\\e840'; } /* '' */\\r\\n.maki-polling_place:before { content: '\\\\e841'; } /* '' */\\r\\n.maki-post:before { content: '\\\\e842'; } /* '' */\\r\\n.maki-prison:before { content: '\\\\e843'; } /* '' */\\r\\n.maki-rail:before { content: '\\\\e844'; } /* '' */\\r\\n.maki-rail_above:before { content: '\\\\e845'; } /* '' */\\r\\n.maki-rail_light:before { content: '\\\\e846'; } /* '' */\\r\\n.maki-rail_metro:before { content: '\\\\e847'; } /* '' */\\r\\n.maki-rail_underground:before { content: '\\\\e848'; } /* '' */\\r\\n.maki-religious-christian:before { content: '\\\\e849'; } /* '' */\\r\\n.maki-religious-jewish:before { content: '\\\\e84a'; } /* '' */\\r\\n.maki-religious-muslim:before { content: '\\\\e84b'; } /* '' */\\r\\n.maki-religious-place_of_worship:before { content: '\\\\e84c'; } /* '' */\\r\\n.maki-restaurant:before { content: '\\\\e84d'; } /* '' */\\r\\n.maki-roadblock:before { content: '\\\\e84e'; } /* '' */\\r\\n.maki-rocket:before { content: '\\\\e84f'; } /* '' */\\r\\n.maki-school:before { content: '\\\\e850'; } /* '' */\\r\\n.maki-scooter:before { content: '\\\\e851'; } /* '' */\\r\\n.maki-shop:before { content: '\\\\e852'; } /* '' */\\r\\n.maki-skiing:before { content: '\\\\e853'; } /* '' */\\r\\n.maki-slaughterhouse:before { content: '\\\\e854'; } /* '' */\\r\\n.maki-soccer:before { content: '\\\\e855'; } /* '' */\\r\\n.maki-square:before { content: '\\\\e856'; } /* '' */\\r\\n.maki-square_stroked:before { content: '\\\\e857'; } /* '' */\\r\\n.maki-star:before { content: '\\\\e858'; } /* '' */\\r\\n.maki-star_stroked:before { content: '\\\\e859'; } /* '' */\\r\\n.maki-suitcase:before { content: '\\\\e85a'; } /* '' */\\r\\n.maki-swimming:before { content: '\\\\e85b'; } /* '' */\\r\\n.maki-telephone:before { content: '\\\\e85c'; } /* '' */\\r\\n.maki-tennis:before { content: '\\\\e85d'; } /* '' */\\r\\n.maki-theatre:before { content: '\\\\e85e'; } /* '' */\\r\\n.maki-toilets:before { content: '\\\\e85f'; } /* '' */\\r\\n.maki-town:before { content: '\\\\e860'; } /* '' */\\r\\n.maki-town_hall:before { content: '\\\\e861'; } /* '' */\\r\\n.maki-triangle:before { content: '\\\\e862'; } /* '' */\\r\\n.maki-triangle_stroked:before { content: '\\\\e863'; } /* '' */\\r\\n.maki-village:before { content: '\\\\e864'; } /* '' */\\r\\n.maki-warehouse:before { content: '\\\\e865'; } /* '' */\\r\\n.maki-waste_basket:before { content: '\\\\e866'; } /* '' */\\r\\n.maki-water:before { content: '\\\\e867'; } /* '' */\\r\\n.maki-wetland:before { content: '\\\\e868'; } /* '' */\\r\\n.maki-zoo:before { content: '\\\\e869'; } /* '' */\\r\\n.maki-aerialway:before { content: '\\\\e86a'; } /* '' */\\r\\n.maki-airfield:before { content: '\\\\e86b'; } /* '' */\\r\\n.maki-airport:before { content: '\\\\e86c'; } /* '' */\\r\\n.maki-alcohol_shop:before { content: '\\\\e86d'; } /* '' */\\r\\n.maki-america_football:before { content: '\\\\e86e'; } /* '' */\\r\\n.maki-art_gallery:before { content: '\\\\e86f'; } /* '' */\\r\\n.maki-bakery:before { content: '\\\\e870'; } /* '' */\\r\\n.maki-bank:before { content: '\\\\e871'; } /* '' */\\r\\n.maki-bar:before { content: '\\\\e872'; } /* '' */\\r\\n.maki-baseball:before { content: '\\\\e873'; } /* '' */\\r\\n.maki-basketball:before { content: '\\\\e874'; } /* '' */\\r\\n.maki-beer:before { content: '\\\\e875'; } /* '' */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../font/fontmaki2.eot?38664031\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../font/fontmaki2.woff2?38664031\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../font/fontmaki2.woff?38664031\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../font/fontmaki2.ttf?38664031\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"../font/fontmaki2.svg?38664031\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___, { hash: \"#iefix\" });\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___, { hash: \"#fontmaki2\" });\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face {\\n  font-family: 'fontmaki2';\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  src: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \") format('embedded-opentype'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \") format('woff2'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \") format('woff'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \") format('truetype'),\\n       url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \") format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\n/*\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n  @font-face {\\n    font-family: 'fontmaki2';\\n    src: url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\\n  }\\n}\\n*/\\n \\n [class^=\\\"maki2-\\\"]:before, [class*=\\\" maki2-\\\"]:before {\\n  font-family: \\\"fontmaki2\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n \\n  display: inline-block;\\n  text-decoration: inherit;\\n  width: 1em;\\n  margin-right: .2em;\\n  text-align: center;\\n  /* opacity: .8; */\\n \\n  /* For safety - reset parent styles, that can break glyph codes*/\\n  font-variant: normal;\\n  text-transform: none;\\n \\n  /* fix buttons height, for twitter bootstrap */\\n  line-height: 1em;\\n \\n  /* Animation center compensation - margins should be symmetric */\\n  /* remove if not needed */\\n  margin-left: .2em;\\n \\n  /* you can be more comfortable with increased icons size */\\n  /* font-size: 120%; */\\n \\n  /* Font smoothing. That was taken from TWBS */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n \\n  /* Uncomment for 3D effect */\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\n}\\n \\n.maki2-aerialway:before { content: '\\\\e800'; } /* '' */\\n.maki2-airfield:before { content: '\\\\e801'; } /* '' */\\n.maki2-airport:before { content: '\\\\e802'; } /* '' */\\n.maki2-alcohol-shop:before { content: '\\\\e803'; } /* '' */\\n.maki2-america-football:before { content: '\\\\e804'; } /* '' */\\n.maki2-amusement-park:before { content: '\\\\e805'; } /* '' */\\n.maki2-aquarium:before { content: '\\\\e806'; } /* '' */\\n.maki2-art-gallery:before { content: '\\\\e807'; } /* '' */\\n.maki2-attraction:before { content: '\\\\e808'; } /* '' */\\n.maki2-bakery:before { content: '\\\\e809'; } /* '' */\\n.maki2-bank:before { content: '\\\\e80a'; } /* '' */\\n.maki2-bar:before { content: '\\\\e80b'; } /* '' */\\n.maki2-barrier:before { content: '\\\\e80c'; } /* '' */\\n.maki2-baseball:before { content: '\\\\e80d'; } /* '' */\\n.maki2-basketball:before { content: '\\\\e80e'; } /* '' */\\n.maki2-bbq:before { content: '\\\\e80f'; } /* '' */\\n.maki2-beer:before { content: '\\\\e810'; } /* '' */\\n.maki2-bicycle:before { content: '\\\\e811'; } /* '' */\\n.maki2-bicycle-share:before { content: '\\\\e812'; } /* '' */\\n.maki2-blood-bank:before { content: '\\\\e813'; } /* '' */\\n.maki2-buddhism:before { content: '\\\\e814'; } /* '' */\\n.maki2-building:before { content: '\\\\e815'; } /* '' */\\n.maki2-building-alt1:before { content: '\\\\e816'; } /* '' */\\n.maki2-bus:before { content: '\\\\e817'; } /* '' */\\n.maki2-cafe:before { content: '\\\\e818'; } /* '' */\\n.maki2-campsite:before { content: '\\\\e819'; } /* '' */\\n.maki2-car:before { content: '\\\\e81a'; } /* '' */\\n.maki2-car-rental:before { content: '\\\\e81b'; } /* '' */\\n.maki2-car-repair:before { content: '\\\\e81c'; } /* '' */\\n.maki2-casino:before { content: '\\\\e81d'; } /* '' */\\n.maki2-castle:before { content: '\\\\e81e'; } /* '' */\\n.maki2-cemetery:before { content: '\\\\e81f'; } /* '' */\\n.maki2-charging-station:before { content: '\\\\e820'; } /* '' */\\n.maki2-cinema:before { content: '\\\\e821'; } /* '' */\\n.maki2-circle:before { content: '\\\\e822'; } /* '' */\\n.maki2-circle-stroked:before { content: '\\\\e823'; } /* '' */\\n.maki2-city:before { content: '\\\\e824'; } /* '' */\\n.maki2-clothing-store:before { content: '\\\\e825'; } /* '' */\\n.maki2-college:before { content: '\\\\e826'; } /* '' */\\n.maki2-commercial:before { content: '\\\\e827'; } /* '' */\\n.maki2-cricket:before { content: '\\\\e828'; } /* '' */\\n.maki2-cross:before { content: '\\\\e829'; } /* '' */\\n.maki2-dam:before { content: '\\\\e82a'; } /* '' */\\n.maki2-danger:before { content: '\\\\e82b'; } /* '' */\\n.maki2-defibrillator:before { content: '\\\\e82c'; } /* '' */\\n.maki2-dentist:before { content: '\\\\e82d'; } /* '' */\\n.maki2-doctor:before { content: '\\\\e82e'; } /* '' */\\n.maki2-dog-park:before { content: '\\\\e82f'; } /* '' */\\n.maki2-drinking-water:before { content: '\\\\e830'; } /* '' */\\n.maki2-embassy:before { content: '\\\\e831'; } /* '' */\\n.maki2-emergency-phone:before { content: '\\\\e832'; } /* '' */\\n.maki2-entrance:before { content: '\\\\e833'; } /* '' */\\n.maki2-entrance-alt1:before { content: '\\\\e834'; } /* '' */\\n.maki2-farm:before { content: '\\\\e835'; } /* '' */\\n.maki2-fast-food:before { content: '\\\\e836'; } /* '' */\\n.maki2-fence:before { content: '\\\\e837'; } /* '' */\\n.maki2-ferry:before { content: '\\\\e838'; } /* '' */\\n.maki2-fire-station:before { content: '\\\\e839'; } /* '' */\\n.maki2-florist:before { content: '\\\\e83a'; } /* '' */\\n.maki2-fuel:before { content: '\\\\e83b'; } /* '' */\\n.maki2-furniture:before { content: '\\\\e83c'; } /* '' */\\n.maki2-gaming:before { content: '\\\\e83d'; } /* '' */\\n.maki2-garden:before { content: '\\\\e83e'; } /* '' */\\n.maki2-garden-center:before { content: '\\\\e83f'; } /* '' */\\n.maki2-gift:before { content: '\\\\e840'; } /* '' */\\n.maki2-globe:before { content: '\\\\e841'; } /* '' */\\n.maki2-golf:before { content: '\\\\e842'; } /* '' */\\n.maki2-grocery:before { content: '\\\\e843'; } /* '' */\\n.maki2-hairdresser:before { content: '\\\\e844'; } /* '' */\\n.maki2-harbor:before { content: '\\\\e845'; } /* '' */\\n.maki2-hardware:before { content: '\\\\e846'; } /* '' */\\n.maki2-heart:before { content: '\\\\e847'; } /* '' */\\n.maki2-heliport:before { content: '\\\\e848'; } /* '' */\\n.maki2-home:before { content: '\\\\e849'; } /* '' */\\n.maki2-horse-riding:before { content: '\\\\e84a'; } /* '' */\\n.maki2-hospital:before { content: '\\\\e84b'; } /* '' */\\n.maki2-ice-cream:before { content: '\\\\e84c'; } /* '' */\\n.maki2-industry:before { content: '\\\\e84d'; } /* '' */\\n.maki2-information:before { content: '\\\\e84e'; } /* '' */\\n.maki2-jewelry:before { content: '\\\\e84f'; } /* '' */\\n.maki2-karaoke:before { content: '\\\\e850'; } /* '' */\\n.maki2-landmark:before { content: '\\\\e851'; } /* '' */\\n.maki2-landuse:before { content: '\\\\e852'; } /* '' */\\n.maki2-laundry:before { content: '\\\\e853'; } /* '' */\\n.maki2-library:before { content: '\\\\e854'; } /* '' */\\n.maki2-lighthouse:before { content: '\\\\e855'; } /* '' */\\n.maki2-lodging:before { content: '\\\\e856'; } /* '' */\\n.maki2-logging:before { content: '\\\\e857'; } /* '' */\\n.maki2-marker:before { content: '\\\\e858'; } /* '' */\\n.maki2-marker-stroked:before { content: '\\\\e859'; } /* '' */\\n.maki2-mobile-phone:before { content: '\\\\e85a'; } /* '' */\\n.maki2-monument:before { content: '\\\\e85b'; } /* '' */\\n.maki2-mountain:before { content: '\\\\e85c'; } /* '' */\\n.maki2-museum:before { content: '\\\\e85d'; } /* '' */\\n.maki2-music:before { content: '\\\\e85e'; } /* '' */\\n.maki2-natural:before { content: '\\\\e85f'; } /* '' */\\n.maki2-optician:before { content: '\\\\e860'; } /* '' */\\n.maki2-paint:before { content: '\\\\e861'; } /* '' */\\n.maki2-park:before { content: '\\\\e862'; } /* '' */\\n.maki2-park-alt1:before { content: '\\\\e863'; } /* '' */\\n.maki2-parking:before { content: '\\\\e864'; } /* '' */\\n.maki2-parking-garage:before { content: '\\\\e865'; } /* '' */\\n.maki2-pharmacy:before { content: '\\\\e866'; } /* '' */\\n.maki2-picnic-site:before { content: '\\\\e867'; } /* '' */\\n.maki2-pitch:before { content: '\\\\e868'; } /* '' */\\n.maki2-place-of-worship:before { content: '\\\\e869'; } /* '' */\\n.maki2-playground:before { content: '\\\\e86a'; } /* '' */\\n.maki2-police:before { content: '\\\\e86b'; } /* '' */\\n.maki2-post:before { content: '\\\\e86c'; } /* '' */\\n.maki2-prison:before { content: '\\\\e86d'; } /* '' */\\n.maki2-rail:before { content: '\\\\e86e'; } /* '' */\\n.maki2-rail-light:before { content: '\\\\e86f'; } /* '' */\\n.maki2-rail-metro:before { content: '\\\\e870'; } /* '' */\\n.maki2-ranger-station:before { content: '\\\\e871'; } /* '' */\\n.maki2-recycling:before { content: '\\\\e872'; } /* '' */\\n.maki2-religious-christian:before { content: '\\\\e873'; } /* '' */\\n.maki2-religious-jewish:before { content: '\\\\e874'; } /* '' */\\n.maki2-religious-muslim:before { content: '\\\\e875'; } /* '' */\\n.maki2-residential-community:before { content: '\\\\e876'; } /* '' */\\n.maki2-restaurant:before { content: '\\\\e877'; } /* '' */\\n.maki2-roadblock:before { content: '\\\\e878'; } /* '' */\\n.maki2-rocket:before { content: '\\\\e879'; } /* '' */\\n.maki2-school:before { content: '\\\\e87a'; } /* '' */\\n.maki2-scooter:before { content: '\\\\e87b'; } /* '' */\\n.maki2-shelter:before { content: '\\\\e87c'; } /* '' */\\n.maki2-shoe:before { content: '\\\\e87d'; } /* '' */\\n.maki2-shop:before { content: '\\\\e87e'; } /* '' */\\n.maki2-skiing:before { content: '\\\\e87f'; } /* '' */\\n.maki2-slaughterhouse:before { content: '\\\\e880'; } /* '' */\\n.maki2-snowmobile:before { content: '\\\\e881'; } /* '' */\\n.maki2-soccer:before { content: '\\\\e882'; } /* '' */\\n.maki2-square:before { content: '\\\\e883'; } /* '' */\\n.maki2-square-stroked:before { content: '\\\\e884'; } /* '' */\\n.maki2-stadium:before { content: '\\\\e885'; } /* '' */\\n.maki2-star:before { content: '\\\\e886'; } /* '' */\\n.maki2-star-stroked:before { content: '\\\\e887'; } /* '' */\\n.maki2-suitcase:before { content: '\\\\e888'; } /* '' */\\n.maki2-sushi:before { content: '\\\\e889'; } /* '' */\\n.maki2-swimming:before { content: '\\\\e88a'; } /* '' */\\n.maki2-teahouse:before { content: '\\\\e88b'; } /* '' */\\n.maki2-telephone:before { content: '\\\\e88c'; } /* '' */\\n.maki2-tennis:before { content: '\\\\e88d'; } /* '' */\\n.maki2-theatre:before { content: '\\\\e88e'; } /* '' */\\n.maki2-toilet:before { content: '\\\\e88f'; } /* '' */\\n.maki2-town:before { content: '\\\\e890'; } /* '' */\\n.maki2-town-hall:before { content: '\\\\e891'; } /* '' */\\n.maki2-triangle:before { content: '\\\\e892'; } /* '' */\\n.maki2-triangle-stroked:before { content: '\\\\e893'; } /* '' */\\n.maki2-veterinary:before { content: '\\\\e894'; } /* '' */\\n.maki2-village:before { content: '\\\\e895'; } /* '' */\\n.maki2-volcano:before { content: '\\\\e896'; } /* '' */\\n.maki2-warehouse:before { content: '\\\\e897'; } /* '' */\\n.maki2-waste-basket:before { content: '\\\\e898'; } /* '' */\\n.maki2-watch:before { content: '\\\\e899'; } /* '' */\\n.maki2-water:before { content: '\\\\e89a'; } /* '' */\\n.maki2-watermill:before { content: '\\\\e89b'; } /* '' */\\n.maki2-wetland:before { content: '\\\\e89c'; } /* '' */\\n.maki2-wheelchair:before { content: '\\\\e89d'; } /* '' */\\n.maki2-windmill:before { content: '\\\\e89e'; } /* '' */\\n.maki2-zoo:before { content: '\\\\e89f'; } /* '' */\", \"\",{\"version\":3,\"sources\":[\"webpack://./static/css/fontmaki2.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,wBAAwB;EACxB,4CAA0C;EAC1C;;;;4DAIkE;EAClE,mBAAmB;EACnB,kBAAkB;AACpB;AACA,gGAAgG;AAChG,2FAA2F;AAC3F;;;;;;;CAOC;;CAEA;EACC,wBAAwB;EACxB,kBAAkB;EAClB,mBAAmB;EACnB,WAAW;;EAEX,qBAAqB;EACrB,wBAAwB;EACxB,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,iBAAiB;;EAEjB,gEAAgE;EAChE,oBAAoB;EACpB,oBAAoB;;EAEpB,8CAA8C;EAC9C,gBAAgB;;EAEhB,gEAAgE;EAChE,yBAAyB;EACzB,iBAAiB;;EAEjB,0DAA0D;EAC1D,qBAAqB;;EAErB,6CAA6C;EAC7C,mCAAmC;EACnC,kCAAkC;;EAElC,4BAA4B;EAC5B,uDAAuD;AACzD;;AAEA,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ;AAChD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,gCAAgC,gBAAgB,EAAE,EAAE,QAAQ;AAC5D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,8BAA8B,gBAAgB,EAAE,EAAE,QAAQ;AAC1D,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,4BAA4B,gBAAgB,EAAE,EAAE,QAAQ;AACxD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,oCAAoC,gBAAgB,EAAE,EAAE,QAAQ;AAChE,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,sCAAsC,gBAAgB,EAAE,EAAE,QAAQ;AAClE,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,+BAA+B,gBAAgB,EAAE,EAAE,QAAQ;AAC3D,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,uBAAuB,gBAAgB,EAAE,EAAE,QAAQ;AACnD,qBAAqB,gBAAgB,EAAE,EAAE,QAAQ;AACjD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,iCAAiC,gBAAgB,EAAE,EAAE,QAAQ;AAC7D,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,6BAA6B,gBAAgB,EAAE,EAAE,QAAQ;AACzD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,sBAAsB,gBAAgB,EAAE,EAAE,QAAQ;AAClD,0BAA0B,gBAAgB,EAAE,EAAE,QAAQ;AACtD,wBAAwB,gBAAgB,EAAE,EAAE,QAAQ;AACpD,2BAA2B,gBAAgB,EAAE,EAAE,QAAQ;AACvD,yBAAyB,gBAAgB,EAAE,EAAE,QAAQ;AACrD,oBAAoB,gBAAgB,EAAE,EAAE,QAAQ\",\"sourcesContent\":[\"@font-face {\\n  font-family: 'fontmaki2';\\n  src: url('../font/fontmaki2.eot?38664031');\\n  src: url('../font/fontmaki2.eot?38664031#iefix') format('embedded-opentype'),\\n       url('../font/fontmaki2.woff2?38664031') format('woff2'),\\n       url('../font/fontmaki2.woff?38664031') format('woff'),\\n       url('../font/fontmaki2.ttf?38664031') format('truetype'),\\n       url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n/* Chrome hack: SVG is rendered more smooth in Windozze. 100% magic, uncomment if you need it. */\\n/* Note, that will break hinting! In other OS-es font will be not as sharp as it could be */\\n/*\\n@media screen and (-webkit-min-device-pixel-ratio:0) {\\n  @font-face {\\n    font-family: 'fontmaki2';\\n    src: url('../font/fontmaki2.svg?38664031#fontmaki2') format('svg');\\n  }\\n}\\n*/\\n \\n [class^=\\\"maki2-\\\"]:before, [class*=\\\" maki2-\\\"]:before {\\n  font-family: \\\"fontmaki2\\\";\\n  font-style: normal;\\n  font-weight: normal;\\n  speak: none;\\n \\n  display: inline-block;\\n  text-decoration: inherit;\\n  width: 1em;\\n  margin-right: .2em;\\n  text-align: center;\\n  /* opacity: .8; */\\n \\n  /* For safety - reset parent styles, that can break glyph codes*/\\n  font-variant: normal;\\n  text-transform: none;\\n \\n  /* fix buttons height, for twitter bootstrap */\\n  line-height: 1em;\\n \\n  /* Animation center compensation - margins should be symmetric */\\n  /* remove if not needed */\\n  margin-left: .2em;\\n \\n  /* you can be more comfortable with increased icons size */\\n  /* font-size: 120%; */\\n \\n  /* Font smoothing. That was taken from TWBS */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n \\n  /* Uncomment for 3D effect */\\n  /* text-shadow: 1px 1px 1px rgba(127, 127, 127, 0.3); */\\n}\\n \\n.maki2-aerialway:before { content: '\\\\e800'; } /* '' */\\n.maki2-airfield:before { content: '\\\\e801'; } /* '' */\\n.maki2-airport:before { content: '\\\\e802'; } /* '' */\\n.maki2-alcohol-shop:before { content: '\\\\e803'; } /* '' */\\n.maki2-america-football:before { content: '\\\\e804'; } /* '' */\\n.maki2-amusement-park:before { content: '\\\\e805'; } /* '' */\\n.maki2-aquarium:before { content: '\\\\e806'; } /* '' */\\n.maki2-art-gallery:before { content: '\\\\e807'; } /* '' */\\n.maki2-attraction:before { content: '\\\\e808'; } /* '' */\\n.maki2-bakery:before { content: '\\\\e809'; } /* '' */\\n.maki2-bank:before { content: '\\\\e80a'; } /* '' */\\n.maki2-bar:before { content: '\\\\e80b'; } /* '' */\\n.maki2-barrier:before { content: '\\\\e80c'; } /* '' */\\n.maki2-baseball:before { content: '\\\\e80d'; } /* '' */\\n.maki2-basketball:before { content: '\\\\e80e'; } /* '' */\\n.maki2-bbq:before { content: '\\\\e80f'; } /* '' */\\n.maki2-beer:before { content: '\\\\e810'; } /* '' */\\n.maki2-bicycle:before { content: '\\\\e811'; } /* '' */\\n.maki2-bicycle-share:before { content: '\\\\e812'; } /* '' */\\n.maki2-blood-bank:before { content: '\\\\e813'; } /* '' */\\n.maki2-buddhism:before { content: '\\\\e814'; } /* '' */\\n.maki2-building:before { content: '\\\\e815'; } /* '' */\\n.maki2-building-alt1:before { content: '\\\\e816'; } /* '' */\\n.maki2-bus:before { content: '\\\\e817'; } /* '' */\\n.maki2-cafe:before { content: '\\\\e818'; } /* '' */\\n.maki2-campsite:before { content: '\\\\e819'; } /* '' */\\n.maki2-car:before { content: '\\\\e81a'; } /* '' */\\n.maki2-car-rental:before { content: '\\\\e81b'; } /* '' */\\n.maki2-car-repair:before { content: '\\\\e81c'; } /* '' */\\n.maki2-casino:before { content: '\\\\e81d'; } /* '' */\\n.maki2-castle:before { content: '\\\\e81e'; } /* '' */\\n.maki2-cemetery:before { content: '\\\\e81f'; } /* '' */\\n.maki2-charging-station:before { content: '\\\\e820'; } /* '' */\\n.maki2-cinema:before { content: '\\\\e821'; } /* '' */\\n.maki2-circle:before { content: '\\\\e822'; } /* '' */\\n.maki2-circle-stroked:before { content: '\\\\e823'; } /* '' */\\n.maki2-city:before { content: '\\\\e824'; } /* '' */\\n.maki2-clothing-store:before { content: '\\\\e825'; } /* '' */\\n.maki2-college:before { content: '\\\\e826'; } /* '' */\\n.maki2-commercial:before { content: '\\\\e827'; } /* '' */\\n.maki2-cricket:before { content: '\\\\e828'; } /* '' */\\n.maki2-cross:before { content: '\\\\e829'; } /* '' */\\n.maki2-dam:before { content: '\\\\e82a'; } /* '' */\\n.maki2-danger:before { content: '\\\\e82b'; } /* '' */\\n.maki2-defibrillator:before { content: '\\\\e82c'; } /* '' */\\n.maki2-dentist:before { content: '\\\\e82d'; } /* '' */\\n.maki2-doctor:before { content: '\\\\e82e'; } /* '' */\\n.maki2-dog-park:before { content: '\\\\e82f'; } /* '' */\\n.maki2-drinking-water:before { content: '\\\\e830'; } /* '' */\\n.maki2-embassy:before { content: '\\\\e831'; } /* '' */\\n.maki2-emergency-phone:before { content: '\\\\e832'; } /* '' */\\n.maki2-entrance:before { content: '\\\\e833'; } /* '' */\\n.maki2-entrance-alt1:before { content: '\\\\e834'; } /* '' */\\n.maki2-farm:before { content: '\\\\e835'; } /* '' */\\n.maki2-fast-food:before { content: '\\\\e836'; } /* '' */\\n.maki2-fence:before { content: '\\\\e837'; } /* '' */\\n.maki2-ferry:before { content: '\\\\e838'; } /* '' */\\n.maki2-fire-station:before { content: '\\\\e839'; } /* '' */\\n.maki2-florist:before { content: '\\\\e83a'; } /* '' */\\n.maki2-fuel:before { content: '\\\\e83b'; } /* '' */\\n.maki2-furniture:before { content: '\\\\e83c'; } /* '' */\\n.maki2-gaming:before { content: '\\\\e83d'; } /* '' */\\n.maki2-garden:before { content: '\\\\e83e'; } /* '' */\\n.maki2-garden-center:before { content: '\\\\e83f'; } /* '' */\\n.maki2-gift:before { content: '\\\\e840'; } /* '' */\\n.maki2-globe:before { content: '\\\\e841'; } /* '' */\\n.maki2-golf:before { content: '\\\\e842'; } /* '' */\\n.maki2-grocery:before { content: '\\\\e843'; } /* '' */\\n.maki2-hairdresser:before { content: '\\\\e844'; } /* '' */\\n.maki2-harbor:before { content: '\\\\e845'; } /* '' */\\n.maki2-hardware:before { content: '\\\\e846'; } /* '' */\\n.maki2-heart:before { content: '\\\\e847'; } /* '' */\\n.maki2-heliport:before { content: '\\\\e848'; } /* '' */\\n.maki2-home:before { content: '\\\\e849'; } /* '' */\\n.maki2-horse-riding:before { content: '\\\\e84a'; } /* '' */\\n.maki2-hospital:before { content: '\\\\e84b'; } /* '' */\\n.maki2-ice-cream:before { content: '\\\\e84c'; } /* '' */\\n.maki2-industry:before { content: '\\\\e84d'; } /* '' */\\n.maki2-information:before { content: '\\\\e84e'; } /* '' */\\n.maki2-jewelry:before { content: '\\\\e84f'; } /* '' */\\n.maki2-karaoke:before { content: '\\\\e850'; } /* '' */\\n.maki2-landmark:before { content: '\\\\e851'; } /* '' */\\n.maki2-landuse:before { content: '\\\\e852'; } /* '' */\\n.maki2-laundry:before { content: '\\\\e853'; } /* '' */\\n.maki2-library:before { content: '\\\\e854'; } /* '' */\\n.maki2-lighthouse:before { content: '\\\\e855'; } /* '' */\\n.maki2-lodging:before { content: '\\\\e856'; } /* '' */\\n.maki2-logging:before { content: '\\\\e857'; } /* '' */\\n.maki2-marker:before { content: '\\\\e858'; } /* '' */\\n.maki2-marker-stroked:before { content: '\\\\e859'; } /* '' */\\n.maki2-mobile-phone:before { content: '\\\\e85a'; } /* '' */\\n.maki2-monument:before { content: '\\\\e85b'; } /* '' */\\n.maki2-mountain:before { content: '\\\\e85c'; } /* '' */\\n.maki2-museum:before { content: '\\\\e85d'; } /* '' */\\n.maki2-music:before { content: '\\\\e85e'; } /* '' */\\n.maki2-natural:before { content: '\\\\e85f'; } /* '' */\\n.maki2-optician:before { content: '\\\\e860'; } /* '' */\\n.maki2-paint:before { content: '\\\\e861'; } /* '' */\\n.maki2-park:before { content: '\\\\e862'; } /* '' */\\n.maki2-park-alt1:before { content: '\\\\e863'; } /* '' */\\n.maki2-parking:before { content: '\\\\e864'; } /* '' */\\n.maki2-parking-garage:before { content: '\\\\e865'; } /* '' */\\n.maki2-pharmacy:before { content: '\\\\e866'; } /* '' */\\n.maki2-picnic-site:before { content: '\\\\e867'; } /* '' */\\n.maki2-pitch:before { content: '\\\\e868'; } /* '' */\\n.maki2-place-of-worship:before { content: '\\\\e869'; } /* '' */\\n.maki2-playground:before { content: '\\\\e86a'; } /* '' */\\n.maki2-police:before { content: '\\\\e86b'; } /* '' */\\n.maki2-post:before { content: '\\\\e86c'; } /* '' */\\n.maki2-prison:before { content: '\\\\e86d'; } /* '' */\\n.maki2-rail:before { content: '\\\\e86e'; } /* '' */\\n.maki2-rail-light:before { content: '\\\\e86f'; } /* '' */\\n.maki2-rail-metro:before { content: '\\\\e870'; } /* '' */\\n.maki2-ranger-station:before { content: '\\\\e871'; } /* '' */\\n.maki2-recycling:before { content: '\\\\e872'; } /* '' */\\n.maki2-religious-christian:before { content: '\\\\e873'; } /* '' */\\n.maki2-religious-jewish:before { content: '\\\\e874'; } /* '' */\\n.maki2-religious-muslim:before { content: '\\\\e875'; } /* '' */\\n.maki2-residential-community:before { content: '\\\\e876'; } /* '' */\\n.maki2-restaurant:before { content: '\\\\e877'; } /* '' */\\n.maki2-roadblock:before { content: '\\\\e878'; } /* '' */\\n.maki2-rocket:before { content: '\\\\e879'; } /* '' */\\n.maki2-school:before { content: '\\\\e87a'; } /* '' */\\n.maki2-scooter:before { content: '\\\\e87b'; } /* '' */\\n.maki2-shelter:before { content: '\\\\e87c'; } /* '' */\\n.maki2-shoe:before { content: '\\\\e87d'; } /* '' */\\n.maki2-shop:before { content: '\\\\e87e'; } /* '' */\\n.maki2-skiing:before { content: '\\\\e87f'; } /* '' */\\n.maki2-slaughterhouse:before { content: '\\\\e880'; } /* '' */\\n.maki2-snowmobile:before { content: '\\\\e881'; } /* '' */\\n.maki2-soccer:before { content: '\\\\e882'; } /* '' */\\n.maki2-square:before { content: '\\\\e883'; } /* '' */\\n.maki2-square-stroked:before { content: '\\\\e884'; } /* '' */\\n.maki2-stadium:before { content: '\\\\e885'; } /* '' */\\n.maki2-star:before { content: '\\\\e886'; } /* '' */\\n.maki2-star-stroked:before { content: '\\\\e887'; } /* '' */\\n.maki2-suitcase:before { content: '\\\\e888'; } /* '' */\\n.maki2-sushi:before { content: '\\\\e889'; } /* '' */\\n.maki2-swimming:before { content: '\\\\e88a'; } /* '' */\\n.maki2-teahouse:before { content: '\\\\e88b'; } /* '' */\\n.maki2-telephone:before { content: '\\\\e88c'; } /* '' */\\n.maki2-tennis:before { content: '\\\\e88d'; } /* '' */\\n.maki2-theatre:before { content: '\\\\e88e'; } /* '' */\\n.maki2-toilet:before { content: '\\\\e88f'; } /* '' */\\n.maki2-town:before { content: '\\\\e890'; } /* '' */\\n.maki2-town-hall:before { content: '\\\\e891'; } /* '' */\\n.maki2-triangle:before { content: '\\\\e892'; } /* '' */\\n.maki2-triangle-stroked:before { content: '\\\\e893'; } /* '' */\\n.maki2-veterinary:before { content: '\\\\e894'; } /* '' */\\n.maki2-village:before { content: '\\\\e895'; } /* '' */\\n.maki2-volcano:before { content: '\\\\e896'; } /* '' */\\n.maki2-warehouse:before { content: '\\\\e897'; } /* '' */\\n.maki2-waste-basket:before { content: '\\\\e898'; } /* '' */\\n.maki2-watch:before { content: '\\\\e899'; } /* '' */\\n.maki2-water:before { content: '\\\\e89a'; } /* '' */\\n.maki2-watermill:before { content: '\\\\e89b'; } /* '' */\\n.maki2-wetland:before { content: '\\\\e89c'; } /* '' */\\n.maki2-wheelchair:before { content: '\\\\e89d'; } /* '' */\\n.maki2-windmill:before { content: '\\\\e89e'; } /* '' */\\n.maki2-zoo:before { content: '\\\\e89f'; } /* '' */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\");\n  }\n\n  return [content].join(\"\\n\");\n};","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('ol/control/Control'), require('ol/Observable'), require('ol/layer/Group')) :\n\ttypeof define === 'function' && define.amd ? define(['ol/control/Control', 'ol/Observable', 'ol/layer/Group'], factory) :\n\t(global.LayerSwitcher = factory(global.ol.control.Control,global.ol.Observable,global.ol.layer.Group));\n}(this, (function (Control,ol_Observable,LayerGroup) { 'use strict';\n\nControl = 'default' in Control ? Control['default'] : Control;\nLayerGroup = 'default' in LayerGroup ? LayerGroup['default'] : LayerGroup;\n\n/**\n * @protected\n */\nconst CSS_PREFIX = 'layer-switcher-';\n/**\n * OpenLayers LayerSwitcher Control, displays a list of layers and groups\n * associated with a map which have a `title` property.\n *\n * To be shown in the LayerSwitcher panel layers must have a `title` property;\n * base map layers should have a `type` property set to `base`. Group layers\n * (`LayerGroup`) can be used to visually group layers together; a group\n * with a `fold` property set to either `'open'` or `'close'` will be displayed\n * with a toggle.\n *\n * See [BaseLayerOptions](#baselayeroptions) for a full list of LayerSwitcher\n * properties for layers (`TileLayer`, `ImageLayer`, `VectorTile` etc.) and\n * [GroupLayerOptions](#grouplayeroptions) for group layer (`LayerGroup`)\n * LayerSwitcher properties.\n *\n * Layer and group properties can either be set by adding extra properties\n * to their options when they are created or via their set method.\n *\n * Specify a `title` for a Layer by adding a `title` property to it's options object:\n * ```javascript\n * var lyr = new ol.layer.Tile({\n *   // Specify a title property which will be displayed by the layer switcher\n *   title: 'OpenStreetMap',\n *   visible: true,\n *   source: new ol.source.OSM()\n * })\n * ```\n *\n * Alternatively the properties can be set via the `set` method after a layer has been created:\n * ```javascript\n * var lyr = new ol.layer.Tile({\n *   visible: true,\n *   source: new ol.source.OSM()\n * })\n * // Specify a title property which will be displayed by the layer switcher\n * lyr.set('title', 'OpenStreetMap');\n * ```\n *\n * To create a LayerSwitcher and add it to a map, create a new instance then pass it to the map's [`addControl` method](https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#addControl).\n * ```javascript\n * var layerSwitcher = new LayerSwitcher({\n *   reverse: true,\n *   groupSelectStyle: 'group'\n * });\n * map.addControl(layerSwitcher);\n * ```\n *\n * @constructor\n * @extends {ol/control/Control~Control}\n * @param opt_options LayerSwitcher options, see  [LayerSwitcher Options](#options) and [RenderOptions](#renderoptions) which LayerSwitcher `Options` extends for more details.\n */\nclass LayerSwitcher extends Control {\n    constructor(opt_options) {\n        const options = Object.assign({}, opt_options);\n        const element = document.createElement('div');\n        super({ element: element, target: options.target });\n        this.activationMode = options.activationMode || 'mouseover';\n        this.startActive = options.startActive === true;\n        // TODO Next: Rename to showButtonContent\n        this.label = options.label !== undefined ? options.label : '';\n        // TODO Next: Rename to hideButtonContent\n        this.collapseLabel =\n            options.collapseLabel !== undefined ? options.collapseLabel : '\\u00BB';\n        // TODO Next: Rename to showButtonTitle\n        this.tipLabel = options.tipLabel ? options.tipLabel : 'Legend';\n        // TODO Next: Rename to hideButtonTitle\n        this.collapseTipLabel = options.collapseTipLabel\n            ? options.collapseTipLabel\n            : 'Collapse legend';\n        this.groupSelectStyle = LayerSwitcher.getGroupSelectStyle(options.groupSelectStyle);\n        this.reverse = options.reverse !== false;\n        this.mapListeners = [];\n        this.hiddenClassName = 'ol-unselectable ol-control layer-switcher';\n        if (LayerSwitcher.isTouchDevice_()) {\n            this.hiddenClassName += ' touch';\n        }\n        this.shownClassName = 'shown';\n        element.className = this.hiddenClassName;\n        this.button = document.createElement('button');\n        element.appendChild(this.button);\n        this.panel = document.createElement('div');\n        this.panel.className = 'panel';\n        element.appendChild(this.panel);\n        LayerSwitcher.enableTouchScroll_(this.panel);\n        element.classList.add(CSS_PREFIX + 'group-select-style-' + this.groupSelectStyle);\n        element.classList.add(CSS_PREFIX + 'activation-mode-' + this.activationMode);\n        if (this.activationMode === 'click') {\n            // TODO Next: Remove in favour of layer-switcher-activation-mode-click\n            element.classList.add('activationModeClick');\n            this.button.onclick = (e) => {\n                const evt = e || window.event;\n                if (this.element.classList.contains(this.shownClassName)) {\n                    this.hidePanel();\n                }\n                else {\n                    this.showPanel();\n                }\n                evt.preventDefault();\n            };\n        }\n        else {\n            this.button.onmouseover = () => {\n                this.showPanel();\n            };\n            this.button.onclick = (e) => {\n                const evt = e || window.event;\n                this.showPanel();\n                evt.preventDefault();\n            };\n            this.panel.onmouseout = (evt) => {\n                if (!this.panel.contains(evt.relatedTarget)) {\n                    this.hidePanel();\n                }\n            };\n        }\n        this.updateButton();\n    }\n    /**\n     * Set the map instance the control is associated with.\n     * @param map The map instance.\n     */\n    setMap(map) {\n        // Clean up listeners associated with the previous map\n        for (let i = 0; i < this.mapListeners.length; i++) {\n            ol_Observable.unByKey(this.mapListeners[i]);\n        }\n        this.mapListeners.length = 0;\n        // Wire up listeners etc. and store reference to new map\n        super.setMap(map);\n        if (map) {\n            if (this.startActive) {\n                this.showPanel();\n            }\n            else {\n                this.renderPanel();\n            }\n            if (this.activationMode !== 'click') {\n                this.mapListeners.push(map.on('pointerdown', () => {\n                    this.hidePanel();\n                }));\n            }\n        }\n    }\n    /**\n     * Show the layer panel. Fires `'show'` event.\n     * @fires LayerSwitcher#show\n     */\n    showPanel() {\n        if (!this.element.classList.contains(this.shownClassName)) {\n            this.element.classList.add(this.shownClassName);\n            this.updateButton();\n            this.renderPanel();\n        }\n        /**\n         * Event triggered after the panel has been shown.\n         * Listen to the event via the `on` or `once` methods; for example:\n         * ```js\n         * var layerSwitcher = new LayerSwitcher();\n         * map.addControl(layerSwitcher);\n         *\n         * layerSwitcher.on('show', evt => {\n         *   console.log('show', evt);\n         * });\n         * @event LayerSwitcher#show\n         */\n        this.dispatchEvent('show');\n    }\n    /**\n     * Hide the layer panel. Fires `'hide'` event.\n     * @fires LayerSwitcher#hide\n     */\n    hidePanel() {\n        if (this.element.classList.contains(this.shownClassName)) {\n            this.element.classList.remove(this.shownClassName);\n            this.updateButton();\n        }\n        /**\n         * Event triggered after the panel has been hidden.\n         * @event LayerSwitcher#hide\n         */\n        this.dispatchEvent('hide');\n    }\n    /**\n     * Update button text content and attributes based on current\n     * state\n     */\n    updateButton() {\n        if (this.element.classList.contains(this.shownClassName)) {\n            this.button.textContent = this.collapseLabel;\n            this.button.setAttribute('title', this.collapseTipLabel);\n            this.button.setAttribute('aria-label', this.collapseTipLabel);\n        }\n        else {\n            this.button.textContent = this.label;\n            this.button.setAttribute('title', this.tipLabel);\n            this.button.setAttribute('aria-label', this.tipLabel);\n        }\n    }\n    /**\n     * Re-draw the layer panel to represent the current state of the layers.\n     */\n    renderPanel() {\n        this.dispatchEvent('render');\n        LayerSwitcher.renderPanel(this.getMap(), this.panel, {\n            groupSelectStyle: this.groupSelectStyle,\n            reverse: this.reverse\n        });\n        this.dispatchEvent('rendercomplete');\n    }\n    /**\n     * **_[static]_** - Re-draw the layer panel to represent the current state of the layers.\n     * @param map The OpenLayers Map instance to render layers for\n     * @param panel The DOM Element into which the layer tree will be rendered\n     * @param options Options for panel, group, and layers\n     */\n    static renderPanel(map, panel, options) {\n        // Create the event.\n        const render_event = new Event('render');\n        // Dispatch the event.\n        panel.dispatchEvent(render_event);\n        options = options || {};\n        options.groupSelectStyle = LayerSwitcher.getGroupSelectStyle(options.groupSelectStyle);\n        LayerSwitcher.ensureTopVisibleBaseLayerShown(map, options.groupSelectStyle);\n        while (panel.firstChild) {\n            panel.removeChild(panel.firstChild);\n        }\n        // Reset indeterminate state for all layers and groups before\n        // applying based on groupSelectStyle\n        LayerSwitcher.forEachRecursive(map, function (l, _idx, _a) {\n            l.set('indeterminate', false);\n        });\n        if (options.groupSelectStyle === 'children' ||\n            options.groupSelectStyle === 'none') {\n            // Set visibile and indeterminate state of groups based on\n            // their children's visibility\n            LayerSwitcher.setGroupVisibility(map);\n        }\n        else if (options.groupSelectStyle === 'group') {\n            // Set child indetermiate state based on their parent's visibility\n            LayerSwitcher.setChildVisibility(map);\n        }\n        const ul = document.createElement('ul');\n        panel.appendChild(ul);\n        // passing two map arguments instead of lyr as we're passing the map as the root of the layers tree\n        LayerSwitcher.renderLayers_(map, map, ul, options, function render(_changedLyr) {\n            LayerSwitcher.renderPanel(map, panel, options);\n        });\n        // Create the event.\n        const rendercomplete_event = new Event('rendercomplete');\n        // Dispatch the event.\n        panel.dispatchEvent(rendercomplete_event);\n    }\n    /**\n     * **_[static]_** - Determine if a given layer group contains base layers\n     * @param grp Group to test\n     */\n    static isBaseGroup(grp) {\n        if (grp instanceof LayerGroup) {\n            const lyrs = grp.getLayers().getArray();\n            return lyrs.length && lyrs[0].get('type') === 'base';\n        }\n        else {\n            return false;\n        }\n    }\n    static setGroupVisibility(map) {\n        // Get a list of groups, with the deepest first\n        const groups = LayerSwitcher.getGroupsAndLayers(map, function (l) {\n            return (l instanceof LayerGroup &&\n                !l.get('combine') &&\n                !LayerSwitcher.isBaseGroup(l));\n        }).reverse();\n        // console.log(groups.map(g => g.get('title')));\n        groups.forEach(function (grp) {\n            // TODO Can we use getLayersArray, is it public in the esm build?\n            const descendantVisibility = grp.getLayersArray().map(function (l) {\n                const state = l.getVisible();\n                // console.log('>', l.get('title'), state);\n                return state;\n            });\n            // console.log(descendantVisibility);\n            if (descendantVisibility.every(function (v) {\n                return v === true;\n            })) {\n                grp.setVisible(true);\n                grp.set('indeterminate', false);\n            }\n            else if (descendantVisibility.every(function (v) {\n                return v === false;\n            })) {\n                grp.setVisible(false);\n                grp.set('indeterminate', false);\n            }\n            else {\n                grp.setVisible(true);\n                grp.set('indeterminate', true);\n            }\n        });\n    }\n    static setChildVisibility(map) {\n        // console.log('setChildVisibility');\n        const groups = LayerSwitcher.getGroupsAndLayers(map, function (l) {\n            return (l instanceof LayerGroup &&\n                !l.get('combine') &&\n                !LayerSwitcher.isBaseGroup(l));\n        });\n        groups.forEach(function (grp) {\n            const group = grp;\n            // console.log(group.get('title'));\n            const groupVisible = group.getVisible();\n            const groupIndeterminate = group.get('indeterminate');\n            group\n                .getLayers()\n                .getArray()\n                .forEach(function (l) {\n                l.set('indeterminate', false);\n                if ((!groupVisible || groupIndeterminate) && l.getVisible()) {\n                    l.set('indeterminate', true);\n                }\n            });\n        });\n    }\n    /**\n     * Ensure only the top-most base layer is visible if more than one is visible.\n     * @param map The map instance.\n     * @param groupSelectStyle\n     * @protected\n     */\n    static ensureTopVisibleBaseLayerShown(map, groupSelectStyle) {\n        let lastVisibleBaseLyr;\n        LayerSwitcher.forEachRecursive(map, function (lyr, _idx, _arr) {\n            if (lyr.get('type') === 'base' && lyr.getVisible()) {\n                lastVisibleBaseLyr = lyr;\n            }\n        });\n        if (lastVisibleBaseLyr)\n            LayerSwitcher.setVisible_(map, lastVisibleBaseLyr, true, groupSelectStyle);\n    }\n    /**\n     * **_[static]_** - Get an Array of all layers and groups displayed by the LayerSwitcher (has a `'title'` property)\n     * contained by the specified map or layer group; optionally filtering via `filterFn`\n     * @param grp The map or layer group for which layers are found.\n     * @param filterFn Optional function used to filter the returned layers\n     */\n    static getGroupsAndLayers(grp, filterFn) {\n        const layers = [];\n        filterFn =\n            filterFn ||\n                function (_lyr, _idx, _arr) {\n                    return true;\n                };\n        LayerSwitcher.forEachRecursive(grp, function (lyr, idx, arr) {\n            if (lyr.get('title')) {\n                if (filterFn(lyr, idx, arr)) {\n                    layers.push(lyr);\n                }\n            }\n        });\n        return layers;\n    }\n    /**\n     * Toggle the visible state of a layer.\n     * Takes care of hiding other layers in the same exclusive group if the layer\n     * is toggle to visible.\n     * @protected\n     * @param map The map instance.\n     * @param lyr layer whose visibility will be toggled.\n     * @param visible Set whether the layer is shown\n     * @param groupSelectStyle\n     * @protected\n     */\n    static setVisible_(map, lyr, visible, groupSelectStyle) {\n        // console.log(lyr.get('title'), visible, groupSelectStyle);\n        lyr.setVisible(visible);\n        if (visible && lyr.get('type') === 'base') {\n            // Hide all other base layers regardless of grouping\n            LayerSwitcher.forEachRecursive(map, function (l, _idx, _arr) {\n                if (l != lyr && l.get('type') === 'base') {\n                    l.setVisible(false);\n                }\n            });\n        }\n        if (lyr instanceof LayerGroup &&\n            !lyr.get('combine') &&\n            groupSelectStyle === 'children') {\n            lyr.getLayers().forEach((l) => {\n                LayerSwitcher.setVisible_(map, l, lyr.getVisible(), groupSelectStyle);\n            });\n        }\n    }\n    /**\n     * Render all layers that are children of a group.\n     * @param map The map instance.\n     * @param lyr Layer to be rendered (should have a title property).\n     * @param idx Position in parent group list.\n     * @param options Options for groups and layers\n     * @protected\n     */\n    static renderLayer_(map, lyr, idx, options, render) {\n        const li = document.createElement('li');\n        const lyrTitle = lyr.get('title');\n        const checkboxId = LayerSwitcher.uuid();\n        const label = document.createElement('label');\n        if (lyr instanceof LayerGroup && !lyr.get('combine')) {\n            const isBaseGroup = LayerSwitcher.isBaseGroup(lyr);\n            li.classList.add('group');\n            if (isBaseGroup) {\n                li.classList.add(CSS_PREFIX + 'base-group');\n            }\n            // Group folding\n            if (lyr.get('fold')) {\n                li.classList.add(CSS_PREFIX + 'fold');\n                li.classList.add(CSS_PREFIX + lyr.get('fold'));\n                const btn = document.createElement('button');\n                btn.onclick = function (e) {\n                    const evt = e || window.event;\n                    LayerSwitcher.toggleFold_(lyr, li);\n                    evt.preventDefault();\n                };\n                li.appendChild(btn);\n            }\n            if (!isBaseGroup && options.groupSelectStyle != 'none') {\n                const input = document.createElement('input');\n                input.type = 'checkbox';\n                input.id = checkboxId;\n                input.checked = lyr.getVisible();\n                input.indeterminate = lyr.get('indeterminate');\n                input.onchange = function (e) {\n                    const target = e.target;\n                    LayerSwitcher.setVisible_(map, lyr, target.checked, options.groupSelectStyle);\n                    render(lyr);\n                };\n                li.appendChild(input);\n                label.htmlFor = checkboxId;\n            }\n            label.innerHTML = lyrTitle;\n            li.appendChild(label);\n            const ul = document.createElement('ul');\n            li.appendChild(ul);\n            LayerSwitcher.renderLayers_(map, lyr, ul, options, render);\n        }\n        else {\n            li.className = 'layer';\n            const input = document.createElement('input');\n            if (lyr.get('type') === 'base') {\n                input.type = 'radio';\n            }\n            else {\n                input.type = 'checkbox';\n            }\n            input.id = checkboxId;\n            input.checked = lyr.get('visible');\n            input.indeterminate = lyr.get('indeterminate');\n            input.onchange = function (e) {\n                const target = e.target;\n                LayerSwitcher.setVisible_(map, lyr, target.checked, options.groupSelectStyle);\n                render(lyr);\n            };\n            li.appendChild(input);\n            label.htmlFor = checkboxId;\n            label.innerHTML = lyrTitle;\n            const rsl = map.getView().getResolution();\n            if (rsl >= lyr.getMaxResolution() || rsl < lyr.getMinResolution()) {\n                label.className += ' disabled';\n            }\n            else if (lyr.getMinZoom && lyr.getMaxZoom) {\n                const zoom = map.getView().getZoom();\n                if (zoom <= lyr.getMinZoom() || zoom > lyr.getMaxZoom()) {\n                    label.className += ' disabled';\n                }\n            }\n            li.appendChild(label);\n        }\n        return li;\n    }\n    /**\n     * Render all layers that are children of a group.\n     * @param map The map instance.\n     * @param lyr Group layer whose children will be rendered.\n     * @param elm DOM element that children will be appended to.\n     * @param options Options for groups and layers\n     * @protected\n     */\n    static renderLayers_(map, lyr, elm, options, render) {\n        let lyrs = lyr.getLayers().getArray().slice();\n        if (options.reverse)\n            lyrs = lyrs.reverse();\n        for (let i = 0, l; i < lyrs.length; i++) {\n            l = lyrs[i];\n            if (l.get('title')) {\n                elm.appendChild(LayerSwitcher.renderLayer_(map, l, i, options, render));\n            }\n        }\n    }\n    /**\n     * **_[static]_** - Call the supplied function for each layer in the passed layer group\n     * recursing nested groups.\n     * @param lyr The layer group to start iterating from.\n     * @param fn Callback which will be called for each layer\n     * found under `lyr`.\n     */\n    static forEachRecursive(lyr, fn) {\n        lyr.getLayers().forEach(function (lyr, idx, a) {\n            fn(lyr, idx, a);\n            if (lyr instanceof LayerGroup) {\n                LayerSwitcher.forEachRecursive(lyr, fn);\n            }\n        });\n    }\n    /**\n     * **_[static]_** - Generate a UUID\n     * Adapted from http://stackoverflow.com/a/2117523/526860\n     * @returns {String} UUID\n     */\n    static uuid() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n    /**\n     * Apply workaround to enable scrolling of overflowing content within an\n     * element. Adapted from https://gist.github.com/chrismbarr/4107472\n     * @param elm Element on which to enable touch scrolling\n     * @protected\n     */\n    static enableTouchScroll_(elm) {\n        if (LayerSwitcher.isTouchDevice_()) {\n            let scrollStartPos = 0;\n            elm.addEventListener('touchstart', function (event) {\n                scrollStartPos = this.scrollTop + event.touches[0].pageY;\n            }, false);\n            elm.addEventListener('touchmove', function (event) {\n                this.scrollTop = scrollStartPos - event.touches[0].pageY;\n            }, false);\n        }\n    }\n    /**\n     * Determine if the current browser supports touch events. Adapted from\n     * https://gist.github.com/chrismbarr/4107472\n     * @returns {Boolean} True if client can have 'TouchEvent' event\n     * @protected\n     */\n    static isTouchDevice_() {\n        try {\n            document.createEvent('TouchEvent');\n            return true;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    /**\n     * Fold/unfold layer group\n     * @param lyr Layer group to fold/unfold\n     * @param li List item containing layer group\n     * @protected\n     */\n    static toggleFold_(lyr, li) {\n        li.classList.remove(CSS_PREFIX + lyr.get('fold'));\n        lyr.set('fold', lyr.get('fold') === 'open' ? 'close' : 'open');\n        li.classList.add(CSS_PREFIX + lyr.get('fold'));\n    }\n    /**\n     * If a valid groupSelectStyle value is not provided then return the default\n     * @param groupSelectStyle The string to check for validity\n     * @returns The value groupSelectStyle, if valid, the default otherwise\n     * @protected\n     */\n    static getGroupSelectStyle(groupSelectStyle) {\n        return ['none', 'children', 'group'].indexOf(groupSelectStyle) >= 0\n            ? groupSelectStyle\n            : 'children';\n    }\n}\n// Expose LayerSwitcher as ol.control.LayerSwitcher if using a full build of\n// OpenLayers\nif (window['ol'] && window['ol']['control']) {\n    window['ol']['control']['LayerSwitcher'] = LayerSwitcher;\n}\n\nreturn LayerSwitcher;\n\n})));\n","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _Highlighter = __webpack_require__(2);\n\t\n\tvar _Highlighter2 = _interopRequireDefault(_Highlighter);\n\n\texports['default'] = _Highlighter2['default'];\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports['default'] = Highlighter;\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar _highlightWordsCore = __webpack_require__(3);\n\t\n\tvar _propTypes = __webpack_require__(4);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _react = __webpack_require__(14);\n\t\n\tvar _memoizeOne = __webpack_require__(15);\n\t\n\tvar _memoizeOne2 = _interopRequireDefault(_memoizeOne);\n\t\n\tHighlighter.propTypes = {\n\t  activeClassName: _propTypes2['default'].string,\n\t  activeIndex: _propTypes2['default'].number,\n\t  activeStyle: _propTypes2['default'].object,\n\t  autoEscape: _propTypes2['default'].bool,\n\t  className: _propTypes2['default'].string,\n\t  findChunks: _propTypes2['default'].func,\n\t  highlightClassName: _propTypes2['default'].oneOfType([_propTypes2['default'].object, _propTypes2['default'].string]),\n\t  highlightStyle: _propTypes2['default'].object,\n\t  highlightTag: _propTypes2['default'].oneOfType([_propTypes2['default'].node, _propTypes2['default'].func, _propTypes2['default'].string]),\n\t  sanitize: _propTypes2['default'].func,\n\t  searchWords: _propTypes2['default'].arrayOf(_propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].instanceOf(RegExp)])).isRequired,\n\t  textToHighlight: _propTypes2['default'].string.isRequired,\n\t  unhighlightClassName: _propTypes2['default'].string,\n\t  unhighlightStyle: _propTypes2['default'].object\n\t};\n\t\n\t/**\r\n\t * Highlights all occurrences of search terms (searchText) within a string (textToHighlight).\r\n\t * This function returns an array of strings and <span>s (wrapping highlighted words).\r\n\t */\n\t\n\tfunction Highlighter(_ref) {\n\t  var _ref$activeClassName = _ref.activeClassName;\n\t  var activeClassName = _ref$activeClassName === undefined ? '' : _ref$activeClassName;\n\t  var _ref$activeIndex = _ref.activeIndex;\n\t  var activeIndex = _ref$activeIndex === undefined ? -1 : _ref$activeIndex;\n\t  var activeStyle = _ref.activeStyle;\n\t  var autoEscape = _ref.autoEscape;\n\t  var _ref$caseSensitive = _ref.caseSensitive;\n\t  var caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive;\n\t  var className = _ref.className;\n\t  var findChunks = _ref.findChunks;\n\t  var _ref$highlightClassName = _ref.highlightClassName;\n\t  var highlightClassName = _ref$highlightClassName === undefined ? '' : _ref$highlightClassName;\n\t  var _ref$highlightStyle = _ref.highlightStyle;\n\t  var highlightStyle = _ref$highlightStyle === undefined ? {} : _ref$highlightStyle;\n\t  var _ref$highlightTag = _ref.highlightTag;\n\t  var highlightTag = _ref$highlightTag === undefined ? 'mark' : _ref$highlightTag;\n\t  var sanitize = _ref.sanitize;\n\t  var searchWords = _ref.searchWords;\n\t  var textToHighlight = _ref.textToHighlight;\n\t  var _ref$unhighlightClassName = _ref.unhighlightClassName;\n\t  var unhighlightClassName = _ref$unhighlightClassName === undefined ? '' : _ref$unhighlightClassName;\n\t  var unhighlightStyle = _ref.unhighlightStyle;\n\t\n\t  var rest = _objectWithoutProperties(_ref, ['activeClassName', 'activeIndex', 'activeStyle', 'autoEscape', 'caseSensitive', 'className', 'findChunks', 'highlightClassName', 'highlightStyle', 'highlightTag', 'sanitize', 'searchWords', 'textToHighlight', 'unhighlightClassName', 'unhighlightStyle']);\n\t\n\t  var chunks = (0, _highlightWordsCore.findAll)({\n\t    autoEscape: autoEscape,\n\t    caseSensitive: caseSensitive,\n\t    findChunks: findChunks,\n\t    sanitize: sanitize,\n\t    searchWords: searchWords,\n\t    textToHighlight: textToHighlight\n\t  });\n\t  var HighlightTag = highlightTag;\n\t  var highlightIndex = -1;\n\t  var highlightClassNames = '';\n\t  var highlightStyles = undefined;\n\t\n\t  var lowercaseProps = function lowercaseProps(object) {\n\t    var mapped = {};\n\t    for (var key in object) {\n\t      mapped[key.toLowerCase()] = object[key];\n\t    }\n\t    return mapped;\n\t  };\n\t  var memoizedLowercaseProps = (0, _memoizeOne2['default'])(lowercaseProps);\n\t\n\t  return (0, _react.createElement)('span', _extends({\n\t    className: className\n\t  }, rest, {\n\t    children: chunks.map(function (chunk, index) {\n\t      var text = textToHighlight.substr(chunk.start, chunk.end - chunk.start);\n\t\n\t      if (chunk.highlight) {\n\t        highlightIndex++;\n\t\n\t        var highlightClass = undefined;\n\t        if (typeof highlightClassName === 'object') {\n\t          if (!caseSensitive) {\n\t            highlightClassName = memoizedLowercaseProps(highlightClassName);\n\t            highlightClass = highlightClassName[text.toLowerCase()];\n\t          } else {\n\t            highlightClass = highlightClassName[text];\n\t          }\n\t        } else {\n\t          highlightClass = highlightClassName;\n\t        }\n\t\n\t        var isActive = highlightIndex === +activeIndex;\n\t\n\t        highlightClassNames = highlightClass + ' ' + (isActive ? activeClassName : '');\n\t        highlightStyles = isActive === true && activeStyle != null ? Object.assign({}, highlightStyle, activeStyle) : highlightStyle;\n\t\n\t        var props = {\n\t          children: text,\n\t          className: highlightClassNames,\n\t          key: index,\n\t          style: highlightStyles\n\t        };\n\t\n\t        // Don't attach arbitrary props to DOM elements; this triggers React DEV warnings (https://fb.me/react-unknown-prop)\n\t        // Only pass through the highlightIndex attribute for custom components.\n\t        if (typeof HighlightTag !== 'string') {\n\t          props.highlightIndex = highlightIndex;\n\t        }\n\t\n\t        return (0, _react.createElement)(HighlightTag, props);\n\t      } else {\n\t        return (0, _react.createElement)('span', {\n\t          children: text,\n\t          className: unhighlightClassName,\n\t          key: index,\n\t          style: unhighlightStyle\n\t        });\n\t      }\n\t    })\n\t  }));\n\t}\n\t\n\tmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tmodule.exports =\n\t/******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ (function(module, exports, __webpack_require__) {\n\t\n\t\tmodule.exports = __webpack_require__(1);\n\t\n\t\n\t/***/ }),\n\t/* 1 */\n\t/***/ (function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _utils = __webpack_require__(2);\n\t\t\n\t\tObject.defineProperty(exports, 'combineChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.combineChunks;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'fillInChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.fillInChunks;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'findAll', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.findAll;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'findChunks', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _utils.findChunks;\n\t\t  }\n\t\t});\n\t\n\t/***/ }),\n\t/* 2 */\n\t/***/ (function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t/**\n\t\t * Creates an array of chunk objects representing both higlightable and non highlightable pieces of text that match each search word.\n\t\t * @return Array of \"chunks\" (where a Chunk is { start:number, end:number, highlight:boolean })\n\t\t */\n\t\tvar findAll = exports.findAll = function findAll(_ref) {\n\t\t  var autoEscape = _ref.autoEscape,\n\t\t      _ref$caseSensitive = _ref.caseSensitive,\n\t\t      caseSensitive = _ref$caseSensitive === undefined ? false : _ref$caseSensitive,\n\t\t      _ref$findChunks = _ref.findChunks,\n\t\t      findChunks = _ref$findChunks === undefined ? defaultFindChunks : _ref$findChunks,\n\t\t      sanitize = _ref.sanitize,\n\t\t      searchWords = _ref.searchWords,\n\t\t      textToHighlight = _ref.textToHighlight;\n\t\t  return fillInChunks({\n\t\t    chunksToHighlight: combineChunks({\n\t\t      chunks: findChunks({\n\t\t        autoEscape: autoEscape,\n\t\t        caseSensitive: caseSensitive,\n\t\t        sanitize: sanitize,\n\t\t        searchWords: searchWords,\n\t\t        textToHighlight: textToHighlight\n\t\t      })\n\t\t    }),\n\t\t    totalLength: textToHighlight ? textToHighlight.length : 0\n\t\t  });\n\t\t};\n\t\t\n\t\t/**\n\t\t * Takes an array of {start:number, end:number} objects and combines chunks that overlap into single chunks.\n\t\t * @return {start:number, end:number}[]\n\t\t */\n\t\tvar combineChunks = exports.combineChunks = function combineChunks(_ref2) {\n\t\t  var chunks = _ref2.chunks;\n\t\t\n\t\t  chunks = chunks.sort(function (first, second) {\n\t\t    return first.start - second.start;\n\t\t  }).reduce(function (processedChunks, nextChunk) {\n\t\t    // First chunk just goes straight in the array...\n\t\t    if (processedChunks.length === 0) {\n\t\t      return [nextChunk];\n\t\t    } else {\n\t\t      // ... subsequent chunks get checked to see if they overlap...\n\t\t      var prevChunk = processedChunks.pop();\n\t\t      if (nextChunk.start <= prevChunk.end) {\n\t\t        // It may be the case that prevChunk completely surrounds nextChunk, so take the\n\t\t        // largest of the end indeces.\n\t\t        var endIndex = Math.max(prevChunk.end, nextChunk.end);\n\t\t        processedChunks.push({ start: prevChunk.start, end: endIndex });\n\t\t      } else {\n\t\t        processedChunks.push(prevChunk, nextChunk);\n\t\t      }\n\t\t      return processedChunks;\n\t\t    }\n\t\t  }, []);\n\t\t\n\t\t  return chunks;\n\t\t};\n\t\t\n\t\t/**\n\t\t * Examine text for any matches.\n\t\t * If we find matches, add them to the returned array as a \"chunk\" object ({start:number, end:number}).\n\t\t * @return {start:number, end:number}[]\n\t\t */\n\t\tvar defaultFindChunks = function defaultFindChunks(_ref3) {\n\t\t  var autoEscape = _ref3.autoEscape,\n\t\t      caseSensitive = _ref3.caseSensitive,\n\t\t      _ref3$sanitize = _ref3.sanitize,\n\t\t      sanitize = _ref3$sanitize === undefined ? identity : _ref3$sanitize,\n\t\t      searchWords = _ref3.searchWords,\n\t\t      textToHighlight = _ref3.textToHighlight;\n\t\t\n\t\t  textToHighlight = sanitize(textToHighlight);\n\t\t\n\t\t  return searchWords.filter(function (searchWord) {\n\t\t    return searchWord;\n\t\t  }) // Remove empty words\n\t\t  .reduce(function (chunks, searchWord) {\n\t\t    searchWord = sanitize(searchWord);\n\t\t\n\t\t    if (autoEscape) {\n\t\t      searchWord = escapeRegExpFn(searchWord);\n\t\t    }\n\t\t\n\t\t    var regex = new RegExp(searchWord, caseSensitive ? 'g' : 'gi');\n\t\t\n\t\t    var match = void 0;\n\t\t    while (match = regex.exec(textToHighlight)) {\n\t\t      var start = match.index;\n\t\t      var end = regex.lastIndex;\n\t\t      // We do not return zero-length matches\n\t\t      if (end > start) {\n\t\t        chunks.push({ start: start, end: end });\n\t\t      }\n\t\t\n\t\t      // Prevent browsers like Firefox from getting stuck in an infinite loop\n\t\t      // See http://www.regexguru.com/2008/04/watch-out-for-zero-length-matches/\n\t\t      if (match.index == regex.lastIndex) {\n\t\t        regex.lastIndex++;\n\t\t      }\n\t\t    }\n\t\t\n\t\t    return chunks;\n\t\t  }, []);\n\t\t};\n\t\t// Allow the findChunks to be overridden in findAll,\n\t\t// but for backwards compatibility we export as the old name\n\t\texports.findChunks = defaultFindChunks;\n\t\t\n\t\t/**\n\t\t * Given a set of chunks to highlight, create an additional set of chunks\n\t\t * to represent the bits of text between the highlighted text.\n\t\t * @param chunksToHighlight {start:number, end:number}[]\n\t\t * @param totalLength number\n\t\t * @return {start:number, end:number, highlight:boolean}[]\n\t\t */\n\t\t\n\t\tvar fillInChunks = exports.fillInChunks = function fillInChunks(_ref4) {\n\t\t  var chunksToHighlight = _ref4.chunksToHighlight,\n\t\t      totalLength = _ref4.totalLength;\n\t\t\n\t\t  var allChunks = [];\n\t\t  var append = function append(start, end, highlight) {\n\t\t    if (end - start > 0) {\n\t\t      allChunks.push({\n\t\t        start: start,\n\t\t        end: end,\n\t\t        highlight: highlight\n\t\t      });\n\t\t    }\n\t\t  };\n\t\t\n\t\t  if (chunksToHighlight.length === 0) {\n\t\t    append(0, totalLength, false);\n\t\t  } else {\n\t\t    var lastIndex = 0;\n\t\t    chunksToHighlight.forEach(function (chunk) {\n\t\t      append(lastIndex, chunk.start, false);\n\t\t      append(chunk.start, chunk.end, true);\n\t\t      lastIndex = chunk.end;\n\t\t    });\n\t\t    append(lastIndex, totalLength, false);\n\t\t  }\n\t\t  return allChunks;\n\t\t};\n\t\t\n\t\tfunction identity(value) {\n\t\t  return value;\n\t\t}\n\t\t\n\t\tfunction escapeRegExpFn(str) {\n\t\t  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n\t\t}\n\t\n\t/***/ })\n\t/******/ ]);\n\t//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n\t    Symbol.for &&\n\t    Symbol.for('react.element')) ||\n\t    0xeac7;\n\t\n\t  var isValidElement = function(object) {\n\t    return typeof object === 'object' &&\n\t      object !== null &&\n\t      object.$$typeof === REACT_ELEMENT_TYPE;\n\t  };\n\t\n\t  // By explicitly using `prop-types` you are opting into new development behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  var throwOnDirectAccess = true;\n\t  module.exports = __webpack_require__(6)(isValidElement, throwOnDirectAccess);\n\t} else {\n\t  // By explicitly using `prop-types` you are opting into new production behavior.\n\t  // http://fb.me/prop-types-in-prod\n\t  module.exports = __webpack_require__(13)();\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\tvar invariant = __webpack_require__(8);\n\tvar warning = __webpack_require__(9);\n\tvar assign = __webpack_require__(10);\n\t\n\tvar ReactPropTypesSecret = __webpack_require__(11);\n\tvar checkPropTypes = __webpack_require__(12);\n\t\n\tmodule.exports = function(isValidElement, throwOnDirectAccess) {\n\t  /* global Symbol */\n\t  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n\t  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\t\n\t  /**\n\t   * Returns the iterator method function contained on the iterable object.\n\t   *\n\t   * Be sure to invoke the function with the iterable as context:\n\t   *\n\t   *     var iteratorFn = getIteratorFn(myIterable);\n\t   *     if (iteratorFn) {\n\t   *       var iterator = iteratorFn.call(myIterable);\n\t   *       ...\n\t   *     }\n\t   *\n\t   * @param {?object} maybeIterable\n\t   * @return {?function}\n\t   */\n\t  function getIteratorFn(maybeIterable) {\n\t    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n\t    if (typeof iteratorFn === 'function') {\n\t      return iteratorFn;\n\t    }\n\t  }\n\t\n\t  /**\n\t   * Collection of methods that allow declaration and validation of props that are\n\t   * supplied to React components. Example usage:\n\t   *\n\t   *   var Props = require('ReactPropTypes');\n\t   *   var MyArticle = React.createClass({\n\t   *     propTypes: {\n\t   *       // An optional string prop named \"description\".\n\t   *       description: Props.string,\n\t   *\n\t   *       // A required enum prop named \"category\".\n\t   *       category: Props.oneOf(['News','Photos']).isRequired,\n\t   *\n\t   *       // A prop named \"dialog\" that requires an instance of Dialog.\n\t   *       dialog: Props.instanceOf(Dialog).isRequired\n\t   *     },\n\t   *     render: function() { ... }\n\t   *   });\n\t   *\n\t   * A more formal specification of how these methods are used:\n\t   *\n\t   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n\t   *   decl := ReactPropTypes.{type}(.isRequired)?\n\t   *\n\t   * Each and every declaration produces a function with the same signature. This\n\t   * allows the creation of custom validation functions. For example:\n\t   *\n\t   *  var MyLink = React.createClass({\n\t   *    propTypes: {\n\t   *      // An optional string or URI prop named \"href\".\n\t   *      href: function(props, propName, componentName) {\n\t   *        var propValue = props[propName];\n\t   *        if (propValue != null && typeof propValue !== 'string' &&\n\t   *            !(propValue instanceof URI)) {\n\t   *          return new Error(\n\t   *            'Expected a string or an URI for ' + propName + ' in ' +\n\t   *            componentName\n\t   *          );\n\t   *        }\n\t   *      }\n\t   *    },\n\t   *    render: function() {...}\n\t   *  });\n\t   *\n\t   * @internal\n\t   */\n\t\n\t  var ANONYMOUS = '<<anonymous>>';\n\t\n\t  // Important!\n\t  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n\t  var ReactPropTypes = {\n\t    array: createPrimitiveTypeChecker('array'),\n\t    bool: createPrimitiveTypeChecker('boolean'),\n\t    func: createPrimitiveTypeChecker('function'),\n\t    number: createPrimitiveTypeChecker('number'),\n\t    object: createPrimitiveTypeChecker('object'),\n\t    string: createPrimitiveTypeChecker('string'),\n\t    symbol: createPrimitiveTypeChecker('symbol'),\n\t\n\t    any: createAnyTypeChecker(),\n\t    arrayOf: createArrayOfTypeChecker,\n\t    element: createElementTypeChecker(),\n\t    instanceOf: createInstanceTypeChecker,\n\t    node: createNodeChecker(),\n\t    objectOf: createObjectOfTypeChecker,\n\t    oneOf: createEnumTypeChecker,\n\t    oneOfType: createUnionTypeChecker,\n\t    shape: createShapeTypeChecker,\n\t    exact: createStrictShapeTypeChecker,\n\t  };\n\t\n\t  /**\n\t   * inlined Object.is polyfill to avoid requiring consumers ship their own\n\t   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n\t   */\n\t  /*eslint-disable no-self-compare*/\n\t  function is(x, y) {\n\t    // SameValue algorithm\n\t    if (x === y) {\n\t      // Steps 1-5, 7-10\n\t      // Steps 6.b-6.e: +0 != -0\n\t      return x !== 0 || 1 / x === 1 / y;\n\t    } else {\n\t      // Step 6.a: NaN == NaN\n\t      return x !== x && y !== y;\n\t    }\n\t  }\n\t  /*eslint-enable no-self-compare*/\n\t\n\t  /**\n\t   * We use an Error-like object for backward compatibility as people may call\n\t   * PropTypes directly and inspect their output. However, we don't use real\n\t   * Errors anymore. We don't inspect their stack anyway, and creating them\n\t   * is prohibitively expensive if they are created too often, such as what\n\t   * happens in oneOfType() for any type before the one that matched.\n\t   */\n\t  function PropTypeError(message) {\n\t    this.message = message;\n\t    this.stack = '';\n\t  }\n\t  // Make `instanceof Error` still work for returned errors.\n\t  PropTypeError.prototype = Error.prototype;\n\t\n\t  function createChainableTypeChecker(validate) {\n\t    if (process.env.NODE_ENV !== 'production') {\n\t      var manualPropTypeCallCache = {};\n\t      var manualPropTypeWarningCount = 0;\n\t    }\n\t    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n\t      componentName = componentName || ANONYMOUS;\n\t      propFullName = propFullName || propName;\n\t\n\t      if (secret !== ReactPropTypesSecret) {\n\t        if (throwOnDirectAccess) {\n\t          // New behavior only for users of `prop-types` package\n\t          invariant(\n\t            false,\n\t            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n\t            'Use `PropTypes.checkPropTypes()` to call them. ' +\n\t            'Read more at http://fb.me/use-check-prop-types'\n\t          );\n\t        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n\t          // Old behavior for people using React.PropTypes\n\t          var cacheKey = componentName + ':' + propName;\n\t          if (\n\t            !manualPropTypeCallCache[cacheKey] &&\n\t            // Avoid spamming the console because they are often not actionable except for lib authors\n\t            manualPropTypeWarningCount < 3\n\t          ) {\n\t            warning(\n\t              false,\n\t              'You are manually calling a React.PropTypes validation ' +\n\t              'function for the `%s` prop on `%s`. This is deprecated ' +\n\t              'and will throw in the standalone `prop-types` package. ' +\n\t              'You may be seeing this warning due to a third-party PropTypes ' +\n\t              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n\t              propFullName,\n\t              componentName\n\t            );\n\t            manualPropTypeCallCache[cacheKey] = true;\n\t            manualPropTypeWarningCount++;\n\t          }\n\t        }\n\t      }\n\t      if (props[propName] == null) {\n\t        if (isRequired) {\n\t          if (props[propName] === null) {\n\t            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n\t          }\n\t          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n\t        }\n\t        return null;\n\t      } else {\n\t        return validate(props, propName, componentName, location, propFullName);\n\t      }\n\t    }\n\t\n\t    var chainedCheckType = checkType.bind(null, false);\n\t    chainedCheckType.isRequired = checkType.bind(null, true);\n\t\n\t    return chainedCheckType;\n\t  }\n\t\n\t  function createPrimitiveTypeChecker(expectedType) {\n\t    function validate(props, propName, componentName, location, propFullName, secret) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== expectedType) {\n\t        // `propValue` being instance of, say, date/regexp, pass the 'object'\n\t        // check, but we can offer a more precise error message here rather than\n\t        // 'of type `object`'.\n\t        var preciseType = getPreciseType(propValue);\n\t\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createAnyTypeChecker() {\n\t    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n\t  }\n\t\n\t  function createArrayOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      if (!Array.isArray(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n\t      }\n\t      for (var i = 0; i < propValue.length; i++) {\n\t        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n\t        if (error instanceof Error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createElementTypeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      if (!isValidElement(propValue)) {\n\t        var propType = getPropType(propValue);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createInstanceTypeChecker(expectedClass) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!(props[propName] instanceof expectedClass)) {\n\t        var expectedClassName = expectedClass.name || ANONYMOUS;\n\t        var actualClassName = getClassName(props[propName]);\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createEnumTypeChecker(expectedValues) {\n\t    if (!Array.isArray(expectedValues)) {\n\t      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n\t      return emptyFunction.thatReturnsNull;\n\t    }\n\t\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      for (var i = 0; i < expectedValues.length; i++) {\n\t        if (is(propValue, expectedValues[i])) {\n\t          return null;\n\t        }\n\t      }\n\t\n\t      var valuesString = JSON.stringify(expectedValues);\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createObjectOfTypeChecker(typeChecker) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (typeof typeChecker !== 'function') {\n\t        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n\t      }\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n\t      }\n\t      for (var key in propValue) {\n\t        if (propValue.hasOwnProperty(key)) {\n\t          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t          if (error instanceof Error) {\n\t            return error;\n\t          }\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createUnionTypeChecker(arrayOfTypeCheckers) {\n\t    if (!Array.isArray(arrayOfTypeCheckers)) {\n\t      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n\t      return emptyFunction.thatReturnsNull;\n\t    }\n\t\n\t    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t      var checker = arrayOfTypeCheckers[i];\n\t      if (typeof checker !== 'function') {\n\t        warning(\n\t          false,\n\t          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n\t          'received %s at index %s.',\n\t          getPostfixForTypeWarning(checker),\n\t          i\n\t        );\n\t        return emptyFunction.thatReturnsNull;\n\t      }\n\t    }\n\t\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n\t        var checker = arrayOfTypeCheckers[i];\n\t        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n\t          return null;\n\t        }\n\t      }\n\t\n\t      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createNodeChecker() {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      if (!isNode(props[propName])) {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      for (var key in shapeTypes) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          continue;\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function createStrictShapeTypeChecker(shapeTypes) {\n\t    function validate(props, propName, componentName, location, propFullName) {\n\t      var propValue = props[propName];\n\t      var propType = getPropType(propValue);\n\t      if (propType !== 'object') {\n\t        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n\t      }\n\t      // We need to check all keys in case some are required but missing from\n\t      // props.\n\t      var allKeys = assign({}, props[propName], shapeTypes);\n\t      for (var key in allKeys) {\n\t        var checker = shapeTypes[key];\n\t        if (!checker) {\n\t          return new PropTypeError(\n\t            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n\t            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n\t            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n\t          );\n\t        }\n\t        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n\t        if (error) {\n\t          return error;\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t\n\t    return createChainableTypeChecker(validate);\n\t  }\n\t\n\t  function isNode(propValue) {\n\t    switch (typeof propValue) {\n\t      case 'number':\n\t      case 'string':\n\t      case 'undefined':\n\t        return true;\n\t      case 'boolean':\n\t        return !propValue;\n\t      case 'object':\n\t        if (Array.isArray(propValue)) {\n\t          return propValue.every(isNode);\n\t        }\n\t        if (propValue === null || isValidElement(propValue)) {\n\t          return true;\n\t        }\n\t\n\t        var iteratorFn = getIteratorFn(propValue);\n\t        if (iteratorFn) {\n\t          var iterator = iteratorFn.call(propValue);\n\t          var step;\n\t          if (iteratorFn !== propValue.entries) {\n\t            while (!(step = iterator.next()).done) {\n\t              if (!isNode(step.value)) {\n\t                return false;\n\t              }\n\t            }\n\t          } else {\n\t            // Iterator will provide entry [k,v] tuples rather than values.\n\t            while (!(step = iterator.next()).done) {\n\t              var entry = step.value;\n\t              if (entry) {\n\t                if (!isNode(entry[1])) {\n\t                  return false;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        } else {\n\t          return false;\n\t        }\n\t\n\t        return true;\n\t      default:\n\t        return false;\n\t    }\n\t  }\n\t\n\t  function isSymbol(propType, propValue) {\n\t    // Native Symbol.\n\t    if (propType === 'symbol') {\n\t      return true;\n\t    }\n\t\n\t    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n\t    if (propValue['@@toStringTag'] === 'Symbol') {\n\t      return true;\n\t    }\n\t\n\t    // Fallback for non-spec compliant Symbols which are polyfilled.\n\t    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n\t      return true;\n\t    }\n\t\n\t    return false;\n\t  }\n\t\n\t  // Equivalent of `typeof` but with special handling for array and regexp.\n\t  function getPropType(propValue) {\n\t    var propType = typeof propValue;\n\t    if (Array.isArray(propValue)) {\n\t      return 'array';\n\t    }\n\t    if (propValue instanceof RegExp) {\n\t      // Old webkits (at least until Android 4.0) return 'function' rather than\n\t      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n\t      // passes PropTypes.object.\n\t      return 'object';\n\t    }\n\t    if (isSymbol(propType, propValue)) {\n\t      return 'symbol';\n\t    }\n\t    return propType;\n\t  }\n\t\n\t  // This handles more types than `getPropType`. Only used for error messages.\n\t  // See `createPrimitiveTypeChecker`.\n\t  function getPreciseType(propValue) {\n\t    if (typeof propValue === 'undefined' || propValue === null) {\n\t      return '' + propValue;\n\t    }\n\t    var propType = getPropType(propValue);\n\t    if (propType === 'object') {\n\t      if (propValue instanceof Date) {\n\t        return 'date';\n\t      } else if (propValue instanceof RegExp) {\n\t        return 'regexp';\n\t      }\n\t    }\n\t    return propType;\n\t  }\n\t\n\t  // Returns a string that is postfixed to a warning about an invalid type.\n\t  // For example, \"undefined\" or \"of type array\"\n\t  function getPostfixForTypeWarning(value) {\n\t    var type = getPreciseType(value);\n\t    switch (type) {\n\t      case 'array':\n\t      case 'object':\n\t        return 'an ' + type;\n\t      case 'boolean':\n\t      case 'date':\n\t      case 'regexp':\n\t        return 'a ' + type;\n\t      default:\n\t        return type;\n\t    }\n\t  }\n\t\n\t  // Returns class name of the object, if any.\n\t  function getClassName(propValue) {\n\t    if (!propValue.constructor || !propValue.constructor.name) {\n\t      return ANONYMOUS;\n\t    }\n\t    return propValue.constructor.name;\n\t  }\n\t\n\t  ReactPropTypes.checkPropTypes = checkPropTypes;\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t\n\t  return ReactPropTypes;\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t * \n\t */\n\t\n\tfunction makeEmptyFunction(arg) {\n\t  return function () {\n\t    return arg;\n\t  };\n\t}\n\t\n\t/**\n\t * This function accepts and discards inputs; it has no side effects. This is\n\t * primarily useful idiomatically for overridable function endpoints which\n\t * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n\t */\n\tvar emptyFunction = function emptyFunction() {};\n\t\n\temptyFunction.thatReturns = makeEmptyFunction;\n\temptyFunction.thatReturnsFalse = makeEmptyFunction(false);\n\temptyFunction.thatReturnsTrue = makeEmptyFunction(true);\n\temptyFunction.thatReturnsNull = makeEmptyFunction(null);\n\temptyFunction.thatReturnsThis = function () {\n\t  return this;\n\t};\n\temptyFunction.thatReturnsArgument = function (arg) {\n\t  return arg;\n\t};\n\t\n\tmodule.exports = emptyFunction;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Use invariant() to assert state which your program assumes to be true.\n\t *\n\t * Provide sprintf-style format (only %s is supported) and arguments\n\t * to provide information about what broke and what you were\n\t * expecting.\n\t *\n\t * The invariant message will be stripped in production, but the invariant\n\t * will remain to ensure logic does not differ in production.\n\t */\n\t\n\tvar validateFormat = function validateFormat(format) {};\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  validateFormat = function validateFormat(format) {\n\t    if (format === undefined) {\n\t      throw new Error('invariant requires an error message argument');\n\t    }\n\t  };\n\t}\n\t\n\tfunction invariant(condition, format, a, b, c, d, e, f) {\n\t  validateFormat(format);\n\t\n\t  if (!condition) {\n\t    var error;\n\t    if (format === undefined) {\n\t      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n\t    } else {\n\t      var args = [a, b, c, d, e, f];\n\t      var argIndex = 0;\n\t      error = new Error(format.replace(/%s/g, function () {\n\t        return args[argIndex++];\n\t      }));\n\t      error.name = 'Invariant Violation';\n\t    }\n\t\n\t    error.framesToPop = 1; // we don't care about invariant's own frame\n\t    throw error;\n\t  }\n\t}\n\t\n\tmodule.exports = invariant;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2014-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t *\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\t\n\t/**\n\t * Similar to invariant but only logs a warning if the condition is not met.\n\t * This can be used to log issues in development environments in critical\n\t * paths. Removing the logging code for production environments will keep the\n\t * same logic and follow the same code paths.\n\t */\n\t\n\tvar warning = emptyFunction;\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var printWarning = function printWarning(format) {\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t      args[_key - 1] = arguments[_key];\n\t    }\n\t\n\t    var argIndex = 0;\n\t    var message = 'Warning: ' + format.replace(/%s/g, function () {\n\t      return args[argIndex++];\n\t    });\n\t    if (typeof console !== 'undefined') {\n\t      console.error(message);\n\t    }\n\t    try {\n\t      // --- Welcome to debugging React ---\n\t      // This error was thrown as a convenience so that you can use this stack\n\t      // to find the callsite that caused this warning to fire.\n\t      throw new Error(message);\n\t    } catch (x) {}\n\t  };\n\t\n\t  warning = function warning(condition, format) {\n\t    if (format === undefined) {\n\t      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n\t    }\n\t\n\t    if (format.indexOf('Failed Composite propType: ') === 0) {\n\t      return; // Ignore CompositeComponent proptype check.\n\t    }\n\t\n\t    if (!condition) {\n\t      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n\t        args[_key2 - 2] = arguments[_key2];\n\t      }\n\t\n\t      printWarning.apply(undefined, [format].concat(args));\n\t    }\n\t  };\n\t}\n\t\n\tmodule.exports = warning;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\t/*\n\tobject-assign\n\t(c) Sindre Sorhus\n\t@license MIT\n\t*/\n\t\n\t'use strict';\n\t/* eslint-disable no-unused-vars */\n\tvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\tvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\t\n\tfunction toObject(val) {\n\t\tif (val === null || val === undefined) {\n\t\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t\t}\n\t\n\t\treturn Object(val);\n\t}\n\t\n\tfunction shouldUseNative() {\n\t\ttry {\n\t\t\tif (!Object.assign) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Detect buggy property enumeration order in older V8 versions.\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\t\ttest1[5] = 'de';\n\t\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test2 = {};\n\t\t\tfor (var i = 0; i < 10; i++) {\n\t\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t\t}\n\t\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\t\treturn test2[n];\n\t\t\t});\n\t\t\tif (order2.join('') !== '0123456789') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\t\tvar test3 = {};\n\t\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\t\ttest3[letter] = letter;\n\t\t\t});\n\t\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\t} catch (err) {\n\t\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\t\tvar from;\n\t\tvar to = toObject(target);\n\t\tvar symbols;\n\t\n\t\tfor (var s = 1; s < arguments.length; s++) {\n\t\t\tfrom = Object(arguments[s]);\n\t\n\t\t\tfor (var key in from) {\n\t\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\t\tto[key] = from[key];\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (getOwnPropertySymbols) {\n\t\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn to;\n\t};\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\t\n\tmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tif (process.env.NODE_ENV !== 'production') {\n\t  var invariant = __webpack_require__(8);\n\t  var warning = __webpack_require__(9);\n\t  var ReactPropTypesSecret = __webpack_require__(11);\n\t  var loggedTypeFailures = {};\n\t}\n\t\n\t/**\n\t * Assert that the values match with the type specs.\n\t * Error messages are memorized and will only be shown once.\n\t *\n\t * @param {object} typeSpecs Map of name to a ReactPropType\n\t * @param {object} values Runtime values that need to be type-checked\n\t * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n\t * @param {string} componentName Name of the component for error messages.\n\t * @param {?Function} getStack Returns the component stack.\n\t * @private\n\t */\n\tfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n\t  if (process.env.NODE_ENV !== 'production') {\n\t    for (var typeSpecName in typeSpecs) {\n\t      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n\t        var error;\n\t        // Prop type validation may throw. In case they do, we don't want to\n\t        // fail the render phase where it didn't fail before. So we log it.\n\t        // After these have been cleaned up, we'll let them throw.\n\t        try {\n\t          // This is intentionally an invariant that gets caught. It's the same\n\t          // behavior as without this statement except with a better message.\n\t          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'the `prop-types` package, but received `%s`.', componentName || 'React class', location, typeSpecName, typeof typeSpecs[typeSpecName]);\n\t          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n\t        } catch (ex) {\n\t          error = ex;\n\t        }\n\t        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n\t        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n\t          // Only monitor this failure once because there tends to be a lot of the\n\t          // same error.\n\t          loggedTypeFailures[error.message] = true;\n\t\n\t          var stack = getStack ? getStack() : '';\n\t\n\t          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n\t        }\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tmodule.exports = checkPropTypes;\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Copyright (c) 2013-present, Facebook, Inc.\n\t *\n\t * This source code is licensed under the MIT license found in the\n\t * LICENSE file in the root directory of this source tree.\n\t */\n\t\n\t'use strict';\n\t\n\tvar emptyFunction = __webpack_require__(7);\n\tvar invariant = __webpack_require__(8);\n\tvar ReactPropTypesSecret = __webpack_require__(11);\n\t\n\tmodule.exports = function() {\n\t  function shim(props, propName, componentName, location, propFullName, secret) {\n\t    if (secret === ReactPropTypesSecret) {\n\t      // It is still safe when called from React.\n\t      return;\n\t    }\n\t    invariant(\n\t      false,\n\t      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n\t      'Use PropTypes.checkPropTypes() to call them. ' +\n\t      'Read more at http://fb.me/use-check-prop-types'\n\t    );\n\t  };\n\t  shim.isRequired = shim;\n\t  function getShim() {\n\t    return shim;\n\t  };\n\t  // Important!\n\t  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\t  var ReactPropTypes = {\n\t    array: shim,\n\t    bool: shim,\n\t    func: shim,\n\t    number: shim,\n\t    object: shim,\n\t    string: shim,\n\t    symbol: shim,\n\t\n\t    any: shim,\n\t    arrayOf: getShim,\n\t    element: shim,\n\t    instanceOf: getShim,\n\t    node: shim,\n\t    objectOf: getShim,\n\t    oneOf: getShim,\n\t    oneOfType: getShim,\n\t    shape: getShim,\n\t    exact: getShim\n\t  };\n\t\n\t  ReactPropTypes.checkPropTypes = emptyFunction;\n\t  ReactPropTypes.PropTypes = ReactPropTypes;\n\t\n\t  return ReactPropTypes;\n\t};\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = require(\"react\");\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tvar simpleIsEqual = function simpleIsEqual(a, b) {\n\t  return a === b;\n\t};\n\t\n\tfunction index (resultFn) {\n\t  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\t\n\t  var lastThis = void 0;\n\t  var lastArgs = [];\n\t  var lastResult = void 0;\n\t  var calledOnce = false;\n\t\n\t  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n\t    return isEqual(newArg, lastArgs[index]);\n\t  };\n\t\n\t  var result = function result() {\n\t    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n\t      newArgs[_key] = arguments[_key];\n\t    }\n\t\n\t    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n\t      return lastResult;\n\t    }\n\t\n\t    calledOnce = true;\n\t    lastThis = this;\n\t    lastArgs = newArgs;\n\t    lastResult = resultFn.apply(this, newArgs);\n\t    return lastResult;\n\t  };\n\t\n\t  return result;\n\t}\n\t\n\tmodule.exports = index;\n\n\n/***/ })\n/******/ ]);\n//# sourceMappingURL=main.js.map","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// TinyColor v1.4.2\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7644__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5980__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2650__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1177__;","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/AssertionError\n */\nimport { VERSION } from './util.js';\n/**\n * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n * extended with a `code` property.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n */\nvar AssertionError = /** @class */ (function (_super) {\n    __extends(AssertionError, _super);\n    /**\n     * @param {number} code Error code.\n     */\n    function AssertionError(code) {\n        var _this = this;\n        var path = VERSION === 'latest' ? VERSION : 'v' + VERSION.split('-')[0];\n        var message = 'Assertion failed. See https://openlayers.org/en/' +\n            path +\n            '/doc/errors/#' +\n            code +\n            ' for details.';\n        _this = _super.call(this, message) || this;\n        /**\n         * Error code. The meaning of the code can be found on\n         * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n         * the version found in the OpenLayers script's header comment if a version\n         * other than the latest is used).\n         * @type {number}\n         * @api\n         */\n        _this.code = code;\n        /**\n         * @type {string}\n         */\n        _this.name = 'AssertionError';\n        // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n        _this.message = message;\n        return _this;\n    }\n    return AssertionError;\n}(Error));\nexport default AssertionError;\n//# sourceMappingURL=AssertionError.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Collection\n */\nimport AssertionError from './AssertionError.js';\nimport BaseObject from './Object.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport Event from './events/Event.js';\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    LENGTH: 'length',\n};\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n */\nvar CollectionEvent = /** @class */ (function (_super) {\n    __extends(CollectionEvent, _super);\n    /**\n     * @param {import(\"./CollectionEventType.js\").default} type Type.\n     * @param {*} [opt_element] Element.\n     * @param {number} [opt_index] The index of the added or removed element.\n     */\n    function CollectionEvent(type, opt_element, opt_index) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The element that is added to or removed from the collection.\n         * @type {*}\n         * @api\n         */\n        _this.element = opt_element;\n        /**\n         * The index of the added or removed element.\n         * @type {number}\n         * @api\n         */\n        _this.index = opt_index;\n        return _this;\n    }\n    return CollectionEvent;\n}(Event));\nexport { CollectionEvent };\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:length', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").OnSignature<'add'|'remove', CollectionEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types|\n *     'change:length'|'add'|'remove',Return>} CollectionOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nvar Collection = /** @class */ (function (_super) {\n    __extends(Collection, _super);\n    /**\n     * @param {Array<T>} [opt_array] Array.\n     * @param {Options} [opt_options] Collection options.\n     */\n    function Collection(opt_array, opt_options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {CollectionOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {CollectionOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {CollectionOnSignature<void>}\n         */\n        _this.un;\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.unique_ = !!options.unique;\n        /**\n         * @private\n         * @type {!Array<T>}\n         */\n        _this.array_ = opt_array ? opt_array : [];\n        if (_this.unique_) {\n            for (var i = 0, ii = _this.array_.length; i < ii; ++i) {\n                _this.assertUnique_(_this.array_[i], i);\n            }\n        }\n        _this.updateLength_();\n        return _this;\n    }\n    /**\n     * Remove all elements from the collection.\n     * @api\n     */\n    Collection.prototype.clear = function () {\n        while (this.getLength() > 0) {\n            this.pop();\n        }\n    };\n    /**\n     * Add elements to the collection.  This pushes each item in the provided array\n     * to the end of the collection.\n     * @param {!Array<T>} arr Array.\n     * @return {Collection<T>} This collection.\n     * @api\n     */\n    Collection.prototype.extend = function (arr) {\n        for (var i = 0, ii = arr.length; i < ii; ++i) {\n            this.push(arr[i]);\n        }\n        return this;\n    };\n    /**\n     * Iterate over each element, calling the provided callback.\n     * @param {function(T, number, Array<T>): *} f The function to call\n     *     for every element. This function takes 3 arguments (the element, the\n     *     index and the array). The return value is ignored.\n     * @api\n     */\n    Collection.prototype.forEach = function (f) {\n        var array = this.array_;\n        for (var i = 0, ii = array.length; i < ii; ++i) {\n            f(array[i], i, array);\n        }\n    };\n    /**\n     * Get a reference to the underlying Array object. Warning: if the array\n     * is mutated, no events will be dispatched by the collection, and the\n     * collection's \"length\" property won't be in sync with the actual length\n     * of the array.\n     * @return {!Array<T>} Array.\n     * @api\n     */\n    Collection.prototype.getArray = function () {\n        return this.array_;\n    };\n    /**\n     * Get the element at the provided index.\n     * @param {number} index Index.\n     * @return {T} Element.\n     * @api\n     */\n    Collection.prototype.item = function (index) {\n        return this.array_[index];\n    };\n    /**\n     * Get the length of this collection.\n     * @return {number} The length of the array.\n     * @observable\n     * @api\n     */\n    Collection.prototype.getLength = function () {\n        return this.get(Property.LENGTH);\n    };\n    /**\n     * Insert an element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.insertAt = function (index, elem) {\n        if (this.unique_) {\n            this.assertUnique_(elem);\n        }\n        this.array_.splice(index, 0, elem);\n        this.updateLength_();\n        this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD, elem, index));\n    };\n    /**\n     * Remove the last element of the collection and return it.\n     * Return `undefined` if the collection is empty.\n     * @return {T|undefined} Element.\n     * @api\n     */\n    Collection.prototype.pop = function () {\n        return this.removeAt(this.getLength() - 1);\n    };\n    /**\n     * Insert the provided element at the end of the collection.\n     * @param {T} elem Element.\n     * @return {number} New length of the collection.\n     * @api\n     */\n    Collection.prototype.push = function (elem) {\n        if (this.unique_) {\n            this.assertUnique_(elem);\n        }\n        var n = this.getLength();\n        this.insertAt(n, elem);\n        return this.getLength();\n    };\n    /**\n     * Remove the first occurrence of an element from the collection.\n     * @param {T} elem Element.\n     * @return {T|undefined} The removed element or undefined if none found.\n     * @api\n     */\n    Collection.prototype.remove = function (elem) {\n        var arr = this.array_;\n        for (var i = 0, ii = arr.length; i < ii; ++i) {\n            if (arr[i] === elem) {\n                return this.removeAt(i);\n            }\n        }\n        return undefined;\n    };\n    /**\n     * Remove the element at the provided index and return it.\n     * Return `undefined` if the collection does not contain this index.\n     * @param {number} index Index.\n     * @return {T|undefined} Value.\n     * @api\n     */\n    Collection.prototype.removeAt = function (index) {\n        var prev = this.array_[index];\n        this.array_.splice(index, 1);\n        this.updateLength_();\n        this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev, index));\n        return prev;\n    };\n    /**\n     * Set the element at the provided index.\n     * @param {number} index Index.\n     * @param {T} elem Element.\n     * @api\n     */\n    Collection.prototype.setAt = function (index, elem) {\n        var n = this.getLength();\n        if (index < n) {\n            if (this.unique_) {\n                this.assertUnique_(elem, index);\n            }\n            var prev = this.array_[index];\n            this.array_[index] = elem;\n            this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev, index));\n            this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD, elem, index));\n        }\n        else {\n            for (var j = n; j < index; ++j) {\n                this.insertAt(j, undefined);\n            }\n            this.insertAt(index, elem);\n        }\n    };\n    /**\n     * @private\n     */\n    Collection.prototype.updateLength_ = function () {\n        this.set(Property.LENGTH, this.array_.length);\n    };\n    /**\n     * @private\n     * @param {T} elem Element.\n     * @param {number} [opt_except] Optional index to ignore.\n     */\n    Collection.prototype.assertUnique_ = function (elem, opt_except) {\n        for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n            if (this.array_[i] === elem && i !== opt_except) {\n                throw new AssertionError(58);\n            }\n        }\n    };\n    return Collection;\n}(BaseObject));\nexport default Collection;\n//# sourceMappingURL=Collection.js.map","/**\n * @module ol/CollectionEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when an item is added to the collection.\n     * @event module:ol/Collection.CollectionEvent#add\n     * @api\n     */\n    ADD: 'add',\n    /**\n     * Triggered when an item is removed from the collection.\n     * @event module:ol/Collection.CollectionEvent#remove\n     * @api\n     */\n    REMOVE: 'remove',\n};\n//# sourceMappingURL=CollectionEventType.js.map","/**\n * @module ol/Disposable\n */\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nvar Disposable = /** @class */ (function () {\n    function Disposable() {\n        /**\n         * The object has already been disposed.\n         * @type {boolean}\n         * @protected\n         */\n        this.disposed = false;\n    }\n    /**\n     * Clean up.\n     */\n    Disposable.prototype.dispose = function () {\n        if (!this.disposed) {\n            this.disposed = true;\n            this.disposeInternal();\n        }\n    };\n    /**\n     * Extension point for disposable objects.\n     * @protected\n     */\n    Disposable.prototype.disposeInternal = function () { };\n    return Disposable;\n}());\nexport default Disposable;\n//# sourceMappingURL=Disposable.js.map","/**\n * @module ol/MapEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered after a map frame is rendered.\n     * @event module:ol/MapEvent~MapEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n    /**\n     * Triggered when the map starts moving.\n     * @event module:ol/MapEvent~MapEvent#movestart\n     * @api\n     */\n    MOVESTART: 'movestart',\n    /**\n     * Triggered after the map is moved.\n     * @event module:ol/MapEvent~MapEvent#moveend\n     * @api\n     */\n    MOVEEND: 'moveend',\n    /**\n     * Triggered when loading of additional map data (tiles, images, features) starts.\n     * @event module:ol/MapEvent~MapEvent#loadstart\n     * @api\n     */\n    LOADSTART: 'loadstart',\n    /**\n     * Triggered when loading of additional map data has completed.\n     * @event module:ol/MapEvent~MapEvent#loadend\n     * @api\n     */\n    LOADEND: 'loadend',\n};\n/***\n * @typedef {'postrender'|'movestart'|'moveend'|'loadstart'|'loadend'} Types\n */\n//# sourceMappingURL=MapEventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Object\n */\nimport Event from './events/Event.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport { assign, isEmpty } from './obj.js';\nimport { getUid } from './util.js';\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nvar ObjectEvent = /** @class */ (function (_super) {\n    __extends(ObjectEvent, _super);\n    /**\n     * @param {string} type The event type.\n     * @param {string} key The property name.\n     * @param {*} oldValue The old value for `key`.\n     */\n    function ObjectEvent(type, key, oldValue) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The name of the property whose value is changing.\n         * @type {string}\n         * @api\n         */\n        _this.key = key;\n        /**\n         * The old value. To get the new value use `e.target.get(e.key)` where\n         * `e` is the event object.\n         * @type {*}\n         * @api\n         */\n        _this.oldValue = oldValue;\n        return _this;\n    }\n    return ObjectEvent;\n}(Event));\nexport { ObjectEvent };\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types, ObjectEvent, Return> &\n *    import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types, Return>} ObjectOnSignature\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable~Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nvar BaseObject = /** @class */ (function (_super) {\n    __extends(BaseObject, _super);\n    /**\n     * @param {Object<string, *>} [opt_values] An object with key-value pairs.\n     */\n    function BaseObject(opt_values) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ObjectOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ObjectOnSignature<void>}\n         */\n        _this.un;\n        // Call {@link module:ol/util.getUid} to ensure that the order of objects' ids is\n        // the same as the order in which they were created.  This also helps to\n        // ensure that object properties are always added in the same order, which\n        // helps many JavaScript engines generate faster code.\n        getUid(_this);\n        /**\n         * @private\n         * @type {Object<string, *>}\n         */\n        _this.values_ = null;\n        if (opt_values !== undefined) {\n            _this.setProperties(opt_values);\n        }\n        return _this;\n    }\n    /**\n     * Gets a value.\n     * @param {string} key Key name.\n     * @return {*} Value.\n     * @api\n     */\n    BaseObject.prototype.get = function (key) {\n        var value;\n        if (this.values_ && this.values_.hasOwnProperty(key)) {\n            value = this.values_[key];\n        }\n        return value;\n    };\n    /**\n     * Get a list of object property names.\n     * @return {Array<string>} List of property names.\n     * @api\n     */\n    BaseObject.prototype.getKeys = function () {\n        return (this.values_ && Object.keys(this.values_)) || [];\n    };\n    /**\n     * Get an object of all property names and values.\n     * @return {Object<string, *>} Object.\n     * @api\n     */\n    BaseObject.prototype.getProperties = function () {\n        return (this.values_ && assign({}, this.values_)) || {};\n    };\n    /**\n     * @return {boolean} The object has properties.\n     */\n    BaseObject.prototype.hasProperties = function () {\n        return !!this.values_;\n    };\n    /**\n     * @param {string} key Key name.\n     * @param {*} oldValue Old value.\n     */\n    BaseObject.prototype.notify = function (key, oldValue) {\n        var eventType;\n        eventType = \"change:\".concat(key);\n        if (this.hasListener(eventType)) {\n            this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n        }\n        eventType = ObjectEventType.PROPERTYCHANGE;\n        if (this.hasListener(eventType)) {\n            this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n        }\n    };\n    /**\n     * @param {string} key Key name.\n     * @param {import(\"./events.js\").Listener} listener Listener.\n     */\n    BaseObject.prototype.addChangeListener = function (key, listener) {\n        this.addEventListener(\"change:\".concat(key), listener);\n    };\n    /**\n     * @param {string} key Key name.\n     * @param {import(\"./events.js\").Listener} listener Listener.\n     */\n    BaseObject.prototype.removeChangeListener = function (key, listener) {\n        this.removeEventListener(\"change:\".concat(key), listener);\n    };\n    /**\n     * Sets a value.\n     * @param {string} key Key name.\n     * @param {*} value Value.\n     * @param {boolean} [opt_silent] Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.set = function (key, value, opt_silent) {\n        var values = this.values_ || (this.values_ = {});\n        if (opt_silent) {\n            values[key] = value;\n        }\n        else {\n            var oldValue = values[key];\n            values[key] = value;\n            if (oldValue !== value) {\n                this.notify(key, oldValue);\n            }\n        }\n    };\n    /**\n     * Sets a collection of key-value pairs.  Note that this changes any existing\n     * properties and adds new ones (it does not remove any existing properties).\n     * @param {Object<string, *>} values Values.\n     * @param {boolean} [opt_silent] Update without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.setProperties = function (values, opt_silent) {\n        for (var key in values) {\n            this.set(key, values[key], opt_silent);\n        }\n    };\n    /**\n     * Apply any properties from another object without triggering events.\n     * @param {BaseObject} source The source object.\n     * @protected\n     */\n    BaseObject.prototype.applyProperties = function (source) {\n        if (!source.values_) {\n            return;\n        }\n        assign(this.values_ || (this.values_ = {}), source.values_);\n    };\n    /**\n     * Unsets a property.\n     * @param {string} key Key name.\n     * @param {boolean} [opt_silent] Unset without triggering an event.\n     * @api\n     */\n    BaseObject.prototype.unset = function (key, opt_silent) {\n        if (this.values_ && key in this.values_) {\n            var oldValue = this.values_[key];\n            delete this.values_[key];\n            if (isEmpty(this.values_)) {\n                this.values_ = null;\n            }\n            if (!opt_silent) {\n                this.notify(key, oldValue);\n            }\n        }\n    };\n    return BaseObject;\n}(Observable));\nexport default BaseObject;\n//# sourceMappingURL=Object.js.map","/**\n * @module ol/ObjectEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a property is changed.\n     * @event module:ol/Object.ObjectEvent#propertychange\n     * @api\n     */\n    PROPERTYCHANGE: 'propertychange',\n};\n/**\n * @typedef {'propertychange'} Types\n */\n//# sourceMappingURL=ObjectEventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Observable\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport { listen, listenOnce, unlistenByKey } from './events.js';\n/***\n * @template {string} Type\n * @template {Event|import(\"./events/Event.js\").default} EventClass\n * @template Return\n * @typedef {(type: Type, listener: (event: EventClass) => ?) => Return} OnSignature\n */\n/***\n * @template {string} Type\n * @template Return\n * @typedef {(type: Type[], listener: (event: Event|import(\"./events/Event\").default) => ?) => Return extends void ? void : Return[]} CombinedOnSignature\n */\n/**\n * @typedef {'change'|'error'} EventTypes\n */\n/***\n * @template Return\n * @typedef {OnSignature<EventTypes, import(\"./events/Event.js\").default, Return> & CombinedOnSignature<EventTypes, Return>} ObservableOnSignature\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").default\n * @api\n */\nvar Observable = /** @class */ (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        var _this = _super.call(this) || this;\n        _this.on =\n            /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (_this.onInternal);\n        _this.once =\n            /** @type {ObservableOnSignature<import(\"./events\").EventsKey>} */ (_this.onceInternal);\n        _this.un = /** @type {ObservableOnSignature<void>} */ (_this.unInternal);\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.revision_ = 0;\n        return _this;\n    }\n    /**\n     * Increases the revision counter and dispatches a 'change' event.\n     * @api\n     */\n    Observable.prototype.changed = function () {\n        ++this.revision_;\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * Get the version number for this object.  Each time the object is modified,\n     * its version number will be incremented.\n     * @return {number} Revision.\n     * @api\n     */\n    Observable.prototype.getRevision = function () {\n        return this.revision_;\n    };\n    /**\n     * @param {string|Array<string>} type Type.\n     * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n     * @protected\n     */\n    Observable.prototype.onInternal = function (type, listener) {\n        if (Array.isArray(type)) {\n            var len = type.length;\n            var keys = new Array(len);\n            for (var i = 0; i < len; ++i) {\n                keys[i] = listen(this, type[i], listener);\n            }\n            return keys;\n        }\n        else {\n            return listen(this, /** @type {string} */ (type), listener);\n        }\n    };\n    /**\n     * @param {string|Array<string>} type Type.\n     * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n     * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Event key.\n     * @protected\n     */\n    Observable.prototype.onceInternal = function (type, listener) {\n        var key;\n        if (Array.isArray(type)) {\n            var len = type.length;\n            key = new Array(len);\n            for (var i = 0; i < len; ++i) {\n                key[i] = listenOnce(this, type[i], listener);\n            }\n        }\n        else {\n            key = listenOnce(this, /** @type {string} */ (type), listener);\n        }\n        /** @type {Object} */ (listener).ol_key = key;\n        return key;\n    };\n    /**\n     * Unlisten for a certain type of event.\n     * @param {string|Array<string>} type Type.\n     * @param {function((Event|import(\"./events/Event\").default)): ?} listener Listener.\n     * @protected\n     */\n    Observable.prototype.unInternal = function (type, listener) {\n        var key = /** @type {Object} */ (listener).ol_key;\n        if (key) {\n            unByKey(key);\n        }\n        else if (Array.isArray(type)) {\n            for (var i = 0, ii = type.length; i < ii; ++i) {\n                this.removeEventListener(type[i], listener);\n            }\n        }\n        else {\n            this.removeEventListener(type, listener);\n        }\n    };\n    return Observable;\n}(EventTarget));\n/**\n * Listen for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.on;\n/**\n * Listen once for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n *     called with an array of event types as the first argument, the return\n *     will be an array of keys.\n * @api\n */\nObservable.prototype.once;\n/**\n * Unlisten for a certain type of event.\n * @function\n * @param {string|Array<string>} type The event type or array of event types.\n * @param {function((Event|import(\"./events/Event\").default)): ?} listener The listener function.\n * @api\n */\nObservable.prototype.un;\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n    if (Array.isArray(key)) {\n        for (var i = 0, ii = key.length; i < ii; ++i) {\n            unlistenByKey(key[i]);\n        }\n    }\n    else {\n        unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n    }\n}\nexport default Observable;\n//# sourceMappingURL=Observable.js.map","/**\n * @module ol/array\n */\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function} [opt_comparator] Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, opt_comparator) {\n    var mid, cmp;\n    var comparator = opt_comparator || numberSafeCompareFunction;\n    var low = 0;\n    var high = haystack.length;\n    var found = false;\n    while (low < high) {\n        /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n         * to double (which gives the wrong results). */\n        mid = low + ((high - low) >> 1);\n        cmp = +comparator(haystack[mid], needle);\n        if (cmp < 0.0) {\n            /* Too low. */\n            low = mid + 1;\n        }\n        else {\n            /* Key found or too high */\n            high = mid;\n            found = !cmp;\n        }\n    }\n    /* Key not found. */\n    return found ? low : ~low;\n}\n/**\n * Compare function for array sort that is safe for numbers.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function numberSafeCompareFunction(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n}\n/**\n * Whether the array contains the given object.\n * @param {Array<*>} arr The array to test for the presence of the element.\n * @param {*} obj The object for which to test.\n * @return {boolean} The object is in the array.\n */\nexport function includes(arr, obj) {\n    return arr.indexOf(obj) >= 0;\n}\n/**\n * {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution} can use a function\n * of this type to determine which nearest resolution to use.\n *\n * This function takes a `{number}` representing a value between two array entries,\n * a `{number}` representing the value of the nearest higher entry and\n * a `{number}` representing the value of the nearest lower entry\n * as arguments and returns a `{number}`. If a negative number or zero is returned\n * the lower value will be used, if a positive number is returned the higher value\n * will be used.\n * @typedef {function(number, number, number): number} NearestDirectionFunction\n * @api\n */\n/**\n * @param {Array<number>} arr Array in descending order.\n * @param {number} target Target.\n * @param {number|NearestDirectionFunction} direction\n *    0 means return the nearest,\n *    > 0 means return the largest nearest,\n *    < 0 means return the smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n    var n = arr.length;\n    if (arr[0] <= target) {\n        return 0;\n    }\n    else if (target <= arr[n - 1]) {\n        return n - 1;\n    }\n    else {\n        var i = void 0;\n        if (direction > 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] < target) {\n                    return i - 1;\n                }\n            }\n        }\n        else if (direction < 0) {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] <= target) {\n                    return i;\n                }\n            }\n        }\n        else {\n            for (i = 1; i < n; ++i) {\n                if (arr[i] == target) {\n                    return i;\n                }\n                else if (arr[i] < target) {\n                    if (typeof direction === 'function') {\n                        if (direction(target, arr[i - 1], arr[i]) > 0) {\n                            return i - 1;\n                        }\n                        else {\n                            return i;\n                        }\n                    }\n                    else if (arr[i - 1] - target < target - arr[i]) {\n                        return i - 1;\n                    }\n                    else {\n                        return i;\n                    }\n                }\n            }\n        }\n        return n - 1;\n    }\n}\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n    while (begin < end) {\n        var tmp = arr[begin];\n        arr[begin] = arr[end];\n        arr[end] = tmp;\n        ++begin;\n        --end;\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n    var extension = Array.isArray(data) ? data : [data];\n    var length = extension.length;\n    for (var i = 0; i < length; i++) {\n        arr[arr.length] = extension[i];\n    }\n}\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n    var i = arr.indexOf(obj);\n    var found = i > -1;\n    if (found) {\n        arr.splice(i, 1);\n    }\n    return found;\n}\n/**\n * @param {Array<VALUE>} arr The array to search in.\n * @param {function(VALUE, number, ?) : boolean} func The function to compare.\n * @template VALUE\n * @return {VALUE|null} The element found or null.\n */\nexport function find(arr, func) {\n    var length = arr.length >>> 0;\n    var value;\n    for (var i = 0; i < length; i++) {\n        value = arr[i];\n        if (func(value, i, arr)) {\n            return value;\n        }\n    }\n    return null;\n}\n/**\n * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n    var len1 = arr1.length;\n    if (len1 !== arr2.length) {\n        return false;\n    }\n    for (var i = 0; i < len1; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Sort the passed array such that the relative order of equal elements is preserved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n    var length = arr.length;\n    var tmp = Array(arr.length);\n    var i;\n    for (i = 0; i < length; i++) {\n        tmp[i] = { index: i, value: arr[i] };\n    }\n    tmp.sort(function (a, b) {\n        return compareFnc(a.value, b.value) || a.index - b.index;\n    });\n    for (i = 0; i < arr.length; i++) {\n        arr[i] = tmp[i].value;\n    }\n}\n/**\n * @param {Array<*>} arr The array to search in.\n * @param {Function} func Comparison function.\n * @return {number} Return index.\n */\nexport function findIndex(arr, func) {\n    var index;\n    var found = !arr.every(function (el, idx) {\n        index = idx;\n        return !func(el, idx, arr);\n    });\n    return found ? index : -1;\n}\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function} [opt_func] Comparison function.\n * @param {boolean} [opt_strict] Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, opt_func, opt_strict) {\n    var compare = opt_func || numberSafeCompareFunction;\n    return arr.every(function (currentVal, index) {\n        if (index === 0) {\n            return true;\n        }\n        var res = compare(arr[index - 1], currentVal);\n        return !(res > 0 || (opt_strict && res === 0));\n    });\n}\n//# sourceMappingURL=array.js.map","/**\n * @module ol/asserts\n */\nimport AssertionError from './AssertionError.js';\n/**\n * @param {*} assertion Assertion we expected to be truthy.\n * @param {number} errorCode Error code.\n */\nexport function assert(assertion, errorCode) {\n    if (!assertion) {\n        throw new AssertionError(errorCode);\n    }\n}\n//# sourceMappingURL=asserts.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Control\n */\nimport BaseObject from '../Object.js';\nimport MapEventType from '../MapEventType.js';\nimport { VOID } from '../functions.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { removeNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {HTMLElement} [element] The element is the control's\n * container element. This only needs to be specified if you're developing\n * a custom control.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want\n * the control to be rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control is a visible widget with a DOM element in a fixed position on the\n * screen. They can involve user input (buttons), or be informational only;\n * the position is determined using CSS. By default these are placed in the\n * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n * any outside DOM element.\n *\n * This is the base class for controls. You can use it for simple custom\n * controls by creating the element with listeners, creating an instance:\n * ```js\n * var myControl = new Control({element: myElement});\n * ```\n * and then adding this to the map.\n *\n * The main advantage of having this as a control rather than a simple separate\n * DOM element is that preventing propagation is handled for you. Controls\n * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n *\n * You can also extend this base for your own control class. See\n * examples/custom-controls for an example of how to do this.\n *\n * @api\n */\nvar Control = /** @class */ (function (_super) {\n    __extends(Control, _super);\n    /**\n     * @param {Options} options Control options.\n     */\n    function Control(options) {\n        var _this = _super.call(this) || this;\n        var element = options.element;\n        if (element && !options.target && !element.style.pointerEvents) {\n            element.style.pointerEvents = 'auto';\n        }\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.element = element ? element : null;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.target_ = null;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default|null}\n         */\n        _this.map_ = null;\n        /**\n         * @protected\n         * @type {!Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.listenerKeys = [];\n        if (options.render) {\n            _this.render = options.render;\n        }\n        if (options.target) {\n            _this.setTarget(options.target);\n        }\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    Control.prototype.disposeInternal = function () {\n        removeNode(this.element);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Get the map associated with this control.\n     * @return {import(\"../PluggableMap.js\").default|null} Map.\n     * @api\n     */\n    Control.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Remove the control from its current map and attach it to the new map.\n     * Pass `null` to just remove the control from the current map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    Control.prototype.setMap = function (map) {\n        if (this.map_) {\n            removeNode(this.element);\n        }\n        for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n            unlistenByKey(this.listenerKeys[i]);\n        }\n        this.listenerKeys.length = 0;\n        this.map_ = map;\n        if (map) {\n            var target = this.target_\n                ? this.target_\n                : map.getOverlayContainerStopEvent();\n            target.appendChild(this.element);\n            if (this.render !== VOID) {\n                this.listenerKeys.push(listen(map, MapEventType.POSTRENDER, this.render, this));\n            }\n            map.render();\n        }\n    };\n    /**\n     * Renders the control.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @api\n     */\n    Control.prototype.render = function (mapEvent) { };\n    /**\n     * This function is used to set a target element for the control. It has no\n     * effect if it is called after the control has been added to the map (i.e.\n     * after `setMap` is called on the control). If no `target` is set in the\n     * options passed to the control constructor and if `setTarget` is not called\n     * then the control is added to the map's overlay container.\n     * @param {HTMLElement|string} target Target.\n     * @api\n     */\n    Control.prototype.setTarget = function (target) {\n        this.target_ =\n            typeof target === 'string' ? document.getElementById(target) : target;\n    };\n    return Control;\n}(BaseObject));\nexport default Control;\n//# sourceMappingURL=Control.js.map","import { WORKER_OFFSCREEN_CANVAS } from './has.js';\n/**\n * @module ol/dom\n */\n//FIXME Move this function to the canvas module\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number} [opt_width] Canvas width.\n * @param {number} [opt_height] Canvas height.\n * @param {Array<HTMLCanvasElement>} [opt_canvasPool] Canvas pool to take existing canvas from.\n * @param {CanvasRenderingContext2DSettings} [opt_Context2DSettings] CanvasRenderingContext2DSettings\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(opt_width, opt_height, opt_canvasPool, opt_Context2DSettings) {\n    /** @type {HTMLCanvasElement|OffscreenCanvas} */\n    var canvas;\n    if (opt_canvasPool && opt_canvasPool.length) {\n        canvas = opt_canvasPool.shift();\n    }\n    else if (WORKER_OFFSCREEN_CANVAS) {\n        canvas = new OffscreenCanvas(opt_width || 300, opt_height || 300);\n    }\n    else {\n        canvas = document.createElement('canvas');\n    }\n    if (opt_width) {\n        canvas.width = opt_width;\n    }\n    if (opt_height) {\n        canvas.height = opt_height;\n    }\n    //FIXME Allow OffscreenCanvasRenderingContext2D as return type\n    return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d', opt_Context2DSettings));\n}\n/**\n * Releases canvas memory to avoid exceeding memory limits in Safari.\n * See https://pqina.nl/blog/total-canvas-memory-use-exceeds-the-maximum-limit/\n * @param {CanvasRenderingContext2D} context Context.\n */\nexport function releaseCanvas(context) {\n    var canvas = context.canvas;\n    canvas.width = 1;\n    canvas.height = 1;\n    context.clearRect(0, 0, 1, 1);\n}\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n    var width = element.offsetWidth;\n    var style = getComputedStyle(element);\n    width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n    return width;\n}\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n    var height = element.offsetHeight;\n    var style = getComputedStyle(element);\n    height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n    return height;\n}\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n    var parent = oldNode.parentNode;\n    if (parent) {\n        parent.replaceChild(newNode, oldNode);\n    }\n}\n/**\n * @param {Node} node The node to remove.\n * @return {Node|null} The node that was removed or null.\n */\nexport function removeNode(node) {\n    return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n    while (node.lastChild) {\n        node.removeChild(node.lastChild);\n    }\n}\n/**\n * Transform the children of a parent node so they match the\n * provided list of children.  This function aims to efficiently\n * remove, add, and reorder child nodes while maintaining a simple\n * implementation (it is not guaranteed to minimize DOM operations).\n * @param {Node} node The parent node whose children need reworking.\n * @param {Array<Node>} children The desired children.\n */\nexport function replaceChildren(node, children) {\n    var oldChildren = node.childNodes;\n    for (var i = 0; true; ++i) {\n        var oldChild = oldChildren[i];\n        var newChild = children[i];\n        // check if our work is done\n        if (!oldChild && !newChild) {\n            break;\n        }\n        // check if children match\n        if (oldChild === newChild) {\n            continue;\n        }\n        // check if a new child needs to be added\n        if (!oldChild) {\n            node.appendChild(newChild);\n            continue;\n        }\n        // check if an old child needs to be removed\n        if (!newChild) {\n            node.removeChild(oldChild);\n            --i;\n            continue;\n        }\n        // reorder\n        node.insertBefore(newChild, oldChild);\n    }\n}\n//# sourceMappingURL=dom.js.map","/**\n * @module ol/events\n */\nimport { clear } from './obj.js';\n/**\n * Key to use with {@link module:ol/Observable.unByKey}.\n * @typedef {Object} EventsKey\n * @property {ListenerFunction} listener Listener.\n * @property {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @property {string} type Type.\n * @api\n */\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n/**\n * @typedef {Object} ListenerObject\n * @property {ListenerFunction} handleEvent HandleEvent listener function.\n */\n/**\n * @typedef {ListenerFunction|ListenerObject} Listener\n */\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events.unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [opt_this] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean} [opt_once] If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, opt_this, opt_once) {\n    if (opt_this && opt_this !== target) {\n        listener = listener.bind(opt_this);\n    }\n    if (opt_once) {\n        var originalListener_1 = listener;\n        listener = function () {\n            target.removeEventListener(type, listener);\n            originalListener_1.apply(this, arguments);\n        };\n    }\n    var eventsKey = {\n        target: target,\n        type: type,\n        listener: listener,\n    };\n    target.addEventListener(type, listener);\n    return eventsKey;\n}\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events.unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events.listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object} [opt_this] Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, opt_this) {\n    return listen(target, type, listener, opt_this, true);\n}\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events.listen} or {@link module:ol/events.listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n    if (key && key.target) {\n        key.target.removeEventListener(key.type, key.listener);\n        clear(key);\n    }\n}\n//# sourceMappingURL=events.js.map","/**\n * @module ol/events/Event\n */\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nvar BaseEvent = /** @class */ (function () {\n    /**\n     * @param {string} type Type.\n     */\n    function BaseEvent(type) {\n        /**\n         * @type {boolean}\n         */\n        this.propagationStopped;\n        /**\n         * @type {boolean}\n         */\n        this.defaultPrevented;\n        /**\n         * The event type.\n         * @type {string}\n         * @api\n         */\n        this.type = type;\n        /**\n         * The event target.\n         * @type {Object}\n         * @api\n         */\n        this.target = null;\n    }\n    /**\n     * Prevent default. This means that no emulated `click`, `singleclick` or `doubleclick` events\n     * will be fired.\n     * @api\n     */\n    BaseEvent.prototype.preventDefault = function () {\n        this.defaultPrevented = true;\n    };\n    /**\n     * Stop event propagation.\n     * @api\n     */\n    BaseEvent.prototype.stopPropagation = function () {\n        this.propagationStopped = true;\n    };\n    return BaseEvent;\n}());\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n    evt.stopPropagation();\n}\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n    evt.preventDefault();\n}\nexport default BaseEvent;\n//# sourceMappingURL=Event.js.map","/**\n * @module ol/events/EventType\n */\n/**\n * @enum {string}\n * @const\n */\nexport default {\n    /**\n     * Generic change event. Triggered when the revision counter is increased.\n     * @event module:ol/events/Event~BaseEvent#change\n     * @api\n     */\n    CHANGE: 'change',\n    /**\n     * Generic error event. Triggered when an error occurs.\n     * @event module:ol/events/Event~BaseEvent#error\n     * @api\n     */\n    ERROR: 'error',\n    BLUR: 'blur',\n    CLEAR: 'clear',\n    CONTEXTMENU: 'contextmenu',\n    CLICK: 'click',\n    DBLCLICK: 'dblclick',\n    DRAGENTER: 'dragenter',\n    DRAGOVER: 'dragover',\n    DROP: 'drop',\n    FOCUS: 'focus',\n    KEYDOWN: 'keydown',\n    KEYPRESS: 'keypress',\n    LOAD: 'load',\n    RESIZE: 'resize',\n    TOUCHMOVE: 'touchmove',\n    WHEEL: 'wheel',\n};\n//# sourceMappingURL=EventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport Event from './Event.js';\nimport { VOID } from '../functions.js';\nimport { clear } from '../obj.js';\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nvar Target = /** @class */ (function (_super) {\n    __extends(Target, _super);\n    /**\n     * @param {*} [opt_target] Default event target for dispatched events.\n     */\n    function Target(opt_target) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {*}\n         */\n        _this.eventTarget_ = opt_target;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.pendingRemovals_ = null;\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.dispatching_ = null;\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").Listener>>}\n         */\n        _this.listeners_ = null;\n        return _this;\n    }\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.addEventListener = function (type, listener) {\n        if (!type || !listener) {\n            return;\n        }\n        var listeners = this.listeners_ || (this.listeners_ = {});\n        var listenersForType = listeners[type] || (listeners[type] = []);\n        if (listenersForType.indexOf(listener) === -1) {\n            listenersForType.push(listener);\n        }\n    };\n    /**\n     * Dispatches an event and calls all listeners listening for events\n     * of this type. The event parameter can either be a string or an\n     * Object with a `type` property.\n     *\n     * @param {import(\"./Event.js\").default|string} event Event object.\n     * @return {boolean|undefined} `false` if anyone called preventDefault on the\n     *     event object or if any of the listeners returned false.\n     * @api\n     */\n    Target.prototype.dispatchEvent = function (event) {\n        var isString = typeof event === 'string';\n        var type = isString ? event : event.type;\n        var listeners = this.listeners_ && this.listeners_[type];\n        if (!listeners) {\n            return;\n        }\n        var evt = isString ? new Event(event) : /** @type {Event} */ (event);\n        if (!evt.target) {\n            evt.target = this.eventTarget_ || this;\n        }\n        var dispatching = this.dispatching_ || (this.dispatching_ = {});\n        var pendingRemovals = this.pendingRemovals_ || (this.pendingRemovals_ = {});\n        if (!(type in dispatching)) {\n            dispatching[type] = 0;\n            pendingRemovals[type] = 0;\n        }\n        ++dispatching[type];\n        var propagate;\n        for (var i = 0, ii = listeners.length; i < ii; ++i) {\n            if ('handleEvent' in listeners[i]) {\n                propagate = /** @type {import(\"../events.js\").ListenerObject} */ (listeners[i]).handleEvent(evt);\n            }\n            else {\n                propagate = /** @type {import(\"../events.js\").ListenerFunction} */ (listeners[i]).call(this, evt);\n            }\n            if (propagate === false || evt.propagationStopped) {\n                propagate = false;\n                break;\n            }\n        }\n        if (--dispatching[type] === 0) {\n            var pr = pendingRemovals[type];\n            delete pendingRemovals[type];\n            while (pr--) {\n                this.removeEventListener(type, VOID);\n            }\n            delete dispatching[type];\n        }\n        return propagate;\n    };\n    /**\n     * Clean up.\n     */\n    Target.prototype.disposeInternal = function () {\n        this.listeners_ && clear(this.listeners_);\n    };\n    /**\n     * Get the listeners for a specified event type. Listeners are returned in the\n     * order that they will be called in.\n     *\n     * @param {string} type Type.\n     * @return {Array<import(\"../events.js\").Listener>|undefined} Listeners.\n     */\n    Target.prototype.getListeners = function (type) {\n        return (this.listeners_ && this.listeners_[type]) || undefined;\n    };\n    /**\n     * @param {string} [opt_type] Type. If not provided,\n     *     `true` will be returned if this event target has any listeners.\n     * @return {boolean} Has listeners.\n     */\n    Target.prototype.hasListener = function (opt_type) {\n        if (!this.listeners_) {\n            return false;\n        }\n        return opt_type\n            ? opt_type in this.listeners_\n            : Object.keys(this.listeners_).length > 0;\n    };\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../events.js\").Listener} listener Listener.\n     */\n    Target.prototype.removeEventListener = function (type, listener) {\n        var listeners = this.listeners_ && this.listeners_[type];\n        if (listeners) {\n            var index = listeners.indexOf(listener);\n            if (index !== -1) {\n                if (this.pendingRemovals_ && type in this.pendingRemovals_) {\n                    // make listener a no-op, and remove later in #dispatchEvent()\n                    listeners[index] = VOID;\n                    ++this.pendingRemovals_[type];\n                }\n                else {\n                    listeners.splice(index, 1);\n                    if (listeners.length === 0) {\n                        delete this.listeners_[type];\n                    }\n                }\n            }\n        }\n    };\n    return Target;\n}(Disposable));\nexport default Target;\n//# sourceMappingURL=Target.js.map","/**\n * @module ol/extent\n */\nimport Relationship from './extent/Relationship.js';\nimport { assert } from './asserts.js';\n/**\n * An array of numbers representing an extent: `[minx, miny, maxx, maxy]`.\n * @typedef {Array<number>} Extent\n * @api\n */\n/**\n * Extent corner.\n * @typedef {'bottom-left' | 'bottom-right' | 'top-left' | 'top-right'} Corner\n */\n/**\n * Build an extent that includes all given coordinates.\n *\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Bounding extent.\n * @api\n */\nexport function boundingExtent(coordinates) {\n    var extent = createEmpty();\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n}\n/**\n * @param {Array<number>} xs Xs.\n * @param {Array<number>} ys Ys.\n * @param {Extent} [opt_extent] Destination extent.\n * @private\n * @return {Extent} Extent.\n */\nfunction _boundingExtentXYs(xs, ys, opt_extent) {\n    var minX = Math.min.apply(null, xs);\n    var minY = Math.min.apply(null, ys);\n    var maxX = Math.max.apply(null, xs);\n    var maxY = Math.max.apply(null, ys);\n    return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n}\n/**\n * Return extent increased by the provided value.\n * @param {Extent} extent Extent.\n * @param {number} value The amount by which the extent should be buffered.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n * @api\n */\nexport function buffer(extent, value, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0] - value;\n        opt_extent[1] = extent[1] - value;\n        opt_extent[2] = extent[2] + value;\n        opt_extent[3] = extent[3] + value;\n        return opt_extent;\n    }\n    else {\n        return [\n            extent[0] - value,\n            extent[1] - value,\n            extent[2] + value,\n            extent[3] + value,\n        ];\n    }\n}\n/**\n * Creates a clone of an extent.\n *\n * @param {Extent} extent Extent to clone.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} The clone.\n */\nexport function clone(extent, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0];\n        opt_extent[1] = extent[1];\n        opt_extent[2] = extent[2];\n        opt_extent[3] = extent[3];\n        return opt_extent;\n    }\n    else {\n        return extent.slice();\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {number} Closest squared distance.\n */\nexport function closestSquaredDistanceXY(extent, x, y) {\n    var dx, dy;\n    if (x < extent[0]) {\n        dx = extent[0] - x;\n    }\n    else if (extent[2] < x) {\n        dx = x - extent[2];\n    }\n    else {\n        dx = 0;\n    }\n    if (y < extent[1]) {\n        dy = extent[1] - y;\n    }\n    else if (extent[3] < y) {\n        dy = y - extent[3];\n    }\n    else {\n        dy = 0;\n    }\n    return dx * dx + dy * dy;\n}\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @return {boolean} The coordinate is contained in the extent.\n * @api\n */\nexport function containsCoordinate(extent, coordinate) {\n    return containsXY(extent, coordinate[0], coordinate[1]);\n}\n/**\n * Check if one extent contains another.\n *\n * An extent is deemed contained if it lies completely within the other extent,\n * including if they share one or more edges.\n *\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The second extent is contained by or on the edge of the\n *     first.\n * @api\n */\nexport function containsExtent(extent1, extent2) {\n    return (extent1[0] <= extent2[0] &&\n        extent2[2] <= extent1[2] &&\n        extent1[1] <= extent2[1] &&\n        extent2[3] <= extent1[3]);\n}\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {number} x X coordinate.\n * @param {number} y Y coordinate.\n * @return {boolean} The x, y values are contained in the extent.\n * @api\n */\nexport function containsXY(extent, x, y) {\n    return extent[0] <= x && x <= extent[2] && extent[1] <= y && y <= extent[3];\n}\n/**\n * Get the relationship between a coordinate and extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate The coordinate.\n * @return {import(\"./extent/Relationship.js\").default} The relationship (bitwise compare with\n *     import(\"./extent/Relationship.js\").Relationship).\n */\nexport function coordinateRelationship(extent, coordinate) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var x = coordinate[0];\n    var y = coordinate[1];\n    var relationship = Relationship.UNKNOWN;\n    if (x < minX) {\n        relationship = relationship | Relationship.LEFT;\n    }\n    else if (x > maxX) {\n        relationship = relationship | Relationship.RIGHT;\n    }\n    if (y < minY) {\n        relationship = relationship | Relationship.BELOW;\n    }\n    else if (y > maxY) {\n        relationship = relationship | Relationship.ABOVE;\n    }\n    if (relationship === Relationship.UNKNOWN) {\n        relationship = Relationship.INTERSECTING;\n    }\n    return relationship;\n}\n/**\n * Create an empty extent.\n * @return {Extent} Empty extent.\n * @api\n */\nexport function createEmpty() {\n    return [Infinity, Infinity, -Infinity, -Infinity];\n}\n/**\n * Create a new extent or update the provided extent.\n * @param {number} minX Minimum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxX Maximum X.\n * @param {number} maxY Maximum Y.\n * @param {Extent} [opt_extent] Destination extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdate(minX, minY, maxX, maxY, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = minX;\n        opt_extent[1] = minY;\n        opt_extent[2] = maxX;\n        opt_extent[3] = maxY;\n        return opt_extent;\n    }\n    else {\n        return [minX, minY, maxX, maxY];\n    }\n}\n/**\n * Create a new empty extent or make the provided one empty.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateEmpty(opt_extent) {\n    return createOrUpdate(Infinity, Infinity, -Infinity, -Infinity, opt_extent);\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinate(coordinate, opt_extent) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    return createOrUpdate(x, y, x, y, opt_extent);\n}\n/**\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinates(coordinates, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendCoordinates(extent, coordinates);\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromFlatCoordinates(flatCoordinates, offset, end, stride, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendFlatCoordinates(extent, flatCoordinates, offset, end, stride);\n}\n/**\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromRings(rings, opt_extent) {\n    var extent = createOrUpdateEmpty(opt_extent);\n    return extendRings(extent, rings);\n}\n/**\n * Determine if two extents are equivalent.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The two extents are equivalent.\n * @api\n */\nexport function equals(extent1, extent2) {\n    return (extent1[0] == extent2[0] &&\n        extent1[2] == extent2[2] &&\n        extent1[1] == extent2[1] &&\n        extent1[3] == extent2[3]);\n}\n/**\n * Determine if two extents are approximately equivalent.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @param {number} tolerance Tolerance in extent coordinate units.\n * @return {boolean} The two extents differ by less than the tolerance.\n */\nexport function approximatelyEquals(extent1, extent2, tolerance) {\n    return (Math.abs(extent1[0] - extent2[0]) < tolerance &&\n        Math.abs(extent1[2] - extent2[2]) < tolerance &&\n        Math.abs(extent1[1] - extent2[1]) < tolerance &&\n        Math.abs(extent1[3] - extent2[3]) < tolerance);\n}\n/**\n * Modify an extent to include another extent.\n * @param {Extent} extent1 The extent to be modified.\n * @param {Extent} extent2 The extent that will be included in the first.\n * @return {Extent} A reference to the first (extended) extent.\n * @api\n */\nexport function extend(extent1, extent2) {\n    if (extent2[0] < extent1[0]) {\n        extent1[0] = extent2[0];\n    }\n    if (extent2[2] > extent1[2]) {\n        extent1[2] = extent2[2];\n    }\n    if (extent2[1] < extent1[1]) {\n        extent1[1] = extent2[1];\n    }\n    if (extent2[3] > extent1[3]) {\n        extent1[3] = extent2[3];\n    }\n    return extent1;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n */\nexport function extendCoordinate(extent, coordinate) {\n    if (coordinate[0] < extent[0]) {\n        extent[0] = coordinate[0];\n    }\n    if (coordinate[0] > extent[2]) {\n        extent[2] = coordinate[0];\n    }\n    if (coordinate[1] < extent[1]) {\n        extent[1] = coordinate[1];\n    }\n    if (coordinate[1] > extent[3]) {\n        extent[3] = coordinate[1];\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Extent.\n */\nexport function extendCoordinates(extent, coordinates) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        extendCoordinate(extent, coordinates[i]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Extent} Extent.\n */\nexport function extendFlatCoordinates(extent, flatCoordinates, offset, end, stride) {\n    for (; offset < end; offset += stride) {\n        extendXY(extent, flatCoordinates[offset], flatCoordinates[offset + 1]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @return {Extent} Extent.\n */\nexport function extendRings(extent, rings) {\n    for (var i = 0, ii = rings.length; i < ii; ++i) {\n        extendCoordinates(extent, rings[i]);\n    }\n    return extent;\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n */\nexport function extendXY(extent, x, y) {\n    extent[0] = Math.min(extent[0], x);\n    extent[1] = Math.min(extent[1], y);\n    extent[2] = Math.max(extent[2], x);\n    extent[3] = Math.max(extent[3], y);\n}\n/**\n * This function calls `callback` for each corner of the extent. If the\n * callback returns a truthy value the function returns that value\n * immediately. Otherwise the function returns `false`.\n * @param {Extent} extent Extent.\n * @param {function(import(\"./coordinate.js\").Coordinate): S} callback Callback.\n * @return {S|boolean} Value.\n * @template S\n */\nexport function forEachCorner(extent, callback) {\n    var val;\n    val = callback(getBottomLeft(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getBottomRight(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getTopRight(extent));\n    if (val) {\n        return val;\n    }\n    val = callback(getTopLeft(extent));\n    if (val) {\n        return val;\n    }\n    return false;\n}\n/**\n * Get the size of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Area.\n * @api\n */\nexport function getArea(extent) {\n    var area = 0;\n    if (!isEmpty(extent)) {\n        area = getWidth(extent) * getHeight(extent);\n    }\n    return area;\n}\n/**\n * Get the bottom left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom left coordinate.\n * @api\n */\nexport function getBottomLeft(extent) {\n    return [extent[0], extent[1]];\n}\n/**\n * Get the bottom right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom right coordinate.\n * @api\n */\nexport function getBottomRight(extent) {\n    return [extent[2], extent[1]];\n}\n/**\n * Get the center coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Center.\n * @api\n */\nexport function getCenter(extent) {\n    return [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\n}\n/**\n * Get a corner coordinate of an extent.\n * @param {Extent} extent Extent.\n * @param {Corner} corner Corner.\n * @return {import(\"./coordinate.js\").Coordinate} Corner coordinate.\n */\nexport function getCorner(extent, corner) {\n    var coordinate;\n    if (corner === 'bottom-left') {\n        coordinate = getBottomLeft(extent);\n    }\n    else if (corner === 'bottom-right') {\n        coordinate = getBottomRight(extent);\n    }\n    else if (corner === 'top-left') {\n        coordinate = getTopLeft(extent);\n    }\n    else if (corner === 'top-right') {\n        coordinate = getTopRight(extent);\n    }\n    else {\n        assert(false, 13); // Invalid corner\n    }\n    return coordinate;\n}\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Enlarged area.\n */\nexport function getEnlargedArea(extent1, extent2) {\n    var minX = Math.min(extent1[0], extent2[0]);\n    var minY = Math.min(extent1[1], extent2[1]);\n    var maxX = Math.max(extent1[2], extent2[2]);\n    var maxY = Math.max(extent1[3], extent2[3]);\n    return (maxX - minX) * (maxY - minY);\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} center Center.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @param {import(\"./size.js\").Size} size Size.\n * @param {Extent} [opt_extent] Destination extent.\n * @return {Extent} Extent.\n */\nexport function getForViewAndSize(center, resolution, rotation, size, opt_extent) {\n    var _a = getRotatedViewport(center, resolution, rotation, size), x0 = _a[0], y0 = _a[1], x1 = _a[2], y1 = _a[3], x2 = _a[4], y2 = _a[5], x3 = _a[6], y3 = _a[7];\n    return createOrUpdate(Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), opt_extent);\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} center Center.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @param {import(\"./size.js\").Size} size Size.\n * @return {Array<number>} Linear ring representing the viewport.\n */\nexport function getRotatedViewport(center, resolution, rotation, size) {\n    var dx = (resolution * size[0]) / 2;\n    var dy = (resolution * size[1]) / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    return [\n        x - xCos + ySin,\n        y - xSin - yCos,\n        x - xCos - ySin,\n        y - xSin + yCos,\n        x + xCos - ySin,\n        y + xSin + yCos,\n        x + xCos + ySin,\n        y + xSin - yCos,\n        x - xCos + ySin,\n        y - xSin - yCos,\n    ];\n}\n/**\n * Get the height of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Height.\n * @api\n */\nexport function getHeight(extent) {\n    return extent[3] - extent[1];\n}\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Intersection area.\n */\nexport function getIntersectionArea(extent1, extent2) {\n    var intersection = getIntersection(extent1, extent2);\n    return getArea(intersection);\n}\n/**\n * Get the intersection of two extents.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @param {Extent} [opt_extent] Optional extent to populate with intersection.\n * @return {Extent} Intersecting extent.\n * @api\n */\nexport function getIntersection(extent1, extent2, opt_extent) {\n    var intersection = opt_extent ? opt_extent : createEmpty();\n    if (intersects(extent1, extent2)) {\n        if (extent1[0] > extent2[0]) {\n            intersection[0] = extent1[0];\n        }\n        else {\n            intersection[0] = extent2[0];\n        }\n        if (extent1[1] > extent2[1]) {\n            intersection[1] = extent1[1];\n        }\n        else {\n            intersection[1] = extent2[1];\n        }\n        if (extent1[2] < extent2[2]) {\n            intersection[2] = extent1[2];\n        }\n        else {\n            intersection[2] = extent2[2];\n        }\n        if (extent1[3] < extent2[3]) {\n            intersection[3] = extent1[3];\n        }\n        else {\n            intersection[3] = extent2[3];\n        }\n    }\n    else {\n        createOrUpdateEmpty(intersection);\n    }\n    return intersection;\n}\n/**\n * @param {Extent} extent Extent.\n * @return {number} Margin.\n */\nexport function getMargin(extent) {\n    return getWidth(extent) + getHeight(extent);\n}\n/**\n * Get the size (width, height) of an extent.\n * @param {Extent} extent The extent.\n * @return {import(\"./size.js\").Size} The extent size.\n * @api\n */\nexport function getSize(extent) {\n    return [extent[2] - extent[0], extent[3] - extent[1]];\n}\n/**\n * Get the top left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top left coordinate.\n * @api\n */\nexport function getTopLeft(extent) {\n    return [extent[0], extent[3]];\n}\n/**\n * Get the top right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top right coordinate.\n * @api\n */\nexport function getTopRight(extent) {\n    return [extent[2], extent[3]];\n}\n/**\n * Get the width of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Width.\n * @api\n */\nexport function getWidth(extent) {\n    return extent[2] - extent[0];\n}\n/**\n * Determine if one extent intersects another.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent.\n * @return {boolean} The two extents intersect.\n * @api\n */\nexport function intersects(extent1, extent2) {\n    return (extent1[0] <= extent2[2] &&\n        extent1[2] >= extent2[0] &&\n        extent1[1] <= extent2[3] &&\n        extent1[3] >= extent2[1]);\n}\n/**\n * Determine if an extent is empty.\n * @param {Extent} extent Extent.\n * @return {boolean} Is empty.\n * @api\n */\nexport function isEmpty(extent) {\n    return extent[2] < extent[0] || extent[3] < extent[1];\n}\n/**\n * @param {Extent} extent Extent.\n * @param {Extent} [opt_extent] Extent.\n * @return {Extent} Extent.\n */\nexport function returnOrUpdate(extent, opt_extent) {\n    if (opt_extent) {\n        opt_extent[0] = extent[0];\n        opt_extent[1] = extent[1];\n        opt_extent[2] = extent[2];\n        opt_extent[3] = extent[3];\n        return opt_extent;\n    }\n    else {\n        return extent;\n    }\n}\n/**\n * @param {Extent} extent Extent.\n * @param {number} value Value.\n */\nexport function scaleFromCenter(extent, value) {\n    var deltaX = ((extent[2] - extent[0]) / 2) * (value - 1);\n    var deltaY = ((extent[3] - extent[1]) / 2) * (value - 1);\n    extent[0] -= deltaX;\n    extent[2] += deltaX;\n    extent[1] -= deltaY;\n    extent[3] += deltaY;\n}\n/**\n * Determine if the segment between two coordinates intersects (crosses,\n * touches, or is contained by) the provided extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} start Segment start coordinate.\n * @param {import(\"./coordinate.js\").Coordinate} end Segment end coordinate.\n * @return {boolean} The segment intersects the extent.\n */\nexport function intersectsSegment(extent, start, end) {\n    var intersects = false;\n    var startRel = coordinateRelationship(extent, start);\n    var endRel = coordinateRelationship(extent, end);\n    if (startRel === Relationship.INTERSECTING ||\n        endRel === Relationship.INTERSECTING) {\n        intersects = true;\n    }\n    else {\n        var minX = extent[0];\n        var minY = extent[1];\n        var maxX = extent[2];\n        var maxY = extent[3];\n        var startX = start[0];\n        var startY = start[1];\n        var endX = end[0];\n        var endY = end[1];\n        var slope = (endY - startY) / (endX - startX);\n        var x = void 0, y = void 0;\n        if (!!(endRel & Relationship.ABOVE) && !(startRel & Relationship.ABOVE)) {\n            // potentially intersects top\n            x = endX - (endY - maxY) / slope;\n            intersects = x >= minX && x <= maxX;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.RIGHT) &&\n            !(startRel & Relationship.RIGHT)) {\n            // potentially intersects right\n            y = endY - (endX - maxX) * slope;\n            intersects = y >= minY && y <= maxY;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.BELOW) &&\n            !(startRel & Relationship.BELOW)) {\n            // potentially intersects bottom\n            x = endX - (endY - minY) / slope;\n            intersects = x >= minX && x <= maxX;\n        }\n        if (!intersects &&\n            !!(endRel & Relationship.LEFT) &&\n            !(startRel & Relationship.LEFT)) {\n            // potentially intersects left\n            y = endY - (endX - minX) * slope;\n            intersects = y >= minY && y <= maxY;\n        }\n    }\n    return intersects;\n}\n/**\n * Apply a transform function to the extent.\n * @param {Extent} extent Extent.\n * @param {import(\"./proj.js\").TransformFunction} transformFn Transform function.\n * Called with `[minX, minY, maxX, maxY]` extent coordinates.\n * @param {Extent} [opt_extent] Destination extent.\n * @param {number} [opt_stops] Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {Extent} Extent.\n * @api\n */\nexport function applyTransform(extent, transformFn, opt_extent, opt_stops) {\n    var coordinates = [];\n    if (opt_stops > 1) {\n        var width = extent[2] - extent[0];\n        var height = extent[3] - extent[1];\n        for (var i = 0; i < opt_stops; ++i) {\n            coordinates.push(extent[0] + (width * i) / opt_stops, extent[1], extent[2], extent[1] + (height * i) / opt_stops, extent[2] - (width * i) / opt_stops, extent[3], extent[0], extent[3] - (height * i) / opt_stops);\n        }\n    }\n    else {\n        coordinates = [\n            extent[0],\n            extent[1],\n            extent[2],\n            extent[1],\n            extent[2],\n            extent[3],\n            extent[0],\n            extent[3],\n        ];\n    }\n    transformFn(coordinates, coordinates, 2);\n    var xs = [];\n    var ys = [];\n    for (var i = 0, l = coordinates.length; i < l; i += 2) {\n        xs.push(coordinates[i]);\n        ys.push(coordinates[i + 1]);\n    }\n    return _boundingExtentXYs(xs, ys, opt_extent);\n}\n/**\n * Modifies the provided extent in-place to be within the real world\n * extent.\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./proj/Projection.js\").default} projection Projection\n * @return {Extent} The extent within the real world extent.\n */\nexport function wrapX(extent, projection) {\n    var projectionExtent = projection.getExtent();\n    var center = getCenter(extent);\n    if (projection.canWrapX() &&\n        (center[0] < projectionExtent[0] || center[0] >= projectionExtent[2])) {\n        var worldWidth = getWidth(projectionExtent);\n        var worldsAway = Math.floor((center[0] - projectionExtent[0]) / worldWidth);\n        var offset = worldsAway * worldWidth;\n        extent[0] -= offset;\n        extent[2] -= offset;\n    }\n    return extent;\n}\n/**\n * Fits the extent to the real world\n *\n * If the extent does not cross the anti meridian, this will return the extent in an array\n * If the extent crosses the anti meridian, the extent will be sliced, so each part fits within the\n * real world\n *\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./proj/Projection.js\").default} projection Projection\n * @return {Array<Extent>} The extent within the real world extent.\n */\nexport function wrapAndSliceX(extent, projection) {\n    if (projection.canWrapX()) {\n        var projectionExtent = projection.getExtent();\n        if (!isFinite(extent[0]) || !isFinite(extent[2])) {\n            return [[projectionExtent[0], extent[1], projectionExtent[2], extent[3]]];\n        }\n        wrapX(extent, projection);\n        var worldWidth = getWidth(projectionExtent);\n        if (getWidth(extent) > worldWidth) {\n            // the extent wraps around on itself\n            return [[projectionExtent[0], extent[1], projectionExtent[2], extent[3]]];\n        }\n        else if (extent[0] < projectionExtent[0]) {\n            // the extent crosses the anti meridian, so it needs to be sliced\n            return [\n                [extent[0] + worldWidth, extent[1], projectionExtent[2], extent[3]],\n                [projectionExtent[0], extent[1], extent[2], extent[3]],\n            ];\n        }\n        else if (extent[2] > projectionExtent[2]) {\n            // the extent crosses the anti meridian, so it needs to be sliced\n            return [\n                [extent[0], extent[1], projectionExtent[2], extent[3]],\n                [projectionExtent[0], extent[1], extent[2] - worldWidth, extent[3]],\n            ];\n        }\n    }\n    return [extent];\n}\n//# sourceMappingURL=extent.js.map","/**\n * @module ol/extent/Relationship\n */\n/**\n * Relationship to an extent.\n * @enum {number}\n */\nexport default {\n    UNKNOWN: 0,\n    INTERSECTING: 1,\n    ABOVE: 2,\n    RIGHT: 4,\n    BELOW: 8,\n    LEFT: 16,\n};\n//# sourceMappingURL=Relationship.js.map","/**\n * @module ol/functions\n */\nimport { equals as arrayEquals } from './array.js';\n/**\n * Always returns true.\n * @return {boolean} true.\n */\nexport function TRUE() {\n    return true;\n}\n/**\n * Always returns false.\n * @return {boolean} false.\n */\nexport function FALSE() {\n    return false;\n}\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() { }\n/**\n * Wrap a function in another function that remembers the last return.  If the\n * returned function is called twice in a row with the same arguments and the same\n * this object, it will return the value from the first call in the second call.\n *\n * @param {function(...any): ReturnType} fn The function to memoize.\n * @return {function(...any): ReturnType} The memoized function.\n * @template ReturnType\n */\nexport function memoizeOne(fn) {\n    var called = false;\n    /** @type {ReturnType} */\n    var lastResult;\n    /** @type {Array<any>} */\n    var lastArgs;\n    var lastThis;\n    return function () {\n        var nextArgs = Array.prototype.slice.call(arguments);\n        if (!called || this !== lastThis || !arrayEquals(nextArgs, lastArgs)) {\n            called = true;\n            lastThis = this;\n            lastArgs = nextArgs;\n            lastResult = fn.apply(this, arguments);\n        }\n        return lastResult;\n    };\n}\n/**\n * @template T\n * @param {function(): (T | Promise<T>)} getter A function that returns a value or a promise for a value.\n * @return {Promise<T>} A promise for the value.\n */\nexport function toPromise(getter) {\n    function promiseGetter() {\n        var value;\n        try {\n            value = getter();\n        }\n        catch (err) {\n            return Promise.reject(err);\n        }\n        if (value instanceof Promise) {\n            return value;\n        }\n        return Promise.resolve(value);\n    }\n    return promiseGetter();\n}\n//# sourceMappingURL=functions.js.map","/**\n * @module ol/has\n */\nvar ua = typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined'\n    ? navigator.userAgent.toLowerCase()\n    : '';\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport var FIREFOX = ua.indexOf('firefox') !== -1;\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n/**\n * https://bugs.webkit.org/show_bug.cgi?id=237906\n * @type {boolean}\n */\nexport var SAFARI_BUG_237906 = SAFARI &&\n    !!(ua.indexOf('version/15.4') >= 0 ||\n        ua.match(/cpu (os|iphone os) 15_4 like mac os x/));\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport var MAC = ua.indexOf('macintosh') !== -1;\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport var DEVICE_PIXEL_RATIO = typeof devicePixelRatio !== 'undefined' ? devicePixelRatio : 1;\n/**\n * The execution context is a worker with OffscreenCanvas available.\n * @const\n * @type {boolean}\n */\nexport var WORKER_OFFSCREEN_CANVAS = typeof WorkerGlobalScope !== 'undefined' &&\n    typeof OffscreenCanvas !== 'undefined' &&\n    self instanceof WorkerGlobalScope; //eslint-disable-line\n/**\n * Image.prototype.decode() is supported.\n * @type {boolean}\n */\nexport var IMAGE_DECODE = typeof Image !== 'undefined' && Image.prototype.decode;\n/**\n * @type {boolean}\n */\nexport var PASSIVE_EVENT_LISTENERS = (function () {\n    var passive = false;\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passive = true;\n            },\n        });\n        window.addEventListener('_', null, options);\n        window.removeEventListener('_', null, options);\n    }\n    catch (error) {\n        // passive not supported\n    }\n    return passive;\n})();\n//# sourceMappingURL=has.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Base\n */\nimport BaseObject from '../Object.js';\nimport LayerProperty from './Property.js';\nimport { abstract } from '../util.js';\nimport { assert } from '../asserts.js';\nimport { assign } from '../obj.js';\nimport { clamp } from '../math.js';\n/**\n * A css color, or a function called with a view resolution returning a css color.\n *\n * @typedef {string|function(number):string} BackgroundColor\n * @api\n */\n/**\n * @typedef {import(\"../ObjectEventType\").Types|'change:extent'|'change:maxResolution'|'change:maxZoom'|\n *    'change:minResolution'|'change:minZoom'|'change:opacity'|'change:visible'|'change:zIndex'} BaseLayerObjectEventTypes\n */\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<BaseLayerObjectEventTypes, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|BaseLayerObjectEventTypes, Return>} BaseLayerOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {BackgroundColor} [background] Background color for the layer. If not specified, no background\n * will be rendered.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Note that with {@link module:ol/layer/Base~BaseLayer} and all its subclasses, any property set in\n * the options is set as a {@link module:ol/Object~BaseObject} property on the layer object, so\n * is observable, and has get/set accessors.\n *\n * @api\n */\nvar BaseLayer = /** @class */ (function (_super) {\n    __extends(BaseLayer, _super);\n    /**\n     * @param {Options} options Layer options.\n     */\n    function BaseLayer(options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {BaseLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {BaseLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {BaseLayerOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @type {BackgroundColor|false}\n         * @private\n         */\n        _this.background_ = options.background;\n        /**\n         * @type {Object<string, *>}\n         */\n        var properties = assign({}, options);\n        if (typeof options.properties === 'object') {\n            delete properties.properties;\n            assign(properties, options.properties);\n        }\n        properties[LayerProperty.OPACITY] =\n            options.opacity !== undefined ? options.opacity : 1;\n        assert(typeof properties[LayerProperty.OPACITY] === 'number', 64); // Layer opacity must be a number\n        properties[LayerProperty.VISIBLE] =\n            options.visible !== undefined ? options.visible : true;\n        properties[LayerProperty.Z_INDEX] = options.zIndex;\n        properties[LayerProperty.MAX_RESOLUTION] =\n            options.maxResolution !== undefined ? options.maxResolution : Infinity;\n        properties[LayerProperty.MIN_RESOLUTION] =\n            options.minResolution !== undefined ? options.minResolution : 0;\n        properties[LayerProperty.MIN_ZOOM] =\n            options.minZoom !== undefined ? options.minZoom : -Infinity;\n        properties[LayerProperty.MAX_ZOOM] =\n            options.maxZoom !== undefined ? options.maxZoom : Infinity;\n        /**\n         * @type {string}\n         * @private\n         */\n        _this.className_ =\n            properties.className !== undefined ? properties.className : 'ol-layer';\n        delete properties.className;\n        _this.setProperties(properties);\n        /**\n         * @type {import(\"./Layer.js\").State}\n         * @private\n         */\n        _this.state_ = null;\n        return _this;\n    }\n    /**\n     * Get the background for this layer.\n     * @return {BackgroundColor|false} Layer background.\n     */\n    BaseLayer.prototype.getBackground = function () {\n        return this.background_;\n    };\n    /**\n     * @return {string} CSS class name.\n     */\n    BaseLayer.prototype.getClassName = function () {\n        return this.className_;\n    };\n    /**\n     * This method is not meant to be called by layers or layer renderers because the state\n     * is incorrect if the layer is included in a layer group.\n     *\n     * @param {boolean} [opt_managed] Layer is managed.\n     * @return {import(\"./Layer.js\").State} Layer state.\n     */\n    BaseLayer.prototype.getLayerState = function (opt_managed) {\n        /** @type {import(\"./Layer.js\").State} */\n        var state = this.state_ ||\n            /** @type {?} */ ({\n                layer: this,\n                managed: opt_managed === undefined ? true : opt_managed,\n            });\n        var zIndex = this.getZIndex();\n        state.opacity = clamp(Math.round(this.getOpacity() * 100) / 100, 0, 1);\n        state.visible = this.getVisible();\n        state.extent = this.getExtent();\n        state.zIndex = zIndex === undefined && !state.managed ? Infinity : zIndex;\n        state.maxResolution = this.getMaxResolution();\n        state.minResolution = Math.max(this.getMinResolution(), 0);\n        state.minZoom = this.getMinZoom();\n        state.maxZoom = this.getMaxZoom();\n        this.state_ = state;\n        return state;\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").default>} [opt_array] Array of layers (to be\n     *     modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    BaseLayer.prototype.getLayersArray = function (opt_array) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"./Layer.js\").State>} [opt_states] Optional list of layer\n     *     states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    BaseLayer.prototype.getLayerStatesArray = function (opt_states) {\n        return abstract();\n    };\n    /**\n     * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n     * will be visible regardless of extent.\n     * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getExtent = function () {\n        return /** @type {import(\"../extent.js\").Extent|undefined} */ (this.get(LayerProperty.EXTENT));\n    };\n    /**\n     * Return the maximum resolution of the layer.\n     * @return {number} The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxResolution = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n    };\n    /**\n     * Return the minimum resolution of the layer.\n     * @return {number} The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinResolution = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n    };\n    /**\n     * Return the minimum zoom level of the layer.\n     * @return {number} The minimum zoom level of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMinZoom = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MIN_ZOOM));\n    };\n    /**\n     * Return the maximum zoom level of the layer.\n     * @return {number} The maximum zoom level of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getMaxZoom = function () {\n        return /** @type {number} */ (this.get(LayerProperty.MAX_ZOOM));\n    };\n    /**\n     * Return the opacity of the layer (between 0 and 1).\n     * @return {number} The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getOpacity = function () {\n        return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n    };\n    /**\n     * @abstract\n     * @return {import(\"../source/Source.js\").State} Source state.\n     */\n    BaseLayer.prototype.getSourceState = function () {\n        return abstract();\n    };\n    /**\n     * Return the visibility of the layer (`true` or `false`).\n     * @return {boolean} The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getVisible = function () {\n        return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n    };\n    /**\n     * Return the Z-index of the layer, which is used to order layers before\n     * rendering. The default Z-index is 0.\n     * @return {number} The Z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.getZIndex = function () {\n        return /** @type {number} */ (this.get(LayerProperty.Z_INDEX));\n    };\n    /**\n     * Sets the background color.\n     * @param {BackgroundColor} [opt_background] Background color.\n     */\n    BaseLayer.prototype.setBackground = function (opt_background) {\n        this.background_ = opt_background;\n        this.changed();\n    };\n    /**\n     * Set the extent at which the layer is visible.  If `undefined`, the layer\n     * will be visible at all extents.\n     * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setExtent = function (extent) {\n        this.set(LayerProperty.EXTENT, extent);\n    };\n    /**\n     * Set the maximum resolution at which the layer is visible.\n     * @param {number} maxResolution The maximum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxResolution = function (maxResolution) {\n        this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n    };\n    /**\n     * Set the minimum resolution at which the layer is visible.\n     * @param {number} minResolution The minimum resolution of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinResolution = function (minResolution) {\n        this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n    };\n    /**\n     * Set the maximum zoom (exclusive) at which the layer is visible.\n     * Note that the zoom levels for layer visibility are based on the\n     * view zoom level, which may be different from a tile source zoom level.\n     * @param {number} maxZoom The maximum zoom of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMaxZoom = function (maxZoom) {\n        this.set(LayerProperty.MAX_ZOOM, maxZoom);\n    };\n    /**\n     * Set the minimum zoom (inclusive) at which the layer is visible.\n     * Note that the zoom levels for layer visibility are based on the\n     * view zoom level, which may be different from a tile source zoom level.\n     * @param {number} minZoom The minimum zoom of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setMinZoom = function (minZoom) {\n        this.set(LayerProperty.MIN_ZOOM, minZoom);\n    };\n    /**\n     * Set the opacity of the layer, allowed values range from 0 to 1.\n     * @param {number} opacity The opacity of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setOpacity = function (opacity) {\n        assert(typeof opacity === 'number', 64); // Layer opacity must be a number\n        this.set(LayerProperty.OPACITY, opacity);\n    };\n    /**\n     * Set the visibility of the layer (`true` or `false`).\n     * @param {boolean} visible The visibility of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setVisible = function (visible) {\n        this.set(LayerProperty.VISIBLE, visible);\n    };\n    /**\n     * Set Z-index of the layer, which is used to order layers before rendering.\n     * The default Z-index is 0.\n     * @param {number} zindex The z-index of the layer.\n     * @observable\n     * @api\n     */\n    BaseLayer.prototype.setZIndex = function (zindex) {\n        this.set(LayerProperty.Z_INDEX, zindex);\n    };\n    /**\n     * Clean up.\n     */\n    BaseLayer.prototype.disposeInternal = function () {\n        if (this.state_) {\n            this.state_.layer = null;\n            this.state_ = null;\n        }\n        _super.prototype.disposeInternal.call(this);\n    };\n    return BaseLayer;\n}(BaseObject));\nexport default BaseLayer;\n//# sourceMappingURL=Base.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Group\n */\nimport BaseLayer from './Base.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport { assert } from '../asserts.js';\nimport { assign, clear } from '../obj.js';\nimport { getIntersection } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {'addlayer'|'removelayer'} EventType\n */\n/**\n * @classdesc\n * A layer group triggers 'addlayer' and 'removelayer' events when layers are added to or removed from\n * the group or one of its child groups.  When a layer group is added to or removed from another layer group,\n * a single event will be triggered (instead of one per layer in the group added or removed).\n */\nvar GroupEvent = /** @class */ (function (_super) {\n    __extends(GroupEvent, _super);\n    /**\n     * @param {EventType} type The event type.\n     * @param {BaseLayer} layer The layer.\n     */\n    function GroupEvent(type, layer) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The added or removed layer.\n         * @type {BaseLayer}\n         * @api\n         */\n        _this.layer = layer;\n        return _this;\n    }\n    return GroupEvent;\n}(Event));\nexport { GroupEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:layers', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|'change:layers', Return>} GroupOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    LAYERS: 'layers',\n};\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\nvar LayerGroup = /** @class */ (function (_super) {\n    __extends(LayerGroup, _super);\n    /**\n     * @param {Options} [opt_options] Layer options.\n     */\n    function LayerGroup(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var baseOptions = /** @type {Options} */ (assign({}, options));\n        delete baseOptions.layers;\n        var layers = options.layers;\n        _this = _super.call(this, baseOptions) || this;\n        /***\n         * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {GroupOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {GroupOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.layersListenerKeys_ = [];\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.listenerKeys_ = {};\n        _this.addChangeListener(Property.LAYERS, _this.handleLayersChanged_);\n        if (layers) {\n            if (Array.isArray(layers)) {\n                layers = new Collection(layers.slice(), { unique: true });\n            }\n            else {\n                assert(typeof ( /** @type {?} */(layers).getArray) === 'function', 43); // Expected `layers` to be an array or a `Collection`\n            }\n        }\n        else {\n            layers = new Collection(undefined, { unique: true });\n        }\n        _this.setLayers(layers);\n        return _this;\n    }\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayerChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    LayerGroup.prototype.handleLayersChanged_ = function () {\n        this.layersListenerKeys_.forEach(unlistenByKey);\n        this.layersListenerKeys_.length = 0;\n        var layers = this.getLayers();\n        this.layersListenerKeys_.push(listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this), listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this));\n        for (var id in this.listenerKeys_) {\n            this.listenerKeys_[id].forEach(unlistenByKey);\n        }\n        clear(this.listenerKeys_);\n        var layersArray = layers.getArray();\n        for (var i = 0, ii = layersArray.length; i < ii; i++) {\n            var layer = layersArray[i];\n            this.registerLayerListeners_(layer);\n            this.dispatchEvent(new GroupEvent('addlayer', layer));\n        }\n        this.changed();\n    };\n    /**\n     * @param {BaseLayer} layer The layer.\n     */\n    LayerGroup.prototype.registerLayerListeners_ = function (layer) {\n        var listenerKeys = [\n            listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n            listen(layer, EventType.CHANGE, this.handleLayerChange_, this),\n        ];\n        if (layer instanceof LayerGroup) {\n            listenerKeys.push(listen(layer, 'addlayer', this.handleLayerGroupAdd_, this), listen(layer, 'removelayer', this.handleLayerGroupRemove_, this));\n        }\n        this.listenerKeys_[getUid(layer)] = listenerKeys;\n    };\n    /**\n     * @param {GroupEvent} event The layer group event.\n     */\n    LayerGroup.prototype.handleLayerGroupAdd_ = function (event) {\n        this.dispatchEvent(new GroupEvent('addlayer', event.layer));\n    };\n    /**\n     * @param {GroupEvent} event The layer group event.\n     */\n    LayerGroup.prototype.handleLayerGroupRemove_ = function (event) {\n        this.dispatchEvent(new GroupEvent('removelayer', event.layer));\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersAdd_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        this.registerLayerListeners_(layer);\n        this.dispatchEvent(new GroupEvent('addlayer', layer));\n        this.changed();\n    };\n    /**\n     * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n     * @private\n     */\n    LayerGroup.prototype.handleLayersRemove_ = function (collectionEvent) {\n        var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n        var key = getUid(layer);\n        this.listenerKeys_[key].forEach(unlistenByKey);\n        delete this.listenerKeys_[key];\n        this.dispatchEvent(new GroupEvent('removelayer', layer));\n        this.changed();\n    };\n    /**\n     * Returns the {@link module:ol/Collection~Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n     *   {@link module:ol/layer/Base~BaseLayer layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.getLayers = function () {\n        return /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property.LAYERS));\n    };\n    /**\n     * Set the {@link module:ol/Collection~Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n     * in this group.\n     * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n     *   {@link module:ol/layer/Base~BaseLayer layers} that are part of this group.\n     * @observable\n     * @api\n     */\n    LayerGroup.prototype.setLayers = function (layers) {\n        var collection = this.getLayers();\n        if (collection) {\n            var currentLayers = collection.getArray();\n            for (var i = 0, ii = currentLayers.length; i < ii; ++i) {\n                this.dispatchEvent(new GroupEvent('removelayer', currentLayers[i]));\n            }\n        }\n        this.set(Property.LAYERS, layers);\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").default>} [opt_array] Array of layers (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    LayerGroup.prototype.getLayersArray = function (opt_array) {\n        var array = opt_array !== undefined ? opt_array : [];\n        this.getLayers().forEach(function (layer) {\n            layer.getLayersArray(array);\n        });\n        return array;\n    };\n    /**\n     * Get the layer states list and use this groups z-index as the default\n     * for all layers in this and nested groups, if it is unset at this point.\n     * If opt_states is not provided and this group's z-index is undefined\n     * 0 is used a the default z-index.\n     * @param {Array<import(\"./Layer.js\").State>} [opt_states] Optional list\n     * of layer states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    LayerGroup.prototype.getLayerStatesArray = function (opt_states) {\n        var states = opt_states !== undefined ? opt_states : [];\n        var pos = states.length;\n        this.getLayers().forEach(function (layer) {\n            layer.getLayerStatesArray(states);\n        });\n        var ownLayerState = this.getLayerState();\n        var defaultZIndex = ownLayerState.zIndex;\n        if (!opt_states && ownLayerState.zIndex === undefined) {\n            defaultZIndex = 0;\n        }\n        for (var i = pos, ii = states.length; i < ii; i++) {\n            var layerState = states[i];\n            layerState.opacity *= ownLayerState.opacity;\n            layerState.visible = layerState.visible && ownLayerState.visible;\n            layerState.maxResolution = Math.min(layerState.maxResolution, ownLayerState.maxResolution);\n            layerState.minResolution = Math.max(layerState.minResolution, ownLayerState.minResolution);\n            layerState.minZoom = Math.max(layerState.minZoom, ownLayerState.minZoom);\n            layerState.maxZoom = Math.min(layerState.maxZoom, ownLayerState.maxZoom);\n            if (ownLayerState.extent !== undefined) {\n                if (layerState.extent !== undefined) {\n                    layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n                }\n                else {\n                    layerState.extent = ownLayerState.extent;\n                }\n            }\n            if (layerState.zIndex === undefined) {\n                layerState.zIndex = defaultZIndex;\n            }\n        }\n        return states;\n    };\n    /**\n     * @return {import(\"../source/Source.js\").State} Source state.\n     */\n    LayerGroup.prototype.getSourceState = function () {\n        return 'ready';\n    };\n    return LayerGroup;\n}(BaseLayer));\nexport default LayerGroup;\n//# sourceMappingURL=Group.js.map","/**\n * @module ol/layer/Property\n */\n/**\n * @enum {string}\n */\nexport default {\n    OPACITY: 'opacity',\n    VISIBLE: 'visible',\n    EXTENT: 'extent',\n    Z_INDEX: 'zIndex',\n    MAX_RESOLUTION: 'maxResolution',\n    MIN_RESOLUTION: 'minResolution',\n    MAX_ZOOM: 'maxZoom',\n    MIN_ZOOM: 'minZoom',\n    SOURCE: 'source',\n    MAP: 'map',\n};\n//# sourceMappingURL=Property.js.map","/**\n * @module ol/math\n */\n/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\n/**\n * Return the hyperbolic cosine of a given number. The method will use the\n * native `Math.cosh` function if it is available, otherwise the hyperbolic\n * cosine will be calculated via the reference implementation of the Mozilla\n * developer network.\n *\n * @param {number} x X.\n * @return {number} Hyperbolic cosine of x.\n */\nexport var cosh = (function () {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var cosh;\n    if ('cosh' in Math) {\n        // The environment supports the native Math.cosh function, use it\n        cosh = Math.cosh;\n    }\n    else {\n        //  else, use the reference implementation of MDN:\n        cosh = function (x) {\n            var y = /** @type {Math} */ (Math).exp(x);\n            return (y + 1 / y) / 2;\n        };\n    }\n    return cosh;\n})();\n/**\n * Return the base 2 logarithm of a given number. The method will use the\n * native `Math.log2` function if it is available, otherwise the base 2\n * logarithm will be calculated via the reference implementation of the\n * Mozilla developer network.\n *\n * @param {number} x X.\n * @return {number} Base 2 logarithm of x.\n */\nexport var log2 = (function () {\n    // Wrapped in a iife, to save the overhead of checking for the native\n    // implementation on every invocation.\n    var log2;\n    if ('log2' in Math) {\n        // The environment supports the native Math.log2 function, use it\n        log2 = Math.log2;\n    }\n    else {\n        //  else, use the reference implementation of MDN:\n        log2 = function (x) {\n            return Math.log(x) * Math.LOG2E;\n        };\n    }\n    return log2;\n})();\n/**\n * Returns the square of the closest distance between the point (x, y) and the\n * line segment (x1, y1) to (x2, y2).\n * @param {number} x X.\n * @param {number} y Y.\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    if (dx !== 0 || dy !== 0) {\n        var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n        if (t > 1) {\n            x1 = x2;\n            y1 = y2;\n        }\n        else if (t > 0) {\n            x1 += dx * t;\n            y1 += dy * t;\n        }\n    }\n    return squaredDistance(x, y, x1, y1);\n}\n/**\n * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredDistance(x1, y1, x2, y2) {\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n}\n/**\n * Solves system of linear equations using Gaussian elimination method.\n *\n * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n *                                     in row-major order.\n * @return {Array<number>} The resulting vector.\n */\nexport function solveLinearSystem(mat) {\n    var n = mat.length;\n    for (var i = 0; i < n; i++) {\n        // Find max in the i-th column (ignoring i - 1 first rows)\n        var maxRow = i;\n        var maxEl = Math.abs(mat[i][i]);\n        for (var r = i + 1; r < n; r++) {\n            var absValue = Math.abs(mat[r][i]);\n            if (absValue > maxEl) {\n                maxEl = absValue;\n                maxRow = r;\n            }\n        }\n        if (maxEl === 0) {\n            return null; // matrix is singular\n        }\n        // Swap max row with i-th (current) row\n        var tmp = mat[maxRow];\n        mat[maxRow] = mat[i];\n        mat[i] = tmp;\n        // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n        for (var j = i + 1; j < n; j++) {\n            var coef = -mat[j][i] / mat[i][i];\n            for (var k = i; k < n + 1; k++) {\n                if (i == k) {\n                    mat[j][k] = 0;\n                }\n                else {\n                    mat[j][k] += coef * mat[i][k];\n                }\n            }\n        }\n    }\n    // Solve Ax=b for upper triangular matrix A (mat)\n    var x = new Array(n);\n    for (var l = n - 1; l >= 0; l--) {\n        x[l] = mat[l][n] / mat[l][l];\n        for (var m = l - 1; m >= 0; m--) {\n            mat[m][n] -= mat[m][l] * x[l];\n        }\n    }\n    return x;\n}\n/**\n * Converts radians to to degrees.\n *\n * @param {number} angleInRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nexport function toDegrees(angleInRadians) {\n    return (angleInRadians * 180) / Math.PI;\n}\n/**\n * Converts degrees to radians.\n *\n * @param {number} angleInDegrees Angle in degrees.\n * @return {number} Angle in radians.\n */\nexport function toRadians(angleInDegrees) {\n    return (angleInDegrees * Math.PI) / 180;\n}\n/**\n * Returns the modulo of a / b, depending on the sign of b.\n *\n * @param {number} a Dividend.\n * @param {number} b Divisor.\n * @return {number} Modulo.\n */\nexport function modulo(a, b) {\n    var r = a % b;\n    return r * b < 0 ? r + b : r;\n}\n/**\n * Calculates the linearly interpolated value of x between a and b.\n *\n * @param {number} a Number\n * @param {number} b Number\n * @param {number} x Value to be interpolated.\n * @return {number} Interpolated value.\n */\nexport function lerp(a, b, x) {\n    return a + x * (b - a);\n}\n/**\n * Returns a number with a limited number of decimal digits.\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The input number with a limited number of decimal digits.\n */\nexport function toFixed(n, decimals) {\n    var factor = Math.pow(10, decimals);\n    return Math.round(n * factor) / factor;\n}\n/**\n * Rounds a number to the nearest integer value considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The nearest integer.\n */\nexport function round(n, decimals) {\n    return Math.round(toFixed(n, decimals));\n}\n/**\n * Rounds a number to the next smaller integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next smaller integer.\n */\nexport function floor(n, decimals) {\n    return Math.floor(toFixed(n, decimals));\n}\n/**\n * Rounds a number to the next bigger integer considering only the given number\n * of decimal digits (with rounding on the final digit).\n * @param {number} n The input number.\n * @param {number} decimals The maximum number of decimal digits.\n * @return {number} The next bigger integer.\n */\nexport function ceil(n, decimals) {\n    return Math.ceil(toFixed(n, decimals));\n}\n//# sourceMappingURL=math.js.map","/**\n * @module ol/obj\n */\n/**\n * Polyfill for Object.assign().  Assigns enumerable and own properties from\n * one or more source objects to a target object.\n * See https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign.\n *\n * @param {!Object} target The target object.\n * @param {...Object} var_sources The source object(s).\n * @return {!Object} The modified target object.\n */\nexport var assign = typeof Object.assign === 'function'\n    ? Object.assign\n    : function (target, var_sources) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n        var output = Object(target);\n        for (var i = 1, ii = arguments.length; i < ii; ++i) {\n            var source = arguments[i];\n            if (source !== undefined && source !== null) {\n                for (var key in source) {\n                    if (source.hasOwnProperty(key)) {\n                        output[key] = source[key];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n/**\n * Removes all properties from an object.\n * @param {Object} object The object to clear.\n */\nexport function clear(object) {\n    for (var property in object) {\n        delete object[property];\n    }\n}\n/**\n * Polyfill for Object.values().  Get an array of property values from an object.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/values\n *\n * @param {!Object<K,V>} object The object from which to get the values.\n * @return {!Array<V>} The property values.\n * @template K,V\n */\nexport var getValues = typeof Object.values === 'function'\n    ? Object.values\n    : function (object) {\n        var values = [];\n        for (var property in object) {\n            values.push(object[property]);\n        }\n        return values;\n    };\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n    var property;\n    for (property in object) {\n        return false;\n    }\n    return !property;\n}\n//# sourceMappingURL=obj.js.map","/**\n * @module ol/util\n */\n/**\n * @return {?} Any return.\n */\nexport function abstract() {\n    return /** @type {?} */ ((function () {\n        throw new Error('Unimplemented abstract method.');\n    })());\n}\n/**\n * Counter for getUid.\n * @type {number}\n * @private\n */\nvar uidCounter_ = 0;\n/**\n * Gets a unique ID for an object. This mutates the object so that further calls\n * with the same object as a parameter returns the same value. Unique IDs are generated\n * as a strictly increasing sequence. Adapted from goog.getUid.\n *\n * @param {Object} obj The object to get the unique ID for.\n * @return {string} The unique ID for the object.\n * @api\n */\nexport function getUid(obj) {\n    return obj.ol_uid || (obj.ol_uid = String(++uidCounter_));\n}\n/**\n * OpenLayers version.\n * @type {string}\n */\nexport var VERSION = '6.15.1';\n//# sourceMappingURL=util.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t261: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","/**\n * @module ol/easing\n */\n/**\n * Start slow and speed up.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeIn(t) {\n    return Math.pow(t, 3);\n}\n/**\n * Start fast and slow down.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeOut(t) {\n    return 1 - easeIn(1 - t);\n}\n/**\n * Start slow, speed up, and then slow down again.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function inAndOut(t) {\n    return 3 * t * t - 2 * t * t * t;\n}\n/**\n * Maintain a constant speed over time.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function linear(t) {\n    return t;\n}\n/**\n * Start slow, speed up, and at the very end slow down again.  This has the\n * same general behavior as {@link module:ol/easing.inAndOut}, but the final\n * slowdown is delayed.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function upAndDown(t) {\n    if (t < 0.5) {\n        return inAndOut(2 * t);\n    }\n    else {\n        return 1 - inAndOut(2 * (t - 0.5));\n    }\n}\n//# sourceMappingURL=easing.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Tile\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport TileState from './TileState.js';\nimport { abstract } from './util.js';\nimport { easeIn } from './easing.js';\n/**\n * A function that takes an {@link module:ol/Tile~Tile} for the tile and a\n * `{string}` for the url as arguments. The default is\n * ```js\n * source.setTileLoadFunction(function(tile, src) {\n *   tile.getImage().src = src;\n * });\n * ```\n * For more fine grained control, the load function can use fetch or XMLHttpRequest and involve\n * error handling:\n *\n * ```js\n * import TileState from 'ol/TileState';\n *\n * source.setTileLoadFunction(function(tile, src) {\n *   var xhr = new XMLHttpRequest();\n *   xhr.responseType = 'blob';\n *   xhr.addEventListener('loadend', function (evt) {\n *     var data = this.response;\n *     if (data !== undefined) {\n *       tile.getImage().src = URL.createObjectURL(data);\n *     } else {\n *       tile.setState(TileState.ERROR);\n *     }\n *   });\n *   xhr.addEventListener('error', function () {\n *     tile.setState(TileState.ERROR);\n *   });\n *   xhr.open('GET', src);\n *   xhr.send();\n * });\n * ```\n *\n * @typedef {function(Tile, string): void} LoadFunction\n * @api\n */\n/**\n * {@link module:ol/source/Tile~TileSource} sources use a function of this type to get\n * the url that provides a tile for a given tile coordinate.\n *\n * This function takes an {@link module:ol/tilecoord~TileCoord} for the tile\n * coordinate, a `{number}` representing the pixel ratio and a\n * {@link module:ol/proj/Projection~Projection} for the projection  as arguments\n * and returns a `{string}` representing the tile URL, or undefined if no tile\n * should be requested for the passed tile coordinate.\n *\n * @typedef {function(import(\"./tilecoord.js\").TileCoord, number,\n *           import(\"./proj/Projection.js\").default): (string|undefined)} UrlFunction\n * @api\n */\n/**\n * @typedef {Object} Options\n * @property {number} [transition=250] A duration for tile opacity\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n * @api\n */\n/**\n * @classdesc\n * Base class for tiles.\n *\n * @abstract\n */\nvar Tile = /** @class */ (function (_super) {\n    __extends(Tile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {Options} [opt_options] Tile options.\n     */\n    function Tile(tileCoord, state, opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @type {import(\"./tilecoord.js\").TileCoord}\n         */\n        _this.tileCoord = tileCoord;\n        /**\n         * @protected\n         * @type {import(\"./TileState.js\").default}\n         */\n        _this.state = state;\n        /**\n         * An \"interim\" tile for this tile. The interim tile may be used while this\n         * one is loading, for \"smooth\" transitions when changing params/dimensions\n         * on the source.\n         * @type {Tile}\n         */\n        _this.interimTile = null;\n        /**\n         * A key assigned to the tile. This is used by the tile source to determine\n         * if this tile can effectively be used, or if a new tile should be created\n         * and this one be used as an interim tile for this new tile.\n         * @type {string}\n         */\n        _this.key = '';\n        /**\n         * The duration for the opacity transition.\n         * @type {number}\n         */\n        _this.transition_ =\n            options.transition === undefined ? 250 : options.transition;\n        /**\n         * Lookup of start times for rendering transitions.  If the start time is\n         * equal to -1, the transition is complete.\n         * @type {Object<string, number>}\n         */\n        _this.transitionStarts_ = {};\n        /**\n         * @type {boolean}\n         */\n        _this.interpolate = !!options.interpolate;\n        return _this;\n    }\n    /**\n     * @protected\n     */\n    Tile.prototype.changed = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * Called by the tile cache when the tile is removed from the cache due to expiry\n     */\n    Tile.prototype.release = function () { };\n    /**\n     * @return {string} Key.\n     */\n    Tile.prototype.getKey = function () {\n        return this.key + '/' + this.tileCoord;\n    };\n    /**\n     * Get the interim tile most suitable for rendering using the chain of interim\n     * tiles. This corresponds to the  most recent tile that has been loaded, if no\n     * such tile exists, the original tile is returned.\n     * @return {!Tile} Best tile for rendering.\n     */\n    Tile.prototype.getInterimTile = function () {\n        if (!this.interimTile) {\n            //empty chain\n            return this;\n        }\n        var tile = this.interimTile;\n        // find the first loaded tile and return it. Since the chain is sorted in\n        // decreasing order of creation time, there is no need to search the remainder\n        // of the list (all those tiles correspond to older requests and will be\n        // cleaned up by refreshInterimChain)\n        do {\n            if (tile.getState() == TileState.LOADED) {\n                // Show tile immediately instead of fading it in after loading, because\n                // the interim tile is in place already\n                this.transition_ = 0;\n                return tile;\n            }\n            tile = tile.interimTile;\n        } while (tile);\n        // we can not find a better tile\n        return this;\n    };\n    /**\n     * Goes through the chain of interim tiles and discards sections of the chain\n     * that are no longer relevant.\n     */\n    Tile.prototype.refreshInterimChain = function () {\n        if (!this.interimTile) {\n            return;\n        }\n        var tile = this.interimTile;\n        /**\n         * @type {Tile}\n         */\n        var prev = this;\n        do {\n            if (tile.getState() == TileState.LOADED) {\n                //we have a loaded tile, we can discard the rest of the list\n                //we would could abort any LOADING tile request\n                //older than this tile (i.e. any LOADING tile following this entry in the chain)\n                tile.interimTile = null;\n                break;\n            }\n            else if (tile.getState() == TileState.LOADING) {\n                //keep this LOADING tile any loaded tiles later in the chain are\n                //older than this tile, so we're still interested in the request\n                prev = tile;\n            }\n            else if (tile.getState() == TileState.IDLE) {\n                //the head of the list is the most current tile, we don't need\n                //to start any other requests for this chain\n                prev.interimTile = tile.interimTile;\n            }\n            else {\n                prev = tile;\n            }\n            tile = prev.interimTile;\n        } while (tile);\n    };\n    /**\n     * Get the tile coordinate for this tile.\n     * @return {import(\"./tilecoord.js\").TileCoord} The tile coordinate.\n     * @api\n     */\n    Tile.prototype.getTileCoord = function () {\n        return this.tileCoord;\n    };\n    /**\n     * @return {import(\"./TileState.js\").default} State.\n     */\n    Tile.prototype.getState = function () {\n        return this.state;\n    };\n    /**\n     * Sets the state of this tile. If you write your own {@link module:ol/Tile~LoadFunction tileLoadFunction} ,\n     * it is important to set the state correctly to {@link module:ol/TileState~ERROR}\n     * when the tile cannot be loaded. Otherwise the tile cannot be removed from\n     * the tile queue and will block other requests.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @api\n     */\n    Tile.prototype.setState = function (state) {\n        if (this.state !== TileState.ERROR && this.state > state) {\n            throw new Error('Tile load sequence violation');\n        }\n        this.state = state;\n        this.changed();\n    };\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @abstract\n     * @api\n     */\n    Tile.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * Get the alpha value for rendering.\n     * @param {string} id An id for the renderer.\n     * @param {number} time The render frame time.\n     * @return {number} A number between 0 and 1.\n     */\n    Tile.prototype.getAlpha = function (id, time) {\n        if (!this.transition_) {\n            return 1;\n        }\n        var start = this.transitionStarts_[id];\n        if (!start) {\n            start = time;\n            this.transitionStarts_[id] = start;\n        }\n        else if (start === -1) {\n            return 1;\n        }\n        var delta = time - start + 1000 / 60; // avoid rendering at 0\n        if (delta >= this.transition_) {\n            return 1;\n        }\n        return easeIn(delta / this.transition_);\n    };\n    /**\n     * Determine if a tile is in an alpha transition.  A tile is considered in\n     * transition if tile.getAlpha() has not yet been called or has been called\n     * and returned 1.\n     * @param {string} id An id for the renderer.\n     * @return {boolean} The tile is in transition.\n     */\n    Tile.prototype.inTransition = function (id) {\n        if (!this.transition_) {\n            return false;\n        }\n        return this.transitionStarts_[id] !== -1;\n    };\n    /**\n     * Mark a transition as complete.\n     * @param {string} id An id for the renderer.\n     */\n    Tile.prototype.endTransition = function (id) {\n        if (this.transition_) {\n            this.transitionStarts_[id] = -1;\n        }\n    };\n    return Tile;\n}(EventTarget));\nexport default Tile;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/TileState\n */\n/**\n * @enum {number}\n */\nexport default {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    /**\n     * Indicates that tile loading failed\n     * @type {number}\n     */\n    ERROR: 3,\n    EMPTY: 4,\n};\n//# sourceMappingURL=TileState.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageBase\n */\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\nimport { abstract } from './util.js';\n/**\n * @abstract\n */\nvar ImageBase = /** @class */ (function (_super) {\n    __extends(ImageBase, _super);\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./ImageState.js\").default} state State.\n     */\n    function ImageBase(extent, resolution, pixelRatio, state) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"./extent.js\").Extent}\n         */\n        _this.extent = extent;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @protected\n         * @type {number|undefined}\n         */\n        _this.resolution = resolution;\n        /**\n         * @protected\n         * @type {import(\"./ImageState.js\").default}\n         */\n        _this.state = state;\n        return _this;\n    }\n    /**\n     * @protected\n     */\n    ImageBase.prototype.changed = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    ImageBase.prototype.getExtent = function () {\n        return this.extent;\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     */\n    ImageBase.prototype.getImage = function () {\n        return abstract();\n    };\n    /**\n     * @return {number} PixelRatio.\n     */\n    ImageBase.prototype.getPixelRatio = function () {\n        return this.pixelRatio_;\n    };\n    /**\n     * @return {number} Resolution.\n     */\n    ImageBase.prototype.getResolution = function () {\n        return /** @type {number} */ (this.resolution);\n    };\n    /**\n     * @return {import(\"./ImageState.js\").default} State.\n     */\n    ImageBase.prototype.getState = function () {\n        return this.state;\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageBase.prototype.load = function () {\n        abstract();\n    };\n    return ImageBase;\n}(EventTarget));\nexport default ImageBase;\n//# sourceMappingURL=ImageBase.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Image\n */\nimport EventType from './events/EventType.js';\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport { IMAGE_DECODE } from './has.js';\nimport { getHeight } from './extent.js';\nimport { listenOnce, unlistenByKey } from './events.js';\n/**\n * A function that takes an {@link module:ol/Image~ImageWrapper} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~ImageWrapper#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(ImageWrapper, string): void} LoadFunction\n * @api\n */\nvar ImageWrapper = /** @class */ (function (_super) {\n    __extends(ImageWrapper, _super);\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {string} src Image source URI.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {LoadFunction} imageLoadFunction Image load function.\n     */\n    function ImageWrapper(extent, resolution, pixelRatio, src, crossOrigin, imageLoadFunction) {\n        var _this = _super.call(this, extent, resolution, pixelRatio, ImageState.IDLE) || this;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement}\n         */\n        _this.image_ = new Image();\n        if (crossOrigin !== null) {\n            _this.image_.crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @protected\n         * @type {import(\"./ImageState.js\").default}\n         */\n        _this.state = ImageState.IDLE;\n        /**\n         * @private\n         * @type {LoadFunction}\n         */\n        _this.imageLoadFunction_ = imageLoadFunction;\n        return _this;\n    }\n    /**\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageWrapper.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.handleImageError_ = function () {\n        this.state = ImageState.ERROR;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.handleImageLoad_ = function () {\n        if (this.resolution === undefined) {\n            this.resolution = getHeight(this.extent) / this.image_.height;\n        }\n        this.state = ImageState.LOADED;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Load the image or retry if loading previously failed.\n     * Loading is taken care of by the tile queue, and calling this method is\n     * only needed for preloading or for reloading in case of an error.\n     * @api\n     */\n    ImageWrapper.prototype.load = function () {\n        if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n            this.state = ImageState.LOADING;\n            this.changed();\n            this.imageLoadFunction_(this, this.src_);\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n     */\n    ImageWrapper.prototype.setImage = function (image) {\n        this.image_ = image;\n        this.resolution = getHeight(this.extent) / this.image_.height;\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageWrapper.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return ImageWrapper;\n}(ImageBase));\n/**\n * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image element.\n * @param {function():any} loadHandler Load callback function.\n * @param {function():any} errorHandler Error callback function.\n * @return {function():void} Callback to stop listening.\n */\nexport function listenImage(image, loadHandler, errorHandler) {\n    var img = /** @type {HTMLImageElement} */ (image);\n    var listening = true;\n    var decoding = false;\n    var loaded = false;\n    var listenerKeys = [\n        listenOnce(img, EventType.LOAD, function () {\n            loaded = true;\n            if (!decoding) {\n                loadHandler();\n            }\n        }),\n    ];\n    if (img.src && IMAGE_DECODE) {\n        decoding = true;\n        img\n            .decode()\n            .then(function () {\n            if (listening) {\n                loadHandler();\n            }\n        })\n            .catch(function (error) {\n            if (listening) {\n                if (loaded) {\n                    loadHandler();\n                }\n                else {\n                    errorHandler();\n                }\n            }\n        });\n    }\n    else {\n        listenerKeys.push(listenOnce(img, EventType.ERROR, errorHandler));\n    }\n    return function unlisten() {\n        listening = false;\n        listenerKeys.forEach(unlistenByKey);\n    };\n}\nexport default ImageWrapper;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/ImageState\n */\n/**\n * @enum {number}\n */\nexport default {\n    IDLE: 0,\n    LOADING: 1,\n    LOADED: 2,\n    ERROR: 3,\n    EMPTY: 4,\n};\n//# sourceMappingURL=ImageState.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageTile\n */\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { listenImage } from './Image.js';\nvar ImageTile = /** @class */ (function (_super) {\n    __extends(ImageTile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {string} src Image source URI.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"./Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @param {import(\"./Tile.js\").Options} [opt_options] Tile options.\n     */\n    function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n        var _this = _super.call(this, tileCoord, state, opt_options) || this;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ = crossOrigin;\n        /**\n         * Image URI\n         *\n         * @private\n         * @type {string}\n         */\n        _this.src_ = src;\n        _this.key = src;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = new Image();\n        if (crossOrigin !== null) {\n            _this.image_.crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"./Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction_ = tileLoadFunction;\n        return _this;\n    }\n    /**\n     * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @api\n     */\n    ImageTile.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Sets an HTML image element for this tile (may be a Canvas or preloaded Image).\n     * @param {HTMLCanvasElement|HTMLImageElement} element Element.\n     */\n    ImageTile.prototype.setImage = function (element) {\n        this.image_ = element;\n        this.state = TileState.LOADED;\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Tracks loading or read errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageError_ = function () {\n        this.state = TileState.ERROR;\n        this.unlistenImage_();\n        this.image_ = getBlankImage();\n        this.changed();\n    };\n    /**\n     * Tracks successful image load.\n     *\n     * @private\n     */\n    ImageTile.prototype.handleImageLoad_ = function () {\n        var image = /** @type {HTMLImageElement} */ (this.image_);\n        if (image.naturalWidth && image.naturalHeight) {\n            this.state = TileState.LOADED;\n        }\n        else {\n            this.state = TileState.EMPTY;\n        }\n        this.unlistenImage_();\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @api\n     */\n    ImageTile.prototype.load = function () {\n        if (this.state == TileState.ERROR) {\n            this.state = TileState.IDLE;\n            this.image_ = new Image();\n            if (this.crossOrigin_ !== null) {\n                this.image_.crossOrigin = this.crossOrigin_;\n            }\n        }\n        if (this.state == TileState.IDLE) {\n            this.state = TileState.LOADING;\n            this.changed();\n            this.tileLoadFunction_(this, this.src_);\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    ImageTile.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return ImageTile;\n}(Tile));\n/**\n * Get a 1-pixel blank image.\n * @return {HTMLCanvasElement} Blank image.\n */\nfunction getBlankImage() {\n    var ctx = createCanvasContext2D(1, 1);\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return ctx.canvas;\n}\nexport default ImageTile;\n//# sourceMappingURL=ImageTile.js.map","/**\n * @module ol/reproj/common\n */\n/**\n * Default maximum allowed threshold  (in pixels) for reprojection\n * triangulation.\n * @type {number}\n */\nexport var ERROR_THRESHOLD = 0.5;\n/**\n * Enable automatic reprojection of raster sources. Default is `true`.\n * TODO: decide if we want to expose this as a build flag or remove it\n * @type {boolean}\n */\nexport var ENABLE_RASTER_REPROJECTION = true;\n//# sourceMappingURL=common.js.map","/**\n * @module ol/proj/Units\n */\n/**\n * Projection units: `'degrees'`, `'ft'`, `'m'`, `'pixels'`, `'tile-pixels'` or\n * `'us-ft'`.\n * @enum {string}\n */\nvar Units = {\n    /**\n     * Radians\n     * @api\n     */\n    RADIANS: 'radians',\n    /**\n     * Degrees\n     * @api\n     */\n    DEGREES: 'degrees',\n    /**\n     * Feet\n     * @api\n     */\n    FEET: 'ft',\n    /**\n     * Meters\n     * @api\n     */\n    METERS: 'm',\n    /**\n     * Pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n    /**\n     * Tile Pixels\n     * @api\n     */\n    TILE_PIXELS: 'tile-pixels',\n    /**\n     * US Feet\n     * @api\n     */\n    USFEET: 'us-ft',\n};\n/**\n * See http://duff.ess.washington.edu/data/raster/drg/docs/geotiff.txt\n * @type {Object<number, Units>}\n */\nvar unitByCode = {\n    '9001': Units.METERS,\n    '9002': Units.FEET,\n    '9003': Units.USFEET,\n    '9101': Units.RADIANS,\n    '9102': Units.DEGREES,\n};\n/**\n * @param {number} code Unit code.\n * @return {Units} Units.\n */\nexport function fromCode(code) {\n    return unitByCode[code];\n}\n/**\n * Meters per unit lookup table.\n * @const\n * @type {Object<Units, number>}\n * @api\n */\nexport var METERS_PER_UNIT = {};\n// use the radius of the Normal sphere\nMETERS_PER_UNIT[Units.RADIANS] = 6370997 / (2 * Math.PI);\nMETERS_PER_UNIT[Units.DEGREES] = (2 * Math.PI * 6370997) / 360;\nMETERS_PER_UNIT[Units.FEET] = 0.3048;\nMETERS_PER_UNIT[Units.METERS] = 1;\nMETERS_PER_UNIT[Units.USFEET] = 1200 / 3937;\nexport default Units;\n//# sourceMappingURL=Units.js.map","/**\n * @module ol/proj/Projection\n */\nimport { METERS_PER_UNIT } from './Units.js';\n/**\n * @typedef {Object} Options\n * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n * @property {import(\"./Units.js\").default|string} [units] Units. Required unless a\n * proj4 projection is defined for `code`.\n * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n * @property {number} [metersPerUnit] The meters per unit for the SRS.\n * If not provided, the `units` are used to get the meters per unit from the {@link module:ol/proj/Units~METERS_PER_UNIT}\n * lookup table.\n * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n * Function to determine resolution at a point. The function is called with a\n * `number` view resolution and a {@link module:ol/coordinate~Coordinate Coordinate} as arguments, and returns\n * the `number` resolution in projection units at the passed coordinate. If this is `undefined`,\n * the default {@link module:ol/proj.getPointResolution getPointResolution()} function will be used.\n */\n/**\n * @classdesc\n * Projection definition class. One of these is created for each projection\n * supported in the application and stored in the {@link module:ol/proj} namespace.\n * You can use these in applications, but this is not required, as API params\n * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n * code will suffice.\n *\n * You can use {@link module:ol/proj.get} to retrieve the object for a particular\n * projection.\n *\n * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n * with the following aliases:\n * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n *     urn:x-ogc:def:crs:EPSG:4326\n * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n *     http://www.opengis.net/gml/srs/epsg.xml#3857\n *\n * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n * be added using `proj4.defs()`. After all required projection definitions are\n * added, call the {@link module:ol/proj/proj4.register} function.\n *\n * @api\n */\nvar Projection = /** @class */ (function () {\n    /**\n     * @param {Options} options Projection options.\n     */\n    function Projection(options) {\n        /**\n         * @private\n         * @type {string}\n         */\n        this.code_ = options.code;\n        /**\n         * Units of projected coordinates. When set to `TILE_PIXELS`, a\n         * `this.extent_` and `this.worldExtent_` must be configured properly for each\n         * tile.\n         * @private\n         * @type {import(\"./Units.js\").default}\n         */\n        this.units_ = /** @type {import(\"./Units.js\").default} */ (options.units);\n        /**\n         * Validity extent of the projection in projected coordinates. For projections\n         * with `TILE_PIXELS` units, this is the extent of the tile in\n         * tile pixel space.\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.extent_ = options.extent !== undefined ? options.extent : null;\n        /**\n         * Extent of the world in EPSG:4326. For projections with\n         * `TILE_PIXELS` units, this is the extent of the tile in\n         * projected coordinate space.\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.worldExtent_ =\n            options.worldExtent !== undefined ? options.worldExtent : null;\n        /**\n         * @private\n         * @type {string}\n         */\n        this.axisOrientation_ =\n            options.axisOrientation !== undefined ? options.axisOrientation : 'enu';\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.global_ = options.global !== undefined ? options.global : false;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.canWrapX_ = !!(this.global_ && this.extent_);\n        /**\n         * @private\n         * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n         */\n        this.getPointResolutionFunc_ = options.getPointResolution;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        this.defaultTileGrid_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.metersPerUnit_ = options.metersPerUnit;\n    }\n    /**\n     * @return {boolean} The projection is suitable for wrapping the x-axis\n     */\n    Projection.prototype.canWrapX = function () {\n        return this.canWrapX_;\n    };\n    /**\n     * Get the code for this projection, e.g. 'EPSG:4326'.\n     * @return {string} Code.\n     * @api\n     */\n    Projection.prototype.getCode = function () {\n        return this.code_;\n    };\n    /**\n     * Get the validity extent for this projection.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    Projection.prototype.getExtent = function () {\n        return this.extent_;\n    };\n    /**\n     * Get the units of this projection.\n     * @return {import(\"./Units.js\").default} Units.\n     * @api\n     */\n    Projection.prototype.getUnits = function () {\n        return this.units_;\n    };\n    /**\n     * Get the amount of meters per unit of this projection.  If the projection is\n     * not configured with `metersPerUnit` or a units identifier, the return is\n     * `undefined`.\n     * @return {number|undefined} Meters.\n     * @api\n     */\n    Projection.prototype.getMetersPerUnit = function () {\n        return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n    };\n    /**\n     * Get the world extent for this projection.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    Projection.prototype.getWorldExtent = function () {\n        return this.worldExtent_;\n    };\n    /**\n     * Get the axis orientation of this projection.\n     * Example values are:\n     * enu - the default easting, northing, elevation.\n     * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n     *     or south orientated transverse mercator.\n     * wnu - westing, northing, up - some planetary coordinate systems have\n     *     \"west positive\" coordinate systems\n     * @return {string} Axis orientation.\n     * @api\n     */\n    Projection.prototype.getAxisOrientation = function () {\n        return this.axisOrientation_;\n    };\n    /**\n     * Is this projection a global projection which spans the whole world?\n     * @return {boolean} Whether the projection is global.\n     * @api\n     */\n    Projection.prototype.isGlobal = function () {\n        return this.global_;\n    };\n    /**\n     * Set if the projection is a global projection which spans the whole world\n     * @param {boolean} global Whether the projection is global.\n     * @api\n     */\n    Projection.prototype.setGlobal = function (global) {\n        this.global_ = global;\n        this.canWrapX_ = !!(global && this.extent_);\n    };\n    /**\n     * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n     */\n    Projection.prototype.getDefaultTileGrid = function () {\n        return this.defaultTileGrid_;\n    };\n    /**\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n     */\n    Projection.prototype.setDefaultTileGrid = function (tileGrid) {\n        this.defaultTileGrid_ = tileGrid;\n    };\n    /**\n     * Set the validity extent for this projection.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Projection.prototype.setExtent = function (extent) {\n        this.extent_ = extent;\n        this.canWrapX_ = !!(this.global_ && extent);\n    };\n    /**\n     * Set the world extent for this projection.\n     * @param {import(\"../extent.js\").Extent} worldExtent World extent\n     *     [minlon, minlat, maxlon, maxlat].\n     * @api\n     */\n    Projection.prototype.setWorldExtent = function (worldExtent) {\n        this.worldExtent_ = worldExtent;\n    };\n    /**\n     * Set the getPointResolution function (see {@link module:ol/proj.getPointResolution}\n     * for this projection.\n     * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n     * @api\n     */\n    Projection.prototype.setGetPointResolution = function (func) {\n        this.getPointResolutionFunc_ = func;\n    };\n    /**\n     * Get the custom point resolution function for this projection (if set).\n     * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n     * resolution function (if set).\n     */\n    Projection.prototype.getPointResolutionFunc = function () {\n        return this.getPointResolutionFunc_;\n    };\n    return Projection;\n}());\nexport default Projection;\n//# sourceMappingURL=Projection.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/proj/epsg3857\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\nimport { cosh } from '../math.js';\n/**\n * Radius of WGS84 sphere\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n/**\n * @const\n * @type {number}\n */\nexport var HALF_SIZE = Math.PI * RADIUS;\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [-HALF_SIZE, -HALF_SIZE, HALF_SIZE, HALF_SIZE];\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var WORLD_EXTENT = [-180, -85, 180, 85];\n/**\n * Maximum safe value in y direction\n * @const\n * @type {number}\n */\nexport var MAX_SAFE_Y = RADIUS * Math.log(Math.tan(Math.PI / 2));\n/**\n * @classdesc\n * Projection object for web/spherical Mercator (EPSG:3857).\n */\nvar EPSG3857Projection = /** @class */ (function (_super) {\n    __extends(EPSG3857Projection, _super);\n    /**\n     * @param {string} code Code.\n     */\n    function EPSG3857Projection(code) {\n        return _super.call(this, {\n            code: code,\n            units: Units.METERS,\n            extent: EXTENT,\n            global: true,\n            worldExtent: WORLD_EXTENT,\n            getPointResolution: function (resolution, point) {\n                return resolution / cosh(point[1] / RADIUS);\n            },\n        }) || this;\n    }\n    return EPSG3857Projection;\n}(Projection));\n/**\n * Projections equal to EPSG:3857.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n    new EPSG3857Projection('EPSG:3857'),\n    new EPSG3857Projection('EPSG:102100'),\n    new EPSG3857Projection('EPSG:102113'),\n    new EPSG3857Projection('EPSG:900913'),\n    new EPSG3857Projection('http://www.opengis.net/def/crs/EPSG/0/3857'),\n    new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857'),\n];\n/**\n * Transformation from EPSG:4326 to EPSG:3857.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [opt_output] Output array of coordinate values.\n * @param {number} [opt_dimension] Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function fromEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n        if (dimension > 2) {\n            // preserve values beyond second dimension\n            output = input.slice();\n        }\n        else {\n            output = new Array(length);\n        }\n    }\n    for (var i = 0; i < length; i += dimension) {\n        output[i] = (HALF_SIZE * input[i]) / 180;\n        var y = RADIUS * Math.log(Math.tan((Math.PI * (+input[i + 1] + 90)) / 360));\n        if (y > MAX_SAFE_Y) {\n            y = MAX_SAFE_Y;\n        }\n        else if (y < -MAX_SAFE_Y) {\n            y = -MAX_SAFE_Y;\n        }\n        output[i + 1] = y;\n    }\n    return output;\n}\n/**\n * Transformation from EPSG:3857 to EPSG:4326.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>} [opt_output] Output array of coordinate values.\n * @param {number} [opt_dimension] Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function toEPSG4326(input, opt_output, opt_dimension) {\n    var length = input.length;\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var output = opt_output;\n    if (output === undefined) {\n        if (dimension > 2) {\n            // preserve values beyond second dimension\n            output = input.slice();\n        }\n        else {\n            output = new Array(length);\n        }\n    }\n    for (var i = 0; i < length; i += dimension) {\n        output[i] = (180 * input[i]) / HALF_SIZE;\n        output[i + 1] =\n            (360 * Math.atan(Math.exp(input[i + 1] / RADIUS))) / Math.PI - 90;\n    }\n    return output;\n}\n//# sourceMappingURL=epsg3857.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/proj/epsg4326\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\n/**\n * Semi-major radius of the WGS84 ellipsoid.\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n/**\n * Extent of the EPSG:4326 projection which is the whole world.\n *\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [-180, -90, 180, 90];\n/**\n * @const\n * @type {number}\n */\nexport var METERS_PER_UNIT = (Math.PI * RADIUS) / 180;\n/**\n * @classdesc\n * Projection object for WGS84 geographic coordinates (EPSG:4326).\n *\n * Note that OpenLayers does not strictly comply with the EPSG definition.\n * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n */\nvar EPSG4326Projection = /** @class */ (function (_super) {\n    __extends(EPSG4326Projection, _super);\n    /**\n     * @param {string} code Code.\n     * @param {string} [opt_axisOrientation] Axis orientation.\n     */\n    function EPSG4326Projection(code, opt_axisOrientation) {\n        return _super.call(this, {\n            code: code,\n            units: Units.DEGREES,\n            extent: EXTENT,\n            axisOrientation: opt_axisOrientation,\n            global: true,\n            metersPerUnit: METERS_PER_UNIT,\n            worldExtent: EXTENT,\n        }) || this;\n    }\n    return EPSG4326Projection;\n}(Projection));\n/**\n * Projections equal to EPSG:4326.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n    new EPSG4326Projection('CRS:84'),\n    new EPSG4326Projection('EPSG:4326', 'neu'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n    new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n    new EPSG4326Projection('http://www.opengis.net/def/crs/OGC/1.3/CRS84'),\n    new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n    new EPSG4326Projection('http://www.opengis.net/def/crs/EPSG/0/4326', 'neu'),\n];\n//# sourceMappingURL=epsg4326.js.map","/**\n * @module ol/proj/projections\n */\n/**\n * @type {Object<string, import(\"./Projection.js\").default>}\n */\nvar cache = {};\n/**\n * Clear the projections cache.\n */\nexport function clear() {\n    cache = {};\n}\n/**\n * Get a cached projection by code.\n * @param {string} code The code for the projection.\n * @return {import(\"./Projection.js\").default} The projection (if cached).\n */\nexport function get(code) {\n    return (cache[code] ||\n        cache[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\\w+)$/, 'EPSG:$3')] ||\n        null);\n}\n/**\n * Add a projection to the cache.\n * @param {string} code The projection code.\n * @param {import(\"./Projection.js\").default} projection The projection to cache.\n */\nexport function add(code, projection) {\n    cache[code] = projection;\n}\n//# sourceMappingURL=projections.js.map","/**\n * @module ol/proj/transforms\n */\nimport { isEmpty } from '../obj.js';\n/**\n * @private\n * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n */\nvar transforms = {};\n/**\n * Clear the transform cache.\n */\nexport function clear() {\n    transforms = {};\n}\n/**\n * Registers a conversion function to convert coordinates from the source\n * projection to the destination projection.\n *\n * @param {import(\"./Projection.js\").default} source Source.\n * @param {import(\"./Projection.js\").default} destination Destination.\n * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n */\nexport function add(source, destination, transformFn) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    if (!(sourceCode in transforms)) {\n        transforms[sourceCode] = {};\n    }\n    transforms[sourceCode][destinationCode] = transformFn;\n}\n/**\n * Unregisters the conversion function to convert coordinates from the source\n * projection to the destination projection.  This method is used to clean up\n * cached transforms during testing.\n *\n * @param {import(\"./Projection.js\").default} source Source projection.\n * @param {import(\"./Projection.js\").default} destination Destination projection.\n * @return {import(\"../proj.js\").TransformFunction} transformFn The unregistered transform.\n */\nexport function remove(source, destination) {\n    var sourceCode = source.getCode();\n    var destinationCode = destination.getCode();\n    var transform = transforms[sourceCode][destinationCode];\n    delete transforms[sourceCode][destinationCode];\n    if (isEmpty(transforms[sourceCode])) {\n        delete transforms[sourceCode];\n    }\n    return transform;\n}\n/**\n * Get a transform given a source code and a destination code.\n * @param {string} sourceCode The code for the source projection.\n * @param {string} destinationCode The code for the destination projection.\n * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n */\nexport function get(sourceCode, destinationCode) {\n    var transform;\n    if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n        transform = transforms[sourceCode][destinationCode];\n    }\n    return transform;\n}\n//# sourceMappingURL=transforms.js.map","/**\n * @module ol/coordinate\n */\nimport { getWidth } from './extent.js';\nimport { modulo } from './math.js';\nimport { padNumber } from './string.js';\n/**\n * An array of numbers representing an xy coordinate. Example: `[16, 48]`.\n * @typedef {Array<number>} Coordinate\n * @api\n */\n/**\n * A function that takes a {@link module:ol/coordinate~Coordinate} and\n * transforms it into a `{string}`.\n *\n * @typedef {function((Coordinate|undefined)): string} CoordinateFormat\n * @api\n */\n/**\n * Add `delta` to `coordinate`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {add} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     add(coord, [-2, 4]);\n *     // coord is now [5.85, 51.983333]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {Coordinate} delta Delta.\n * @return {Coordinate} The input coordinate adjusted by\n * the given delta.\n * @api\n */\nexport function add(coordinate, delta) {\n    coordinate[0] += +delta[0];\n    coordinate[1] += +delta[1];\n    return coordinate;\n}\n/**\n * Calculates the point closest to the passed coordinate on the passed circle.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {import(\"./geom/Circle.js\").default} circle The circle.\n * @return {Coordinate} Closest point on the circumference.\n */\nexport function closestOnCircle(coordinate, circle) {\n    var r = circle.getRadius();\n    var center = circle.getCenter();\n    var x0 = center[0];\n    var y0 = center[1];\n    var x1 = coordinate[0];\n    var y1 = coordinate[1];\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    if (dx === 0 && dy === 0) {\n        dx = 1;\n    }\n    var d = Math.sqrt(dx * dx + dy * dy);\n    var x = x0 + (r * dx) / d;\n    var y = y0 + (r * dy) / d;\n    return [x, y];\n}\n/**\n * Calculates the point closest to the passed coordinate on the passed segment.\n * This is the foot of the perpendicular of the coordinate to the segment when\n * the foot is on the segment, or the closest segment coordinate when the foot\n * is outside the segment.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {Array<Coordinate>} segment The two coordinates\n * of the segment.\n * @return {Coordinate} The foot of the perpendicular of\n * the coordinate to the segment.\n */\nexport function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0\n        ? 0\n        : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x, y;\n    if (along <= 0) {\n        x = x1;\n        y = y1;\n    }\n    else if (along >= 1) {\n        x = x2;\n        y = y2;\n    }\n    else {\n        x = x1 + along * dx;\n        y = y1 + along * dy;\n    }\n    return [x, y];\n}\n/**\n * Returns a {@link module:ol/coordinate~CoordinateFormat} function that can be\n * used to format\n * a {Coordinate} to a string.\n *\n * Example without specifying the fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY();\n *     var out = stringifyFunc(coord);\n *     // out is now '8, 48'\n *\n * Example with explicitly specifying 2 fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY(2);\n *     var out = stringifyFunc(coord);\n *     // out is now '7.85, 47.98'\n *\n * @param {number} [opt_fractionDigits] The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {CoordinateFormat} Coordinate format.\n * @api\n */\nexport function createStringXY(opt_fractionDigits) {\n    return (\n    /**\n     * @param {Coordinate} coordinate Coordinate.\n     * @return {string} String XY.\n     */\n    function (coordinate) {\n        return toStringXY(coordinate, opt_fractionDigits);\n    });\n}\n/**\n * @param {string} hemispheres Hemispheres.\n * @param {number} degrees Degrees.\n * @param {number} [opt_fractionDigits] The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} String.\n */\nexport function degreesToStringHDMS(hemispheres, degrees, opt_fractionDigits) {\n    var normalizedDegrees = modulo(degrees + 180, 360) - 180;\n    var x = Math.abs(3600 * normalizedDegrees);\n    var dflPrecision = opt_fractionDigits || 0;\n    var precision = Math.pow(10, dflPrecision);\n    var deg = Math.floor(x / 3600);\n    var min = Math.floor((x - deg * 3600) / 60);\n    var sec = x - deg * 3600 - min * 60;\n    sec = Math.ceil(sec * precision) / precision;\n    if (sec >= 60) {\n        sec = 0;\n        min += 1;\n    }\n    if (min >= 60) {\n        min = 0;\n        deg += 1;\n    }\n    return (deg +\n        '\\u00b0 ' +\n        padNumber(min, 2) +\n        '\\u2032 ' +\n        padNumber(sec, 2, dflPrecision) +\n        '\\u2033' +\n        (normalizedDegrees == 0\n            ? ''\n            : ' ' + hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0)));\n}\n/**\n * Transforms the given {@link module:ol/coordinate~Coordinate} to a string\n * using the given string template. The strings `{x}` and `{y}` in the template\n * will be replaced with the first and second coordinate values respectively.\n *\n * Example without specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template);\n *     // out is now 'Coordinate is (8|48).'\n *\n * Example explicitly specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template, 2);\n *     // out is now 'Coordinate is (7.85|47.98).'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {string} template A template string with `{x}` and `{y}` placeholders\n *     that will be replaced by first and second coordinate values.\n * @param {number} [opt_fractionDigits] The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Formatted coordinate.\n * @api\n */\nexport function format(coordinate, template, opt_fractionDigits) {\n    if (coordinate) {\n        return template\n            .replace('{x}', coordinate[0].toFixed(opt_fractionDigits))\n            .replace('{y}', coordinate[1].toFixed(opt_fractionDigits));\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {Coordinate} coordinate1 First coordinate.\n * @param {Coordinate} coordinate2 Second coordinate.\n * @return {boolean} The two coordinates are equal.\n */\nexport function equals(coordinate1, coordinate2) {\n    var equals = true;\n    for (var i = coordinate1.length - 1; i >= 0; --i) {\n        if (coordinate1[i] != coordinate2[i]) {\n            equals = false;\n            break;\n        }\n    }\n    return equals;\n}\n/**\n * Rotate `coordinate` by `angle`. `coordinate` is modified in place and\n * returned by the function.\n *\n * Example:\n *\n *     import {rotate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var rotateRadians = Math.PI / 2; // 90 degrees\n *     rotate(coord, rotateRadians);\n *     // coord is now [-47.983333, 7.85]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} angle Angle in radian.\n * @return {Coordinate} Coordinate.\n * @api\n */\nexport function rotate(coordinate, angle) {\n    var cosAngle = Math.cos(angle);\n    var sinAngle = Math.sin(angle);\n    var x = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var y = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    coordinate[0] = x;\n    coordinate[1] = y;\n    return coordinate;\n}\n/**\n * Scale `coordinate` by `scale`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {scale as scaleCoordinate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var scale = 1.2;\n *     scaleCoordinate(coord, scale);\n *     // coord is now [9.42, 57.5799996]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} scale Scale factor.\n * @return {Coordinate} Coordinate.\n */\nexport function scale(coordinate, scale) {\n    coordinate[0] *= scale;\n    coordinate[1] *= scale;\n    return coordinate;\n}\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Squared distance between coord1 and coord2.\n */\nexport function squaredDistance(coord1, coord2) {\n    var dx = coord1[0] - coord2[0];\n    var dy = coord1[1] - coord2[1];\n    return dx * dx + dy * dy;\n}\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Distance between coord1 and coord2.\n */\nexport function distance(coord1, coord2) {\n    return Math.sqrt(squaredDistance(coord1, coord2));\n}\n/**\n * Calculate the squared distance from a coordinate to a line segment.\n *\n * @param {Coordinate} coordinate Coordinate of the point.\n * @param {Array<Coordinate>} segment Line segment (2\n * coordinates).\n * @return {number} Squared distance from the point to the line segment.\n */\nexport function squaredDistanceToSegment(coordinate, segment) {\n    return squaredDistance(coordinate, closestOnSegment(coordinate, segment));\n}\n/**\n * Format a geographic coordinate with the hemisphere, degrees, minutes, and\n * seconds.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord);\n *     // out is now '47 58 60 N 7 50 60 E'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord, 1);\n *     // out is now '47 58 60.0 N 7 50 60.0 E'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} [opt_fractionDigits] The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Hemisphere, degrees, minutes and seconds.\n * @api\n */\nexport function toStringHDMS(coordinate, opt_fractionDigits) {\n    if (coordinate) {\n        return (degreesToStringHDMS('NS', coordinate[1], opt_fractionDigits) +\n            ' ' +\n            degreesToStringHDMS('EW', coordinate[0], opt_fractionDigits));\n    }\n    else {\n        return '';\n    }\n}\n/**\n * Format a coordinate as a comma delimited string.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord);\n *     // out is now '8, 48'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord, 1);\n *     // out is now '7.8, 48.0'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} [opt_fractionDigits] The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} XY.\n * @api\n */\nexport function toStringXY(coordinate, opt_fractionDigits) {\n    return format(coordinate, '{x}, {y}', opt_fractionDigits);\n}\n/**\n * Modifies the provided coordinate in-place to be within the real world\n * extent. The lower projection extent boundary is inclusive, the upper one\n * exclusive.\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {Coordinate} The coordinate within the real world extent.\n */\nexport function wrapX(coordinate, projection) {\n    if (projection.canWrapX()) {\n        var worldWidth = getWidth(projection.getExtent());\n        var worldsAway = getWorldsAway(coordinate, projection, worldWidth);\n        if (worldsAway) {\n            coordinate[0] -= worldsAway * worldWidth;\n        }\n    }\n    return coordinate;\n}\n/**\n * @param {Coordinate} coordinate Coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {number} [opt_sourceExtentWidth] Width of the source extent.\n * @return {number} Offset in world widths.\n */\nexport function getWorldsAway(coordinate, projection, opt_sourceExtentWidth) {\n    var projectionExtent = projection.getExtent();\n    var worldsAway = 0;\n    if (projection.canWrapX() &&\n        (coordinate[0] < projectionExtent[0] || coordinate[0] > projectionExtent[2])) {\n        var sourceExtentWidth = opt_sourceExtentWidth || getWidth(projectionExtent);\n        worldsAway = Math.floor((coordinate[0] - projectionExtent[0]) / sourceExtentWidth);\n    }\n    return worldsAway;\n}\n//# sourceMappingURL=coordinate.js.map","/**\n * @module ol/sphere\n */\nimport { toDegrees, toRadians } from './math.js';\n/**\n * Object literal with options for the {@link getLength} or {@link getArea}\n * functions.\n * @typedef {Object} SphereMetricOptions\n * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857']\n * Projection of the  geometry.  By default, the geometry is assumed to be in\n * Web Mercator.\n * @property {number} [radius=6371008.8] Sphere radius.  By default, the\n * [mean Earth radius](https://en.wikipedia.org/wiki/Earth_radius#Mean_radius)\n * for the WGS84 ellipsoid is used.\n */\n/**\n * The mean Earth radius (1/3 * (2a + b)) for the WGS84 ellipsoid.\n * https://en.wikipedia.org/wiki/Earth_radius#Mean_radius\n * @type {number}\n */\nexport var DEFAULT_RADIUS = 6371008.8;\n/**\n * Get the great circle distance (in meters) between two geographic coordinates.\n * @param {Array} c1 Starting coordinate.\n * @param {Array} c2 Ending coordinate.\n * @param {number} [opt_radius] The sphere radius to use.  Defaults to the Earth's\n *     mean radius using the WGS84 ellipsoid.\n * @return {number} The great circle distance between the points (in meters).\n * @api\n */\nexport function getDistance(c1, c2, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lat2 = toRadians(c2[1]);\n    var deltaLatBy2 = (lat2 - lat1) / 2;\n    var deltaLonBy2 = toRadians(c2[0] - c1[0]) / 2;\n    var a = Math.sin(deltaLatBy2) * Math.sin(deltaLatBy2) +\n        Math.sin(deltaLonBy2) *\n            Math.sin(deltaLonBy2) *\n            Math.cos(lat1) *\n            Math.cos(lat2);\n    return 2 * radius * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n}\n/**\n * Get the cumulative great circle length of linestring coordinates (geographic).\n * @param {Array} coordinates Linestring coordinates.\n * @param {number} radius The sphere radius to use.\n * @return {number} The length (in meters).\n */\nfunction getLengthInternal(coordinates, radius) {\n    var length = 0;\n    for (var i = 0, ii = coordinates.length; i < ii - 1; ++i) {\n        length += getDistance(coordinates[i], coordinates[i + 1], radius);\n    }\n    return length;\n}\n/**\n * Get the spherical length of a geometry.  This length is the sum of the\n * great circle distances between coordinates.  For polygons, the length is\n * the sum of all rings.  For points, the length is zero.  For multi-part\n * geometries, the length is the sum of the length of each part.\n * @param {import(\"./geom/Geometry.js\").default} geometry A geometry.\n * @param {SphereMetricOptions} [opt_options] Options for the\n * length calculation.  By default, geometries are assumed to be in 'EPSG:3857'.\n * You can change this by providing a `projection` option.\n * @return {number} The spherical length (in meters).\n * @api\n */\nexport function getLength(geometry, opt_options) {\n    var options = opt_options || {};\n    var radius = options.radius || DEFAULT_RADIUS;\n    var projection = options.projection || 'EPSG:3857';\n    var type = geometry.getType();\n    if (type !== 'GeometryCollection') {\n        geometry = geometry.clone().transform(projection, 'EPSG:4326');\n    }\n    var length = 0;\n    var coordinates, coords, i, ii, j, jj;\n    switch (type) {\n        case 'Point':\n        case 'MultiPoint': {\n            break;\n        }\n        case 'LineString':\n        case 'LinearRing': {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            length = getLengthInternal(coordinates, radius);\n            break;\n        }\n        case 'MultiLineString':\n        case 'Polygon': {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                length += getLengthInternal(coordinates[i], radius);\n            }\n            break;\n        }\n        case 'MultiPolygon': {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                coords = coordinates[i];\n                for (j = 0, jj = coords.length; j < jj; ++j) {\n                    length += getLengthInternal(coords[j], radius);\n                }\n            }\n            break;\n        }\n        case 'GeometryCollection': {\n            var geometries = \n            /** @type {import(\"./geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n            for (i = 0, ii = geometries.length; i < ii; ++i) {\n                length += getLength(geometries[i], opt_options);\n            }\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return length;\n}\n/**\n * Returns the spherical area for a list of coordinates.\n *\n * [Reference](https://trs.jpl.nasa.gov/handle/2014/40409)\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for\n * Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007\n *\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates List of coordinates of a linear\n * ring. If the ring is oriented clockwise, the area will be positive,\n * otherwise it will be negative.\n * @param {number} radius The sphere radius.\n * @return {number} Area (in square meters).\n */\nfunction getAreaInternal(coordinates, radius) {\n    var area = 0;\n    var len = coordinates.length;\n    var x1 = coordinates[len - 1][0];\n    var y1 = coordinates[len - 1][1];\n    for (var i = 0; i < len; i++) {\n        var x2 = coordinates[i][0];\n        var y2 = coordinates[i][1];\n        area +=\n            toRadians(x2 - x1) *\n                (2 + Math.sin(toRadians(y1)) + Math.sin(toRadians(y2)));\n        x1 = x2;\n        y1 = y2;\n    }\n    return (area * radius * radius) / 2.0;\n}\n/**\n * Get the spherical area of a geometry.  This is the area (in meters) assuming\n * that polygon edges are segments of great circles on a sphere.\n * @param {import(\"./geom/Geometry.js\").default} geometry A geometry.\n * @param {SphereMetricOptions} [opt_options] Options for the area\n *     calculation.  By default, geometries are assumed to be in 'EPSG:3857'.\n *     You can change this by providing a `projection` option.\n * @return {number} The spherical area (in square meters).\n * @api\n */\nexport function getArea(geometry, opt_options) {\n    var options = opt_options || {};\n    var radius = options.radius || DEFAULT_RADIUS;\n    var projection = options.projection || 'EPSG:3857';\n    var type = geometry.getType();\n    if (type !== 'GeometryCollection') {\n        geometry = geometry.clone().transform(projection, 'EPSG:4326');\n    }\n    var area = 0;\n    var coordinates, coords, i, ii, j, jj;\n    switch (type) {\n        case 'Point':\n        case 'MultiPoint':\n        case 'LineString':\n        case 'MultiLineString':\n        case 'LinearRing': {\n            break;\n        }\n        case 'Polygon': {\n            coordinates = /** @type {import(\"./geom/Polygon.js\").default} */ (geometry).getCoordinates();\n            area = Math.abs(getAreaInternal(coordinates[0], radius));\n            for (i = 1, ii = coordinates.length; i < ii; ++i) {\n                area -= Math.abs(getAreaInternal(coordinates[i], radius));\n            }\n            break;\n        }\n        case 'MultiPolygon': {\n            coordinates = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometry).getCoordinates();\n            for (i = 0, ii = coordinates.length; i < ii; ++i) {\n                coords = coordinates[i];\n                area += Math.abs(getAreaInternal(coords[0], radius));\n                for (j = 1, jj = coords.length; j < jj; ++j) {\n                    area -= Math.abs(getAreaInternal(coords[j], radius));\n                }\n            }\n            break;\n        }\n        case 'GeometryCollection': {\n            var geometries = \n            /** @type {import(\"./geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n            for (i = 0, ii = geometries.length; i < ii; ++i) {\n                area += getArea(geometries[i], opt_options);\n            }\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return area;\n}\n/**\n * Returns the coordinate at the given distance and bearing from `c1`.\n *\n * @param {import(\"./coordinate.js\").Coordinate} c1 The origin point (`[lon, lat]` in degrees).\n * @param {number} distance The great-circle distance between the origin\n *     point and the target point.\n * @param {number} bearing The bearing (in radians).\n * @param {number} [opt_radius] The sphere radius to use.  Defaults to the Earth's\n *     mean radius using the WGS84 ellipsoid.\n * @return {import(\"./coordinate.js\").Coordinate} The target point.\n */\nexport function offset(c1, distance, bearing, opt_radius) {\n    var radius = opt_radius || DEFAULT_RADIUS;\n    var lat1 = toRadians(c1[1]);\n    var lon1 = toRadians(c1[0]);\n    var dByR = distance / radius;\n    var lat = Math.asin(Math.sin(lat1) * Math.cos(dByR) +\n        Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing));\n    var lon = lon1 +\n        Math.atan2(Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1), Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat));\n    return [toDegrees(lon), toDegrees(lat)];\n}\n//# sourceMappingURL=sphere.js.map","/**\n * @module ol/proj\n */\n/**\n * The ol/proj module stores:\n * * a list of {@link module:ol/proj/Projection~Projection}\n * objects, one for each projection supported by the application\n * * a list of transform functions needed to convert coordinates in one projection\n * into another.\n *\n * The static functions are the methods used to maintain these.\n * Each transform function can handle not only simple coordinate pairs, but also\n * large arrays of coordinates such as vector geometries.\n *\n * When loaded, the library adds projection objects for EPSG:4326 (WGS84\n * geographic coordinates) and EPSG:3857 (Web or Spherical Mercator, as used\n * for example by Bing Maps or OpenStreetMap), together with the relevant\n * transform functions.\n *\n * Additional transforms may be added by using the http://proj4js.org/\n * library (version 2.2 or later). You can use the full build supplied by\n * Proj4js, or create a custom build to support those projections you need; see\n * the Proj4js website for how to do this. You also need the Proj4js definitions\n * for the required projections. These definitions can be obtained from\n * https://epsg.io/, and are a JS function, so can be loaded in a script\n * tag (as in the examples) or pasted into your application.\n *\n * After all required projection definitions are added to proj4's registry (by\n * using `proj4.defs()`), simply call `register(proj4)` from the `ol/proj/proj4`\n * package. Existing transforms are not changed by this function. See\n * examples/wms-image-custom-proj for an example of this.\n *\n * Additional projection definitions can be registered with `proj4.defs()` any\n * time. Just make sure to call `register(proj4)` again; for example, with user-supplied data where you don't\n * know in advance what projections are needed, you can initially load minimal\n * support and then load whichever are requested.\n *\n * Note that Proj4js does not support projection extents. If you want to add\n * one for creating default tile grids, you can add it after the Projection\n * object has been created with `setExtent`, for example,\n * `get('EPSG:1234').setExtent(extent)`.\n *\n * In addition to Proj4js support, any transform functions can be added with\n * {@link module:ol/proj.addCoordinateTransforms}. To use this, you must first create\n * a {@link module:ol/proj/Projection~Projection} object for the new projection and add it with\n * {@link module:ol/proj.addProjection}. You can then add the forward and inverse\n * functions with {@link module:ol/proj.addCoordinateTransforms}. See\n * examples/wms-custom-proj for an example of this.\n *\n * Note that if no transforms are needed and you only need to define the\n * projection, just add a {@link module:ol/proj/Projection~Projection} with\n * {@link module:ol/proj.addProjection}. See examples/wms-no-proj for an example of\n * this.\n */\nimport Projection from './proj/Projection.js';\nimport Units, { METERS_PER_UNIT } from './proj/Units.js';\nimport { PROJECTIONS as EPSG3857_PROJECTIONS, fromEPSG4326, toEPSG4326, } from './proj/epsg3857.js';\nimport { PROJECTIONS as EPSG4326_PROJECTIONS } from './proj/epsg4326.js';\nimport { add as addProj, clear as clearProj, get as getProj, } from './proj/projections.js';\nimport { add as addTransformFunc, clear as clearTransformFuncs, get as getTransformFunc, } from './proj/transforms.js';\nimport { applyTransform, getWidth } from './extent.js';\nimport { clamp, modulo } from './math.js';\nimport { equals, getWorldsAway } from './coordinate.js';\nimport { getDistance } from './sphere.js';\n/**\n * A projection as {@link module:ol/proj/Projection~Projection}, SRS identifier\n * string or undefined.\n * @typedef {Projection|string|undefined} ProjectionLike\n * @api\n */\n/**\n * A transform function accepts an array of input coordinate values, an optional\n * output array, and an optional dimension (default should be 2).  The function\n * transforms the input coordinate values, populates the output array, and\n * returns the output array.\n *\n * @typedef {function(Array<number>, Array<number>=, number=): Array<number>} TransformFunction\n * @api\n */\nexport { METERS_PER_UNIT };\nexport { Projection };\nvar showCoordinateWarning = true;\n/**\n * @param {boolean} [opt_disable = true] Disable console info about `useGeographic()`\n */\nexport function disableCoordinateWarning(opt_disable) {\n    var hide = opt_disable === undefined ? true : opt_disable;\n    showCoordinateWarning = !hide;\n}\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [opt_output] Output array of coordinate values.\n * @param {number} [opt_dimension] Dimension.\n * @return {Array<number>} Output coordinate array (new array, same coordinate\n *     values).\n */\nexport function cloneTransform(input, opt_output, opt_dimension) {\n    var output;\n    if (opt_output !== undefined) {\n        for (var i = 0, ii = input.length; i < ii; ++i) {\n            opt_output[i] = input[i];\n        }\n        output = opt_output;\n    }\n    else {\n        output = input.slice();\n    }\n    return output;\n}\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>} [opt_output] Output array of coordinate values.\n * @param {number} [opt_dimension] Dimension.\n * @return {Array<number>} Input coordinate array (same array as input).\n */\nexport function identityTransform(input, opt_output, opt_dimension) {\n    if (opt_output !== undefined && input !== opt_output) {\n        for (var i = 0, ii = input.length; i < ii; ++i) {\n            opt_output[i] = input[i];\n        }\n        input = opt_output;\n    }\n    return input;\n}\n/**\n * Add a Projection object to the list of supported projections that can be\n * looked up by their code.\n *\n * @param {Projection} projection Projection instance.\n * @api\n */\nexport function addProjection(projection) {\n    addProj(projection.getCode(), projection);\n    addTransformFunc(projection, projection, cloneTransform);\n}\n/**\n * @param {Array<Projection>} projections Projections.\n */\nexport function addProjections(projections) {\n    projections.forEach(addProjection);\n}\n/**\n * Fetches a Projection object for the code specified.\n *\n * @param {ProjectionLike} projectionLike Either a code string which is\n *     a combination of authority and identifier such as \"EPSG:4326\", or an\n *     existing projection object, or undefined.\n * @return {Projection|null} Projection object, or null if not in list.\n * @api\n */\nexport function get(projectionLike) {\n    return typeof projectionLike === 'string'\n        ? getProj(/** @type {string} */ (projectionLike))\n        : /** @type {Projection} */ (projectionLike) || null;\n}\n/**\n * Get the resolution of the point in degrees or distance units.\n * For projections with degrees as the unit this will simply return the\n * provided resolution. For other projections the point resolution is\n * by default estimated by transforming the `point` pixel to EPSG:4326,\n * measuring its width and height on the normal sphere,\n * and taking the average of the width and height.\n * A custom function can be provided for a specific projection, either\n * by setting the `getPointResolution` option in the\n * {@link module:ol/proj/Projection~Projection} constructor or by using\n * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n * projection object.\n * @param {ProjectionLike} projection The projection.\n * @param {number} resolution Nominal resolution in projection units.\n * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n * @param {import(\"./proj/Units.js\").default} [opt_units] Units to get the point resolution in.\n * Default is the projection's units.\n * @return {number} Point resolution.\n * @api\n */\nexport function getPointResolution(projection, resolution, point, opt_units) {\n    projection = get(projection);\n    var pointResolution;\n    var getter = projection.getPointResolutionFunc();\n    if (getter) {\n        pointResolution = getter(resolution, point);\n        if (opt_units && opt_units !== projection.getUnits()) {\n            var metersPerUnit = projection.getMetersPerUnit();\n            if (metersPerUnit) {\n                pointResolution =\n                    (pointResolution * metersPerUnit) / METERS_PER_UNIT[opt_units];\n            }\n        }\n    }\n    else {\n        var units = projection.getUnits();\n        if ((units == Units.DEGREES && !opt_units) || opt_units == Units.DEGREES) {\n            pointResolution = resolution;\n        }\n        else {\n            // Estimate point resolution by transforming the center pixel to EPSG:4326,\n            // measuring its width and height on the normal sphere, and taking the\n            // average of the width and height.\n            var toEPSG4326_1 = getTransformFromProjections(projection, get('EPSG:4326'));\n            if (toEPSG4326_1 === identityTransform && units !== Units.DEGREES) {\n                // no transform is available\n                pointResolution = resolution * projection.getMetersPerUnit();\n            }\n            else {\n                var vertices = [\n                    point[0] - resolution / 2,\n                    point[1],\n                    point[0] + resolution / 2,\n                    point[1],\n                    point[0],\n                    point[1] - resolution / 2,\n                    point[0],\n                    point[1] + resolution / 2,\n                ];\n                vertices = toEPSG4326_1(vertices, vertices, 2);\n                var width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n                var height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n                pointResolution = (width + height) / 2;\n            }\n            var metersPerUnit = opt_units\n                ? METERS_PER_UNIT[opt_units]\n                : projection.getMetersPerUnit();\n            if (metersPerUnit !== undefined) {\n                pointResolution /= metersPerUnit;\n            }\n        }\n    }\n    return pointResolution;\n}\n/**\n * Registers transformation functions that don't alter coordinates. Those allow\n * to transform between projections with equal meaning.\n *\n * @param {Array<Projection>} projections Projections.\n * @api\n */\nexport function addEquivalentProjections(projections) {\n    addProjections(projections);\n    projections.forEach(function (source) {\n        projections.forEach(function (destination) {\n            if (source !== destination) {\n                addTransformFunc(source, destination, cloneTransform);\n            }\n        });\n    });\n}\n/**\n * Registers transformation functions to convert coordinates in any projection\n * in projection1 to any projection in projection2.\n *\n * @param {Array<Projection>} projections1 Projections with equal\n *     meaning.\n * @param {Array<Projection>} projections2 Projections with equal\n *     meaning.\n * @param {TransformFunction} forwardTransform Transformation from any\n *   projection in projection1 to any projection in projection2.\n * @param {TransformFunction} inverseTransform Transform from any projection\n *   in projection2 to any projection in projection1..\n */\nexport function addEquivalentTransforms(projections1, projections2, forwardTransform, inverseTransform) {\n    projections1.forEach(function (projection1) {\n        projections2.forEach(function (projection2) {\n            addTransformFunc(projection1, projection2, forwardTransform);\n            addTransformFunc(projection2, projection1, inverseTransform);\n        });\n    });\n}\n/**\n * Clear all cached projections and transforms.\n */\nexport function clearAllProjections() {\n    clearProj();\n    clearTransformFuncs();\n}\n/**\n * @param {Projection|string|undefined} projection Projection.\n * @param {string} defaultCode Default code.\n * @return {Projection} Projection.\n */\nexport function createProjection(projection, defaultCode) {\n    if (!projection) {\n        return get(defaultCode);\n    }\n    else if (typeof projection === 'string') {\n        return get(projection);\n    }\n    else {\n        return /** @type {Projection} */ (projection);\n    }\n}\n/**\n * Creates a {@link module:ol/proj~TransformFunction} from a simple 2D coordinate transform\n * function.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} coordTransform Coordinate\n *     transform.\n * @return {TransformFunction} Transform function.\n */\nexport function createTransformFromCoordinateTransform(coordTransform) {\n    return (\n    /**\n     * @param {Array<number>} input Input.\n     * @param {Array<number>} [opt_output] Output.\n     * @param {number} [opt_dimension] Dimension.\n     * @return {Array<number>} Output.\n     */\n    function (input, opt_output, opt_dimension) {\n        var length = input.length;\n        var dimension = opt_dimension !== undefined ? opt_dimension : 2;\n        var output = opt_output !== undefined ? opt_output : new Array(length);\n        for (var i = 0; i < length; i += dimension) {\n            var point = coordTransform(input.slice(i, i + dimension));\n            var pointLength = point.length;\n            for (var j = 0, jj = dimension; j < jj; ++j) {\n                output[i + j] = j >= pointLength ? input[i + j] : point[j];\n            }\n        }\n        return output;\n    });\n}\n/**\n * Registers coordinate transform functions to convert coordinates between the\n * source projection and the destination projection.\n * The forward and inverse functions convert coordinate pairs; this function\n * converts these into the functions used internally which also handle\n * extents and coordinate arrays.\n *\n * @param {ProjectionLike} source Source projection.\n * @param {ProjectionLike} destination Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} forward The forward transform\n *     function (that is, from the source projection to the destination\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} inverse The inverse transform\n *     function (that is, from the destination projection to the source\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}. If the transform function can only\n *     transform less dimensions than the input coordinate, it is supposeed to return a coordinate\n *     with only the length it can transform. The other dimensions will be taken unchanged from the\n *     source.\n * @api\n */\nexport function addCoordinateTransforms(source, destination, forward, inverse) {\n    var sourceProj = get(source);\n    var destProj = get(destination);\n    addTransformFunc(sourceProj, destProj, createTransformFromCoordinateTransform(forward));\n    addTransformFunc(destProj, sourceProj, createTransformFromCoordinateTransform(inverse));\n}\n/**\n * Transforms a coordinate from longitude/latitude to a different projection.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate as longitude and latitude, i.e.\n *     an array with longitude as 1st and latitude as 2nd element.\n * @param {ProjectionLike} [opt_projection] Target projection. The\n *     default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate projected to the target projection.\n * @api\n */\nexport function fromLonLat(coordinate, opt_projection) {\n    disableCoordinateWarning();\n    return transform(coordinate, 'EPSG:4326', opt_projection !== undefined ? opt_projection : 'EPSG:3857');\n}\n/**\n * Transforms a coordinate to longitude/latitude.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Projected coordinate.\n * @param {ProjectionLike} [opt_projection] Projection of the coordinate.\n *     The default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate as longitude and latitude, i.e. an array\n *     with longitude as 1st and latitude as 2nd element.\n * @api\n */\nexport function toLonLat(coordinate, opt_projection) {\n    var lonLat = transform(coordinate, opt_projection !== undefined ? opt_projection : 'EPSG:3857', 'EPSG:4326');\n    var lon = lonLat[0];\n    if (lon < -180 || lon > 180) {\n        lonLat[0] = modulo(lon + 180, 360) - 180;\n    }\n    return lonLat;\n}\n/**\n * Checks if two projections are the same, that is every coordinate in one\n * projection does represent the same geographic point as the same coordinate in\n * the other projection.\n *\n * @param {Projection} projection1 Projection 1.\n * @param {Projection} projection2 Projection 2.\n * @return {boolean} Equivalent.\n * @api\n */\nexport function equivalent(projection1, projection2) {\n    if (projection1 === projection2) {\n        return true;\n    }\n    var equalUnits = projection1.getUnits() === projection2.getUnits();\n    if (projection1.getCode() === projection2.getCode()) {\n        return equalUnits;\n    }\n    else {\n        var transformFunc = getTransformFromProjections(projection1, projection2);\n        return transformFunc === cloneTransform && equalUnits;\n    }\n}\n/**\n * Searches in the list of transform functions for the function for converting\n * coordinates from the source projection to the destination projection.\n *\n * @param {Projection} sourceProjection Source Projection object.\n * @param {Projection} destinationProjection Destination Projection\n *     object.\n * @return {TransformFunction} Transform function.\n */\nexport function getTransformFromProjections(sourceProjection, destinationProjection) {\n    var sourceCode = sourceProjection.getCode();\n    var destinationCode = destinationProjection.getCode();\n    var transformFunc = getTransformFunc(sourceCode, destinationCode);\n    if (!transformFunc) {\n        transformFunc = identityTransform;\n    }\n    return transformFunc;\n}\n/**\n * Given the projection-like objects, searches for a transformation\n * function to convert a coordinates array from the source projection to the\n * destination projection.\n *\n * @param {ProjectionLike} source Source.\n * @param {ProjectionLike} destination Destination.\n * @return {TransformFunction} Transform function.\n * @api\n */\nexport function getTransform(source, destination) {\n    var sourceProjection = get(source);\n    var destinationProjection = get(destination);\n    return getTransformFromProjections(sourceProjection, destinationProjection);\n}\n/**\n * Transforms a coordinate from source projection to destination projection.\n * This returns a new coordinate (and does not modify the original).\n *\n * See {@link module:ol/proj.transformExtent} for extent transformation.\n * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n * subclasses for geometry transforms.\n *\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n * @api\n */\nexport function transform(coordinate, source, destination) {\n    var transformFunc = getTransform(source, destination);\n    return transformFunc(coordinate, undefined, coordinate.length);\n}\n/**\n * Transforms an extent from source projection to destination projection.  This\n * returns a new extent (and does not modify the original).\n *\n * @param {import(\"./extent.js\").Extent} extent The extent to transform.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @param {number} [opt_stops] Number of stops per side used for the transform.\n * By default only the corners are used.\n * @return {import(\"./extent.js\").Extent} The transformed extent.\n * @api\n */\nexport function transformExtent(extent, source, destination, opt_stops) {\n    var transformFunc = getTransform(source, destination);\n    return applyTransform(extent, transformFunc, undefined, opt_stops);\n}\n/**\n * Transforms the given point to the destination projection.\n *\n * @param {import(\"./coordinate.js\").Coordinate} point Point.\n * @param {Projection} sourceProjection Source projection.\n * @param {Projection} destinationProjection Destination projection.\n * @return {import(\"./coordinate.js\").Coordinate} Point.\n */\nexport function transformWithProjections(point, sourceProjection, destinationProjection) {\n    var transformFunc = getTransformFromProjections(sourceProjection, destinationProjection);\n    return transformFunc(point);\n}\n/**\n * @type {Projection|null}\n */\nvar userProjection = null;\n/**\n * Set the projection for coordinates supplied from and returned by API methods.\n * This includes all API methods except for those interacting with tile grids.\n * @param {ProjectionLike} projection The user projection.\n * @api\n */\nexport function setUserProjection(projection) {\n    userProjection = get(projection);\n}\n/**\n * Clear the user projection if set.\n * @api\n */\nexport function clearUserProjection() {\n    userProjection = null;\n}\n/**\n * Get the projection for coordinates supplied from and returned by API methods.\n * Note that this method is not yet a part of the stable API.  Support for user\n * projections is not yet complete and should be considered experimental.\n * @return {Projection|null} The user projection (or null if not set).\n * @api\n */\nexport function getUserProjection() {\n    return userProjection;\n}\n/**\n * Use geographic coordinates (WGS-84 datum) in API methods.  This includes all API\n * methods except for those interacting with tile grids.\n * @api\n */\nexport function useGeographic() {\n    setUserProjection('EPSG:4326');\n}\n/**\n * Return a coordinate transformed into the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} sourceProjection The input coordinate projection.\n * @return {Array<number>} The input coordinate in the user projection.\n */\nexport function toUserCoordinate(coordinate, sourceProjection) {\n    if (!userProjection) {\n        return coordinate;\n    }\n    return transform(coordinate, sourceProjection, userProjection);\n}\n/**\n * Return a coordinate transformed from the user projection.  If no user projection\n * is set, the original coordinate is returned.\n * @param {Array<number>} coordinate Input coordinate.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {Array<number>} The input coordinate transformed.\n */\nexport function fromUserCoordinate(coordinate, destProjection) {\n    if (!userProjection) {\n        if (showCoordinateWarning &&\n            !equals(coordinate, [0, 0]) &&\n            coordinate[0] >= -180 &&\n            coordinate[0] <= 180 &&\n            coordinate[1] >= -90 &&\n            coordinate[1] <= 90) {\n            showCoordinateWarning = false;\n            // eslint-disable-next-line no-console\n            console.warn('Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.');\n        }\n        return coordinate;\n    }\n    return transform(coordinate, userProjection, destProjection);\n}\n/**\n * Return an extent transformed into the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} sourceProjection The input extent projection.\n * @return {import(\"./extent.js\").Extent} The input extent in the user projection.\n */\nexport function toUserExtent(extent, sourceProjection) {\n    if (!userProjection) {\n        return extent;\n    }\n    return transformExtent(extent, sourceProjection, userProjection);\n}\n/**\n * Return an extent transformed from the user projection.  If no user projection\n * is set, the original extent is returned.\n * @param {import(\"./extent.js\").Extent} extent Input extent.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {import(\"./extent.js\").Extent} The input extent transformed.\n */\nexport function fromUserExtent(extent, destProjection) {\n    if (!userProjection) {\n        return extent;\n    }\n    return transformExtent(extent, userProjection, destProjection);\n}\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in input projection units per pixel.\n * @param {ProjectionLike} sourceProjection The input projection.\n * @return {number} Resolution in user projection units per pixel.\n */\nexport function toUserResolution(resolution, sourceProjection) {\n    if (!userProjection) {\n        return resolution;\n    }\n    var sourceUnits = get(sourceProjection).getUnits();\n    var userUnits = userProjection.getUnits();\n    return sourceUnits && userUnits\n        ? (resolution * METERS_PER_UNIT[sourceUnits]) / METERS_PER_UNIT[userUnits]\n        : resolution;\n}\n/**\n * Return the resolution in user projection units per pixel. If no user projection\n * is set, or source or user projection are missing units, the original resolution\n * is returned.\n * @param {number} resolution Resolution in user projection units per pixel.\n * @param {ProjectionLike} destProjection The destination projection.\n * @return {number} Resolution in destination projection units per pixel.\n */\nexport function fromUserResolution(resolution, destProjection) {\n    if (!userProjection) {\n        return resolution;\n    }\n    var sourceUnits = get(destProjection).getUnits();\n    var userUnits = userProjection.getUnits();\n    return sourceUnits && userUnits\n        ? (resolution * METERS_PER_UNIT[userUnits]) / METERS_PER_UNIT[sourceUnits]\n        : resolution;\n}\n/**\n * Creates a safe coordinate transform function from a coordinate transform function.\n * \"Safe\" means that it can handle wrapping of x-coordinates for global projections,\n * and that coordinates exceeding the source projection validity extent's range will be\n * clamped to the validity range.\n * @param {Projection} sourceProj Source projection.\n * @param {Projection} destProj Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} transform Transform function (source to destiation).\n * @return {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} Safe transform function (source to destiation).\n */\nexport function createSafeCoordinateTransform(sourceProj, destProj, transform) {\n    return function (coord) {\n        var transformed, worldsAway;\n        if (sourceProj.canWrapX()) {\n            var sourceExtent = sourceProj.getExtent();\n            var sourceExtentWidth = getWidth(sourceExtent);\n            coord = coord.slice(0);\n            worldsAway = getWorldsAway(coord, sourceProj, sourceExtentWidth);\n            if (worldsAway) {\n                // Move x to the real world\n                coord[0] = coord[0] - worldsAway * sourceExtentWidth;\n            }\n            coord[0] = clamp(coord[0], sourceExtent[0], sourceExtent[2]);\n            coord[1] = clamp(coord[1], sourceExtent[1], sourceExtent[3]);\n            transformed = transform(coord);\n        }\n        else {\n            transformed = transform(coord);\n        }\n        if (worldsAway && destProj.canWrapX()) {\n            // Move transformed coordinate back to the offset world\n            transformed[0] += worldsAway * getWidth(destProj.getExtent());\n        }\n        return transformed;\n    };\n}\n/**\n * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n * by when this module is executed and should only need to be called again after\n * `clearAllProjections()` is called (e.g. in tests).\n */\nexport function addCommon() {\n    // Add transformations that don't alter coordinates to convert within set of\n    // projections with equal meaning.\n    addEquivalentProjections(EPSG3857_PROJECTIONS);\n    addEquivalentProjections(EPSG4326_PROJECTIONS);\n    // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n    // coordinates and back.\n    addEquivalentTransforms(EPSG4326_PROJECTIONS, EPSG3857_PROJECTIONS, fromEPSG4326, toEPSG4326);\n}\naddCommon();\n//# sourceMappingURL=proj.js.map","/**\n * @module ol/reproj/Triangulation\n */\nimport { boundingExtent, createEmpty, extendCoordinate, getArea, getBottomLeft, getBottomRight, getTopLeft, getTopRight, getWidth, intersects, } from '../extent.js';\nimport { getTransform } from '../proj.js';\nimport { log2, modulo } from '../math.js';\n/**\n * Single triangle; consists of 3 source points and 3 target points.\n * @typedef {Object} Triangle\n * @property {Array<import(\"../coordinate.js\").Coordinate>} source Source.\n * @property {Array<import(\"../coordinate.js\").Coordinate>} target Target.\n */\n/**\n * Maximum number of subdivision steps during raster reprojection triangulation.\n * Prevents high memory usage and large number of proj4 calls (for certain\n * transformations and areas). At most `2*(2^this)` triangles are created for\n * each triangulated extent (tile/image).\n * @type {number}\n */\nvar MAX_SUBDIVISION = 10;\n/**\n * Maximum allowed size of triangle relative to world width. When transforming\n * corners of world extent between certain projections, the resulting\n * triangulation seems to have zero error and no subdivision is performed. If\n * the triangle width is more than this (relative to world width; 0-1),\n * subdivison is forced (up to `MAX_SUBDIVISION`). Default is `0.25`.\n * @type {number}\n */\nvar MAX_TRIANGLE_WIDTH = 0.25;\n/**\n * @classdesc\n * Class containing triangulation of the given target extent.\n * Used for determining source data and the reprojection itself.\n */\nvar Triangulation = /** @class */ (function () {\n    /**\n     * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection.\n     * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\n     * @param {import(\"../extent.js\").Extent} targetExtent Target extent to triangulate.\n     * @param {import(\"../extent.js\").Extent} maxSourceExtent Maximal source extent that can be used.\n     * @param {number} errorThreshold Acceptable error (in source units).\n     * @param {?number} opt_destinationResolution The (optional) resolution of the destination.\n     */\n    function Triangulation(sourceProj, targetProj, targetExtent, maxSourceExtent, errorThreshold, opt_destinationResolution) {\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         * @private\n         */\n        this.sourceProj_ = sourceProj;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         * @private\n         */\n        this.targetProj_ = targetProj;\n        /** @type {!Object<string, import(\"../coordinate.js\").Coordinate>} */\n        var transformInvCache = {};\n        var transformInv = getTransform(this.targetProj_, this.sourceProj_);\n        /**\n         * @param {import(\"../coordinate.js\").Coordinate} c A coordinate.\n         * @return {import(\"../coordinate.js\").Coordinate} Transformed coordinate.\n         * @private\n         */\n        this.transformInv_ = function (c) {\n            var key = c[0] + '/' + c[1];\n            if (!transformInvCache[key]) {\n                transformInvCache[key] = transformInv(c);\n            }\n            return transformInvCache[key];\n        };\n        /**\n         * @type {import(\"../extent.js\").Extent}\n         * @private\n         */\n        this.maxSourceExtent_ = maxSourceExtent;\n        /**\n         * @type {number}\n         * @private\n         */\n        this.errorThresholdSquared_ = errorThreshold * errorThreshold;\n        /**\n         * @type {Array<Triangle>}\n         * @private\n         */\n        this.triangles_ = [];\n        /**\n         * Indicates that the triangulation crosses edge of the source projection.\n         * @type {boolean}\n         * @private\n         */\n        this.wrapsXInSource_ = false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        this.canWrapXInSource_ =\n            this.sourceProj_.canWrapX() &&\n                !!maxSourceExtent &&\n                !!this.sourceProj_.getExtent() &&\n                getWidth(maxSourceExtent) == getWidth(this.sourceProj_.getExtent());\n        /**\n         * @type {?number}\n         * @private\n         */\n        this.sourceWorldWidth_ = this.sourceProj_.getExtent()\n            ? getWidth(this.sourceProj_.getExtent())\n            : null;\n        /**\n         * @type {?number}\n         * @private\n         */\n        this.targetWorldWidth_ = this.targetProj_.getExtent()\n            ? getWidth(this.targetProj_.getExtent())\n            : null;\n        var destinationTopLeft = getTopLeft(targetExtent);\n        var destinationTopRight = getTopRight(targetExtent);\n        var destinationBottomRight = getBottomRight(targetExtent);\n        var destinationBottomLeft = getBottomLeft(targetExtent);\n        var sourceTopLeft = this.transformInv_(destinationTopLeft);\n        var sourceTopRight = this.transformInv_(destinationTopRight);\n        var sourceBottomRight = this.transformInv_(destinationBottomRight);\n        var sourceBottomLeft = this.transformInv_(destinationBottomLeft);\n        /*\n         * The maxSubdivision controls how many splittings of the target area can\n         * be done. The idea here is to do a linear mapping of the target areas\n         * but the actual overal reprojection (can be) extremely non-linear. The\n         * default value of MAX_SUBDIVISION was chosen based on mapping a 256x256\n         * tile size. However this function is also called to remap canvas rendered\n         * layers which can be much larger. This calculation increases the maxSubdivision\n         * value by the right factor so that each 256x256 pixel area has\n         * MAX_SUBDIVISION divisions.\n         */\n        var maxSubdivision = MAX_SUBDIVISION +\n            (opt_destinationResolution\n                ? Math.max(0, Math.ceil(log2(getArea(targetExtent) /\n                    (opt_destinationResolution *\n                        opt_destinationResolution *\n                        256 *\n                        256))))\n                : 0);\n        this.addQuad_(destinationTopLeft, destinationTopRight, destinationBottomRight, destinationBottomLeft, sourceTopLeft, sourceTopRight, sourceBottomRight, sourceBottomLeft, maxSubdivision);\n        if (this.wrapsXInSource_) {\n            var leftBound_1 = Infinity;\n            this.triangles_.forEach(function (triangle, i, arr) {\n                leftBound_1 = Math.min(leftBound_1, triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]);\n            });\n            // Shift triangles to be as close to `leftBound` as possible\n            // (if the distance is more than `worldWidth / 2` it can be closer.\n            this.triangles_.forEach(function (triangle) {\n                if (Math.max(triangle.source[0][0], triangle.source[1][0], triangle.source[2][0]) -\n                    leftBound_1 >\n                    this.sourceWorldWidth_ / 2) {\n                    var newTriangle = [\n                        [triangle.source[0][0], triangle.source[0][1]],\n                        [triangle.source[1][0], triangle.source[1][1]],\n                        [triangle.source[2][0], triangle.source[2][1]],\n                    ];\n                    if (newTriangle[0][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[0][0] -= this.sourceWorldWidth_;\n                    }\n                    if (newTriangle[1][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[1][0] -= this.sourceWorldWidth_;\n                    }\n                    if (newTriangle[2][0] - leftBound_1 > this.sourceWorldWidth_ / 2) {\n                        newTriangle[2][0] -= this.sourceWorldWidth_;\n                    }\n                    // Rarely (if the extent contains both the dateline and prime meridian)\n                    // the shift can in turn break some triangles.\n                    // Detect this here and don't shift in such cases.\n                    var minX = Math.min(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n                    var maxX = Math.max(newTriangle[0][0], newTriangle[1][0], newTriangle[2][0]);\n                    if (maxX - minX < this.sourceWorldWidth_ / 2) {\n                        triangle.source = newTriangle;\n                    }\n                }\n            }.bind(this));\n        }\n        transformInvCache = {};\n    }\n    /**\n     * Adds triangle to the triangulation.\n     * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n     * @private\n     */\n    Triangulation.prototype.addTriangle_ = function (a, b, c, aSrc, bSrc, cSrc) {\n        this.triangles_.push({\n            source: [aSrc, bSrc, cSrc],\n            target: [a, b, c],\n        });\n    };\n    /**\n     * Adds quad (points in clock-wise order) to the triangulation\n     * (and reprojects the vertices) if valid.\n     * Performs quad subdivision if needed to increase precision.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} a The target a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} b The target b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} c The target c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} d The target d coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} aSrc The source a coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} bSrc The source b coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} cSrc The source c coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} dSrc The source d coordinate.\n     * @param {number} maxSubdivision Maximal allowed subdivision of the quad.\n     * @private\n     */\n    Triangulation.prototype.addQuad_ = function (a, b, c, d, aSrc, bSrc, cSrc, dSrc, maxSubdivision) {\n        var sourceQuadExtent = boundingExtent([aSrc, bSrc, cSrc, dSrc]);\n        var sourceCoverageX = this.sourceWorldWidth_\n            ? getWidth(sourceQuadExtent) / this.sourceWorldWidth_\n            : null;\n        var sourceWorldWidth = /** @type {number} */ (this.sourceWorldWidth_);\n        // when the quad is wrapped in the source projection\n        // it covers most of the projection extent, but not fully\n        var wrapsX = this.sourceProj_.canWrapX() &&\n            sourceCoverageX > 0.5 &&\n            sourceCoverageX < 1;\n        var needsSubdivision = false;\n        if (maxSubdivision > 0) {\n            if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {\n                var targetQuadExtent = boundingExtent([a, b, c, d]);\n                var targetCoverageX = getWidth(targetQuadExtent) / this.targetWorldWidth_;\n                needsSubdivision =\n                    targetCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n            }\n            if (!wrapsX && this.sourceProj_.isGlobal() && sourceCoverageX) {\n                needsSubdivision =\n                    sourceCoverageX > MAX_TRIANGLE_WIDTH || needsSubdivision;\n            }\n        }\n        if (!needsSubdivision && this.maxSourceExtent_) {\n            if (isFinite(sourceQuadExtent[0]) &&\n                isFinite(sourceQuadExtent[1]) &&\n                isFinite(sourceQuadExtent[2]) &&\n                isFinite(sourceQuadExtent[3])) {\n                if (!intersects(sourceQuadExtent, this.maxSourceExtent_)) {\n                    // whole quad outside source projection extent -> ignore\n                    return;\n                }\n            }\n        }\n        var isNotFinite = 0;\n        if (!needsSubdivision) {\n            if (!isFinite(aSrc[0]) ||\n                !isFinite(aSrc[1]) ||\n                !isFinite(bSrc[0]) ||\n                !isFinite(bSrc[1]) ||\n                !isFinite(cSrc[0]) ||\n                !isFinite(cSrc[1]) ||\n                !isFinite(dSrc[0]) ||\n                !isFinite(dSrc[1])) {\n                if (maxSubdivision > 0) {\n                    needsSubdivision = true;\n                }\n                else {\n                    // It might be the case that only 1 of the points is infinite. In this case\n                    // we can draw a single triangle with the other three points\n                    isNotFinite =\n                        (!isFinite(aSrc[0]) || !isFinite(aSrc[1]) ? 8 : 0) +\n                            (!isFinite(bSrc[0]) || !isFinite(bSrc[1]) ? 4 : 0) +\n                            (!isFinite(cSrc[0]) || !isFinite(cSrc[1]) ? 2 : 0) +\n                            (!isFinite(dSrc[0]) || !isFinite(dSrc[1]) ? 1 : 0);\n                    if (isNotFinite != 1 &&\n                        isNotFinite != 2 &&\n                        isNotFinite != 4 &&\n                        isNotFinite != 8) {\n                        return;\n                    }\n                }\n            }\n        }\n        if (maxSubdivision > 0) {\n            if (!needsSubdivision) {\n                var center = [(a[0] + c[0]) / 2, (a[1] + c[1]) / 2];\n                var centerSrc = this.transformInv_(center);\n                var dx = void 0;\n                if (wrapsX) {\n                    var centerSrcEstimX = (modulo(aSrc[0], sourceWorldWidth) +\n                        modulo(cSrc[0], sourceWorldWidth)) /\n                        2;\n                    dx = centerSrcEstimX - modulo(centerSrc[0], sourceWorldWidth);\n                }\n                else {\n                    dx = (aSrc[0] + cSrc[0]) / 2 - centerSrc[0];\n                }\n                var dy = (aSrc[1] + cSrc[1]) / 2 - centerSrc[1];\n                var centerSrcErrorSquared = dx * dx + dy * dy;\n                needsSubdivision = centerSrcErrorSquared > this.errorThresholdSquared_;\n            }\n            if (needsSubdivision) {\n                if (Math.abs(a[0] - c[0]) <= Math.abs(a[1] - c[1])) {\n                    // split horizontally (top & bottom)\n                    var bc = [(b[0] + c[0]) / 2, (b[1] + c[1]) / 2];\n                    var bcSrc = this.transformInv_(bc);\n                    var da = [(d[0] + a[0]) / 2, (d[1] + a[1]) / 2];\n                    var daSrc = this.transformInv_(da);\n                    this.addQuad_(a, b, bc, da, aSrc, bSrc, bcSrc, daSrc, maxSubdivision - 1);\n                    this.addQuad_(da, bc, c, d, daSrc, bcSrc, cSrc, dSrc, maxSubdivision - 1);\n                }\n                else {\n                    // split vertically (left & right)\n                    var ab = [(a[0] + b[0]) / 2, (a[1] + b[1]) / 2];\n                    var abSrc = this.transformInv_(ab);\n                    var cd = [(c[0] + d[0]) / 2, (c[1] + d[1]) / 2];\n                    var cdSrc = this.transformInv_(cd);\n                    this.addQuad_(a, ab, cd, d, aSrc, abSrc, cdSrc, dSrc, maxSubdivision - 1);\n                    this.addQuad_(ab, b, c, cd, abSrc, bSrc, cSrc, cdSrc, maxSubdivision - 1);\n                }\n                return;\n            }\n        }\n        if (wrapsX) {\n            if (!this.canWrapXInSource_) {\n                return;\n            }\n            this.wrapsXInSource_ = true;\n        }\n        // Exactly zero or one of *Src is not finite\n        // The triangles must have the diagonal line as the first side\n        // This is to allow easy code in reproj.s to make it straight for broken\n        // browsers that can't handle diagonal clipping\n        if ((isNotFinite & 0xb) == 0) {\n            this.addTriangle_(a, c, d, aSrc, cSrc, dSrc);\n        }\n        if ((isNotFinite & 0xe) == 0) {\n            this.addTriangle_(a, c, b, aSrc, cSrc, bSrc);\n        }\n        if (isNotFinite) {\n            // Try the other two triangles\n            if ((isNotFinite & 0xd) == 0) {\n                this.addTriangle_(b, d, a, bSrc, dSrc, aSrc);\n            }\n            if ((isNotFinite & 0x7) == 0) {\n                this.addTriangle_(b, d, c, bSrc, dSrc, cSrc);\n            }\n        }\n    };\n    /**\n     * Calculates extent of the `source` coordinates from all the triangles.\n     *\n     * @return {import(\"../extent.js\").Extent} Calculated extent.\n     */\n    Triangulation.prototype.calculateSourceExtent = function () {\n        var extent = createEmpty();\n        this.triangles_.forEach(function (triangle, i, arr) {\n            var src = triangle.source;\n            extendCoordinate(extent, src[0]);\n            extendCoordinate(extent, src[1]);\n            extendCoordinate(extent, src[2]);\n        });\n        return extent;\n    };\n    /**\n     * @return {Array<Triangle>} Array of the calculated triangles.\n     */\n    Triangulation.prototype.getTriangles = function () {\n        return this.triangles_;\n    };\n    return Triangulation;\n}());\nexport default Triangulation;\n//# sourceMappingURL=Triangulation.js.map","/**\n * @module ol/renderer/canvas/common\n */\n/**\n * Context options to disable image smoothing.\n * @type {Object}\n */\nexport var IMAGE_SMOOTHING_DISABLED = {\n    imageSmoothingEnabled: false,\n    msImageSmoothingEnabled: false,\n};\n/**\n * Context options to enable image smoothing.\n * @type {Object}\n */\nexport var IMAGE_SMOOTHING_ENABLED = {\n    imageSmoothingEnabled: true,\n    msImageSmoothingEnabled: true,\n};\n//# sourceMappingURL=common.js.map","/**\n * @module ol/reproj\n */\nimport { IMAGE_SMOOTHING_DISABLED } from './renderer/canvas/common.js';\nimport { assign } from './obj.js';\nimport { containsCoordinate, createEmpty, extend, forEachCorner, getCenter, getHeight, getTopLeft, getWidth, } from './extent.js';\nimport { createCanvasContext2D } from './dom.js';\nimport { getPointResolution, transform } from './proj.js';\nimport { solveLinearSystem } from './math.js';\nvar brokenDiagonalRendering_;\n/**\n * @type {Array<HTMLCanvasElement>}\n */\nexport var canvasPool = [];\n/**\n * This draws a small triangle into a canvas by setting the triangle as the clip region\n * and then drawing a (too large) rectangle\n *\n * @param {CanvasRenderingContext2D} ctx The context in which to draw the triangle\n * @param {number} u1 The x-coordinate of the second point. The first point is 0,0.\n * @param {number} v1 The y-coordinate of the second point.\n * @param {number} u2 The x-coordinate of the third point.\n * @param {number} v2 The y-coordinate of the third point.\n */\nfunction drawTestTriangle(ctx, u1, v1, u2, v2) {\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(u1, v1);\n    ctx.lineTo(u2, v2);\n    ctx.closePath();\n    ctx.save();\n    ctx.clip();\n    ctx.fillRect(0, 0, Math.max(u1, u2) + 1, Math.max(v1, v2));\n    ctx.restore();\n}\n/**\n * Given the data from getImageData, see if the right values appear at the provided offset.\n * Returns true if either the color or transparency is off\n *\n * @param {Uint8ClampedArray} data The data returned from getImageData\n * @param {number} offset The pixel offset from the start of data.\n * @return {boolean} true if the diagonal rendering is broken\n */\nfunction verifyBrokenDiagonalRendering(data, offset) {\n    // the values ought to be close to the rgba(210, 0, 0, 0.75)\n    return (Math.abs(data[offset * 4] - 210) > 2 ||\n        Math.abs(data[offset * 4 + 3] - 0.75 * 255) > 2);\n}\n/**\n * Determines if the current browser configuration can render triangular clip regions correctly.\n * This value is cached so the function is only expensive the first time called.\n * Firefox on Windows (as of now) does not if HWA is enabled. See https://bugzilla.mozilla.org/show_bug.cgi?id=1606976\n * IE also doesn't. Chrome works, and everything seems to work on OSX and Android. This function caches the\n * result. I suppose that it is conceivably possible that a browser might flip modes while the app is\n * running, but lets hope not.\n *\n * @return {boolean} true if the Diagonal Rendering is broken.\n */\nfunction isBrokenDiagonalRendering() {\n    if (brokenDiagonalRendering_ === undefined) {\n        var ctx = document.createElement('canvas').getContext('2d');\n        ctx.globalCompositeOperation = 'lighter';\n        ctx.fillStyle = 'rgba(210, 0, 0, 0.75)';\n        drawTestTriangle(ctx, 4, 5, 4, 0);\n        drawTestTriangle(ctx, 4, 5, 0, 5);\n        var data = ctx.getImageData(0, 0, 3, 3).data;\n        brokenDiagonalRendering_ =\n            verifyBrokenDiagonalRendering(data, 0) ||\n                verifyBrokenDiagonalRendering(data, 4) ||\n                verifyBrokenDiagonalRendering(data, 8);\n    }\n    return brokenDiagonalRendering_;\n}\n/**\n * Calculates ideal resolution to use from the source in order to achieve\n * pixel mapping as close as possible to 1:1 during reprojection.\n * The resolution is calculated regardless of what resolutions\n * are actually available in the dataset (TileGrid, Image, ...).\n *\n * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n * @param {import(\"./coordinate.js\").Coordinate} targetCenter Target center.\n * @param {number} targetResolution Target resolution.\n * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n */\nexport function calculateSourceResolution(sourceProj, targetProj, targetCenter, targetResolution) {\n    var sourceCenter = transform(targetCenter, targetProj, sourceProj);\n    // calculate the ideal resolution of the source data\n    var sourceResolution = getPointResolution(targetProj, targetResolution, targetCenter);\n    var targetMetersPerUnit = targetProj.getMetersPerUnit();\n    if (targetMetersPerUnit !== undefined) {\n        sourceResolution *= targetMetersPerUnit;\n    }\n    var sourceMetersPerUnit = sourceProj.getMetersPerUnit();\n    if (sourceMetersPerUnit !== undefined) {\n        sourceResolution /= sourceMetersPerUnit;\n    }\n    // Based on the projection properties, the point resolution at the specified\n    // coordinates may be slightly different. We need to reverse-compensate this\n    // in order to achieve optimal results.\n    var sourceExtent = sourceProj.getExtent();\n    if (!sourceExtent || containsCoordinate(sourceExtent, sourceCenter)) {\n        var compensationFactor = getPointResolution(sourceProj, sourceResolution, sourceCenter) /\n            sourceResolution;\n        if (isFinite(compensationFactor) && compensationFactor > 0) {\n            sourceResolution /= compensationFactor;\n        }\n    }\n    return sourceResolution;\n}\n/**\n * Calculates ideal resolution to use from the source in order to achieve\n * pixel mapping as close as possible to 1:1 during reprojection.\n * The resolution is calculated regardless of what resolutions\n * are actually available in the dataset (TileGrid, Image, ...).\n *\n * @param {import(\"./proj/Projection.js\").default} sourceProj Source projection.\n * @param {import(\"./proj/Projection.js\").default} targetProj Target projection.\n * @param {import(\"./extent.js\").Extent} targetExtent Target extent\n * @param {number} targetResolution Target resolution.\n * @return {number} The best resolution to use. Can be +-Infinity, NaN or 0.\n */\nexport function calculateSourceExtentResolution(sourceProj, targetProj, targetExtent, targetResolution) {\n    var targetCenter = getCenter(targetExtent);\n    var sourceResolution = calculateSourceResolution(sourceProj, targetProj, targetCenter, targetResolution);\n    if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n        forEachCorner(targetExtent, function (corner) {\n            sourceResolution = calculateSourceResolution(sourceProj, targetProj, corner, targetResolution);\n            return isFinite(sourceResolution) && sourceResolution > 0;\n        });\n    }\n    return sourceResolution;\n}\n/**\n * @typedef {Object} ImageExtent\n * @property {import(\"./extent.js\").Extent} extent Extent.\n * @property {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n */\n/**\n * Renders the source data into new canvas based on the triangulation.\n *\n * @param {number} width Width of the canvas.\n * @param {number} height Height of the canvas.\n * @param {number} pixelRatio Pixel ratio.\n * @param {number} sourceResolution Source resolution.\n * @param {import(\"./extent.js\").Extent} sourceExtent Extent of the data source.\n * @param {number} targetResolution Target resolution.\n * @param {import(\"./extent.js\").Extent} targetExtent Target extent.\n * @param {import(\"./reproj/Triangulation.js\").default} triangulation Calculated triangulation.\n * @param {Array<ImageExtent>} sources Array of sources.\n * @param {number} gutter Gutter of the sources.\n * @param {boolean} [opt_renderEdges] Render reprojection edges.\n * @param {boolean} [opt_interpolate] Use linear interpolation when resampling.\n * @return {HTMLCanvasElement} Canvas with reprojected data.\n */\nexport function render(width, height, pixelRatio, sourceResolution, sourceExtent, targetResolution, targetExtent, triangulation, sources, gutter, opt_renderEdges, opt_interpolate) {\n    var context = createCanvasContext2D(Math.round(pixelRatio * width), Math.round(pixelRatio * height), canvasPool);\n    if (!opt_interpolate) {\n        assign(context, IMAGE_SMOOTHING_DISABLED);\n    }\n    if (sources.length === 0) {\n        return context.canvas;\n    }\n    context.scale(pixelRatio, pixelRatio);\n    function pixelRound(value) {\n        return Math.round(value * pixelRatio) / pixelRatio;\n    }\n    context.globalCompositeOperation = 'lighter';\n    var sourceDataExtent = createEmpty();\n    sources.forEach(function (src, i, arr) {\n        extend(sourceDataExtent, src.extent);\n    });\n    var canvasWidthInUnits = getWidth(sourceDataExtent);\n    var canvasHeightInUnits = getHeight(sourceDataExtent);\n    var stitchContext = createCanvasContext2D(Math.round((pixelRatio * canvasWidthInUnits) / sourceResolution), Math.round((pixelRatio * canvasHeightInUnits) / sourceResolution));\n    if (!opt_interpolate) {\n        assign(stitchContext, IMAGE_SMOOTHING_DISABLED);\n    }\n    var stitchScale = pixelRatio / sourceResolution;\n    sources.forEach(function (src, i, arr) {\n        var xPos = src.extent[0] - sourceDataExtent[0];\n        var yPos = -(src.extent[3] - sourceDataExtent[3]);\n        var srcWidth = getWidth(src.extent);\n        var srcHeight = getHeight(src.extent);\n        // This test should never fail -- but it does. Need to find a fix the upstream condition\n        if (src.image.width > 0 && src.image.height > 0) {\n            stitchContext.drawImage(src.image, gutter, gutter, src.image.width - 2 * gutter, src.image.height - 2 * gutter, xPos * stitchScale, yPos * stitchScale, srcWidth * stitchScale, srcHeight * stitchScale);\n        }\n    });\n    var targetTopLeft = getTopLeft(targetExtent);\n    triangulation.getTriangles().forEach(function (triangle, i, arr) {\n        /* Calculate affine transform (src -> dst)\n         * Resulting matrix can be used to transform coordinate\n         * from `sourceProjection` to destination pixels.\n         *\n         * To optimize number of context calls and increase numerical stability,\n         * we also do the following operations:\n         * trans(-topLeftExtentCorner), scale(1 / targetResolution), scale(1, -1)\n         * here before solving the linear system so [ui, vi] are pixel coordinates.\n         *\n         * Src points: xi, yi\n         * Dst points: ui, vi\n         * Affine coefficients: aij\n         *\n         * | x0 y0 1  0  0 0 |   |a00|   |u0|\n         * | x1 y1 1  0  0 0 |   |a01|   |u1|\n         * | x2 y2 1  0  0 0 | x |a02| = |u2|\n         * |  0  0 0 x0 y0 1 |   |a10|   |v0|\n         * |  0  0 0 x1 y1 1 |   |a11|   |v1|\n         * |  0  0 0 x2 y2 1 |   |a12|   |v2|\n         */\n        var source = triangle.source;\n        var target = triangle.target;\n        var x0 = source[0][0], y0 = source[0][1];\n        var x1 = source[1][0], y1 = source[1][1];\n        var x2 = source[2][0], y2 = source[2][1];\n        // Make sure that everything is on pixel boundaries\n        var u0 = pixelRound((target[0][0] - targetTopLeft[0]) / targetResolution);\n        var v0 = pixelRound(-(target[0][1] - targetTopLeft[1]) / targetResolution);\n        var u1 = pixelRound((target[1][0] - targetTopLeft[0]) / targetResolution);\n        var v1 = pixelRound(-(target[1][1] - targetTopLeft[1]) / targetResolution);\n        var u2 = pixelRound((target[2][0] - targetTopLeft[0]) / targetResolution);\n        var v2 = pixelRound(-(target[2][1] - targetTopLeft[1]) / targetResolution);\n        // Shift all the source points to improve numerical stability\n        // of all the subsequent calculations. The [x0, y0] is used here.\n        // This is also used to simplify the linear system.\n        var sourceNumericalShiftX = x0;\n        var sourceNumericalShiftY = y0;\n        x0 = 0;\n        y0 = 0;\n        x1 -= sourceNumericalShiftX;\n        y1 -= sourceNumericalShiftY;\n        x2 -= sourceNumericalShiftX;\n        y2 -= sourceNumericalShiftY;\n        var augmentedMatrix = [\n            [x1, y1, 0, 0, u1 - u0],\n            [x2, y2, 0, 0, u2 - u0],\n            [0, 0, x1, y1, v1 - v0],\n            [0, 0, x2, y2, v2 - v0],\n        ];\n        var affineCoefs = solveLinearSystem(augmentedMatrix);\n        if (!affineCoefs) {\n            return;\n        }\n        context.save();\n        context.beginPath();\n        if (isBrokenDiagonalRendering() || !opt_interpolate) {\n            // Make sure that all lines are horizontal or vertical\n            context.moveTo(u1, v1);\n            // This is the diagonal line. Do it in 4 steps\n            var steps = 4;\n            var ud = u0 - u1;\n            var vd = v0 - v1;\n            for (var step = 0; step < steps; step++) {\n                // Go horizontally\n                context.lineTo(u1 + pixelRound(((step + 1) * ud) / steps), v1 + pixelRound((step * vd) / (steps - 1)));\n                // Go vertically\n                if (step != steps - 1) {\n                    context.lineTo(u1 + pixelRound(((step + 1) * ud) / steps), v1 + pixelRound(((step + 1) * vd) / (steps - 1)));\n                }\n            }\n            // We are almost at u0r, v0r\n            context.lineTo(u2, v2);\n        }\n        else {\n            context.moveTo(u1, v1);\n            context.lineTo(u0, v0);\n            context.lineTo(u2, v2);\n        }\n        context.clip();\n        context.transform(affineCoefs[0], affineCoefs[2], affineCoefs[1], affineCoefs[3], u0, v0);\n        context.translate(sourceDataExtent[0] - sourceNumericalShiftX, sourceDataExtent[3] - sourceNumericalShiftY);\n        context.scale(sourceResolution / pixelRatio, -sourceResolution / pixelRatio);\n        context.drawImage(stitchContext.canvas, 0, 0);\n        context.restore();\n    });\n    if (opt_renderEdges) {\n        context.save();\n        context.globalCompositeOperation = 'source-over';\n        context.strokeStyle = 'black';\n        context.lineWidth = 1;\n        triangulation.getTriangles().forEach(function (triangle, i, arr) {\n            var target = triangle.target;\n            var u0 = (target[0][0] - targetTopLeft[0]) / targetResolution;\n            var v0 = -(target[0][1] - targetTopLeft[1]) / targetResolution;\n            var u1 = (target[1][0] - targetTopLeft[0]) / targetResolution;\n            var v1 = -(target[1][1] - targetTopLeft[1]) / targetResolution;\n            var u2 = (target[2][0] - targetTopLeft[0]) / targetResolution;\n            var v2 = -(target[2][1] - targetTopLeft[1]) / targetResolution;\n            context.beginPath();\n            context.moveTo(u1, v1);\n            context.lineTo(u0, v0);\n            context.lineTo(u2, v2);\n            context.closePath();\n            context.stroke();\n        });\n        context.restore();\n    }\n    return context.canvas;\n}\n//# sourceMappingURL=reproj.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/reproj/Tile\n */\nimport { ERROR_THRESHOLD } from './common.js';\nimport EventType from '../events/EventType.js';\nimport Tile from '../Tile.js';\nimport TileState from '../TileState.js';\nimport Triangulation from './Triangulation.js';\nimport { calculateSourceExtentResolution, canvasPool, render as renderReprojected, } from '../reproj.js';\nimport { clamp } from '../math.js';\nimport { getArea, getIntersection } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { releaseCanvas } from '../dom.js';\n/**\n * @typedef {function(number, number, number, number) : import(\"../Tile.js\").default} FunctionType\n */\n/**\n * @classdesc\n * Class encapsulating single reprojected tile.\n * See {@link module:ol/source/TileImage~TileImage}.\n *\n */\nvar ReprojTile = /** @class */ (function (_super) {\n    __extends(ReprojTile, _super);\n    /**\n     * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} sourceTileGrid Source tile grid.\n     * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} targetTileGrid Target tile grid.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Coordinate of the tile.\n     * @param {import(\"../tilecoord.js\").TileCoord} wrappedTileCoord Coordinate of the tile wrapped in X.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} gutter Gutter of the source tiles.\n     * @param {FunctionType} getTileFunction\n     *     Function returning source tiles (z, x, y, pixelRatio).\n     * @param {number} [opt_errorThreshold] Acceptable reprojection error (in px).\n     * @param {boolean} [opt_renderEdges] Render reprojection edges.\n     * @param {boolean} [opt_interpolate] Use linear interpolation when resampling.\n     */\n    function ReprojTile(sourceProj, sourceTileGrid, targetProj, targetTileGrid, tileCoord, wrappedTileCoord, pixelRatio, gutter, getTileFunction, opt_errorThreshold, opt_renderEdges, opt_interpolate) {\n        var _this = _super.call(this, tileCoord, TileState.IDLE, { interpolate: !!opt_interpolate }) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderEdges_ = opt_renderEdges !== undefined ? opt_renderEdges : false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.gutter_ = gutter;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.canvas_ = null;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        _this.sourceTileGrid_ = sourceTileGrid;\n        /**\n         * @private\n         * @type {import(\"../tilegrid/TileGrid.js\").default}\n         */\n        _this.targetTileGrid_ = targetTileGrid;\n        /**\n         * @private\n         * @type {import(\"../tilecoord.js\").TileCoord}\n         */\n        _this.wrappedTileCoord_ = wrappedTileCoord ? wrappedTileCoord : tileCoord;\n        /**\n         * @private\n         * @type {!Array<import(\"../Tile.js\").default>}\n         */\n        _this.sourceTiles_ = [];\n        /**\n         * @private\n         * @type {?Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.sourcesListenerKeys_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.sourceZ_ = 0;\n        var targetExtent = targetTileGrid.getTileCoordExtent(_this.wrappedTileCoord_);\n        var maxTargetExtent = _this.targetTileGrid_.getExtent();\n        var maxSourceExtent = _this.sourceTileGrid_.getExtent();\n        var limitedTargetExtent = maxTargetExtent\n            ? getIntersection(targetExtent, maxTargetExtent)\n            : targetExtent;\n        if (getArea(limitedTargetExtent) === 0) {\n            // Tile is completely outside range -> EMPTY\n            // TODO: is it actually correct that the source even creates the tile ?\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        var sourceProjExtent = sourceProj.getExtent();\n        if (sourceProjExtent) {\n            if (!maxSourceExtent) {\n                maxSourceExtent = sourceProjExtent;\n            }\n            else {\n                maxSourceExtent = getIntersection(maxSourceExtent, sourceProjExtent);\n            }\n        }\n        var targetResolution = targetTileGrid.getResolution(_this.wrappedTileCoord_[0]);\n        var sourceResolution = calculateSourceExtentResolution(sourceProj, targetProj, limitedTargetExtent, targetResolution);\n        if (!isFinite(sourceResolution) || sourceResolution <= 0) {\n            // invalid sourceResolution -> EMPTY\n            // probably edges of the projections when no extent is defined\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        var errorThresholdInPixels = opt_errorThreshold !== undefined ? opt_errorThreshold : ERROR_THRESHOLD;\n        /**\n         * @private\n         * @type {!import(\"./Triangulation.js\").default}\n         */\n        _this.triangulation_ = new Triangulation(sourceProj, targetProj, limitedTargetExtent, maxSourceExtent, sourceResolution * errorThresholdInPixels, targetResolution);\n        if (_this.triangulation_.getTriangles().length === 0) {\n            // no valid triangles -> EMPTY\n            _this.state = TileState.EMPTY;\n            return _this;\n        }\n        _this.sourceZ_ = sourceTileGrid.getZForResolution(sourceResolution);\n        var sourceExtent = _this.triangulation_.calculateSourceExtent();\n        if (maxSourceExtent) {\n            if (sourceProj.canWrapX()) {\n                sourceExtent[1] = clamp(sourceExtent[1], maxSourceExtent[1], maxSourceExtent[3]);\n                sourceExtent[3] = clamp(sourceExtent[3], maxSourceExtent[1], maxSourceExtent[3]);\n            }\n            else {\n                sourceExtent = getIntersection(sourceExtent, maxSourceExtent);\n            }\n        }\n        if (!getArea(sourceExtent)) {\n            _this.state = TileState.EMPTY;\n        }\n        else {\n            var sourceRange = sourceTileGrid.getTileRangeForExtentAndZ(sourceExtent, _this.sourceZ_);\n            for (var srcX = sourceRange.minX; srcX <= sourceRange.maxX; srcX++) {\n                for (var srcY = sourceRange.minY; srcY <= sourceRange.maxY; srcY++) {\n                    var tile = getTileFunction(_this.sourceZ_, srcX, srcY, pixelRatio);\n                    if (tile) {\n                        _this.sourceTiles_.push(tile);\n                    }\n                }\n            }\n            if (_this.sourceTiles_.length === 0) {\n                _this.state = TileState.EMPTY;\n            }\n        }\n        return _this;\n    }\n    /**\n     * Get the HTML Canvas element for this tile.\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    ReprojTile.prototype.getImage = function () {\n        return this.canvas_;\n    };\n    /**\n     * @private\n     */\n    ReprojTile.prototype.reproject_ = function () {\n        var sources = [];\n        this.sourceTiles_.forEach(function (tile, i, arr) {\n            if (tile && tile.getState() == TileState.LOADED) {\n                sources.push({\n                    extent: this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),\n                    image: tile.getImage(),\n                });\n            }\n        }.bind(this));\n        this.sourceTiles_.length = 0;\n        if (sources.length === 0) {\n            this.state = TileState.ERROR;\n        }\n        else {\n            var z = this.wrappedTileCoord_[0];\n            var size = this.targetTileGrid_.getTileSize(z);\n            var width = typeof size === 'number' ? size : size[0];\n            var height = typeof size === 'number' ? size : size[1];\n            var targetResolution = this.targetTileGrid_.getResolution(z);\n            var sourceResolution = this.sourceTileGrid_.getResolution(this.sourceZ_);\n            var targetExtent = this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);\n            this.canvas_ = renderReprojected(width, height, this.pixelRatio_, sourceResolution, this.sourceTileGrid_.getExtent(), targetResolution, targetExtent, this.triangulation_, sources, this.gutter_, this.renderEdges_, this.interpolate);\n            this.state = TileState.LOADED;\n        }\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    ReprojTile.prototype.load = function () {\n        if (this.state == TileState.IDLE) {\n            this.state = TileState.LOADING;\n            this.changed();\n            var leftToLoad_1 = 0;\n            this.sourcesListenerKeys_ = [];\n            this.sourceTiles_.forEach(function (tile, i, arr) {\n                var state = tile.getState();\n                if (state == TileState.IDLE || state == TileState.LOADING) {\n                    leftToLoad_1++;\n                    var sourceListenKey_1 = listen(tile, EventType.CHANGE, function (e) {\n                        var state = tile.getState();\n                        if (state == TileState.LOADED ||\n                            state == TileState.ERROR ||\n                            state == TileState.EMPTY) {\n                            unlistenByKey(sourceListenKey_1);\n                            leftToLoad_1--;\n                            if (leftToLoad_1 === 0) {\n                                this.unlistenSources_();\n                                this.reproject_();\n                            }\n                        }\n                    }, this);\n                    this.sourcesListenerKeys_.push(sourceListenKey_1);\n                }\n            }.bind(this));\n            if (leftToLoad_1 === 0) {\n                setTimeout(this.reproject_.bind(this), 0);\n            }\n            else {\n                this.sourceTiles_.forEach(function (tile, i, arr) {\n                    var state = tile.getState();\n                    if (state == TileState.IDLE) {\n                        tile.load();\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    ReprojTile.prototype.unlistenSources_ = function () {\n        this.sourcesListenerKeys_.forEach(unlistenByKey);\n        this.sourcesListenerKeys_ = null;\n    };\n    /**\n     * Remove from the cache due to expiry\n     */\n    ReprojTile.prototype.release = function () {\n        if (this.canvas_) {\n            releaseCanvas(this.canvas_.getContext('2d'));\n            canvasPool.push(this.canvas_);\n            this.canvas_ = null;\n        }\n        _super.prototype.release.call(this);\n    };\n    return ReprojTile;\n}(Tile));\nexport default ReprojTile;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/structs/LRUCache\n */\nimport { assert } from '../asserts.js';\n/**\n * @typedef {Object} Entry\n * @property {string} key_ Key.\n * @property {Object} newer Newer.\n * @property {Object} older Older.\n * @property {*} value_ Value.\n */\n/**\n * @classdesc\n * Implements a Least-Recently-Used cache where the keys do not conflict with\n * Object's properties (e.g. 'hasOwnProperty' is not allowed as a key). Expiring\n * items from the cache is the responsibility of the user.\n *\n * @fires import(\"../events/Event.js\").default\n * @template T\n */\nvar LRUCache = /** @class */ (function () {\n    /**\n     * @param {number} [opt_highWaterMark] High water mark.\n     */\n    function LRUCache(opt_highWaterMark) {\n        /**\n         * Desired max cache size after expireCache(). If set to 0, no cache entries\n         * will be pruned at all.\n         * @type {number}\n         */\n        this.highWaterMark =\n            opt_highWaterMark !== undefined ? opt_highWaterMark : 2048;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.count_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, Entry>}\n         */\n        this.entries_ = {};\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.oldest_ = null;\n        /**\n         * @private\n         * @type {?Entry}\n         */\n        this.newest_ = null;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    LRUCache.prototype.canExpireCache = function () {\n        return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;\n    };\n    /**\n     * Expire the cache.\n     * @param {!Object<string, boolean>} [keep] Keys to keep. To be implemented by subclasses.\n     */\n    LRUCache.prototype.expireCache = function (keep) {\n        while (this.canExpireCache()) {\n            this.pop();\n        }\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    LRUCache.prototype.clear = function () {\n        this.count_ = 0;\n        this.entries_ = {};\n        this.oldest_ = null;\n        this.newest_ = null;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Contains key.\n     */\n    LRUCache.prototype.containsKey = function (key) {\n        return this.entries_.hasOwnProperty(key);\n    };\n    /**\n     * @param {function(T, string, LRUCache<T>): ?} f The function\n     *     to call for every entry from the oldest to the newer. This function takes\n     *     3 arguments (the entry value, the entry key and the LRUCache object).\n     *     The return value is ignored.\n     */\n    LRUCache.prototype.forEach = function (f) {\n        var entry = this.oldest_;\n        while (entry) {\n            f(entry.value_, entry.key_, this);\n            entry = entry.newer;\n        }\n    };\n    /**\n     * @param {string} key Key.\n     * @param {*} [opt_options] Options (reserved for subclasses).\n     * @return {T} Value.\n     */\n    LRUCache.prototype.get = function (key, opt_options) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            return entry.value_;\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (this.oldest_.newer);\n            this.oldest_.older = null;\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        entry.newer = null;\n        entry.older = this.newest_;\n        this.newest_.newer = entry;\n        this.newest_ = entry;\n        return entry.value_;\n    };\n    /**\n     * Remove an entry from the cache.\n     * @param {string} key The entry key.\n     * @return {T} The removed entry.\n     */\n    LRUCache.prototype.remove = function (key) {\n        var entry = this.entries_[key];\n        assert(entry !== undefined, 15); // Tried to get a value for a key that does not exist in the cache\n        if (entry === this.newest_) {\n            this.newest_ = /** @type {Entry} */ (entry.older);\n            if (this.newest_) {\n                this.newest_.newer = null;\n            }\n        }\n        else if (entry === this.oldest_) {\n            this.oldest_ = /** @type {Entry} */ (entry.newer);\n            if (this.oldest_) {\n                this.oldest_.older = null;\n            }\n        }\n        else {\n            entry.newer.older = entry.older;\n            entry.older.newer = entry.newer;\n        }\n        delete this.entries_[key];\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @return {number} Count.\n     */\n    LRUCache.prototype.getCount = function () {\n        return this.count_;\n    };\n    /**\n     * @return {Array<string>} Keys.\n     */\n    LRUCache.prototype.getKeys = function () {\n        var keys = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            keys[i++] = entry.key_;\n        }\n        return keys;\n    };\n    /**\n     * @return {Array<T>} Values.\n     */\n    LRUCache.prototype.getValues = function () {\n        var values = new Array(this.count_);\n        var i = 0;\n        var entry;\n        for (entry = this.newest_; entry; entry = entry.older) {\n            values[i++] = entry.value_;\n        }\n        return values;\n    };\n    /**\n     * @return {T} Last value.\n     */\n    LRUCache.prototype.peekLast = function () {\n        return this.oldest_.value_;\n    };\n    /**\n     * @return {string} Last key.\n     */\n    LRUCache.prototype.peekLastKey = function () {\n        return this.oldest_.key_;\n    };\n    /**\n     * Get the key of the newest item in the cache.  Throws if the cache is empty.\n     * @return {string} The newest key.\n     */\n    LRUCache.prototype.peekFirstKey = function () {\n        return this.newest_.key_;\n    };\n    /**\n     * Return an entry without updating least recently used time.\n     * @param {string} key Key.\n     * @return {T} Value.\n     */\n    LRUCache.prototype.peek = function (key) {\n        if (!this.containsKey(key)) {\n            return undefined;\n        }\n        return this.entries_[key].value_;\n    };\n    /**\n     * @return {T} value Value.\n     */\n    LRUCache.prototype.pop = function () {\n        var entry = this.oldest_;\n        delete this.entries_[entry.key_];\n        if (entry.newer) {\n            entry.newer.older = null;\n        }\n        this.oldest_ = /** @type {Entry} */ (entry.newer);\n        if (!this.oldest_) {\n            this.newest_ = null;\n        }\n        --this.count_;\n        return entry.value_;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.replace = function (key, value) {\n        this.get(key); // update `newest_`\n        this.entries_[key].value_ = value;\n    };\n    /**\n     * @param {string} key Key.\n     * @param {T} value Value.\n     */\n    LRUCache.prototype.set = function (key, value) {\n        assert(!(key in this.entries_), 16); // Tried to set a value for a key that is used already\n        var entry = {\n            key_: key,\n            newer: null,\n            older: this.newest_,\n            value_: value,\n        };\n        if (!this.newest_) {\n            this.oldest_ = entry;\n        }\n        else {\n            this.newest_.newer = entry;\n        }\n        this.newest_ = entry;\n        this.entries_[key] = entry;\n        ++this.count_;\n    };\n    /**\n     * Set a maximum number of entries for the cache.\n     * @param {number} size Cache size.\n     * @api\n     */\n    LRUCache.prototype.setSize = function (size) {\n        this.highWaterMark = size;\n    };\n    return LRUCache;\n}());\nexport default LRUCache;\n//# sourceMappingURL=LRUCache.js.map","/**\n * @module ol/tilecoord\n */\n/**\n * An array of three numbers representing the location of a tile in a tile\n * grid. The order is `z` (zoom level), `x` (column), and `y` (row).\n * @typedef {Array<number>} TileCoord\n * @api\n */\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {TileCoord} [opt_tileCoord] Tile coordinate.\n * @return {TileCoord} Tile coordinate.\n */\nexport function createOrUpdate(z, x, y, opt_tileCoord) {\n    if (opt_tileCoord !== undefined) {\n        opt_tileCoord[0] = z;\n        opt_tileCoord[1] = x;\n        opt_tileCoord[2] = y;\n        return opt_tileCoord;\n    }\n    else {\n        return [z, x, y];\n    }\n}\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {string} Key.\n */\nexport function getKeyZXY(z, x, y) {\n    return z + '/' + x + '/' + y;\n}\n/**\n * Get the key for a tile coord.\n * @param {TileCoord} tileCoord The tile coord.\n * @return {string} Key.\n */\nexport function getKey(tileCoord) {\n    return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n/**\n * Get the tile cache key for a tile key obtained through `tile.getKey()`.\n * @param {string} tileKey The tile key.\n * @return {string} The cache key.\n */\nexport function getCacheKeyForTileKey(tileKey) {\n    var _a = tileKey\n        .substring(tileKey.lastIndexOf('/') + 1, tileKey.length)\n        .split(',')\n        .map(Number), z = _a[0], x = _a[1], y = _a[2];\n    return getKeyZXY(z, x, y);\n}\n/**\n * Get a tile coord given a key.\n * @param {string} key The tile coord key.\n * @return {TileCoord} The tile coord.\n */\nexport function fromKey(key) {\n    return key.split('/').map(Number);\n}\n/**\n * @param {TileCoord} tileCoord Tile coord.\n * @return {number} Hash.\n */\nexport function hash(tileCoord) {\n    return (tileCoord[1] << tileCoord[0]) + tileCoord[2];\n}\n/**\n * @param {TileCoord} tileCoord Tile coordinate.\n * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {boolean} Tile coordinate is within extent and zoom level range.\n */\nexport function withinExtentAndZ(tileCoord, tileGrid) {\n    var z = tileCoord[0];\n    var x = tileCoord[1];\n    var y = tileCoord[2];\n    if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n        return false;\n    }\n    var tileRange = tileGrid.getFullTileRange(z);\n    if (!tileRange) {\n        return true;\n    }\n    else {\n        return tileRange.containsXY(x, y);\n    }\n}\n//# sourceMappingURL=tilecoord.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/TileCache\n */\nimport LRUCache from './structs/LRUCache.js';\nimport { fromKey, getKey } from './tilecoord.js';\nvar TileCache = /** @class */ (function (_super) {\n    __extends(TileCache, _super);\n    function TileCache() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileCache.prototype.expireCache = function (usedTiles) {\n        while (this.canExpireCache()) {\n            var tile = this.peekLast();\n            if (tile.getKey() in usedTiles) {\n                break;\n            }\n            else {\n                this.pop().release();\n            }\n        }\n    };\n    /**\n     * Prune all tiles from the cache that don't have the same z as the newest tile.\n     */\n    TileCache.prototype.pruneExceptNewestZ = function () {\n        if (this.getCount() === 0) {\n            return;\n        }\n        var key = this.peekFirstKey();\n        var tileCoord = fromKey(key);\n        var z = tileCoord[0];\n        this.forEach(function (tile) {\n            if (tile.tileCoord[0] !== z) {\n                this.remove(getKey(tile.tileCoord));\n                tile.release();\n            }\n        }.bind(this));\n    };\n    return TileCache;\n}(LRUCache));\nexport default TileCache;\n//# sourceMappingURL=TileCache.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Source\n */\nimport BaseObject from '../Object.js';\nimport { abstract } from '../util.js';\nimport { get as getProjection } from '../proj.js';\n/**\n * @typedef {'undefined' | 'loading' | 'ready' | 'error'} State\n * State of the source, one of 'undefined', 'loading', 'ready' or 'error'.\n */\n/**\n * A function that takes a {@link module:ol/PluggableMap~FrameState} and returns a string or\n * an array of strings representing source attributions.\n *\n * @typedef {function(import(\"../PluggableMap.js\").FrameState): (string|Array<string>)} Attribution\n */\n/**\n * A type that can be used to provide attribution information for data sources.\n *\n * It represents either\n * * a simple string (e.g. `' Acme Inc.'`)\n * * an array of simple strings (e.g. `[' Acme Inc.', ' Bacme Inc.']`)\n * * a function that returns a string or array of strings ({@link module:ol/source/Source~Attribution})\n *\n * @typedef {string|Array<string>|Attribution} AttributionLike\n */\n/**\n * @typedef {Object} Options\n * @property {AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {import(\"./Source.js\").State} [state='ready'] State.\n * @property {boolean} [wrapX=false] WrapX.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for {@link module:ol/layer/Layer~Layer} sources.\n *\n * A generic `change` event is triggered when the state of the source changes.\n * @abstract\n * @api\n */\nvar Source = /** @class */ (function (_super) {\n    __extends(Source, _super);\n    /**\n     * @param {Options} options Source options.\n     */\n    function Source(options) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default|null}\n         */\n        _this.projection = getProjection(options.projection);\n        /**\n         * @private\n         * @type {?Attribution}\n         */\n        _this.attributions_ = adaptAttributions(options.attributions);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.attributionsCollapsible_ =\n            options.attributionsCollapsible !== undefined\n                ? options.attributionsCollapsible\n                : true;\n        /**\n         * This source is currently loading data. Sources that defer loading to the\n         * map's tile queue never set this to `true`.\n         * @type {boolean}\n         */\n        _this.loading = false;\n        /**\n         * @private\n         * @type {import(\"./Source.js\").State}\n         */\n        _this.state_ = options.state !== undefined ? options.state : 'ready';\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.wrapX_ = options.wrapX !== undefined ? options.wrapX : false;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.interpolate_ = !!options.interpolate;\n        /**\n         * @protected\n         * @type {function(import(\"../View.js\").ViewOptions):void}\n         */\n        _this.viewResolver = null;\n        /**\n         * @protected\n         * @type {function(Error):void}\n         */\n        _this.viewRejector = null;\n        var self = _this;\n        /**\n         * @private\n         * @type {Promise<import(\"../View.js\").ViewOptions>}\n         */\n        _this.viewPromise_ = new Promise(function (resolve, reject) {\n            self.viewResolver = resolve;\n            self.viewRejector = reject;\n        });\n        return _this;\n    }\n    /**\n     * Get the attribution function for the source.\n     * @return {?Attribution} Attribution function.\n     * @api\n     */\n    Source.prototype.getAttributions = function () {\n        return this.attributions_;\n    };\n    /**\n     * @return {boolean} Attributions are collapsible.\n     * @api\n     */\n    Source.prototype.getAttributionsCollapsible = function () {\n        return this.attributionsCollapsible_;\n    };\n    /**\n     * Get the projection of the source.\n     * @return {import(\"../proj/Projection.js\").default|null} Projection.\n     * @api\n     */\n    Source.prototype.getProjection = function () {\n        return this.projection;\n    };\n    /**\n     * @abstract\n     * @return {Array<number>|null} Resolutions.\n     */\n    Source.prototype.getResolutions = function () {\n        return abstract();\n    };\n    /**\n     * @return {Promise<import(\"../View.js\").ViewOptions>} A promise for view-related properties.\n     */\n    Source.prototype.getView = function () {\n        return this.viewPromise_;\n    };\n    /**\n     * Get the state of the source, see {@link import(\"./Source.js\").State} for possible states.\n     * @return {import(\"./Source.js\").State} State.\n     * @api\n     */\n    Source.prototype.getState = function () {\n        return this.state_;\n    };\n    /**\n     * @return {boolean|undefined} Wrap X.\n     */\n    Source.prototype.getWrapX = function () {\n        return this.wrapX_;\n    };\n    /**\n     * @return {boolean} Use linear interpolation when resampling.\n     */\n    Source.prototype.getInterpolate = function () {\n        return this.interpolate_;\n    };\n    /**\n     * Refreshes the source. The source will be cleared, and data from the server will be reloaded.\n     * @api\n     */\n    Source.prototype.refresh = function () {\n        this.changed();\n    };\n    /**\n     * Set the attributions of the source.\n     * @param {AttributionLike|undefined} attributions Attributions.\n     *     Can be passed as `string`, `Array<string>`, {@link module:ol/source/Source~Attribution},\n     *     or `undefined`.\n     * @api\n     */\n    Source.prototype.setAttributions = function (attributions) {\n        this.attributions_ = adaptAttributions(attributions);\n        this.changed();\n    };\n    /**\n     * Set the state of the source.\n     * @param {import(\"./Source.js\").State} state State.\n     */\n    Source.prototype.setState = function (state) {\n        this.state_ = state;\n        this.changed();\n    };\n    return Source;\n}(BaseObject));\n/**\n * Turns the attributions option into an attributions function.\n * @param {AttributionLike|undefined} attributionLike The attribution option.\n * @return {Attribution|null} An attribution function (or null).\n */\nfunction adaptAttributions(attributionLike) {\n    if (!attributionLike) {\n        return null;\n    }\n    if (Array.isArray(attributionLike)) {\n        return function (frameState) {\n            return attributionLike;\n        };\n    }\n    if (typeof attributionLike === 'function') {\n        return attributionLike;\n    }\n    return function (frameState) {\n        return [attributionLike];\n    };\n}\nexport default Source;\n//# sourceMappingURL=Source.js.map","/**\n * @module ol/TileRange\n */\n/**\n * A representation of a contiguous block of tiles.  A tile range is specified\n * by its min/max tile coordinates and is inclusive of coordinates.\n */\nvar TileRange = /** @class */ (function () {\n    /**\n     * @param {number} minX Minimum X.\n     * @param {number} maxX Maximum X.\n     * @param {number} minY Minimum Y.\n     * @param {number} maxY Maximum Y.\n     */\n    function TileRange(minX, maxX, minY, maxY) {\n        /**\n         * @type {number}\n         */\n        this.minX = minX;\n        /**\n         * @type {number}\n         */\n        this.maxX = maxX;\n        /**\n         * @type {number}\n         */\n        this.minY = minY;\n        /**\n         * @type {number}\n         */\n        this.maxY = maxY;\n    }\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {boolean} Contains tile coordinate.\n     */\n    TileRange.prototype.contains = function (tileCoord) {\n        return this.containsXY(tileCoord[1], tileCoord[2]);\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Contains.\n     */\n    TileRange.prototype.containsTileRange = function (tileRange) {\n        return (this.minX <= tileRange.minX &&\n            tileRange.maxX <= this.maxX &&\n            this.minY <= tileRange.minY &&\n            tileRange.maxY <= this.maxY);\n    };\n    /**\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @return {boolean} Contains coordinate.\n     */\n    TileRange.prototype.containsXY = function (x, y) {\n        return this.minX <= x && x <= this.maxX && this.minY <= y && y <= this.maxY;\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Equals.\n     */\n    TileRange.prototype.equals = function (tileRange) {\n        return (this.minX == tileRange.minX &&\n            this.minY == tileRange.minY &&\n            this.maxX == tileRange.maxX &&\n            this.maxY == tileRange.maxY);\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     */\n    TileRange.prototype.extend = function (tileRange) {\n        if (tileRange.minX < this.minX) {\n            this.minX = tileRange.minX;\n        }\n        if (tileRange.maxX > this.maxX) {\n            this.maxX = tileRange.maxX;\n        }\n        if (tileRange.minY < this.minY) {\n            this.minY = tileRange.minY;\n        }\n        if (tileRange.maxY > this.maxY) {\n            this.maxY = tileRange.maxY;\n        }\n    };\n    /**\n     * @return {number} Height.\n     */\n    TileRange.prototype.getHeight = function () {\n        return this.maxY - this.minY + 1;\n    };\n    /**\n     * @return {import(\"./size.js\").Size} Size.\n     */\n    TileRange.prototype.getSize = function () {\n        return [this.getWidth(), this.getHeight()];\n    };\n    /**\n     * @return {number} Width.\n     */\n    TileRange.prototype.getWidth = function () {\n        return this.maxX - this.minX + 1;\n    };\n    /**\n     * @param {TileRange} tileRange Tile range.\n     * @return {boolean} Intersects.\n     */\n    TileRange.prototype.intersects = function (tileRange) {\n        return (this.minX <= tileRange.maxX &&\n            this.maxX >= tileRange.minX &&\n            this.minY <= tileRange.maxY &&\n            this.maxY >= tileRange.minY);\n    };\n    return TileRange;\n}());\n/**\n * @param {number} minX Minimum X.\n * @param {number} maxX Maximum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxY Maximum Y.\n * @param {TileRange} [tileRange] TileRange.\n * @return {TileRange} Tile range.\n */\nexport function createOrUpdate(minX, maxX, minY, maxY, tileRange) {\n    if (tileRange !== undefined) {\n        tileRange.minX = minX;\n        tileRange.maxX = maxX;\n        tileRange.minY = minY;\n        tileRange.maxY = maxY;\n        return tileRange;\n    }\n    else {\n        return new TileRange(minX, maxX, minY, maxY);\n    }\n}\nexport default TileRange;\n//# sourceMappingURL=TileRange.js.map","/**\n * @module ol/geom/flat/segments\n */\n/**\n * This function calls `callback` for each segment of the flat coordinates\n * array. If the callback returns a truthy value the function returns that\n * value immediately. Otherwise the function returns `false`.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {function(import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n *     called for each segment.\n * @return {T|boolean} Value.\n * @template T\n */\nexport function forEach(flatCoordinates, offset, end, stride, callback) {\n    var ret;\n    offset += stride;\n    for (; offset < end; offset += stride) {\n        ret = callback(flatCoordinates.slice(offset - stride, offset), flatCoordinates.slice(offset, offset + stride));\n        if (ret) {\n            return ret;\n        }\n    }\n    return false;\n}\n//# sourceMappingURL=segments.js.map","/**\n * @module ol/geom/flat/contains\n */\nimport { forEachCorner } from '../../extent.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} Contains extent.\n */\nexport function linearRingContainsExtent(flatCoordinates, offset, end, stride, extent) {\n    var outside = forEachCorner(extent, \n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains (x, y).\n     */\n    function (coordinate) {\n        return !linearRingContainsXY(flatCoordinates, offset, end, stride, coordinate[0], coordinate[1]);\n    });\n    return !outside;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingContainsXY(flatCoordinates, offset, end, stride, x, y) {\n    // https://geomalgorithms.com/a03-_inclusion.html\n    // Copyright 2000 softSurfer, 2012 Dan Sunday\n    // This code may be freely used and modified for any purpose\n    // providing that this copyright notice is included with it.\n    // SoftSurfer makes no warranty for this code, and cannot be held\n    // liable for any real or imagined damage resulting from its use.\n    // Users of this code must verify correctness for their application.\n    var wn = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        if (y1 <= y) {\n            if (y2 > y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) > 0) {\n                wn++;\n            }\n        }\n        else if (y2 <= y && (x2 - x1) * (y - y1) - (x - x1) * (y2 - y1) < 0) {\n            wn--;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    return wn !== 0;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y) {\n    if (ends.length === 0) {\n        return false;\n    }\n    if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n        return false;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n        if (linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingssContainsXY(flatCoordinates, offset, endss, stride, x, y) {\n    if (endss.length === 0) {\n        return false;\n    }\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n            return true;\n        }\n        offset = ends[ends.length - 1];\n    }\n    return false;\n}\n//# sourceMappingURL=contains.js.map","/**\n * @module ol/geom/flat/intersectsextent\n */\nimport { containsExtent, createEmpty, extendFlatCoordinates, intersects, intersectsSegment, } from '../../extent.js';\nimport { forEach as forEachSegment } from './segments.js';\nimport { linearRingContainsExtent, linearRingContainsXY } from './contains.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineString(flatCoordinates, offset, end, stride, extent) {\n    var coordinatesExtent = extendFlatCoordinates(createEmpty(), flatCoordinates, offset, end, stride);\n    if (!intersects(extent, coordinatesExtent)) {\n        return false;\n    }\n    if (containsExtent(extent, coordinatesExtent)) {\n        return true;\n    }\n    if (coordinatesExtent[0] >= extent[0] && coordinatesExtent[2] <= extent[2]) {\n        return true;\n    }\n    if (coordinatesExtent[1] >= extent[1] && coordinatesExtent[3] <= extent[3]) {\n        return true;\n    }\n    return forEachSegment(flatCoordinates, offset, end, stride, \n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n     * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n     * @return {boolean} `true` if the segment and the extent intersect,\n     *     `false` otherwise.\n     */\n    function (point1, point2) {\n        return intersectsSegment(extent, point1, point2);\n    });\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineStringArray(flatCoordinates, offset, ends, stride, extent) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        if (intersectsLineString(flatCoordinates, offset, ends[i], stride, extent)) {\n            return true;\n        }\n        offset = ends[i];\n    }\n    return false;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRing(flatCoordinates, offset, end, stride, extent) {\n    if (intersectsLineString(flatCoordinates, offset, end, stride, extent)) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[1])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[3])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[1])) {\n        return true;\n    }\n    if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[3])) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent) {\n    if (!intersectsLinearRing(flatCoordinates, offset, ends[0], stride, extent)) {\n        return false;\n    }\n    if (ends.length === 1) {\n        return true;\n    }\n    for (var i = 1, ii = ends.length; i < ii; ++i) {\n        if (linearRingContainsExtent(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n            if (!intersectsLineString(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingMultiArray(flatCoordinates, offset, endss, stride, extent) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent)) {\n            return true;\n        }\n        offset = ends[ends.length - 1];\n    }\n    return false;\n}\n//# sourceMappingURL=intersectsextent.js.map","/**\n * @module ol/size\n */\n/**\n * An array of numbers representing a size: `[width, height]`.\n * @typedef {Array<number>} Size\n * @api\n */\n/**\n * Returns a buffered size.\n * @param {Size} size Size.\n * @param {number} num The amount by which to buffer.\n * @param {Size} [opt_size] Optional reusable size array.\n * @return {Size} The buffered size.\n */\nexport function buffer(size, num, opt_size) {\n    if (opt_size === undefined) {\n        opt_size = [0, 0];\n    }\n    opt_size[0] = size[0] + 2 * num;\n    opt_size[1] = size[1] + 2 * num;\n    return opt_size;\n}\n/**\n * Determines if a size has a positive area.\n * @param {Size} size The size to test.\n * @return {boolean} The size has a positive area.\n */\nexport function hasArea(size) {\n    return size[0] > 0 && size[1] > 0;\n}\n/**\n * Returns a size scaled by a ratio. The result will be an array of integers.\n * @param {Size} size Size.\n * @param {number} ratio Ratio.\n * @param {Size} [opt_size] Optional reusable size array.\n * @return {Size} The scaled size.\n */\nexport function scale(size, ratio, opt_size) {\n    if (opt_size === undefined) {\n        opt_size = [0, 0];\n    }\n    opt_size[0] = (size[0] * ratio + 0.5) | 0;\n    opt_size[1] = (size[1] * ratio + 0.5) | 0;\n    return opt_size;\n}\n/**\n * Returns an `Size` array for the passed in number (meaning: square) or\n * `Size` array.\n * (meaning: non-square),\n * @param {number|Size} size Width and height.\n * @param {Size} [opt_size] Optional reusable size array.\n * @return {Size} Size.\n * @api\n */\nexport function toSize(size, opt_size) {\n    if (Array.isArray(size)) {\n        return size;\n    }\n    else {\n        if (opt_size === undefined) {\n            opt_size = [size, size];\n        }\n        else {\n            opt_size[0] = size;\n            opt_size[1] = size;\n        }\n        return opt_size;\n    }\n}\n//# sourceMappingURL=size.js.map","/**\n * @module ol/tilegrid/TileGrid\n */\nimport TileRange, { createOrUpdate as createOrUpdateTileRange, } from '../TileRange.js';\nimport { DEFAULT_TILE_SIZE } from './common.js';\nimport { assert } from '../asserts.js';\nimport { ceil, clamp, floor } from '../math.js';\nimport { createOrUpdate, getTopLeft } from '../extent.js';\nimport { createOrUpdate as createOrUpdateTileCoord } from '../tilecoord.js';\nimport { intersectsLinearRing } from '../geom/flat/intersectsextent.js';\nimport { isSorted, linearFindNearest } from '../array.js';\nimport { toSize } from '../size.js';\n/**\n * @private\n * @type {import(\"../tilecoord.js\").TileCoord}\n */\nvar tmpTileCoord = [0, 0, 0];\n/**\n * Number of decimal digits to consider in integer values when rounding.\n * @type {number}\n */\nvar DECIMALS = 5;\n/**\n * @typedef {Object} Options\n * @property {import(\"../extent.js\").Extent} [extent] Extent for the tile grid. No tiles outside this\n * extent will be requested by {@link module:ol/source/Tile~TileSource} sources. When no `origin` or\n * `origins` are configured, the `origin` will be set to the top-left corner of the extent.\n * @property {number} [minZoom=0] Minimum zoom.\n * @property {import(\"../coordinate.js\").Coordinate} [origin] The tile grid origin, i.e. where the `x`\n * and `y` axes meet (`[z, 0, 0]`). Tile coordinates increase left to right and downwards. If not\n * specified, `extent` or `origins` must be provided.\n * @property {Array<import(\"../coordinate.js\").Coordinate>} [origins] Tile grid origins, i.e. where\n * the `x` and `y` axes meet (`[z, 0, 0]`), for each zoom level. If given, the array length\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\n * origin. Tile coordinates increase left to right and downwards. If not specified, `extent` or\n * `origin` must be provided.\n * @property {!Array<number>} resolutions Resolutions. The array index of each resolution needs\n * to match the zoom level. This means that even if a `minZoom` is configured, the resolutions\n * array will have a length of `maxZoom + 1`.\n * @property {Array<import(\"../size.js\").Size>} [sizes] Number of tile rows and columns\n * of the grid for each zoom level. If specified the values\n * define each zoom level's extent together with the `origin` or `origins`.\n * A grid `extent` can be configured in addition, and will further limit the extent\n * for which tile requests are made by sources. If the bottom-left corner of\n * an extent is used as `origin` or `origins`, then the `y` value must be\n * negative because OpenLayers tile coordinates use the top left as the origin.\n * @property {number|import(\"../size.js\").Size} [tileSize] Tile size.\n * Default is `[256, 256]`.\n * @property {Array<number|import(\"../size.js\").Size>} [tileSizes] Tile sizes. If given, the array length\n * should match the length of the `resolutions` array, i.e. each resolution can have a different\n * tile size.\n */\n/**\n * @classdesc\n * Base class for setting the grid pattern for sources accessing tiled-image\n * servers.\n * @api\n */\nvar TileGrid = /** @class */ (function () {\n    /**\n     * @param {Options} options Tile grid options.\n     */\n    function TileGrid(options) {\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.minZoom = options.minZoom !== undefined ? options.minZoom : 0;\n        /**\n         * @private\n         * @type {!Array<number>}\n         */\n        this.resolutions_ = options.resolutions;\n        assert(isSorted(this.resolutions_, function (a, b) {\n            return b - a;\n        }, true), 17); // `resolutions` must be sorted in descending order\n        // check if we've got a consistent zoom factor and origin\n        var zoomFactor;\n        if (!options.origins) {\n            for (var i = 0, ii = this.resolutions_.length - 1; i < ii; ++i) {\n                if (!zoomFactor) {\n                    zoomFactor = this.resolutions_[i] / this.resolutions_[i + 1];\n                }\n                else {\n                    if (this.resolutions_[i] / this.resolutions_[i + 1] !== zoomFactor) {\n                        zoomFactor = undefined;\n                        break;\n                    }\n                }\n            }\n        }\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zoomFactor_ = zoomFactor;\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.maxZoom = this.resolutions_.length - 1;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate|null}\n         */\n        this.origin_ = options.origin !== undefined ? options.origin : null;\n        /**\n         * @private\n         * @type {Array<import(\"../coordinate.js\").Coordinate>}\n         */\n        this.origins_ = null;\n        if (options.origins !== undefined) {\n            this.origins_ = options.origins;\n            assert(this.origins_.length == this.resolutions_.length, 20); // Number of `origins` and `resolutions` must be equal\n        }\n        var extent = options.extent;\n        if (extent !== undefined && !this.origin_ && !this.origins_) {\n            this.origin_ = getTopLeft(extent);\n        }\n        assert((!this.origin_ && this.origins_) || (this.origin_ && !this.origins_), 18); // Either `origin` or `origins` must be configured, never both\n        /**\n         * @private\n         * @type {Array<number|import(\"../size.js\").Size>}\n         */\n        this.tileSizes_ = null;\n        if (options.tileSizes !== undefined) {\n            this.tileSizes_ = options.tileSizes;\n            assert(this.tileSizes_.length == this.resolutions_.length, 19); // Number of `tileSizes` and `resolutions` must be equal\n        }\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.tileSize_ =\n            options.tileSize !== undefined\n                ? options.tileSize\n                : !this.tileSizes_\n                    ? DEFAULT_TILE_SIZE\n                    : null;\n        assert((!this.tileSize_ && this.tileSizes_) ||\n            (this.tileSize_ && !this.tileSizes_), 22); // Either `tileSize` or `tileSizes` must be configured, never both\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.extent_ = extent !== undefined ? extent : null;\n        /**\n         * @private\n         * @type {Array<import(\"../TileRange.js\").default>}\n         */\n        this.fullTileRanges_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.tmpSize_ = [0, 0];\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        this.tmpExtent_ = [0, 0, 0, 0];\n        if (options.sizes !== undefined) {\n            this.fullTileRanges_ = options.sizes.map(function (size, z) {\n                var tileRange = new TileRange(Math.min(0, size[0]), Math.max(size[0] - 1, -1), Math.min(0, size[1]), Math.max(size[1] - 1, -1));\n                if (extent) {\n                    var restrictedTileRange = this.getTileRangeForExtentAndZ(extent, z);\n                    tileRange.minX = Math.max(restrictedTileRange.minX, tileRange.minX);\n                    tileRange.maxX = Math.min(restrictedTileRange.maxX, tileRange.maxX);\n                    tileRange.minY = Math.max(restrictedTileRange.minY, tileRange.minY);\n                    tileRange.maxY = Math.min(restrictedTileRange.maxY, tileRange.maxY);\n                }\n                return tileRange;\n            }, this);\n        }\n        else if (extent) {\n            this.calculateTileRanges_(extent);\n        }\n    }\n    /**\n     * Call a function with each tile coordinate for a given extent and zoom level.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} zoom Integer zoom level.\n     * @param {function(import(\"../tilecoord.js\").TileCoord): void} callback Function called with each tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.forEachTileCoord = function (extent, zoom, callback) {\n        var tileRange = this.getTileRangeForExtentAndZ(extent, zoom);\n        for (var i = tileRange.minX, ii = tileRange.maxX; i <= ii; ++i) {\n            for (var j = tileRange.minY, jj = tileRange.maxY; j <= jj; ++j) {\n                callback([zoom, i, j]);\n            }\n        }\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {function(number, import(\"../TileRange.js\").default): boolean} callback Callback.\n     * @param {import(\"../TileRange.js\").default} [opt_tileRange] Temporary import(\"../TileRange.js\").default object.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Temporary import(\"../extent.js\").Extent object.\n     * @return {boolean} Callback succeeded.\n     */\n    TileGrid.prototype.forEachTileCoordParentTileRange = function (tileCoord, callback, opt_tileRange, opt_extent) {\n        var tileRange, x, y;\n        var tileCoordExtent = null;\n        var z = tileCoord[0] - 1;\n        if (this.zoomFactor_ === 2) {\n            x = tileCoord[1];\n            y = tileCoord[2];\n        }\n        else {\n            tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent);\n        }\n        while (z >= this.minZoom) {\n            if (this.zoomFactor_ === 2) {\n                x = Math.floor(x / 2);\n                y = Math.floor(y / 2);\n                tileRange = createOrUpdateTileRange(x, x, y, y, opt_tileRange);\n            }\n            else {\n                tileRange = this.getTileRangeForExtentAndZ(tileCoordExtent, z, opt_tileRange);\n            }\n            if (callback(z, tileRange)) {\n                return true;\n            }\n            --z;\n        }\n        return false;\n    };\n    /**\n     * Get the extent for this tile grid, if it was configured.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    TileGrid.prototype.getExtent = function () {\n        return this.extent_;\n    };\n    /**\n     * Get the maximum zoom level for the grid.\n     * @return {number} Max zoom.\n     * @api\n     */\n    TileGrid.prototype.getMaxZoom = function () {\n        return this.maxZoom;\n    };\n    /**\n     * Get the minimum zoom level for the grid.\n     * @return {number} Min zoom.\n     * @api\n     */\n    TileGrid.prototype.getMinZoom = function () {\n        return this.minZoom;\n    };\n    /**\n     * Get the origin for the grid at the given zoom level.\n     * @param {number} z Integer zoom level.\n     * @return {import(\"../coordinate.js\").Coordinate} Origin.\n     * @api\n     */\n    TileGrid.prototype.getOrigin = function (z) {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        else {\n            return this.origins_[z];\n        }\n    };\n    /**\n     * Get the resolution for the given zoom level.\n     * @param {number} z Integer zoom level.\n     * @return {number} Resolution.\n     * @api\n     */\n    TileGrid.prototype.getResolution = function (z) {\n        return this.resolutions_[z];\n    };\n    /**\n     * Get the list of resolutions for the tile grid.\n     * @return {Array<number>} Resolutions.\n     * @api\n     */\n    TileGrid.prototype.getResolutions = function () {\n        return this.resolutions_;\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../TileRange.js\").default} [opt_tileRange] Temporary import(\"../TileRange.js\").default object.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Temporary import(\"../extent.js\").Extent object.\n     * @return {import(\"../TileRange.js\").default|null} Tile range.\n     */\n    TileGrid.prototype.getTileCoordChildTileRange = function (tileCoord, opt_tileRange, opt_extent) {\n        if (tileCoord[0] < this.maxZoom) {\n            if (this.zoomFactor_ === 2) {\n                var minX = tileCoord[1] * 2;\n                var minY = tileCoord[2] * 2;\n                return createOrUpdateTileRange(minX, minX + 1, minY, minY + 1, opt_tileRange);\n            }\n            var tileCoordExtent = this.getTileCoordExtent(tileCoord, opt_extent || this.tmpExtent_);\n            return this.getTileRangeForExtentAndZ(tileCoordExtent, tileCoord[0] + 1, opt_tileRange);\n        }\n        return null;\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {number} z Integer zoom level.\n     * @param {import(\"../TileRange.js\").default} [opt_tileRange] Temporary import(\"../TileRange.js\").default object.\n     * @return {import(\"../TileRange.js\").default|null} Tile range.\n     */\n    TileGrid.prototype.getTileRangeForTileCoordAndZ = function (tileCoord, z, opt_tileRange) {\n        if (z > this.maxZoom || z < this.minZoom) {\n            return null;\n        }\n        var tileCoordZ = tileCoord[0];\n        var tileCoordX = tileCoord[1];\n        var tileCoordY = tileCoord[2];\n        if (z === tileCoordZ) {\n            return createOrUpdateTileRange(tileCoordX, tileCoordY, tileCoordX, tileCoordY, opt_tileRange);\n        }\n        if (this.zoomFactor_) {\n            var factor = Math.pow(this.zoomFactor_, z - tileCoordZ);\n            var minX = Math.floor(tileCoordX * factor);\n            var minY = Math.floor(tileCoordY * factor);\n            if (z < tileCoordZ) {\n                return createOrUpdateTileRange(minX, minX, minY, minY, opt_tileRange);\n            }\n            var maxX = Math.floor(factor * (tileCoordX + 1)) - 1;\n            var maxY = Math.floor(factor * (tileCoordY + 1)) - 1;\n            return createOrUpdateTileRange(minX, maxX, minY, maxY, opt_tileRange);\n        }\n        var tileCoordExtent = this.getTileCoordExtent(tileCoord, this.tmpExtent_);\n        return this.getTileRangeForExtentAndZ(tileCoordExtent, z, opt_tileRange);\n    };\n    /**\n     * Get the extent for a tile range.\n     * @param {number} z Integer zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Temporary import(\"../extent.js\").Extent object.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    TileGrid.prototype.getTileRangeExtent = function (z, tileRange, opt_extent) {\n        var origin = this.getOrigin(z);\n        var resolution = this.getResolution(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var minX = origin[0] + tileRange.minX * tileSize[0] * resolution;\n        var maxX = origin[0] + (tileRange.maxX + 1) * tileSize[0] * resolution;\n        var minY = origin[1] + tileRange.minY * tileSize[1] * resolution;\n        var maxY = origin[1] + (tileRange.maxY + 1) * tileSize[1] * resolution;\n        return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n    };\n    /**\n     * Get a tile range for the given extent and integer zoom level.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} z Integer zoom level.\n     * @param {import(\"../TileRange.js\").default} [opt_tileRange] Temporary tile range object.\n     * @return {import(\"../TileRange.js\").default} Tile range.\n     */\n    TileGrid.prototype.getTileRangeForExtentAndZ = function (extent, z, opt_tileRange) {\n        var tileCoord = tmpTileCoord;\n        this.getTileCoordForXYAndZ_(extent[0], extent[3], z, false, tileCoord);\n        var minX = tileCoord[1];\n        var minY = tileCoord[2];\n        this.getTileCoordForXYAndZ_(extent[2], extent[1], z, true, tileCoord);\n        return createOrUpdateTileRange(minX, tileCoord[1], minY, tileCoord[2], opt_tileRange);\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {import(\"../coordinate.js\").Coordinate} Tile center.\n     */\n    TileGrid.prototype.getTileCoordCenter = function (tileCoord) {\n        var origin = this.getOrigin(tileCoord[0]);\n        var resolution = this.getResolution(tileCoord[0]);\n        var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n        return [\n            origin[0] + (tileCoord[1] + 0.5) * tileSize[0] * resolution,\n            origin[1] - (tileCoord[2] + 0.5) * tileSize[1] * resolution,\n        ];\n    };\n    /**\n     * Get the extent of a tile coordinate.\n     *\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Temporary extent object.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordExtent = function (tileCoord, opt_extent) {\n        var origin = this.getOrigin(tileCoord[0]);\n        var resolution = this.getResolution(tileCoord[0]);\n        var tileSize = toSize(this.getTileSize(tileCoord[0]), this.tmpSize_);\n        var minX = origin[0] + tileCoord[1] * tileSize[0] * resolution;\n        var minY = origin[1] - (tileCoord[2] + 1) * tileSize[1] * resolution;\n        var maxX = minX + tileSize[0] * resolution;\n        var maxY = minY + tileSize[1] * resolution;\n        return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n    };\n    /**\n     * Get the tile coordinate for the given map coordinate and resolution.  This\n     * method considers that coordinates that intersect tile boundaries should be\n     * assigned the higher tile coordinate.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Destination import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordForCoordAndResolution = function (coordinate, resolution, opt_tileCoord) {\n        return this.getTileCoordForXYAndResolution_(coordinate[0], coordinate[1], resolution, false, opt_tileCoord);\n    };\n    /**\n     * Note that this method should not be called for resolutions that correspond\n     * to an integer zoom level.  Instead call the `getTileCoordForXYAndZ_` method.\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {number} resolution Resolution (for a non-integer zoom level).\n     * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n     *     intersections go to the higher tile coordinate, let edge intersections\n     *     go to the lower tile coordinate.\n     * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Temporary import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @private\n     */\n    TileGrid.prototype.getTileCoordForXYAndResolution_ = function (x, y, resolution, reverseIntersectionPolicy, opt_tileCoord) {\n        var z = this.getZForResolution(resolution);\n        var scale = resolution / this.getResolution(z);\n        var origin = this.getOrigin(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var tileCoordX = (scale * (x - origin[0])) / resolution / tileSize[0];\n        var tileCoordY = (scale * (origin[1] - y)) / resolution / tileSize[1];\n        if (reverseIntersectionPolicy) {\n            tileCoordX = ceil(tileCoordX, DECIMALS) - 1;\n            tileCoordY = ceil(tileCoordY, DECIMALS) - 1;\n        }\n        else {\n            tileCoordX = floor(tileCoordX, DECIMALS);\n            tileCoordY = floor(tileCoordY, DECIMALS);\n        }\n        return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\n    };\n    /**\n     * Although there is repetition between this method and `getTileCoordForXYAndResolution_`,\n     * they should have separate implementations.  This method is for integer zoom\n     * levels.  The other method should only be called for resolutions corresponding\n     * to non-integer zoom levels.\n     * @param {number} x Map x coordinate.\n     * @param {number} y Map y coordinate.\n     * @param {number} z Integer zoom level.\n     * @param {boolean} reverseIntersectionPolicy Instead of letting edge\n     *     intersections go to the higher tile coordinate, let edge intersections\n     *     go to the lower tile coordinate.\n     * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Temporary import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @private\n     */\n    TileGrid.prototype.getTileCoordForXYAndZ_ = function (x, y, z, reverseIntersectionPolicy, opt_tileCoord) {\n        var origin = this.getOrigin(z);\n        var resolution = this.getResolution(z);\n        var tileSize = toSize(this.getTileSize(z), this.tmpSize_);\n        var tileCoordX = (x - origin[0]) / resolution / tileSize[0];\n        var tileCoordY = (origin[1] - y) / resolution / tileSize[1];\n        if (reverseIntersectionPolicy) {\n            tileCoordX = ceil(tileCoordX, DECIMALS) - 1;\n            tileCoordY = ceil(tileCoordY, DECIMALS) - 1;\n        }\n        else {\n            tileCoordX = floor(tileCoordX, DECIMALS);\n            tileCoordY = floor(tileCoordY, DECIMALS);\n        }\n        return createOrUpdateTileCoord(z, tileCoordX, tileCoordY, opt_tileCoord);\n    };\n    /**\n     * Get a tile coordinate given a map coordinate and zoom level.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} z Zoom level.\n     * @param {import(\"../tilecoord.js\").TileCoord} [opt_tileCoord] Destination import(\"../tilecoord.js\").TileCoord object.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate.\n     * @api\n     */\n    TileGrid.prototype.getTileCoordForCoordAndZ = function (coordinate, z, opt_tileCoord) {\n        return this.getTileCoordForXYAndZ_(coordinate[0], coordinate[1], z, false, opt_tileCoord);\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @return {number} Tile resolution.\n     */\n    TileGrid.prototype.getTileCoordResolution = function (tileCoord) {\n        return this.resolutions_[tileCoord[0]];\n    };\n    /**\n     * Get the tile size for a zoom level. The type of the return value matches the\n     * `tileSize` or `tileSizes` that the tile grid was configured with. To always\n     * get an {@link import(\"../size.js\").Size}, run the result through {@link module:ol/size.toSize}.\n     * @param {number} z Z.\n     * @return {number|import(\"../size.js\").Size} Tile size.\n     * @api\n     */\n    TileGrid.prototype.getTileSize = function (z) {\n        if (this.tileSize_) {\n            return this.tileSize_;\n        }\n        else {\n            return this.tileSizes_[z];\n        }\n    };\n    /**\n     * @param {number} z Zoom level.\n     * @return {import(\"../TileRange.js\").default} Extent tile range for the specified zoom level.\n     */\n    TileGrid.prototype.getFullTileRange = function (z) {\n        if (!this.fullTileRanges_) {\n            return this.extent_\n                ? this.getTileRangeForExtentAndZ(this.extent_, z)\n                : null;\n        }\n        else {\n            return this.fullTileRanges_[z];\n        }\n    };\n    /**\n     * @param {number} resolution Resolution.\n     * @param {number|import(\"../array.js\").NearestDirectionFunction} [opt_direction]\n     *     If 0, the nearest resolution will be used.\n     *     If 1, the nearest higher resolution (lower Z) will be used. If -1, the\n     *     nearest lower resolution (higher Z) will be used. Default is 0.\n     *     Use a {@link module:ol/array~NearestDirectionFunction} for more precise control.\n     *\n     * For example to change tile Z at the midpoint of zoom levels\n     * ```js\n     * function(value, high, low) {\n     *   return value - low * Math.sqrt(high / low);\n     * }\n     * ```\n     * @return {number} Z.\n     * @api\n     */\n    TileGrid.prototype.getZForResolution = function (resolution, opt_direction) {\n        var z = linearFindNearest(this.resolutions_, resolution, opt_direction || 0);\n        return clamp(z, this.minZoom, this.maxZoom);\n    };\n    /**\n     * The tile with the provided tile coordinate intersects the given viewport.\n     * @param {import('../tilecoord.js').TileCoord} tileCoord Tile coordinate.\n     * @param {Array<number>} viewport Viewport as returned from {@link module:ol/extent.getRotatedViewport}.\n     * @return {boolean} The tile with the provided tile coordinate intersects the given viewport.\n     */\n    TileGrid.prototype.tileCoordIntersectsViewport = function (tileCoord, viewport) {\n        return intersectsLinearRing(viewport, 0, viewport.length, 2, this.getTileCoordExtent(tileCoord));\n    };\n    /**\n     * @param {!import(\"../extent.js\").Extent} extent Extent for this tile grid.\n     * @private\n     */\n    TileGrid.prototype.calculateTileRanges_ = function (extent) {\n        var length = this.resolutions_.length;\n        var fullTileRanges = new Array(length);\n        for (var z = this.minZoom; z < length; ++z) {\n            fullTileRanges[z] = this.getTileRangeForExtentAndZ(extent, z);\n        }\n        this.fullTileRanges_ = fullTileRanges;\n    };\n    return TileGrid;\n}());\nexport default TileGrid;\n//# sourceMappingURL=TileGrid.js.map","/**\n * @module ol/tilegrid/common\n */\n/**\n * Default maximum zoom for default tile grids.\n * @type {number}\n */\nexport var DEFAULT_MAX_ZOOM = 42;\n/**\n * Default tile size.\n * @type {number}\n */\nexport var DEFAULT_TILE_SIZE = 256;\n//# sourceMappingURL=common.js.map","/**\n * @module ol/tilegrid\n */\nimport TileGrid from './tilegrid/TileGrid.js';\nimport Units from './proj/Units.js';\nimport { DEFAULT_MAX_ZOOM, DEFAULT_TILE_SIZE } from './tilegrid/common.js';\nimport { METERS_PER_UNIT, get as getProjection } from './proj.js';\nimport { containsCoordinate, createOrUpdate, getCorner, getHeight, getWidth, } from './extent.js';\nimport { toSize } from './size.js';\n/**\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {!TileGrid} Default tile grid for the\n * passed projection.\n */\nexport function getForProjection(projection) {\n    var tileGrid = projection.getDefaultTileGrid();\n    if (!tileGrid) {\n        tileGrid = createForProjection(projection);\n        projection.setDefaultTileGrid(tileGrid);\n    }\n    return tileGrid;\n}\n/**\n * @param {TileGrid} tileGrid Tile grid.\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {import(\"./tilecoord.js\").TileCoord} Tile coordinate.\n */\nexport function wrapX(tileGrid, tileCoord, projection) {\n    var z = tileCoord[0];\n    var center = tileGrid.getTileCoordCenter(tileCoord);\n    var projectionExtent = extentFromProjection(projection);\n    if (!containsCoordinate(projectionExtent, center)) {\n        var worldWidth = getWidth(projectionExtent);\n        var worldsAway = Math.ceil((projectionExtent[0] - center[0]) / worldWidth);\n        center[0] += worldWidth * worldsAway;\n        return tileGrid.getTileCoordForCoordAndZ(center, z);\n    }\n    else {\n        return tileCoord;\n    }\n}\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} [opt_maxZoom] Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size} [opt_tileSize] Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {import(\"./extent.js\").Corner} [opt_corner] Extent corner (default is `'top-left'`).\n * @return {!TileGrid} TileGrid instance.\n */\nexport function createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner) {\n    var corner = opt_corner !== undefined ? opt_corner : 'top-left';\n    var resolutions = resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize);\n    return new TileGrid({\n        extent: extent,\n        origin: getCorner(extent, corner),\n        resolutions: resolutions,\n        tileSize: opt_tileSize,\n    });\n}\n/**\n * @typedef {Object} XYZOptions\n * @property {import(\"./extent.js\").Extent} [extent] Extent for the tile grid. The origin for an XYZ tile grid is the\n * top-left corner of the extent. If `maxResolution` is not provided the zero level of the grid is defined by the resolution\n * at which one tile fits in the provided extent. If not provided, the extent of the EPSG:3857 projection is used.\n * @property {number} [maxResolution] Resolution at level zero.\n * @property {number} [maxZoom] Maximum zoom. The default is `42`. This determines the number of levels\n * in the grid set. For example, a `maxZoom` of 21 means there are 22 levels in the grid set.\n * @property {number} [minZoom=0] Minimum zoom.\n * @property {number|import(\"./size.js\").Size} [tileSize=[256, 256]] Tile size in pixels.\n */\n/**\n * Creates a tile grid with a standard XYZ tiling scheme.\n * @param {XYZOptions} [opt_options] Tile grid options.\n * @return {!TileGrid} Tile grid instance.\n * @api\n */\nexport function createXYZ(opt_options) {\n    var xyzOptions = opt_options || {};\n    var extent = xyzOptions.extent || getProjection('EPSG:3857').getExtent();\n    var gridOptions = {\n        extent: extent,\n        minZoom: xyzOptions.minZoom,\n        tileSize: xyzOptions.tileSize,\n        resolutions: resolutionsFromExtent(extent, xyzOptions.maxZoom, xyzOptions.tileSize, xyzOptions.maxResolution),\n    };\n    return new TileGrid(gridOptions);\n}\n/**\n * Create a resolutions array from an extent.  A zoom factor of 2 is assumed.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} [opt_maxZoom] Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size} [opt_tileSize] Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {number} [opt_maxResolution] Resolution at level zero.\n * @return {!Array<number>} Resolutions array.\n */\nfunction resolutionsFromExtent(extent, opt_maxZoom, opt_tileSize, opt_maxResolution) {\n    var maxZoom = opt_maxZoom !== undefined ? opt_maxZoom : DEFAULT_MAX_ZOOM;\n    var height = getHeight(extent);\n    var width = getWidth(extent);\n    var tileSize = toSize(opt_tileSize !== undefined ? opt_tileSize : DEFAULT_TILE_SIZE);\n    var maxResolution = opt_maxResolution > 0\n        ? opt_maxResolution\n        : Math.max(width / tileSize[0], height / tileSize[1]);\n    var length = maxZoom + 1;\n    var resolutions = new Array(length);\n    for (var z = 0; z < length; ++z) {\n        resolutions[z] = maxResolution / Math.pow(2, z);\n    }\n    return resolutions;\n}\n/**\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n * @param {number} [opt_maxZoom] Maximum zoom level (default is\n *     DEFAULT_MAX_ZOOM).\n * @param {number|import(\"./size.js\").Size} [opt_tileSize] Tile size (default uses\n *     DEFAULT_TILE_SIZE).\n * @param {import(\"./extent.js\").Corner} [opt_corner] Extent corner (default is `'top-left'`).\n * @return {!TileGrid} TileGrid instance.\n */\nexport function createForProjection(projection, opt_maxZoom, opt_tileSize, opt_corner) {\n    var extent = extentFromProjection(projection);\n    return createForExtent(extent, opt_maxZoom, opt_tileSize, opt_corner);\n}\n/**\n * Generate a tile grid extent from a projection.  If the projection has an\n * extent, it is used.  If not, a global extent is assumed.\n * @param {import(\"./proj.js\").ProjectionLike} projection Projection.\n * @return {import(\"./extent.js\").Extent} Extent.\n */\nexport function extentFromProjection(projection) {\n    projection = getProjection(projection);\n    var extent = projection.getExtent();\n    if (!extent) {\n        var half = (180 * METERS_PER_UNIT[Units.DEGREES]) / projection.getMetersPerUnit();\n        extent = createOrUpdate(-half, -half, half, half);\n    }\n    return extent;\n}\n//# sourceMappingURL=tilegrid.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Tile\n */\nimport Event from '../events/Event.js';\nimport Source from './Source.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport { abstract } from '../util.js';\nimport { assert } from '../asserts.js';\nimport { equivalent } from '../proj.js';\nimport { getKeyZXY, withinExtentAndZ } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection, wrapX, } from '../tilegrid.js';\nimport { scale as scaleSize, toSize } from '../size.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./TileEventType\").TileSourceEventTypes, TileSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     import(\"./TileEventType\").TileSourceEventTypes, Return>} TileSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] CacheSize.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {number} [tilePixelRatio] TilePixelRatio.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {import(\"./Source.js\").State} [state] State.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\n * @property {boolean} [wrapX=false] WrapX.\n * @property {number} [transition] Transition.\n * @property {string} [key] Key.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for sources providing images divided into a tile grid.\n * @abstract\n * @api\n */\nvar TileSource = /** @class */ (function (_super) {\n    __extends(TileSource, _super);\n    /**\n     * @param {Options} options SourceTile source options.\n     */\n    function TileSource(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            attributionsCollapsible: options.attributionsCollapsible,\n            projection: options.projection,\n            state: options.state,\n            wrapX: options.wrapX,\n            interpolate: options.interpolate,\n        }) || this;\n        /***\n         * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {TileSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {TileSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.opaque_ = options.opaque !== undefined ? options.opaque : false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.tilePixelRatio_ =\n            options.tilePixelRatio !== undefined ? options.tilePixelRatio : 1;\n        /**\n         * @type {import(\"../tilegrid/TileGrid.js\").default|null}\n         */\n        _this.tileGrid = options.tileGrid !== undefined ? options.tileGrid : null;\n        var tileSize = [256, 256];\n        if (_this.tileGrid) {\n            toSize(_this.tileGrid.getTileSize(_this.tileGrid.getMinZoom()), tileSize);\n        }\n        /**\n         * @protected\n         * @type {import(\"../TileCache.js\").default}\n         */\n        _this.tileCache = new TileCache(options.cacheSize || 0);\n        /**\n         * @protected\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.tmpSize = [0, 0];\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.key_ = options.key || '';\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").Options}\n         */\n        _this.tileOptions = {\n            transition: options.transition,\n            interpolate: options.interpolate,\n        };\n        /**\n         * zDirection hint, read by the renderer. Indicates which resolution should be used\n         * by a renderer if the views resolution does not match any resolution of the tile source.\n         * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n         * will be used. If -1, the nearest higher resolution will be used.\n         * @type {number|import(\"../array.js\").NearestDirectionFunction}\n         */\n        _this.zDirection = options.zDirection ? options.zDirection : 0;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileSource.prototype.canExpireCache = function () {\n        return this.tileCache.canExpireCache();\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileSource.prototype.expireCache = function (projection, usedTiles) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCache) {\n            tileCache.expireCache(usedTiles);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {number} z Zoom level.\n     * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n     * @param {function(import(\"../Tile.js\").default):(boolean|void)} callback Called with each\n     *     loaded tile.  If the callback returns `false`, the tile will not be\n     *     considered loaded.\n     * @return {boolean} The tile range is fully covered with loaded tiles.\n     */\n    TileSource.prototype.forEachLoadedTile = function (projection, z, tileRange, callback) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (!tileCache) {\n            return false;\n        }\n        var covered = true;\n        var tile, tileCoordKey, loaded;\n        for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n            for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                tileCoordKey = getKeyZXY(z, x, y);\n                loaded = false;\n                if (tileCache.containsKey(tileCoordKey)) {\n                    tile = /** @type {!import(\"../Tile.js\").default} */ (tileCache.get(tileCoordKey));\n                    loaded = tile.getState() === TileState.LOADED;\n                    if (loaded) {\n                        loaded = callback(tile) !== false;\n                    }\n                }\n                if (!loaded) {\n                    covered = false;\n                }\n            }\n        }\n        return covered;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileSource.prototype.getGutterForProjection = function (projection) {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     */\n    TileSource.prototype.getKey = function () {\n        return this.key_;\n    };\n    /**\n     * Set the value to be used as the key for all tiles in the source.\n     * @param {string} key The key for tiles.\n     * @protected\n     */\n    TileSource.prototype.setKey = function (key) {\n        if (this.key_ !== key) {\n            this.key_ = key;\n            this.changed();\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileSource.prototype.getOpaque = function (projection) {\n        return this.opaque_;\n    };\n    /**\n     * @return {Array<number>|null} Resolutions.\n     */\n    TileSource.prototype.getResolutions = function () {\n        if (!this.tileGrid) {\n            return null;\n        }\n        return this.tileGrid.getResolutions();\n    };\n    /**\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../Tile.js\").default} Tile.\n     */\n    TileSource.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        return abstract();\n    };\n    /**\n     * Return the tile grid of the tile source.\n     * @return {import(\"../tilegrid/TileGrid.js\").default|null} Tile grid.\n     * @api\n     */\n    TileSource.prototype.getTileGrid = function () {\n        return this.tileGrid;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileSource.prototype.getTileGridForProjection = function (projection) {\n        if (!this.tileGrid) {\n            return getTileGridForProjection(projection);\n        }\n        else {\n            return this.tileGrid;\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     * @protected\n     */\n    TileSource.prototype.getTileCacheForProjection = function (projection) {\n        var sourceProjection = this.getProjection();\n        assert(sourceProjection === null || equivalent(sourceProjection, projection), 68 // A VectorTile source can only be rendered if it has a projection compatible with the view projection.\n        );\n        return this.tileCache;\n    };\n    /**\n     * Get the tile pixel ratio for this source. Subclasses may override this\n     * method, which is meant to return a supported pixel ratio that matches the\n     * provided `pixelRatio` as close as possible.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    TileSource.prototype.getTilePixelRatio = function (pixelRatio) {\n        return this.tilePixelRatio_;\n    };\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    TileSource.prototype.getTilePixelSize = function (z, pixelRatio, projection) {\n        var tileGrid = this.getTileGridForProjection(projection);\n        var tilePixelRatio = this.getTilePixelRatio(pixelRatio);\n        var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n        if (tilePixelRatio == 1) {\n            return tileSize;\n        }\n        else {\n            return scaleSize(tileSize, tilePixelRatio, this.tmpSize);\n        }\n    };\n    /**\n     * Returns a tile coordinate wrapped around the x-axis. When the tile coordinate\n     * is outside the resolution and extent range of the tile grid, `null` will be\n     * returned.\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"../proj/Projection.js\").default} [opt_projection] Projection.\n     * @return {import(\"../tilecoord.js\").TileCoord} Tile coordinate to be passed to the tileUrlFunction or\n     *     null if no tile URL should be created for the passed `tileCoord`.\n     */\n    TileSource.prototype.getTileCoordForTileUrlFunction = function (tileCoord, opt_projection) {\n        var projection = opt_projection !== undefined ? opt_projection : this.getProjection();\n        var tileGrid = this.getTileGridForProjection(projection);\n        if (this.getWrapX() && projection.isGlobal()) {\n            tileCoord = wrapX(tileGrid, tileCoord, projection);\n        }\n        return withinExtentAndZ(tileCoord, tileGrid) ? tileCoord : null;\n    };\n    /**\n     * Remove all cached tiles from the source. The next render cycle will fetch new tiles.\n     * @api\n     */\n    TileSource.prototype.clear = function () {\n        this.tileCache.clear();\n    };\n    TileSource.prototype.refresh = function () {\n        this.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Increases the cache size if needed\n     * @param {number} tileCount Minimum number of tiles needed.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.updateCacheSize = function (tileCount, projection) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        if (tileCount > tileCache.highWaterMark) {\n            tileCache.highWaterMark = tileCount;\n        }\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @abstract\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    TileSource.prototype.useTile = function (z, x, y, projection) { };\n    return TileSource;\n}(Source));\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Tile~TileSource} instances are instances of this\n * type.\n */\nvar TileSourceEvent = /** @class */ (function (_super) {\n    __extends(TileSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Tile.js\").default} tile The tile.\n     */\n    function TileSourceEvent(type, tile) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The tile related to the event.\n         * @type {import(\"../Tile.js\").default}\n         * @api\n         */\n        _this.tile = tile;\n        return _this;\n    }\n    return TileSourceEvent;\n}(Event));\nexport { TileSourceEvent };\nexport default TileSource;\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/tileurlfunction\n */\nimport { assert } from './asserts.js';\nimport { modulo } from './math.js';\nimport { hash as tileCoordHash } from './tilecoord.js';\n/**\n * @param {string} template Template.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplate(template, tileGrid) {\n    var zRegEx = /\\{z\\}/g;\n    var xRegEx = /\\{x\\}/g;\n    var yRegEx = /\\{y\\}/g;\n    var dashYRegEx = /\\{-y\\}/g;\n    return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n            return undefined;\n        }\n        else {\n            return template\n                .replace(zRegEx, tileCoord[0].toString())\n                .replace(xRegEx, tileCoord[1].toString())\n                .replace(yRegEx, tileCoord[2].toString())\n                .replace(dashYRegEx, function () {\n                var z = tileCoord[0];\n                var range = tileGrid.getFullTileRange(z);\n                assert(range, 55); // The {-y} placeholder requires a tile grid with extent\n                var y = range.getHeight() - tileCoord[2] - 1;\n                return y.toString();\n            });\n        }\n    });\n}\n/**\n * @param {Array<string>} templates Templates.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTemplates(templates, tileGrid) {\n    var len = templates.length;\n    var tileUrlFunctions = new Array(len);\n    for (var i = 0; i < len; ++i) {\n        tileUrlFunctions[i] = createFromTemplate(templates[i], tileGrid);\n    }\n    return createFromTileUrlFunctions(tileUrlFunctions);\n}\n/**\n * @param {Array<import(\"./Tile.js\").UrlFunction>} tileUrlFunctions Tile URL Functions.\n * @return {import(\"./Tile.js\").UrlFunction} Tile URL function.\n */\nexport function createFromTileUrlFunctions(tileUrlFunctions) {\n    if (tileUrlFunctions.length === 1) {\n        return tileUrlFunctions[0];\n    }\n    return (\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile Coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    function (tileCoord, pixelRatio, projection) {\n        if (!tileCoord) {\n            return undefined;\n        }\n        else {\n            var h = tileCoordHash(tileCoord);\n            var index = modulo(h, tileUrlFunctions.length);\n            return tileUrlFunctions[index](tileCoord, pixelRatio, projection);\n        }\n    });\n}\n/**\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @param {number} pixelRatio Pixel ratio.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @return {string|undefined} Tile URL.\n */\nexport function nullTileUrlFunction(tileCoord, pixelRatio, projection) {\n    return undefined;\n}\n/**\n * @param {string} url URL.\n * @return {Array<string>} Array of urls.\n */\nexport function expandUrl(url) {\n    var urls = [];\n    var match = /\\{([a-z])-([a-z])\\}/.exec(url);\n    if (match) {\n        // char range\n        var startCharCode = match[1].charCodeAt(0);\n        var stopCharCode = match[2].charCodeAt(0);\n        var charCode = void 0;\n        for (charCode = startCharCode; charCode <= stopCharCode; ++charCode) {\n            urls.push(url.replace(match[0], String.fromCharCode(charCode)));\n        }\n        return urls;\n    }\n    match = /\\{(\\d+)-(\\d+)\\}/.exec(url);\n    if (match) {\n        // number range\n        var stop_1 = parseInt(match[2], 10);\n        for (var i = parseInt(match[1], 10); i <= stop_1; i++) {\n            urls.push(url.replace(match[0], i.toString()));\n        }\n        return urls;\n    }\n    urls.push(url);\n    return urls;\n}\n//# sourceMappingURL=tileurlfunction.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/UrlTile\n */\nimport TileEventType from './TileEventType.js';\nimport TileSource, { TileSourceEvent } from './Tile.js';\nimport TileState from '../TileState.js';\nimport { createFromTemplates, expandUrl } from '../tileurlfunction.js';\nimport { getKeyZXY } from '../tilecoord.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Cache size.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {import(\"./Source.js\").State} [state] State.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] TileGrid.\n * @property {import(\"../Tile.js\").LoadFunction} tileLoadFunction TileLoadFunction.\n * @property {number} [tilePixelRatio] TilePixelRatio.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] TileUrlFunction.\n * @property {string} [url] Url.\n * @property {Array<string>} [urls] Urls.\n * @property {boolean} [wrapX=true] WrapX.\n * @property {number} [transition] Transition.\n * @property {string} [key] Key.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0] ZDirection.\n * @property {boolean} [interpolate=false] Use interpolated values when resampling.  By default,\n * the nearest neighbor is used when resampling.\n */\n/**\n * @classdesc\n * Base class for sources providing tiles divided into a tile grid over http.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n */\nvar UrlTile = /** @class */ (function (_super) {\n    __extends(UrlTile, _super);\n    /**\n     * @param {Options} options Image tile options.\n     */\n    function UrlTile(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tilePixelRatio: options.tilePixelRatio,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            interpolate: options.interpolate,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.generateTileUrlFunction_ =\n            _this.tileUrlFunction === UrlTile.prototype.tileUrlFunction;\n        /**\n         * @protected\n         * @type {import(\"../Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction = options.tileLoadFunction;\n        if (options.tileUrlFunction) {\n            _this.tileUrlFunction = options.tileUrlFunction;\n        }\n        /**\n         * @protected\n         * @type {!Array<string>|null}\n         */\n        _this.urls = null;\n        if (options.urls) {\n            _this.setUrls(options.urls);\n        }\n        else if (options.url) {\n            _this.setUrl(options.url);\n        }\n        /**\n         * @private\n         * @type {!Object<string, boolean>}\n         */\n        _this.tileLoadingKeys_ = {};\n        return _this;\n    }\n    /**\n     * Return the tile load function of the source.\n     * @return {import(\"../Tile.js\").LoadFunction} TileLoadFunction\n     * @api\n     */\n    UrlTile.prototype.getTileLoadFunction = function () {\n        return this.tileLoadFunction;\n    };\n    /**\n     * Return the tile URL function of the source.\n     * @return {import(\"../Tile.js\").UrlFunction} TileUrlFunction\n     * @api\n     */\n    UrlTile.prototype.getTileUrlFunction = function () {\n        return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction\n            ? this.tileUrlFunction.bind(this)\n            : this.tileUrlFunction;\n    };\n    /**\n     * Return the URLs used for this source.\n     * When a tileUrlFunction is used instead of url or urls,\n     * null will be returned.\n     * @return {!Array<string>|null} URLs.\n     * @api\n     */\n    UrlTile.prototype.getUrls = function () {\n        return this.urls;\n    };\n    /**\n     * Handle tile change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    UrlTile.prototype.handleTileChange = function (event) {\n        var tile = /** @type {import(\"../Tile.js\").default} */ (event.target);\n        var uid = getUid(tile);\n        var tileState = tile.getState();\n        var type;\n        if (tileState == TileState.LOADING) {\n            this.tileLoadingKeys_[uid] = true;\n            type = TileEventType.TILELOADSTART;\n        }\n        else if (uid in this.tileLoadingKeys_) {\n            delete this.tileLoadingKeys_[uid];\n            type =\n                tileState == TileState.ERROR\n                    ? TileEventType.TILELOADERROR\n                    : tileState == TileState.LOADED\n                        ? TileEventType.TILELOADEND\n                        : undefined;\n        }\n        if (type != undefined) {\n            this.dispatchEvent(new TileSourceEvent(type, tile));\n        }\n    };\n    /**\n     * Set the tile load function of the source.\n     * @param {import(\"../Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @api\n     */\n    UrlTile.prototype.setTileLoadFunction = function (tileLoadFunction) {\n        this.tileCache.clear();\n        this.tileLoadFunction = tileLoadFunction;\n        this.changed();\n    };\n    /**\n     * Set the tile URL function of the source.\n     * @param {import(\"../Tile.js\").UrlFunction} tileUrlFunction Tile URL function.\n     * @param {string} [key] Optional new tile key for the source.\n     * @api\n     */\n    UrlTile.prototype.setTileUrlFunction = function (tileUrlFunction, key) {\n        this.tileUrlFunction = tileUrlFunction;\n        this.tileCache.pruneExceptNewestZ();\n        if (typeof key !== 'undefined') {\n            this.setKey(key);\n        }\n        else {\n            this.changed();\n        }\n    };\n    /**\n     * Set the URL to use for requests.\n     * @param {string} url URL.\n     * @api\n     */\n    UrlTile.prototype.setUrl = function (url) {\n        var urls = expandUrl(url);\n        this.urls = urls;\n        this.setUrls(urls);\n    };\n    /**\n     * Set the URLs to use for requests.\n     * @param {Array<string>} urls URLs.\n     * @api\n     */\n    UrlTile.prototype.setUrls = function (urls) {\n        this.urls = urls;\n        var key = urls.join('\\n');\n        if (this.generateTileUrlFunction_) {\n            this.setTileUrlFunction(createFromTemplates(urls, this.tileGrid), key);\n        }\n        else {\n            this.setKey(key);\n        }\n    };\n    /**\n     * @param {import(\"../tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {string|undefined} Tile URL.\n     */\n    UrlTile.prototype.tileUrlFunction = function (tileCoord, pixelRatio, projection) {\n        return undefined;\n    };\n    /**\n     * Marks a tile coord as being used, without triggering a load.\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     */\n    UrlTile.prototype.useTile = function (z, x, y) {\n        var tileCoordKey = getKeyZXY(z, x, y);\n        if (this.tileCache.containsKey(tileCoordKey)) {\n            this.tileCache.get(tileCoordKey);\n        }\n    };\n    return UrlTile;\n}(TileSource));\nexport default UrlTile;\n//# sourceMappingURL=UrlTile.js.map","/**\n * @module ol/source/TileEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a tile starts loading.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadstart\n     * @api\n     */\n    TILELOADSTART: 'tileloadstart',\n    /**\n     * Triggered when a tile finishes loading, either when its data is loaded,\n     * or when loading was aborted because the tile is no longer needed.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloadend\n     * @api\n     */\n    TILELOADEND: 'tileloadend',\n    /**\n     * Triggered if tile loading results in an error.\n     * @event module:ol/source/Tile.TileSourceEvent#tileloaderror\n     * @api\n     */\n    TILELOADERROR: 'tileloaderror',\n};\n/**\n * @typedef {'tileloadstart'|'tileloadend'|'tileloaderror'} TileSourceEventTypes\n */\n//# sourceMappingURL=TileEventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/TileImage\n */\nimport EventType from '../events/EventType.js';\nimport ImageTile from '../ImageTile.js';\nimport ReprojTile from '../reproj/Tile.js';\nimport TileCache from '../TileCache.js';\nimport TileState from '../TileState.js';\nimport UrlTile from './UrlTile.js';\nimport { ENABLE_RASTER_REPROJECTION } from '../reproj/common.js';\nimport { equivalent, get as getProjection } from '../proj.js';\nimport { getKey, getKeyZXY } from '../tilecoord.js';\nimport { getForProjection as getTileGridForProjection } from '../tilegrid.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"./Source.js\").State} [state] Source state.\n * @property {typeof import(\"../ImageTile.js\").default} [tileClass] Class used to instantiate image tiles.\n * Default is {@link module:ol/ImageTile~ImageTile}.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service. For example, if the tile\n * service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n * used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX] Whether to wrap the world horizontally. The default, is to\n * request out-of-bounds tiles from the server. When set to `false`, only one\n * world will be rendered. When set to `true`, tiles will be requested for one\n * world only, but they will be wrapped horizontally to render multiple worlds.\n * @property {number} [transition] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [key] Optional tile key for proper cache fetching\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Base class for sources providing images divided into a tile grid.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n * @api\n */\nvar TileImage = /** @class */ (function (_super) {\n    __extends(TileImage, _super);\n    /**\n     * @param {!Options} options Image tile options.\n     */\n    function TileImage(options) {\n        var _this = this;\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            opaque: options.opaque,\n            projection: options.projection,\n            state: options.state,\n            tileGrid: options.tileGrid,\n            tileLoadFunction: options.tileLoadFunction\n                ? options.tileLoadFunction\n                : defaultTileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX,\n            transition: options.transition,\n            interpolate: interpolate,\n            key: options.key,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @protected\n         * @type {?string}\n         */\n        _this.crossOrigin =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @protected\n         * @type {typeof ImageTile}\n         */\n        _this.tileClass =\n            options.tileClass !== undefined ? options.tileClass : ImageTile;\n        /**\n         * @protected\n         * @type {!Object<string, TileCache>}\n         */\n        _this.tileCacheForProjection = {};\n        /**\n         * @protected\n         * @type {!Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n         */\n        _this.tileGridForProjection = {};\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.reprojectionErrorThreshold_ = options.reprojectionErrorThreshold;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderReprojectionEdges_ = false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    TileImage.prototype.canExpireCache = function () {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.canExpireCache.call(this);\n        }\n        if (this.tileCache.canExpireCache()) {\n            return true;\n        }\n        else {\n            for (var key in this.tileCacheForProjection) {\n                if (this.tileCacheForProjection[key].canExpireCache()) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    TileImage.prototype.expireCache = function (projection, usedTiles) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            _super.prototype.expireCache.call(this, projection, usedTiles);\n            return;\n        }\n        var usedTileCache = this.getTileCacheForProjection(projection);\n        this.tileCache.expireCache(this.tileCache == usedTileCache ? usedTiles : {});\n        for (var id in this.tileCacheForProjection) {\n            var tileCache = this.tileCacheForProjection[id];\n            tileCache.expireCache(tileCache == usedTileCache ? usedTiles : {});\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutterForProjection = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return 0;\n        }\n        else {\n            return this.getGutter();\n        }\n    };\n    /**\n     * @return {number} Gutter.\n     */\n    TileImage.prototype.getGutter = function () {\n        return 0;\n    };\n    /**\n     * Return the key to be used for all tiles in the source.\n     * @return {string} The key for all tiles.\n     */\n    TileImage.prototype.getKey = function () {\n        var key = _super.prototype.getKey.call(this);\n        if (!this.getInterpolate()) {\n            key += ':disable-interpolation';\n        }\n        return key;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {boolean} Opaque.\n     */\n    TileImage.prototype.getOpaque = function (projection) {\n        if (ENABLE_RASTER_REPROJECTION &&\n            this.getProjection() &&\n            projection &&\n            !equivalent(this.getProjection(), projection)) {\n            return false;\n        }\n        else {\n            return _super.prototype.getOpaque.call(this, projection);\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    TileImage.prototype.getTileGridForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileGridForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (this.tileGrid && (!thisProj || equivalent(thisProj, projection))) {\n            return this.tileGrid;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileGridForProjection)) {\n                this.tileGridForProjection[projKey] =\n                    getTileGridForProjection(projection);\n            }\n            return this.tileGridForProjection[projKey];\n        }\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../TileCache.js\").default} Tile cache.\n     */\n    TileImage.prototype.getTileCacheForProjection = function (projection) {\n        if (!ENABLE_RASTER_REPROJECTION) {\n            return _super.prototype.getTileCacheForProjection.call(this, projection);\n        }\n        var thisProj = this.getProjection();\n        if (!thisProj || equivalent(thisProj, projection)) {\n            return this.tileCache;\n        }\n        else {\n            var projKey = getUid(projection);\n            if (!(projKey in this.tileCacheForProjection)) {\n                this.tileCacheForProjection[projKey] = new TileCache(this.tileCache.highWaterMark);\n            }\n            return this.tileCacheForProjection[projKey];\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {string} key The key set on the tile.\n     * @return {!ImageTile} Tile.\n     * @private\n     */\n    TileImage.prototype.createTile_ = function (z, x, y, pixelRatio, projection, key) {\n        var tileCoord = [z, x, y];\n        var urlTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n        var tileUrl = urlTileCoord\n            ? this.tileUrlFunction(urlTileCoord, pixelRatio, projection)\n            : undefined;\n        var tile = new this.tileClass(tileCoord, tileUrl !== undefined ? TileState.IDLE : TileState.EMPTY, tileUrl !== undefined ? tileUrl : '', this.crossOrigin, this.tileLoadFunction, this.tileOptions);\n        tile.key = key;\n        tile.addEventListener(EventType.CHANGE, this.handleTileChange.bind(this));\n        return tile;\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!(ImageTile|ReprojTile)} Tile.\n     */\n    TileImage.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        var sourceProjection = this.getProjection();\n        if (!ENABLE_RASTER_REPROJECTION ||\n            !sourceProjection ||\n            !projection ||\n            equivalent(sourceProjection, projection)) {\n            return this.getTileInternal(z, x, y, pixelRatio, sourceProjection || projection);\n        }\n        else {\n            var cache = this.getTileCacheForProjection(projection);\n            var tileCoord = [z, x, y];\n            var tile = void 0;\n            var tileCoordKey = getKey(tileCoord);\n            if (cache.containsKey(tileCoordKey)) {\n                tile = cache.get(tileCoordKey);\n            }\n            var key = this.getKey();\n            if (tile && tile.key == key) {\n                return tile;\n            }\n            else {\n                var sourceTileGrid = this.getTileGridForProjection(sourceProjection);\n                var targetTileGrid = this.getTileGridForProjection(projection);\n                var wrappedTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n                var newTile = new ReprojTile(sourceProjection, sourceTileGrid, projection, targetTileGrid, tileCoord, wrappedTileCoord, this.getTilePixelRatio(pixelRatio), this.getGutter(), function (z, x, y, pixelRatio) {\n                    return this.getTileInternal(z, x, y, pixelRatio, sourceProjection);\n                }.bind(this), this.reprojectionErrorThreshold_, this.renderReprojectionEdges_, this.getInterpolate());\n                newTile.key = key;\n                if (tile) {\n                    newTile.interimTile = tile;\n                    newTile.refreshInterimChain();\n                    cache.replace(tileCoordKey, newTile);\n                }\n                else {\n                    cache.set(tileCoordKey, newTile);\n                }\n                return newTile;\n            }\n        }\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {!import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!(ImageTile|ReprojTile)} Tile.\n     * @protected\n     */\n    TileImage.prototype.getTileInternal = function (z, x, y, pixelRatio, projection) {\n        var tile = null;\n        var tileCoordKey = getKeyZXY(z, x, y);\n        var key = this.getKey();\n        if (!this.tileCache.containsKey(tileCoordKey)) {\n            tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n            this.tileCache.set(tileCoordKey, tile);\n        }\n        else {\n            tile = this.tileCache.get(tileCoordKey);\n            if (tile.key != key) {\n                // The source's params changed. If the tile has an interim tile and if we\n                // can use it then we use it. Otherwise we create a new tile.  In both\n                // cases we attempt to assign an interim tile to the new tile.\n                var interimTile = tile;\n                tile = this.createTile_(z, x, y, pixelRatio, projection, key);\n                //make the new tile the head of the list,\n                if (interimTile.getState() == TileState.IDLE) {\n                    //the old tile hasn't begun loading yet, and is now outdated, so we can simply discard it\n                    tile.interimTile = interimTile.interimTile;\n                }\n                else {\n                    tile.interimTile = interimTile;\n                }\n                tile.refreshInterimChain();\n                this.tileCache.replace(tileCoordKey, tile);\n            }\n        }\n        return tile;\n    };\n    /**\n     * Sets whether to render reprojection edges or not (usually for debugging).\n     * @param {boolean} render Render the edges.\n     * @api\n     */\n    TileImage.prototype.setRenderReprojectionEdges = function (render) {\n        if (!ENABLE_RASTER_REPROJECTION ||\n            this.renderReprojectionEdges_ == render) {\n            return;\n        }\n        this.renderReprojectionEdges_ = render;\n        for (var id in this.tileCacheForProjection) {\n            this.tileCacheForProjection[id].clear();\n        }\n        this.changed();\n    };\n    /**\n     * Sets the tile grid to use when reprojecting the tiles to the given\n     * projection instead of the default tile grid for the projection.\n     *\n     * This can be useful when the default tile grid cannot be created\n     * (e.g. projection has no extent defined) or\n     * for optimization reasons (custom tile size, resolutions, ...).\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} projection Projection.\n     * @param {import(\"../tilegrid/TileGrid.js\").default} tilegrid Tile grid to use for the projection.\n     * @api\n     */\n    TileImage.prototype.setTileGridForProjection = function (projection, tilegrid) {\n        if (ENABLE_RASTER_REPROJECTION) {\n            var proj = getProjection(projection);\n            if (proj) {\n                var projKey = getUid(proj);\n                if (!(projKey in this.tileGridForProjection)) {\n                    this.tileGridForProjection[projKey] = tilegrid;\n                }\n            }\n        }\n    };\n    return TileImage;\n}(UrlTile));\n/**\n * @param {ImageTile} imageTile Image tile.\n * @param {string} src Source.\n */\nfunction defaultTileLoadFunction(imageTile, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (imageTile.getImage()).src =\n        src;\n}\nexport default TileImage;\n//# sourceMappingURL=TileImage.js.map","/**\n * @module ol/source/XYZ\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport TileImage from './TileImage.js';\nimport { createXYZ, extentFromProjection } from '../tilegrid.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {boolean} [opaque=false] Whether the layer is opaque.\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {number} [maxZoom=42] Optional max zoom level. Not used if `tileGrid` is provided.\n * @property {number} [minZoom=0] Optional min zoom level. Not used if `tileGrid` is provided.\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [tilePixelRatio=1] The pixel ratio used by the tile service.\n * For example, if the tile service advertizes 256px by 256px tiles but actually sends 512px\n * by 512px images (for retina/hidpi devices) then `tilePixelRatio`\n * should be set to `2`.\n * @property {number|import(\"../size.js\").Size} [tileSize=[256, 256]] The tile size used by the tile service.\n * Not used if `tileGrid` is provided.\n * @property {number} [gutter=0] The size in pixels of the gutter around image tiles to ignore.\n * This allows artifacts of rendering at tile edges to be ignored.\n * Supported images should be wider and taller than the tile size by a value of `2 x gutter`.\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get\n * tile URL given a tile coordinate and the projection.\n * Required if `url` or `urls` are not provided.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`,\n * and `{z}` placeholders. A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`,\n * may be used instead of defining each one separately in the `urls` option.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for tile data with URLs in a set XYZ format that are\n * defined in a URL template. By default, this follows the widely-used\n * Google grid where `x` 0 and `y` 0 are in the top left. Grids like\n * TMS where `x` 0 and `y` 0 are in the bottom left can be used by\n * using the `{-y}` placeholder in the URL template, so long as the\n * source does not have a custom tile grid. In this case\n * a `tileUrlFunction` can be used, such as:\n * ```js\n *  tileUrlFunction: function(coordinate) {\n *    return 'http://mapserver.com/' + coordinate[0] + '/' +\n *      coordinate[1] + '/' + (-coordinate[2] - 1) + '.png';\n *  }\n * ```\n * @api\n */\nvar XYZ = /** @class */ (function (_super) {\n    __extends(XYZ, _super);\n    /**\n     * @param {Options} [opt_options] XYZ options.\n     */\n    function XYZ(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        var projection = options.projection !== undefined ? options.projection : 'EPSG:3857';\n        var tileGrid = options.tileGrid !== undefined\n            ? options.tileGrid\n            : createXYZ({\n                extent: extentFromProjection(projection),\n                maxResolution: options.maxResolution,\n                maxZoom: options.maxZoom,\n                minZoom: options.minZoom,\n                tileSize: options.tileSize,\n            });\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            cacheSize: options.cacheSize,\n            crossOrigin: options.crossOrigin,\n            interpolate: interpolate,\n            opaque: options.opaque,\n            projection: projection,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileGrid: tileGrid,\n            tileLoadFunction: options.tileLoadFunction,\n            tilePixelRatio: options.tilePixelRatio,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n            transition: options.transition,\n            attributionsCollapsible: options.attributionsCollapsible,\n            zDirection: options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.gutter_ = options.gutter !== undefined ? options.gutter : 0;\n        return _this;\n    }\n    /**\n     * @return {number} Gutter.\n     */\n    XYZ.prototype.getGutter = function () {\n        return this.gutter_;\n    };\n    return XYZ;\n}(TileImage));\nexport default XYZ;\n//# sourceMappingURL=XYZ.js.map","/**\n * @module ol/render/EventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered before a layer is rendered.\n     * @event module:ol/render/Event~RenderEvent#prerender\n     * @api\n     */\n    PRERENDER: 'prerender',\n    /**\n     * Triggered after a layer is rendered.\n     * @event module:ol/render/Event~RenderEvent#postrender\n     * @api\n     */\n    POSTRENDER: 'postrender',\n    /**\n     * Triggered before layers are composed.  When dispatched by the map, the event object will not have\n     * a `context` set.  When dispatched by a layer, the event object will have a `context` set.  Only\n     * WebGL layers currently dispatch this event.\n     * @event module:ol/render/Event~RenderEvent#precompose\n     * @api\n     */\n    PRECOMPOSE: 'precompose',\n    /**\n     * Triggered after layers are composed.  When dispatched by the map, the event object will not have\n     * a `context` set.  When dispatched by a layer, the event object will have a `context` set.  Only\n     * WebGL layers currently dispatch this event.\n     * @event module:ol/render/Event~RenderEvent#postcompose\n     * @api\n     */\n    POSTCOMPOSE: 'postcompose',\n    /**\n     * Triggered when rendering is complete, i.e. all sources and tiles have\n     * finished loading for the current viewport, and all tiles are faded in.\n     * The event object will not have a `context` set.\n     * @event module:ol/render/Event~RenderEvent#rendercomplete\n     * @api\n     */\n    RENDERCOMPLETE: 'rendercomplete',\n};\n/**\n * @typedef {'postrender'|'precompose'|'postcompose'|'rendercomplete'} MapRenderEventTypes\n */\n/**\n * @typedef {'postrender'|'prerender'} LayerRenderEventTypes\n */\n//# sourceMappingURL=EventType.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Layer\n */\nimport BaseLayer from './Base.js';\nimport EventType from '../events/EventType.js';\nimport LayerProperty from './Property.js';\nimport RenderEventType from '../render/EventType.js';\nimport { assert } from '../asserts.js';\nimport { assign } from '../obj.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {function(import(\"../PluggableMap.js\").FrameState):HTMLElement} RenderFunction\n */\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:source', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../render/EventType\").LayerRenderEventTypes, import(\"../render/Event\").default, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|'change:source'|\n *     import(\"../render/EventType\").LayerRenderEventTypes, Return>} LayerOnSignature\n */\n/**\n * @template {import(\"../source/Source.js\").default} [SourceType=import(\"../source/Source.js\").default]\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {SourceType} [source] Source for this layer.  If not provided to the constructor,\n * the source can be set by calling {@link module:ol/layer/Layer~Layer#setSource layer.setSource(source)} after\n * construction.\n * @property {import(\"../PluggableMap.js\").default|null} [map] Map.\n * @property {RenderFunction} [render] Render function. Takes the frame state as input and is expected to return an\n * HTML element. Will overwrite the default rendering for the layer.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @typedef {Object} State\n * @property {import(\"./Layer.js\").default} layer Layer.\n * @property {number} opacity Opacity, the value is rounded to two digits to appear after the decimal point.\n * @property {boolean} visible Visible.\n * @property {boolean} managed Managed.\n * @property {import(\"../extent.js\").Extent} [extent] Extent.\n * @property {number} zIndex ZIndex.\n * @property {number} maxResolution Maximum resolution.\n * @property {number} minResolution Minimum resolution.\n * @property {number} minZoom Minimum zoom.\n * @property {number} maxZoom Maximum zoom.\n */\n/**\n * @classdesc\n * Base class from which all layer types are derived. This should only be instantiated\n * in the case where a custom layer is added to the map with a custom `render` function.\n * Such a function can be specified in the `options` object, and is expected to return an HTML element.\n *\n * A visual representation of raster or vector map data.\n * Layers group together those properties that pertain to how the data is to be\n * displayed, irrespective of the source of that data.\n *\n * Layers are usually added to a map with {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}. Components\n * like {@link module:ol/interaction/Draw~Draw} use unmanaged layers\n * internally. These unmanaged layers are associated with the map using\n * {@link module:ol/layer/Layer~Layer#setMap} instead.\n *\n * A generic `change` event is fired when the state of the source changes.\n *\n * Please note that for performance reasons several layers might get rendered to\n * the same HTML element, which will cause {@link import(\"../PluggableMap.js\").default#forEachLayerAtPixel map.forEachLayerAtPixel()} to\n * give false positives. To avoid this, apply different `className` properties to the\n * layers at creation time.\n *\n * @fires import(\"../render/Event.js\").RenderEvent#prerender\n * @fires import(\"../render/Event.js\").RenderEvent#postrender\n *\n * @template {import(\"../source/Source.js\").default} [SourceType=import(\"../source/Source.js\").default]\n * @template {import(\"../renderer/Layer.js\").default} [RendererType=import(\"../renderer/Layer.js\").default]\n * @api\n */\nvar Layer = /** @class */ (function (_super) {\n    __extends(Layer, _super);\n    /**\n     * @param {Options<SourceType>} options Layer options.\n     */\n    function Layer(options) {\n        var _this = this;\n        var baseOptions = assign({}, options);\n        delete baseOptions.source;\n        _this = _super.call(this, baseOptions) || this;\n        /***\n         * @type {LayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {LayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {LayerOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.mapPrecomposeKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.mapRenderKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.sourceChangeKey_ = null;\n        /**\n         * @private\n         * @type {RendererType}\n         */\n        _this.renderer_ = null;\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        _this.rendered = false;\n        // Overwrite default render method with a custom one\n        if (options.render) {\n            _this.render = options.render;\n        }\n        if (options.map) {\n            _this.setMap(options.map);\n        }\n        _this.addChangeListener(LayerProperty.SOURCE, _this.handleSourcePropertyChange_);\n        var source = options.source\n            ? /** @type {SourceType} */ (options.source)\n            : null;\n        _this.setSource(source);\n        return _this;\n    }\n    /**\n     * @param {Array<import(\"./Layer.js\").default>} [opt_array] Array of layers (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n     */\n    Layer.prototype.getLayersArray = function (opt_array) {\n        var array = opt_array ? opt_array : [];\n        array.push(this);\n        return array;\n    };\n    /**\n     * @param {Array<import(\"./Layer.js\").State>} [opt_states] Optional list of layer states (to be modified in place).\n     * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n     */\n    Layer.prototype.getLayerStatesArray = function (opt_states) {\n        var states = opt_states ? opt_states : [];\n        states.push(this.getLayerState());\n        return states;\n    };\n    /**\n     * Get the layer source.\n     * @return {SourceType|null} The layer source (or `null` if not yet set).\n     * @observable\n     * @api\n     */\n    Layer.prototype.getSource = function () {\n        return /** @type {SourceType} */ (this.get(LayerProperty.SOURCE)) || null;\n    };\n    /**\n     * @return {SourceType|null} The source being rendered.\n     */\n    Layer.prototype.getRenderSource = function () {\n        return this.getSource();\n    };\n    /**\n     * @return {import(\"../source/Source.js\").State} Source state.\n     */\n    Layer.prototype.getSourceState = function () {\n        var source = this.getSource();\n        return !source ? 'undefined' : source.getState();\n    };\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourceChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    Layer.prototype.handleSourcePropertyChange_ = function () {\n        if (this.sourceChangeKey_) {\n            unlistenByKey(this.sourceChangeKey_);\n            this.sourceChangeKey_ = null;\n        }\n        var source = this.getSource();\n        if (source) {\n            this.sourceChangeKey_ = listen(source, EventType.CHANGE, this.handleSourceChange_, this);\n        }\n        this.changed();\n    };\n    /**\n     * @param {import(\"../pixel\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with\n     * an array of features.\n     */\n    Layer.prototype.getFeatures = function (pixel) {\n        if (!this.renderer_) {\n            return new Promise(function (resolve) { return resolve([]); });\n        }\n        return this.renderer_.getFeatures(pixel);\n    };\n    /**\n     * @param {import(\"../pixel\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray|Uint8Array|Float32Array|DataView|null} Pixel data.\n     */\n    Layer.prototype.getData = function (pixel) {\n        if (!this.renderer_ || !this.rendered) {\n            return null;\n        }\n        return this.renderer_.getData(pixel);\n    };\n    /**\n     * In charge to manage the rendering of the layer. One layer type is\n     * bounded with one layer renderer.\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target which the renderer may (but need not) use\n     * for rendering its content.\n     * @return {HTMLElement} The rendered element.\n     */\n    Layer.prototype.render = function (frameState, target) {\n        var layerRenderer = this.getRenderer();\n        if (layerRenderer.prepareFrame(frameState)) {\n            this.rendered = true;\n            return layerRenderer.renderFrame(frameState, target);\n        }\n    };\n    /**\n     * Called when a layer is not visible during a map render.\n     */\n    Layer.prototype.unrender = function () {\n        this.rendered = false;\n    };\n    /**\n     * For use inside the library only.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     */\n    Layer.prototype.setMapInternal = function (map) {\n        if (!map) {\n            this.unrender();\n        }\n        this.set(LayerProperty.MAP, map);\n    };\n    /**\n     * For use inside the library only.\n     * @return {import(\"../PluggableMap.js\").default|null} Map.\n     */\n    Layer.prototype.getMapInternal = function () {\n        return this.get(LayerProperty.MAP);\n    };\n    /**\n     * Sets the layer to be rendered on top of other layers on a map. The map will\n     * not manage this layer in its layers collection, and the callback in\n     * {@link module:ol/Map~Map#forEachLayerAtPixel} will receive `null` as layer. This\n     * is useful for temporary layers. To remove an unmanaged layer from the map,\n     * use `#setMap(null)`.\n     *\n     * To add the layer to a map and have it managed by the map, use\n     * {@link module:ol/Map~Map#addLayer} instead.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     * @api\n     */\n    Layer.prototype.setMap = function (map) {\n        if (this.mapPrecomposeKey_) {\n            unlistenByKey(this.mapPrecomposeKey_);\n            this.mapPrecomposeKey_ = null;\n        }\n        if (!map) {\n            this.changed();\n        }\n        if (this.mapRenderKey_) {\n            unlistenByKey(this.mapRenderKey_);\n            this.mapRenderKey_ = null;\n        }\n        if (map) {\n            this.mapPrecomposeKey_ = listen(map, RenderEventType.PRECOMPOSE, function (evt) {\n                var renderEvent = \n                /** @type {import(\"../render/Event.js\").default} */ (evt);\n                var layerStatesArray = renderEvent.frameState.layerStatesArray;\n                var layerState = this.getLayerState(false);\n                // A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both.\n                assert(!layerStatesArray.some(function (arrayLayerState) {\n                    return arrayLayerState.layer === layerState.layer;\n                }), 67);\n                layerStatesArray.push(layerState);\n            }, this);\n            this.mapRenderKey_ = listen(this, EventType.CHANGE, map.render, map);\n            this.changed();\n        }\n    };\n    /**\n     * Set the layer source.\n     * @param {SourceType|null} source The layer source.\n     * @observable\n     * @api\n     */\n    Layer.prototype.setSource = function (source) {\n        this.set(LayerProperty.SOURCE, source);\n    };\n    /**\n     * Get the renderer for this layer.\n     * @return {RendererType|null} The layer renderer.\n     */\n    Layer.prototype.getRenderer = function () {\n        if (!this.renderer_) {\n            this.renderer_ = this.createRenderer();\n        }\n        return this.renderer_;\n    };\n    /**\n     * @return {boolean} The layer has a renderer.\n     */\n    Layer.prototype.hasRenderer = function () {\n        return !!this.renderer_;\n    };\n    /**\n     * Create a renderer for this layer.\n     * @return {RendererType} A layer renderer.\n     * @protected\n     */\n    Layer.prototype.createRenderer = function () {\n        return null;\n    };\n    /**\n     * Clean up.\n     */\n    Layer.prototype.disposeInternal = function () {\n        if (this.renderer_) {\n            this.renderer_.dispose();\n            delete this.renderer_;\n        }\n        this.setSource(null);\n        _super.prototype.disposeInternal.call(this);\n    };\n    return Layer;\n}(BaseLayer));\n/**\n * Return `true` if the layer is visible and if the provided view state\n * has resolution and zoom levels that are in range of the layer's min/max.\n * @param {State} layerState Layer state.\n * @param {import(\"../View.js\").State} viewState View state.\n * @return {boolean} The layer is visible at the given view state.\n */\nexport function inView(layerState, viewState) {\n    if (!layerState.visible) {\n        return false;\n    }\n    var resolution = viewState.resolution;\n    if (resolution < layerState.minResolution ||\n        resolution >= layerState.maxResolution) {\n        return false;\n    }\n    var zoom = viewState.zoom;\n    return zoom > layerState.minZoom && zoom <= layerState.maxZoom;\n}\nexport default Layer;\n//# sourceMappingURL=Layer.js.map","/**\n * @module ol/layer/TileProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    PRELOAD: 'preload',\n    USE_INTERIM_TILES_ON_ERROR: 'useInterimTilesOnError',\n};\n//# sourceMappingURL=TileProperty.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseTile\n */\nimport Layer from './Layer.js';\nimport TileProperty from './TileProperty.js';\nimport { assign } from '../obj.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:source'|'change:preload'|'change:useInterimTilesOnError', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../render/EventType\").LayerRenderEventTypes, import(\"../render/Event\").default, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|\n *   'change:source'|'change:preload'|'change:useInterimTilesOnError'|import(\"../render/EventType\").LayerRenderEventTypes, Return>} BaseTileLayerOnSignature\n */\n/**\n * @template {import(\"../source/Tile.js\").default} TileSourceType\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n * means no preloading.\n * @property {TileSourceType} [source] Source for this layer.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}.\n * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @classdesc\n * For layer sources that provide pre-rendered, tiled images in grids that are\n * organized by zoom levels for specific resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Tile.js\").default} TileSourceType\n * @template {import(\"../renderer/Layer.js\").default} RendererType\n * @extends {Layer<TileSourceType, RendererType>}\n * @api\n */\nvar BaseTileLayer = /** @class */ (function (_super) {\n    __extends(BaseTileLayer, _super);\n    /**\n     * @param {Options<TileSourceType>} [opt_options] Tile layer options.\n     */\n    function BaseTileLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.preload;\n        delete baseOptions.useInterimTilesOnError;\n        _this = _super.call(this, baseOptions) || this;\n        /***\n         * @type {BaseTileLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {BaseTileLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {BaseTileLayerOnSignature<void>}\n         */\n        _this.un;\n        _this.setPreload(options.preload !== undefined ? options.preload : 0);\n        _this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined\n            ? options.useInterimTilesOnError\n            : true);\n        return _this;\n    }\n    /**\n     * Return the level as number to which we will preload tiles up to.\n     * @return {number} The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.getPreload = function () {\n        return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n    };\n    /**\n     * Set the level as number to which we will preload tiles up to.\n     * @param {number} preload The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.setPreload = function (preload) {\n        this.set(TileProperty.PRELOAD, preload);\n    };\n    /**\n     * Whether we use interim tiles on error.\n     * @return {boolean} Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.getUseInterimTilesOnError = function () {\n        return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n    };\n    /**\n     * Set whether we use interim tiles on error.\n     * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    BaseTileLayer.prototype.setUseInterimTilesOnError = function (useInterimTilesOnError) {\n        this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n    };\n    /**\n     * Get data for a pixel location.  The return type depends on the source data.  For image tiles,\n     * a four element RGBA array will be returned.  For data tiles, the array length will match the\n     * number of bands in the dataset.  For requests outside the layer extent, `null` will be returned.\n     * Data for a image tiles can only be retrieved if the source's `crossOrigin` property is set.\n     *\n     * ```js\n     * // display layer data on every pointer move\n     * map.on('pointermove', (event) => {\n     *   console.log(layer.getData(event.pixel));\n     * });\n     * ```\n     * @param {import(\"../pixel\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray|Uint8Array|Float32Array|DataView|null} Pixel data.\n     * @api\n     */\n    BaseTileLayer.prototype.getData = function (pixel) {\n        return _super.prototype.getData.call(this, pixel);\n    };\n    return BaseTileLayer;\n}(Layer));\nexport default BaseTileLayer;\n//# sourceMappingURL=BaseTile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Layer\n */\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport Observable from '../Observable.js';\nimport { abstract } from '../util.js';\n/**\n * @template {import(\"../layer/Layer.js\").default} LayerType\n */\nvar LayerRenderer = /** @class */ (function (_super) {\n    __extends(LayerRenderer, _super);\n    /**\n     * @param {LayerType} layer Layer.\n     */\n    function LayerRenderer(layer) {\n        var _this = _super.call(this) || this;\n        /**\n         * The renderer is initialized and ready to render.\n         * @type {boolean}\n         */\n        _this.ready = true;\n        /** @private */\n        _this.boundHandleImageChange_ = _this.handleImageChange_.bind(_this);\n        /**\n         * @protected\n         * @type {LayerType}\n         */\n        _this.layer_ = layer;\n        /**\n         * @type {import(\"../render/canvas/ExecutorGroup\").default}\n         */\n        _this.declutterExecutorGroup = null;\n        return _this;\n    }\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with\n     * an array of features.\n     */\n    LayerRenderer.prototype.getFeatures = function (pixel) {\n        return abstract();\n    };\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray|Uint8Array|Float32Array|DataView|null} Pixel data.\n     */\n    LayerRenderer.prototype.getData = function (pixel) {\n        return null;\n    };\n    /**\n     * Determine whether render should be called.\n     * @abstract\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    LayerRenderer.prototype.prepareFrame = function (frameState) {\n        return abstract();\n    };\n    /**\n     * Render the layer.\n     * @abstract\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    LayerRenderer.prototype.renderFrame = function (frameState, target) {\n        return abstract();\n    };\n    /**\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @param {number} zoom Zoom level.\n     * @param {import(\"../Tile.js\").default} tile Tile.\n     * @return {boolean|void} If `false`, the tile will not be considered loaded.\n     */\n    LayerRenderer.prototype.loadedTileCallback = function (tiles, zoom, tile) {\n        if (!tiles[zoom]) {\n            tiles[zoom] = {};\n        }\n        tiles[zoom][tile.tileCoord.toString()] = tile;\n        return undefined;\n    };\n    /**\n     * Create a function that adds loaded tiles to the tile lookup.\n     * @param {import(\"../source/Tile.js\").default} source Tile source.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection of the tiles.\n     * @param {Object<number, Object<string, import(\"../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @return {function(number, import(\"../TileRange.js\").default):boolean} A function that can be\n     *     called with a zoom level and a tile range to add loaded tiles to the lookup.\n     * @protected\n     */\n    LayerRenderer.prototype.createLoadedTileFinder = function (source, projection, tiles) {\n        return (\n        /**\n         * @param {number} zoom Zoom level.\n         * @param {import(\"../TileRange.js\").default} tileRange Tile range.\n         * @return {boolean} The tile range is fully loaded.\n         * @this {LayerRenderer}\n         */\n        function (zoom, tileRange) {\n            var callback = this.loadedTileCallback.bind(this, tiles, zoom);\n            return source.forEachLoadedTile(projection, zoom, tileRange, callback);\n        }.bind(this));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"./vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"./Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    LayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        return undefined;\n    };\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @return {Uint8ClampedArray|Uint8Array} The result.  If there is no data at the pixel\n     *    location, null will be returned.  If there is data, but pixel values cannot be\n     *    returned, and empty array will be returned.\n     */\n    LayerRenderer.prototype.getDataAtPixel = function (pixel, frameState, hitTolerance) {\n        return null;\n    };\n    /**\n     * @return {LayerType} Layer.\n     */\n    LayerRenderer.prototype.getLayer = function () {\n        return this.layer_;\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     * @abstract\n     */\n    LayerRenderer.prototype.handleFontsChanged = function () { };\n    /**\n     * Handle changes in image state.\n     * @param {import(\"../events/Event.js\").default} event Image change event.\n     * @private\n     */\n    LayerRenderer.prototype.handleImageChange_ = function (event) {\n        var image = /** @type {import(\"../Image.js\").default} */ (event.target);\n        if (image.getState() === ImageState.LOADED) {\n            this.renderIfReadyAndVisible();\n        }\n    };\n    /**\n     * Load the image if not already loaded, and register the image change\n     * listener if needed.\n     * @param {import(\"../ImageBase.js\").default} image Image.\n     * @return {boolean} `true` if the image is already loaded, `false` otherwise.\n     * @protected\n     */\n    LayerRenderer.prototype.loadImage = function (image) {\n        var imageState = image.getState();\n        if (imageState != ImageState.LOADED && imageState != ImageState.ERROR) {\n            image.addEventListener(EventType.CHANGE, this.boundHandleImageChange_);\n        }\n        if (imageState == ImageState.IDLE) {\n            image.load();\n            imageState = image.getState();\n        }\n        return imageState == ImageState.LOADED;\n    };\n    /**\n     * @protected\n     */\n    LayerRenderer.prototype.renderIfReadyAndVisible = function () {\n        var layer = this.getLayer();\n        if (layer && layer.getVisible() && layer.getSourceState() === 'ready') {\n            layer.changed();\n        }\n    };\n    /**\n     * Clean up.\n     */\n    LayerRenderer.prototype.disposeInternal = function () {\n        delete this.layer_;\n        _super.prototype.disposeInternal.call(this);\n    };\n    return LayerRenderer;\n}(Observable));\nexport default LayerRenderer;\n//# sourceMappingURL=Layer.js.map","/**\n * @module ol/render/Event\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Event from '../events/Event.js';\nvar RenderEvent = /** @class */ (function (_super) {\n    __extends(RenderEvent, _super);\n    /**\n     * @param {import(\"./EventType.js\").default} type Type.\n     * @param {import(\"../transform.js\").Transform} [opt_inversePixelTransform] Transform for\n     *     CSS pixels to rendered pixels.\n     * @param {import(\"../PluggableMap.js\").FrameState} [opt_frameState] Frame state.\n     * @param {?(CanvasRenderingContext2D|WebGLRenderingContext)} [opt_context] Context.\n     */\n    function RenderEvent(type, opt_inversePixelTransform, opt_frameState, opt_context) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * Transform from CSS pixels (relative to the top-left corner of the map viewport)\n         * to rendered pixels on this event's `context`. Only available when a Canvas renderer is used, null otherwise.\n         * @type {import(\"../transform.js\").Transform|undefined}\n         * @api\n         */\n        _this.inversePixelTransform = opt_inversePixelTransform;\n        /**\n         * An object representing the current render frame state.\n         * @type {import(\"../PluggableMap.js\").FrameState|undefined}\n         * @api\n         */\n        _this.frameState = opt_frameState;\n        /**\n         * Canvas context. Not available when the event is dispatched by the map. For Canvas 2D layers,\n         * the context will be the 2D rendering context.  For WebGL layers, the context will be the WebGL\n         * context.\n         * @type {CanvasRenderingContext2D|WebGLRenderingContext|undefined}\n         * @api\n         */\n        _this.context = opt_context;\n        return _this;\n    }\n    return RenderEvent;\n}(Event));\nexport default RenderEvent;\n//# sourceMappingURL=Event.js.map","/**\n * @module ol/transform\n */\nimport { WORKER_OFFSCREEN_CANVAS } from './has.js';\nimport { assert } from './asserts.js';\n/**\n * An array representing an affine 2d transformation for use with\n * {@link module:ol/transform} functions. The array has 6 elements.\n * @typedef {!Array<number>} Transform\n * @api\n */\n/**\n * Collection of affine 2d transformation functions. The functions work on an\n * array of 6 elements. The element order is compatible with the [SVGMatrix\n * interface](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix) and is\n * a subset (elements a to f) of a 33 matrix:\n * ```\n * [ a c e ]\n * [ b d f ]\n * [ 0 0 1 ]\n * ```\n */\n/**\n * @private\n * @type {Transform}\n */\nvar tmp_ = new Array(6);\n/**\n * Create an identity transform.\n * @return {!Transform} Identity transform.\n */\nexport function create() {\n    return [1, 0, 0, 1, 0, 0];\n}\n/**\n * Resets the given transform to an identity transform.\n * @param {!Transform} transform Transform.\n * @return {!Transform} Transform.\n */\nexport function reset(transform) {\n    return set(transform, 1, 0, 0, 1, 0, 0);\n}\n/**\n * Multiply the underlying matrices of two transforms and return the result in\n * the first transform.\n * @param {!Transform} transform1 Transform parameters of matrix 1.\n * @param {!Transform} transform2 Transform parameters of matrix 2.\n * @return {!Transform} transform1 multiplied with transform2.\n */\nexport function multiply(transform1, transform2) {\n    var a1 = transform1[0];\n    var b1 = transform1[1];\n    var c1 = transform1[2];\n    var d1 = transform1[3];\n    var e1 = transform1[4];\n    var f1 = transform1[5];\n    var a2 = transform2[0];\n    var b2 = transform2[1];\n    var c2 = transform2[2];\n    var d2 = transform2[3];\n    var e2 = transform2[4];\n    var f2 = transform2[5];\n    transform1[0] = a1 * a2 + c1 * b2;\n    transform1[1] = b1 * a2 + d1 * b2;\n    transform1[2] = a1 * c2 + c1 * d2;\n    transform1[3] = b1 * c2 + d1 * d2;\n    transform1[4] = a1 * e2 + c1 * f2 + e1;\n    transform1[5] = b1 * e2 + d1 * f2 + f1;\n    return transform1;\n}\n/**\n * Set the transform components a-f on a given transform.\n * @param {!Transform} transform Transform.\n * @param {number} a The a component of the transform.\n * @param {number} b The b component of the transform.\n * @param {number} c The c component of the transform.\n * @param {number} d The d component of the transform.\n * @param {number} e The e component of the transform.\n * @param {number} f The f component of the transform.\n * @return {!Transform} Matrix with transform applied.\n */\nexport function set(transform, a, b, c, d, e, f) {\n    transform[0] = a;\n    transform[1] = b;\n    transform[2] = c;\n    transform[3] = d;\n    transform[4] = e;\n    transform[5] = f;\n    return transform;\n}\n/**\n * Set transform on one matrix from another matrix.\n * @param {!Transform} transform1 Matrix to set transform to.\n * @param {!Transform} transform2 Matrix to set transform from.\n * @return {!Transform} transform1 with transform from transform2 applied.\n */\nexport function setFromArray(transform1, transform2) {\n    transform1[0] = transform2[0];\n    transform1[1] = transform2[1];\n    transform1[2] = transform2[2];\n    transform1[3] = transform2[3];\n    transform1[4] = transform2[4];\n    transform1[5] = transform2[5];\n    return transform1;\n}\n/**\n * Transforms the given coordinate with the given transform returning the\n * resulting, transformed coordinate. The coordinate will be modified in-place.\n *\n * @param {Transform} transform The transformation.\n * @param {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} coordinate The coordinate to transform.\n * @return {import(\"./coordinate.js\").Coordinate|import(\"./pixel.js\").Pixel} return coordinate so that operations can be\n *     chained together.\n */\nexport function apply(transform, coordinate) {\n    var x = coordinate[0];\n    var y = coordinate[1];\n    coordinate[0] = transform[0] * x + transform[2] * y + transform[4];\n    coordinate[1] = transform[1] * x + transform[3] * y + transform[5];\n    return coordinate;\n}\n/**\n * Applies rotation to the given transform.\n * @param {!Transform} transform Transform.\n * @param {number} angle Angle in radians.\n * @return {!Transform} The rotated transform.\n */\nexport function rotate(transform, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    return multiply(transform, set(tmp_, cos, sin, -sin, cos, 0, 0));\n}\n/**\n * Applies scale to a given transform.\n * @param {!Transform} transform Transform.\n * @param {number} x Scale factor x.\n * @param {number} y Scale factor y.\n * @return {!Transform} The scaled transform.\n */\nexport function scale(transform, x, y) {\n    return multiply(transform, set(tmp_, x, 0, 0, y, 0, 0));\n}\n/**\n * Creates a scale transform.\n * @param {!Transform} target Transform to overwrite.\n * @param {number} x Scale factor x.\n * @param {number} y Scale factor y.\n * @return {!Transform} The scale transform.\n */\nexport function makeScale(target, x, y) {\n    return set(target, x, 0, 0, y, 0, 0);\n}\n/**\n * Applies translation to the given transform.\n * @param {!Transform} transform Transform.\n * @param {number} dx Translation x.\n * @param {number} dy Translation y.\n * @return {!Transform} The translated transform.\n */\nexport function translate(transform, dx, dy) {\n    return multiply(transform, set(tmp_, 1, 0, 0, 1, dx, dy));\n}\n/**\n * Creates a composite transform given an initial translation, scale, rotation, and\n * final translation (in that order only, not commutative).\n * @param {!Transform} transform The transform (will be modified in place).\n * @param {number} dx1 Initial translation x.\n * @param {number} dy1 Initial translation y.\n * @param {number} sx Scale factor x.\n * @param {number} sy Scale factor y.\n * @param {number} angle Rotation (in counter-clockwise radians).\n * @param {number} dx2 Final translation x.\n * @param {number} dy2 Final translation y.\n * @return {!Transform} The composite transform.\n */\nexport function compose(transform, dx1, dy1, sx, sy, angle, dx2, dy2) {\n    var sin = Math.sin(angle);\n    var cos = Math.cos(angle);\n    transform[0] = sx * cos;\n    transform[1] = sy * sin;\n    transform[2] = -sx * sin;\n    transform[3] = sy * cos;\n    transform[4] = dx2 * sx * cos - dy2 * sx * sin + dx1;\n    transform[5] = dx2 * sy * sin + dy2 * sy * cos + dy1;\n    return transform;\n}\n/**\n * Creates a composite transform given an initial translation, scale, rotation, and\n * final translation (in that order only, not commutative). The resulting transform\n * string can be applied as `transform` property of an HTMLElement's style.\n * @param {number} dx1 Initial translation x.\n * @param {number} dy1 Initial translation y.\n * @param {number} sx Scale factor x.\n * @param {number} sy Scale factor y.\n * @param {number} angle Rotation (in counter-clockwise radians).\n * @param {number} dx2 Final translation x.\n * @param {number} dy2 Final translation y.\n * @return {string} The composite css transform.\n * @api\n */\nexport function composeCssTransform(dx1, dy1, sx, sy, angle, dx2, dy2) {\n    return toString(compose(create(), dx1, dy1, sx, sy, angle, dx2, dy2));\n}\n/**\n * Invert the given transform.\n * @param {!Transform} source The source transform to invert.\n * @return {!Transform} The inverted (source) transform.\n */\nexport function invert(source) {\n    return makeInverse(source, source);\n}\n/**\n * Invert the given transform.\n * @param {!Transform} target Transform to be set as the inverse of\n *     the source transform.\n * @param {!Transform} source The source transform to invert.\n * @return {!Transform} The inverted (target) transform.\n */\nexport function makeInverse(target, source) {\n    var det = determinant(source);\n    assert(det !== 0, 32); // Transformation matrix cannot be inverted\n    var a = source[0];\n    var b = source[1];\n    var c = source[2];\n    var d = source[3];\n    var e = source[4];\n    var f = source[5];\n    target[0] = d / det;\n    target[1] = -b / det;\n    target[2] = -c / det;\n    target[3] = a / det;\n    target[4] = (c * f - d * e) / det;\n    target[5] = -(a * f - b * e) / det;\n    return target;\n}\n/**\n * Returns the determinant of the given matrix.\n * @param {!Transform} mat Matrix.\n * @return {number} Determinant.\n */\nexport function determinant(mat) {\n    return mat[0] * mat[3] - mat[1] * mat[2];\n}\n/**\n * @type {HTMLElement}\n * @private\n */\nvar transformStringDiv;\n/**\n * A rounded string version of the transform.  This can be used\n * for CSS transforms.\n * @param {!Transform} mat Matrix.\n * @return {string} The transform as a string.\n */\nexport function toString(mat) {\n    var transformString = 'matrix(' + mat.join(', ') + ')';\n    if (WORKER_OFFSCREEN_CANVAS) {\n        return transformString;\n    }\n    var node = transformStringDiv || (transformStringDiv = document.createElement('div'));\n    node.style.transform = transformString;\n    return node.style.transform;\n}\n//# sourceMappingURL=transform.js.map","/**\n * @module ol/color\n */\nimport { assert } from './asserts.js';\nimport { clamp } from './math.js';\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n/**\n * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n * @const\n * @type {RegExp}\n * @private\n */\nvar HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n/**\n * Regular expression for matching potential named color style strings.\n * @const\n * @type {RegExp}\n * @private\n */\nvar NAMED_COLOR_RE_ = /^([a-z]*)$|^hsla?\\(.*\\)$/i;\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n    if (typeof color === 'string') {\n        return color;\n    }\n    else {\n        return toString(color);\n    }\n}\n/**\n * Return named color as an rgba string.\n * @param {string} color Named color.\n * @return {string} Rgb string.\n */\nfunction fromNamed(color) {\n    var el = document.createElement('div');\n    el.style.color = color;\n    if (el.style.color !== '') {\n        document.body.appendChild(el);\n        var rgb = getComputedStyle(el).color;\n        document.body.removeChild(el);\n        return rgb;\n    }\n    else {\n        return '';\n    }\n}\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport var fromString = (function () {\n    // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n    // semantics, whenever the cache grows too large we simply delete an\n    // arbitrary 25% of the entries.\n    /**\n     * @const\n     * @type {number}\n     */\n    var MAX_CACHE_SIZE = 1024;\n    /**\n     * @type {Object<string, Color>}\n     */\n    var cache = {};\n    /**\n     * @type {number}\n     */\n    var cacheSize = 0;\n    return (\n    /**\n     * @param {string} s String.\n     * @return {Color} Color.\n     */\n    function (s) {\n        var color;\n        if (cache.hasOwnProperty(s)) {\n            color = cache[s];\n        }\n        else {\n            if (cacheSize >= MAX_CACHE_SIZE) {\n                var i = 0;\n                for (var key in cache) {\n                    if ((i++ & 3) === 0) {\n                        delete cache[key];\n                        --cacheSize;\n                    }\n                }\n            }\n            color = fromStringInternal_(s);\n            cache[s] = color;\n            ++cacheSize;\n        }\n        return color;\n    });\n})();\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n    if (Array.isArray(color)) {\n        return color;\n    }\n    else {\n        return fromString(color);\n    }\n}\n/**\n * @param {string} s String.\n * @private\n * @return {Color} Color.\n */\nfunction fromStringInternal_(s) {\n    var r, g, b, a, color;\n    if (NAMED_COLOR_RE_.exec(s)) {\n        s = fromNamed(s);\n    }\n    if (HEX_COLOR_RE_.exec(s)) {\n        // hex\n        var n = s.length - 1; // number of hex digits\n        var d = // number of digits per channel\n         void 0; // number of digits per channel\n        if (n <= 4) {\n            d = 1;\n        }\n        else {\n            d = 2;\n        }\n        var hasAlpha = n === 4 || n === 8;\n        r = parseInt(s.substr(1 + 0 * d, d), 16);\n        g = parseInt(s.substr(1 + 1 * d, d), 16);\n        b = parseInt(s.substr(1 + 2 * d, d), 16);\n        if (hasAlpha) {\n            a = parseInt(s.substr(1 + 3 * d, d), 16);\n        }\n        else {\n            a = 255;\n        }\n        if (d == 1) {\n            r = (r << 4) + r;\n            g = (g << 4) + g;\n            b = (b << 4) + b;\n            if (hasAlpha) {\n                a = (a << 4) + a;\n            }\n        }\n        color = [r, g, b, a / 255];\n    }\n    else if (s.indexOf('rgba(') == 0) {\n        // rgba()\n        color = s.slice(5, -1).split(',').map(Number);\n        normalize(color);\n    }\n    else if (s.indexOf('rgb(') == 0) {\n        // rgb()\n        color = s.slice(4, -1).split(',').map(Number);\n        color.push(1);\n        normalize(color);\n    }\n    else {\n        assert(false, 14); // Invalid color\n    }\n    return color;\n}\n/**\n * TODO this function is only used in the test, we probably shouldn't export it\n * @param {Color} color Color.\n * @return {Color} Clamped color.\n */\nexport function normalize(color) {\n    color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n    color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n    color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n    color[3] = clamp(color[3], 0, 1);\n    return color;\n}\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n    var r = color[0];\n    if (r != (r | 0)) {\n        r = (r + 0.5) | 0;\n    }\n    var g = color[1];\n    if (g != (g | 0)) {\n        g = (g + 0.5) | 0;\n    }\n    var b = color[2];\n    if (b != (b | 0)) {\n        b = (b + 0.5) | 0;\n    }\n    var a = color[3] === undefined ? 1 : Math.round(color[3] * 100) / 100;\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n/**\n * @param {string} s String.\n * @return {boolean} Whether the string is actually a valid color\n */\nexport function isStringColor(s) {\n    if (NAMED_COLOR_RE_.test(s)) {\n        s = fromNamed(s);\n    }\n    return (HEX_COLOR_RE_.test(s) || s.indexOf('rgba(') === 0 || s.indexOf('rgb(') === 0);\n}\n//# sourceMappingURL=color.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/Layer\n */\nimport LayerRenderer from '../Layer.js';\nimport RenderEvent from '../../render/Event.js';\nimport RenderEventType from '../../render/EventType.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { asArray } from '../../color.js';\nimport { containsCoordinate, getBottomLeft, getBottomRight, getTopLeft, getTopRight, } from '../../extent.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { equals } from '../../array.js';\n/**\n * @type {Array<HTMLCanvasElement>}\n */\nexport var canvasPool = [];\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar pixelContext = null;\nfunction createPixelContext() {\n    var canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    pixelContext = canvas.getContext('2d');\n}\n/**\n * @abstract\n * @template {import(\"../../layer/Layer.js\").default} LayerType\n * @extends {LayerRenderer<LayerType>}\n */\nvar CanvasLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasLayerRenderer, _super);\n    /**\n     * @param {LayerType} layer Layer.\n     */\n    function CanvasLayerRenderer(layer) {\n        var _this = _super.call(this, layer) || this;\n        /**\n         * @protected\n         * @type {HTMLElement}\n         */\n        _this.container = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedResolution;\n        /**\n         * A temporary transform.  The values in this transform should only be used in a\n         * function that sets the values.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tempTransform = createTransform();\n        /**\n         * The transform for rendered pixels to viewport CSS pixels.  This transform must\n         * be set when rendering a frame and may be used by other functions after rendering.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.pixelTransform = createTransform();\n        /**\n         * The transform for viewport CSS pixels to rendered pixels.  This transform must\n         * be set when rendering a frame and may be used by other functions after rendering.\n         * @protected\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.inversePixelTransform = createTransform();\n        /**\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.context = null;\n        /**\n         * @type {boolean}\n         */\n        _this.containerReused = false;\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.pixelContext_ = null;\n        /**\n         * @protected\n         * @type {import(\"../../PluggableMap.js\").FrameState|null}\n         */\n        _this.frameState = null;\n        return _this;\n    }\n    /**\n     * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n     * @param {number} col The column index.\n     * @param {number} row The row index.\n     * @return {Uint8ClampedArray|null} The image data.\n     */\n    CanvasLayerRenderer.prototype.getImageData = function (image, col, row) {\n        if (!pixelContext) {\n            createPixelContext();\n        }\n        pixelContext.clearRect(0, 0, 1, 1);\n        var data;\n        try {\n            pixelContext.drawImage(image, col, row, 1, 1, 0, 0, 1, 1);\n            data = pixelContext.getImageData(0, 0, 1, 1).data;\n        }\n        catch (err) {\n            pixelContext = null;\n            return null;\n        }\n        return data;\n    };\n    /**\n     * @param {import('../../PluggableMap.js').FrameState} frameState Frame state.\n     * @return {string} Background color.\n     */\n    CanvasLayerRenderer.prototype.getBackground = function (frameState) {\n        var layer = this.getLayer();\n        var background = layer.getBackground();\n        if (typeof background === 'function') {\n            background = background(frameState.viewState.resolution);\n        }\n        return background || undefined;\n    };\n    /**\n     * Get a rendering container from an existing target, if compatible.\n     * @param {HTMLElement} target Potential render target.\n     * @param {string} transform CSS Transform.\n     * @param {string} [opt_backgroundColor] Background color.\n     */\n    CanvasLayerRenderer.prototype.useContainer = function (target, transform, opt_backgroundColor) {\n        var layerClassName = this.getLayer().getClassName();\n        var container, context;\n        if (target &&\n            target.className === layerClassName &&\n            (!opt_backgroundColor ||\n                (target &&\n                    target.style.backgroundColor &&\n                    equals(asArray(target.style.backgroundColor), asArray(opt_backgroundColor))))) {\n            var canvas = target.firstElementChild;\n            if (canvas instanceof HTMLCanvasElement) {\n                context = canvas.getContext('2d');\n            }\n        }\n        if (context && context.canvas.style.transform === transform) {\n            // Container of the previous layer renderer can be used.\n            this.container = target;\n            this.context = context;\n            this.containerReused = true;\n        }\n        else if (this.containerReused) {\n            // Previously reused container cannot be used any more.\n            this.container = null;\n            this.context = null;\n            this.containerReused = false;\n        }\n        if (!this.container) {\n            container = document.createElement('div');\n            container.className = layerClassName;\n            var style = container.style;\n            style.position = 'absolute';\n            style.width = '100%';\n            style.height = '100%';\n            context = createCanvasContext2D();\n            var canvas = context.canvas;\n            container.appendChild(canvas);\n            style = canvas.style;\n            style.position = 'absolute';\n            style.left = '0';\n            style.transformOrigin = 'top left';\n            this.container = container;\n            this.context = context;\n        }\n        if (!this.containerReused &&\n            opt_backgroundColor &&\n            !this.container.style.backgroundColor) {\n            this.container.style.backgroundColor = opt_backgroundColor;\n        }\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../extent.js\").Extent} extent Clip extent.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.clipUnrotated = function (context, frameState, extent) {\n        var topLeft = getTopLeft(extent);\n        var topRight = getTopRight(extent);\n        var bottomRight = getBottomRight(extent);\n        var bottomLeft = getBottomLeft(extent);\n        applyTransform(frameState.coordinateToPixelTransform, topLeft);\n        applyTransform(frameState.coordinateToPixelTransform, topRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomRight);\n        applyTransform(frameState.coordinateToPixelTransform, bottomLeft);\n        var inverted = this.inversePixelTransform;\n        applyTransform(inverted, topLeft);\n        applyTransform(inverted, topRight);\n        applyTransform(inverted, bottomRight);\n        applyTransform(inverted, bottomLeft);\n        context.save();\n        context.beginPath();\n        context.moveTo(Math.round(topLeft[0]), Math.round(topLeft[1]));\n        context.lineTo(Math.round(topRight[0]), Math.round(topRight[1]));\n        context.lineTo(Math.round(bottomRight[0]), Math.round(bottomRight[1]));\n        context.lineTo(Math.round(bottomLeft[0]), Math.round(bottomLeft[1]));\n        context.clip();\n    };\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    CanvasLayerRenderer.prototype.dispatchRenderEvent_ = function (type, context, frameState) {\n        var layer = this.getLayer();\n        if (layer.hasListener(type)) {\n            var event_1 = new RenderEvent(type, this.inversePixelTransform, frameState, context);\n            layer.dispatchEvent(event_1);\n        }\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.preRender = function (context, frameState) {\n        this.frameState = frameState;\n        this.dispatchRenderEvent_(RenderEventType.PRERENDER, context, frameState);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    CanvasLayerRenderer.prototype.postRender = function (context, frameState) {\n        this.dispatchRenderEvent_(RenderEventType.POSTRENDER, context, frameState);\n    };\n    /**\n     * Creates a transform for rendering to an element that will be rotated after rendering.\n     * @param {import(\"../../coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {number} width Width of the rendered element (in pixels).\n     * @param {number} height Height of the rendered element (in pixels).\n     * @param {number} offsetX Offset on the x-axis in view coordinates.\n     * @protected\n     * @return {!import(\"../../transform.js\").Transform} Transform.\n     */\n    CanvasLayerRenderer.prototype.getRenderTransform = function (center, resolution, rotation, pixelRatio, width, height, offsetX) {\n        var dx1 = width / 2;\n        var dy1 = height / 2;\n        var sx = pixelRatio / resolution;\n        var sy = -sx;\n        var dx2 = -center[0] + offsetX;\n        var dy2 = -center[1];\n        return composeTransform(this.tempTransform, dx1, dy1, sx, sy, -rotation, dx2, dy2);\n    };\n    /**\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @return {Uint8ClampedArray|Uint8Array} The result.  If there is no data at the pixel\n     *    location, null will be returned.  If there is data, but pixel values cannot be\n     *    returned, and empty array will be returned.\n     */\n    CanvasLayerRenderer.prototype.getDataAtPixel = function (pixel, frameState, hitTolerance) {\n        var renderPixel = applyTransform(this.inversePixelTransform, pixel.slice());\n        var context = this.context;\n        var layer = this.getLayer();\n        var layerExtent = layer.getExtent();\n        if (layerExtent) {\n            var renderCoordinate = applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n            /** get only data inside of the layer extent */\n            if (!containsCoordinate(layerExtent, renderCoordinate)) {\n                return null;\n            }\n        }\n        var x = Math.round(renderPixel[0]);\n        var y = Math.round(renderPixel[1]);\n        var pixelContext = this.pixelContext_;\n        if (!pixelContext) {\n            var pixelCanvas = document.createElement('canvas');\n            pixelCanvas.width = 1;\n            pixelCanvas.height = 1;\n            pixelContext = pixelCanvas.getContext('2d');\n            this.pixelContext_ = pixelContext;\n        }\n        pixelContext.clearRect(0, 0, 1, 1);\n        var data;\n        try {\n            pixelContext.drawImage(context.canvas, x, y, 1, 1, 0, 0, 1, 1);\n            data = pixelContext.getImageData(0, 0, 1, 1).data;\n        }\n        catch (err) {\n            if (err.name === 'SecurityError') {\n                // tainted canvas, we assume there is data at the given pixel (although there might not be)\n                this.pixelContext_ = null;\n                return new Uint8Array();\n            }\n            return data;\n        }\n        if (data[3] === 0) {\n            return null;\n        }\n        return data;\n    };\n    /**\n     * Clean up.\n     */\n    CanvasLayerRenderer.prototype.disposeInternal = function () {\n        delete this.frameState;\n        _super.prototype.disposeInternal.call(this);\n    };\n    return CanvasLayerRenderer;\n}(LayerRenderer));\nexport default CanvasLayerRenderer;\n//# sourceMappingURL=Layer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/TileLayer\n */\nimport CanvasLayerRenderer from './Layer.js';\nimport ImageTile from '../../ImageTile.js';\nimport ReprojTile from '../../reproj/Tile.js';\nimport TileRange from '../../TileRange.js';\nimport TileState from '../../TileState.js';\nimport { IMAGE_SMOOTHING_DISABLED, IMAGE_SMOOTHING_ENABLED } from './common.js';\nimport { apply as applyTransform, compose as composeTransform, makeInverse, toString as toTransformString, } from '../../transform.js';\nimport { assign } from '../../obj.js';\nimport { containsCoordinate, createEmpty, equals, getHeight, getIntersection, getRotatedViewport, getTopLeft, getWidth, intersects, } from '../../extent.js';\nimport { fromUserExtent } from '../../proj.js';\nimport { getUid } from '../../util.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nimport { toSize } from '../../size.js';\n/**\n * @classdesc\n * Canvas renderer for tile layers.\n * @api\n * @template {import(\"../../layer/Tile.js\").default<import(\"../../source/Tile.js\").default>|import(\"../../layer/VectorTile.js\").default} [LayerType=import(\"../../layer/Tile.js\").default<import(\"../../source/Tile.js\").default>|import(\"../../layer/VectorTile.js\").default]\n * @extends {CanvasLayerRenderer<LayerType>}\n */\nvar CanvasTileLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasTileLayerRenderer, _super);\n    /**\n     * @param {LayerType} tileLayer Tile layer.\n     */\n    function CanvasTileLayerRenderer(tileLayer) {\n        var _this = _super.call(this, tileLayer) || this;\n        /**\n         * Rendered extent has changed since the previous `renderFrame()` call\n         * @type {boolean}\n         */\n        _this.extentChanged = true;\n        /**\n         * @private\n         * @type {?import(\"../../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedPixelRatio;\n        /**\n         * @protected\n         * @type {import(\"../../proj/Projection.js\").default}\n         */\n        _this.renderedProjection = null;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.renderedRevision;\n        /**\n         * @protected\n         * @type {!Array<import(\"../../Tile.js\").default>}\n         */\n        _this.renderedTiles = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.newTiles_ = false;\n        /**\n         * @protected\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.tmpExtent = createEmpty();\n        /**\n         * @private\n         * @type {import(\"../../TileRange.js\").default}\n         */\n        _this.tmpTileRange_ = new TileRange(0, 0, 0, 0);\n        return _this;\n    }\n    /**\n     * @protected\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean} Tile is drawable.\n     */\n    CanvasTileLayerRenderer.prototype.isDrawableTile = function (tile) {\n        var tileLayer = this.getLayer();\n        var tileState = tile.getState();\n        var useInterimTilesOnError = tileLayer.getUseInterimTilesOnError();\n        return (tileState == TileState.LOADED ||\n            tileState == TileState.EMPTY ||\n            (tileState == TileState.ERROR && !useInterimTilesOnError));\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {!import(\"../../Tile.js\").default} Tile.\n     */\n    CanvasTileLayerRenderer.prototype.getTile = function (z, x, y, frameState) {\n        var pixelRatio = frameState.pixelRatio;\n        var projection = frameState.viewState.projection;\n        var tileLayer = this.getLayer();\n        var tileSource = tileLayer.getSource();\n        var tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n        if (tile.getState() == TileState.ERROR) {\n            if (!tileLayer.getUseInterimTilesOnError()) {\n                // When useInterimTilesOnError is false, we consider the error tile as loaded.\n                tile.setState(TileState.LOADED);\n            }\n            else if (tileLayer.getPreload() > 0) {\n                // Preloaded tiles for lower resolutions might have finished loading.\n                this.newTiles_ = true;\n            }\n        }\n        if (!this.isDrawableTile(tile)) {\n            tile = tile.getInterimTile();\n        }\n        return tile;\n    };\n    /**\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray} Data at the pixel location.\n     */\n    CanvasTileLayerRenderer.prototype.getData = function (pixel) {\n        var frameState = this.frameState;\n        if (!frameState) {\n            return null;\n        }\n        var layer = this.getLayer();\n        var coordinate = applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n        var layerExtent = layer.getExtent();\n        if (layerExtent) {\n            if (!containsCoordinate(layerExtent, coordinate)) {\n                return null;\n            }\n        }\n        var pixelRatio = frameState.pixelRatio;\n        var projection = frameState.viewState.projection;\n        var viewState = frameState.viewState;\n        var source = layer.getRenderSource();\n        var tileGrid = source.getTileGridForProjection(viewState.projection);\n        var tilePixelRatio = source.getTilePixelRatio(frameState.pixelRatio);\n        for (var z = tileGrid.getZForResolution(viewState.resolution); z >= tileGrid.getMinZoom(); --z) {\n            var tileCoord = tileGrid.getTileCoordForCoordAndZ(coordinate, z);\n            var tile = source.getTile(z, tileCoord[1], tileCoord[2], pixelRatio, projection);\n            if (!(tile instanceof ImageTile || tile instanceof ReprojTile)) {\n                return null;\n            }\n            if (tile.getState() !== TileState.LOADED) {\n                continue;\n            }\n            var tileOrigin = tileGrid.getOrigin(z);\n            var tileSize = toSize(tileGrid.getTileSize(z));\n            var tileResolution = tileGrid.getResolution(z);\n            var col = Math.floor(tilePixelRatio *\n                ((coordinate[0] - tileOrigin[0]) / tileResolution -\n                    tileCoord[1] * tileSize[0]));\n            var row = Math.floor(tilePixelRatio *\n                ((tileOrigin[1] - coordinate[1]) / tileResolution -\n                    tileCoord[2] * tileSize[1]));\n            var gutter = Math.round(tilePixelRatio * source.getGutterForProjection(viewState.projection));\n            return this.getImageData(tile.getImage(), col + gutter, row + gutter);\n        }\n        return null;\n    };\n    /**\n     * @param {Object<number, Object<string, import(\"../../Tile.js\").default>>} tiles Lookup of loaded tiles by zoom level.\n     * @param {number} zoom Zoom level.\n     * @param {import(\"../../Tile.js\").default} tile Tile.\n     * @return {boolean|void} If `false`, the tile will not be considered loaded.\n     */\n    CanvasTileLayerRenderer.prototype.loadedTileCallback = function (tiles, zoom, tile) {\n        if (this.isDrawableTile(tile)) {\n            return _super.prototype.loadedTileCallback.call(this, tiles, zoom, tile);\n        }\n        return false;\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasTileLayerRenderer.prototype.prepareFrame = function (frameState) {\n        return !!this.getLayer().getSource();\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasTileLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var viewResolution = viewState.resolution;\n        var viewCenter = viewState.center;\n        var rotation = viewState.rotation;\n        var pixelRatio = frameState.pixelRatio;\n        var tileLayer = this.getLayer();\n        var tileSource = tileLayer.getSource();\n        var sourceRevision = tileSource.getRevision();\n        var tileGrid = tileSource.getTileGridForProjection(projection);\n        var z = tileGrid.getZForResolution(viewResolution, tileSource.zDirection);\n        var tileResolution = tileGrid.getResolution(z);\n        var extent = frameState.extent;\n        var resolution = frameState.viewState.resolution;\n        var tilePixelRatio = tileSource.getTilePixelRatio(pixelRatio);\n        // desired dimensions of the canvas in pixels\n        var width = Math.round((getWidth(extent) / resolution) * pixelRatio);\n        var height = Math.round((getHeight(extent) / resolution) * pixelRatio);\n        var layerExtent = layerState.extent && fromUserExtent(layerState.extent, projection);\n        if (layerExtent) {\n            extent = getIntersection(extent, fromUserExtent(layerState.extent, projection));\n        }\n        var dx = (tileResolution * width) / 2 / tilePixelRatio;\n        var dy = (tileResolution * height) / 2 / tilePixelRatio;\n        var canvasExtent = [\n            viewCenter[0] - dx,\n            viewCenter[1] - dy,\n            viewCenter[0] + dx,\n            viewCenter[1] + dy,\n        ];\n        var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n        /**\n         * @type {Object<number, Object<string, import(\"../../Tile.js\").default>>}\n         */\n        var tilesToDrawByZ = {};\n        tilesToDrawByZ[z] = {};\n        var findLoadedTiles = this.createLoadedTileFinder(tileSource, projection, tilesToDrawByZ);\n        var tmpExtent = this.tmpExtent;\n        var tmpTileRange = this.tmpTileRange_;\n        this.newTiles_ = false;\n        var viewport = rotation\n            ? getRotatedViewport(viewState.center, resolution, rotation, frameState.size)\n            : undefined;\n        for (var x = tileRange.minX; x <= tileRange.maxX; ++x) {\n            for (var y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                if (rotation &&\n                    !tileGrid.tileCoordIntersectsViewport([z, x, y], viewport)) {\n                    continue;\n                }\n                var tile = this.getTile(z, x, y, frameState);\n                if (this.isDrawableTile(tile)) {\n                    var uid = getUid(this);\n                    if (tile.getState() == TileState.LOADED) {\n                        tilesToDrawByZ[z][tile.tileCoord.toString()] = tile;\n                        var inTransition = tile.inTransition(uid);\n                        if (inTransition && layerState.opacity !== 1) {\n                            // Skipping transition when layer is not fully opaque avoids visual artifacts.\n                            tile.endTransition(uid);\n                            inTransition = false;\n                        }\n                        if (!this.newTiles_ &&\n                            (inTransition || this.renderedTiles.indexOf(tile) === -1)) {\n                            this.newTiles_ = true;\n                        }\n                    }\n                    if (tile.getAlpha(uid, frameState.time) === 1) {\n                        // don't look for alt tiles if alpha is 1\n                        continue;\n                    }\n                }\n                var childTileRange = tileGrid.getTileCoordChildTileRange(tile.tileCoord, tmpTileRange, tmpExtent);\n                var covered = false;\n                if (childTileRange) {\n                    covered = findLoadedTiles(z + 1, childTileRange);\n                }\n                if (!covered) {\n                    tileGrid.forEachTileCoordParentTileRange(tile.tileCoord, findLoadedTiles, tmpTileRange, tmpExtent);\n                }\n            }\n        }\n        var canvasScale = ((tileResolution / viewResolution) * pixelRatio) / tilePixelRatio;\n        // set forward and inverse pixel transforms\n        composeTransform(this.pixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / pixelRatio, 1 / pixelRatio, rotation, -width / 2, -height / 2);\n        var canvasTransform = toTransformString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, this.getBackground(frameState));\n        var context = this.context;\n        var canvas = context.canvas;\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        // set scale transform for calculating tile positions on the canvas\n        composeTransform(this.tempTransform, width / 2, height / 2, canvasScale, canvasScale, 0, -width / 2, -height / 2);\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        if (layerExtent) {\n            this.clipUnrotated(context, frameState, layerExtent);\n        }\n        if (!tileSource.getInterpolate()) {\n            assign(context, IMAGE_SMOOTHING_DISABLED);\n        }\n        this.preRender(context, frameState);\n        this.renderedTiles.length = 0;\n        /** @type {Array<number>} */\n        var zs = Object.keys(tilesToDrawByZ).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var clips, clipZs, currentClip;\n        if (layerState.opacity === 1 &&\n            (!this.containerReused ||\n                tileSource.getOpaque(frameState.viewState.projection))) {\n            zs = zs.reverse();\n        }\n        else {\n            clips = [];\n            clipZs = [];\n        }\n        for (var i = zs.length - 1; i >= 0; --i) {\n            var currentZ = zs[i];\n            var currentTilePixelSize = tileSource.getTilePixelSize(currentZ, pixelRatio, projection);\n            var currentResolution = tileGrid.getResolution(currentZ);\n            var currentScale = currentResolution / tileResolution;\n            var dx_1 = currentTilePixelSize[0] * currentScale * canvasScale;\n            var dy_1 = currentTilePixelSize[1] * currentScale * canvasScale;\n            var originTileCoord = tileGrid.getTileCoordForCoordAndZ(getTopLeft(canvasExtent), currentZ);\n            var originTileExtent = tileGrid.getTileCoordExtent(originTileCoord);\n            var origin_1 = applyTransform(this.tempTransform, [\n                (tilePixelRatio * (originTileExtent[0] - canvasExtent[0])) /\n                    tileResolution,\n                (tilePixelRatio * (canvasExtent[3] - originTileExtent[3])) /\n                    tileResolution,\n            ]);\n            var tileGutter = tilePixelRatio * tileSource.getGutterForProjection(projection);\n            var tilesToDraw = tilesToDrawByZ[currentZ];\n            for (var tileCoordKey in tilesToDraw) {\n                var tile = /** @type {import(\"../../ImageTile.js\").default} */ (tilesToDraw[tileCoordKey]);\n                var tileCoord = tile.tileCoord;\n                // Calculate integer positions and sizes so that tiles align\n                var xIndex = originTileCoord[1] - tileCoord[1];\n                var nextX = Math.round(origin_1[0] - (xIndex - 1) * dx_1);\n                var yIndex = originTileCoord[2] - tileCoord[2];\n                var nextY = Math.round(origin_1[1] - (yIndex - 1) * dy_1);\n                var x = Math.round(origin_1[0] - xIndex * dx_1);\n                var y = Math.round(origin_1[1] - yIndex * dy_1);\n                var w = nextX - x;\n                var h = nextY - y;\n                var transition = z === currentZ;\n                var inTransition = transition && tile.getAlpha(getUid(this), frameState.time) !== 1;\n                var contextSaved = false;\n                if (!inTransition) {\n                    if (clips) {\n                        // Clip mask for regions in this tile that already filled by a higher z tile\n                        currentClip = [x, y, x + w, y, x + w, y + h, x, y + h];\n                        for (var i_1 = 0, ii = clips.length; i_1 < ii; ++i_1) {\n                            if (z !== currentZ && currentZ < clipZs[i_1]) {\n                                var clip = clips[i_1];\n                                if (intersects([x, y, x + w, y + h], [clip[0], clip[3], clip[4], clip[7]])) {\n                                    if (!contextSaved) {\n                                        context.save();\n                                        contextSaved = true;\n                                    }\n                                    context.beginPath();\n                                    // counter-clockwise (outer ring) for current tile\n                                    context.moveTo(currentClip[0], currentClip[1]);\n                                    context.lineTo(currentClip[2], currentClip[3]);\n                                    context.lineTo(currentClip[4], currentClip[5]);\n                                    context.lineTo(currentClip[6], currentClip[7]);\n                                    // clockwise (inner ring) for higher z tile\n                                    context.moveTo(clip[6], clip[7]);\n                                    context.lineTo(clip[4], clip[5]);\n                                    context.lineTo(clip[2], clip[3]);\n                                    context.lineTo(clip[0], clip[1]);\n                                    context.clip();\n                                }\n                            }\n                        }\n                        clips.push(currentClip);\n                        clipZs.push(currentZ);\n                    }\n                    else {\n                        context.clearRect(x, y, w, h);\n                    }\n                }\n                this.drawTileImage(tile, frameState, x, y, w, h, tileGutter, transition);\n                if (clips && !inTransition) {\n                    if (contextSaved) {\n                        context.restore();\n                    }\n                    this.renderedTiles.unshift(tile);\n                }\n                else {\n                    this.renderedTiles.push(tile);\n                }\n                this.updateUsedTiles(frameState.usedTiles, tileSource, tile);\n            }\n        }\n        this.renderedRevision = sourceRevision;\n        this.renderedResolution = tileResolution;\n        this.extentChanged =\n            !this.renderedExtent_ || !equals(this.renderedExtent_, canvasExtent);\n        this.renderedExtent_ = canvasExtent;\n        this.renderedPixelRatio = pixelRatio;\n        this.renderedProjection = projection;\n        this.manageTilePyramid(frameState, tileSource, tileGrid, pixelRatio, projection, extent, z, tileLayer.getPreload());\n        this.scheduleExpireCache(frameState, tileSource);\n        this.postRender(context, frameState);\n        if (layerState.extent) {\n            context.restore();\n        }\n        assign(context, IMAGE_SMOOTHING_ENABLED);\n        if (canvasTransform !== canvas.style.transform) {\n            canvas.style.transform = canvasTransform;\n        }\n        return this.container;\n    };\n    /**\n     * @param {import(\"../../ImageTile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} x Left of the tile.\n     * @param {number} y Top of the tile.\n     * @param {number} w Width of the tile.\n     * @param {number} h Height of the tile.\n     * @param {number} gutter Tile gutter.\n     * @param {boolean} transition Apply an alpha transition.\n     */\n    CanvasTileLayerRenderer.prototype.drawTileImage = function (tile, frameState, x, y, w, h, gutter, transition) {\n        var image = this.getTileImage(tile);\n        if (!image) {\n            return;\n        }\n        var uid = getUid(this);\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        var alpha = layerState.opacity *\n            (transition ? tile.getAlpha(uid, frameState.time) : 1);\n        var alphaChanged = alpha !== this.context.globalAlpha;\n        if (alphaChanged) {\n            this.context.save();\n            this.context.globalAlpha = alpha;\n        }\n        this.context.drawImage(image, gutter, gutter, image.width - 2 * gutter, image.height - 2 * gutter, x, y, w, h);\n        if (alphaChanged) {\n            this.context.restore();\n        }\n        if (alpha !== layerState.opacity) {\n            frameState.animate = true;\n        }\n        else if (transition) {\n            tile.endTransition(uid);\n        }\n    };\n    /**\n     * @return {HTMLCanvasElement} Image\n     */\n    CanvasTileLayerRenderer.prototype.getImage = function () {\n        var context = this.context;\n        return context ? context.canvas : null;\n    };\n    /**\n     * Get the image from a tile.\n     * @param {import(\"../../ImageTile.js\").default} tile Tile.\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.getTileImage = function (tile) {\n        return tile.getImage();\n    };\n    /**\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.scheduleExpireCache = function (frameState, tileSource) {\n        if (tileSource.canExpireCache()) {\n            /**\n             * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n             * @param {import(\"../../PluggableMap.js\").default} map Map.\n             * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n             */\n            var postRenderFunction = function (tileSource, map, frameState) {\n                var tileSourceKey = getUid(tileSource);\n                if (tileSourceKey in frameState.usedTiles) {\n                    tileSource.expireCache(frameState.viewState.projection, frameState.usedTiles[tileSourceKey]);\n                }\n            }.bind(null, tileSource);\n            frameState.postRenderFunctions.push(\n            /** @type {import(\"../../PluggableMap.js\").PostRenderFunction} */ (postRenderFunction));\n        }\n    };\n    /**\n     * @param {!Object<string, !Object<string, boolean>>} usedTiles Used tiles.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @param {import('../../Tile.js').default} tile Tile.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.updateUsedTiles = function (usedTiles, tileSource, tile) {\n        // FIXME should we use tilesToDrawByZ instead?\n        var tileSourceKey = getUid(tileSource);\n        if (!(tileSourceKey in usedTiles)) {\n            usedTiles[tileSourceKey] = {};\n        }\n        usedTiles[tileSourceKey][tile.getKey()] = true;\n    };\n    /**\n     * Manage tile pyramid.\n     * This function performs a number of functions related to the tiles at the\n     * current zoom and lower zoom levels:\n     * - registers idle tiles in frameState.wantedTiles so that they are not\n     *   discarded by the tile queue\n     * - enqueues missing tiles\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../../source/Tile.js\").default} tileSource Tile source.\n     * @param {import(\"../../tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @param {import(\"../../extent.js\").Extent} extent Extent.\n     * @param {number} currentZ Current Z.\n     * @param {number} preload Load low resolution tiles up to `preload` levels.\n     * @param {function(import(\"../../Tile.js\").default):void} [opt_tileCallback] Tile callback.\n     * @protected\n     */\n    CanvasTileLayerRenderer.prototype.manageTilePyramid = function (frameState, tileSource, tileGrid, pixelRatio, projection, extent, currentZ, preload, opt_tileCallback) {\n        var tileSourceKey = getUid(tileSource);\n        if (!(tileSourceKey in frameState.wantedTiles)) {\n            frameState.wantedTiles[tileSourceKey] = {};\n        }\n        var wantedTiles = frameState.wantedTiles[tileSourceKey];\n        var tileQueue = frameState.tileQueue;\n        var minZoom = tileGrid.getMinZoom();\n        var rotation = frameState.viewState.rotation;\n        var viewport = rotation\n            ? getRotatedViewport(frameState.viewState.center, frameState.viewState.resolution, rotation, frameState.size)\n            : undefined;\n        var tileCount = 0;\n        var tile, tileRange, tileResolution, x, y, z;\n        for (z = minZoom; z <= currentZ; ++z) {\n            tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z, tileRange);\n            tileResolution = tileGrid.getResolution(z);\n            for (x = tileRange.minX; x <= tileRange.maxX; ++x) {\n                for (y = tileRange.minY; y <= tileRange.maxY; ++y) {\n                    if (rotation &&\n                        !tileGrid.tileCoordIntersectsViewport([z, x, y], viewport)) {\n                        continue;\n                    }\n                    if (currentZ - z <= preload) {\n                        ++tileCount;\n                        tile = tileSource.getTile(z, x, y, pixelRatio, projection);\n                        if (tile.getState() == TileState.IDLE) {\n                            wantedTiles[tile.getKey()] = true;\n                            if (!tileQueue.isKeyQueued(tile.getKey())) {\n                                tileQueue.enqueue([\n                                    tile,\n                                    tileSourceKey,\n                                    tileGrid.getTileCoordCenter(tile.tileCoord),\n                                    tileResolution,\n                                ]);\n                            }\n                        }\n                        if (opt_tileCallback !== undefined) {\n                            opt_tileCallback(tile);\n                        }\n                    }\n                    else {\n                        tileSource.useTile(z, x, y, projection);\n                    }\n                }\n            }\n        }\n        tileSource.updateCacheSize(tileCount, projection);\n    };\n    return CanvasTileLayerRenderer;\n}(CanvasLayerRenderer));\nexport default CanvasTileLayerRenderer;\n//# sourceMappingURL=TileLayer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Tile\n */\nimport BaseTileLayer from './BaseTile.js';\nimport CanvasTileLayerRenderer from '../renderer/canvas/TileLayer.js';\n/**\n * @classdesc\n * For layer sources that provide pre-rendered, tiled images in grids that are\n * organized by zoom levels for specific resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Tile.js\").default} TileSourceType\n * @extends BaseTileLayer<TileSourceType, CanvasTileLayerRenderer>\n * @api\n */\nvar TileLayer = /** @class */ (function (_super) {\n    __extends(TileLayer, _super);\n    /**\n     * @param {import(\"./BaseTile.js\").Options<TileSourceType>} [opt_options] Tile layer options.\n     */\n    function TileLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    TileLayer.prototype.createRenderer = function () {\n        return new CanvasTileLayerRenderer(this);\n    };\n    return TileLayer;\n}(BaseTileLayer));\nexport default TileLayer;\n//# sourceMappingURL=Tile.js.map","import { GrafanaTheme2 } from '@grafana/data';\nimport Map from 'ol/Map';\nimport XYZ from 'ol/source/XYZ';\nimport TileLayer from 'ol/layer/Tile';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\n\n// https://carto.com/help/building-maps/basemap-list/\n\nexport enum LayerTheme {\n  Auto = 'auto',\n  Light = 'light',\n  Dark = 'dark',\n}\n\nexport interface CartoConfig {\n  theme?: LayerTheme;\n  showLabels?: boolean;\n}\n\nexport const defaultCartoConfig: CartoConfig = {\n  theme: LayerTheme.Auto,\n  showLabels: true,\n};\n\nexport const carto: ExtendMapLayerRegistryItem<CartoConfig> = {\n  id: 'carto',\n  name: 'CARTO reference map',\n  isBaseMap: true,\n  defaultOptions: defaultCartoConfig,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions<CartoConfig>, theme: GrafanaTheme2) => ({\n    init: () => {\n      const cfg = { ...defaultCartoConfig, ...options.config };\n      let style = cfg.theme as string;\n      if (!style || style === LayerTheme.Auto) {\n        style = theme.isDark ? 'dark' : 'light';\n      }\n      if (cfg.showLabels) {\n        style += '_all';\n      } else {\n        style += '_nolabels';\n      }\n      return new TileLayer({\n        source: new XYZ({\n          attributions: `<a href=\"https://carto.com/attribution/\"> CARTO</a>`,\n          url: `https://{1-4}.basemaps.cartocdn.com/${style}/{z}/{x}/{y}.png`,\n        }),\n      });\n    },\n  }),\n\n  registerOptionsUI: (builder) => {\n    builder\n      .addRadio({\n        path: 'config.theme',\n        name: 'Theme',\n        settings: {\n          options: [\n            { value: LayerTheme.Auto, label: 'Auto', description: 'Match grafana theme' },\n            { value: LayerTheme.Light, label: 'Light' },\n            { value: LayerTheme.Dark, label: 'Dark' },\n          ],\n        },\n        defaultValue: defaultCartoConfig.theme!,\n      })\n      .addBooleanSwitch({\n        path: 'config.showLabels',\n        name: 'Show labels',\n        description: '',\n        defaultValue: defaultCartoConfig.showLabels,\n      });\n  },\n};\n\nexport const cartoLayers = [carto];\n","import { config, GrafanaBootConfig } from '@grafana/runtime';\nimport { PluginState } from '@grafana/data';\n// Legacy binding paths\nexport { config, GrafanaBootConfig as Settings };\n\nlet grafanaConfig: GrafanaBootConfig = config;\n\nexport default grafanaConfig;\n\nexport const getConfig = () => {\n  return grafanaConfig;\n};\n\nexport const updateConfig = (update: Partial<GrafanaBootConfig>) => {\n  grafanaConfig = {\n    ...grafanaConfig,\n    ...update,\n  };\n};\n\n// The `enable_alpha` flag is no exposed directly, this is equivolant\nexport const hasAlphaPanels = Boolean(config.panels?.debug?.state === PluginState.alpha);\n","import { GrafanaTheme2 } from '@grafana/data';\nimport Map from 'ol/Map';\nimport XYZ from 'ol/source/XYZ';\nimport TileLayer from 'ol/layer/Tile';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\n\nexport interface XYZConfig {\n  url: string;\n  attribution: string;\n  minZoom?: number;\n  maxZoom?: number;\n}\n\nconst sampleURL = 'https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer';\nexport const defaultXYZConfig: XYZConfig = {\n  url: sampleURL + '/tile/{z}/{y}/{x}',\n  attribution: `Tiles  <a href=\"${sampleURL}\">ArcGIS</a>`,\n};\n\nexport const xyzTiles: ExtendMapLayerRegistryItem<XYZConfig> = {\n  id: 'xyz',\n  name: 'XYZ Tile layer',\n  isBaseMap: true,\n\n  create: async (map: Map, options: ExtendMapLayerOptions<XYZConfig>, theme: GrafanaTheme2) => ({\n    init: () => {\n      const cfg = { ...options.config };\n      if (!cfg.url) {\n        cfg.url = defaultXYZConfig.url;\n        cfg.attribution = cfg.attribution ?? defaultXYZConfig.attribution;\n      }\n      return new TileLayer({\n        source: new XYZ({\n          url: cfg.url,\n          attributions: cfg.attribution, // singular?\n        }),\n        minZoom: cfg.minZoom,\n        maxZoom: cfg.maxZoom,\n      });\n    },\n  }),\n\n  registerOptionsUI: (builder) => {\n    builder\n      .addTextInput({\n        path: 'config.url',\n        name: 'URL template',\n        description: 'Must include {x}, {y} or {-y}, and {z} placeholders',\n        settings: {\n          placeholder: defaultXYZConfig.url,\n        },\n      })\n      .addTextInput({\n        path: 'config.attribution',\n        name: 'Attribution',\n        settings: {\n          placeholder: defaultXYZConfig.attribution,\n        },\n      });\n  },\n};\n\nexport const genericLayers = [xyzTiles];\n","import { GrafanaTheme2, RegistryItem, Registry } from '@grafana/data';\nimport Map from 'ol/Map';\nimport { xyzTiles, defaultXYZConfig, XYZConfig } from './generic';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\n\ninterface PublicServiceItem extends RegistryItem {\n  slug: string;\n}\n\nconst CUSTOM_SERVICE = 'custom';\nconst DEFAULT_SERVICE = 'streets';\n\nexport const publicServiceRegistry = new Registry<PublicServiceItem>(() => [\n  {\n    id: DEFAULT_SERVICE,\n    name: 'World Street Map',\n    slug: 'World_Street_Map',\n  },\n  {\n    id: 'world-imagery',\n    name: 'World Imagery',\n    slug: 'World_Imagery',\n  },\n  {\n    id: 'world-physical',\n    name: 'World Physical',\n    slug: 'World_Physical_Map',\n  },\n  {\n    id: 'topo',\n    name: 'Topographic',\n    slug: 'World_Topo_Map',\n  },\n  {\n    id: 'usa-topo',\n    name: 'USA Topographic',\n    slug: 'USA_Topo_Maps',\n  },\n  {\n    id: 'ocean',\n    name: 'World Ocean',\n    slug: 'Ocean/World_Ocean_Base',\n  },\n  {\n    id: CUSTOM_SERVICE,\n    name: 'Custom MapServer',\n    description: 'Use a custom MapServer with pre-cached values',\n    slug: '',\n  },\n]);\n\nexport interface ESRIXYZConfig extends XYZConfig {\n  server: string;\n}\n\nexport const esriXYZTiles: ExtendMapLayerRegistryItem<ESRIXYZConfig> = {\n  id: 'esri-xyz',\n  name: 'ArcGIS MapServer',\n  isBaseMap: true,\n\n  create: async (map: Map, options: ExtendMapLayerOptions<ESRIXYZConfig>, theme: GrafanaTheme2) => {\n    const cfg = { ...options.config };\n    const svc = publicServiceRegistry.getIfExists(cfg.server ?? DEFAULT_SERVICE)!;\n    if (svc.id !== CUSTOM_SERVICE) {\n      const base = 'https://services.arcgisonline.com/ArcGIS/rest/services/';\n      cfg.url = `${base}${svc.slug}/MapServer/tile/{z}/{y}/{x}`;\n      cfg.attribution = `Tiles  <a href=\"${base}${svc.slug}/MapServer\">ArcGIS</a>`;\n    }\n    const opts = { ...options, config: cfg as XYZConfig };\n    return xyzTiles.create(map, opts, theme);\n  },\n\n  registerOptionsUI: (builder) => {\n    builder\n      .addSelect({\n        path: 'config.server',\n        name: 'Server instance',\n        settings: {\n          options: publicServiceRegistry.selectOptions().options,\n        },\n      })\n      .addTextInput({\n        path: 'config.url',\n        name: 'URL template',\n        description: 'Must include {x}, {y} or {-y}, and {z} placeholders',\n        settings: {\n          placeholder: defaultXYZConfig.url,\n        },\n        showIf: (cfg) => cfg.config?.server === CUSTOM_SERVICE,\n      })\n      .addTextInput({\n        path: 'config.attribution',\n        name: 'Attribution',\n        settings: {\n          placeholder: defaultXYZConfig.attribution,\n        },\n        showIf: (cfg) => cfg.config?.server === CUSTOM_SERVICE,\n      });\n  },\n\n  defaultOptions: {\n    server: DEFAULT_SERVICE,\n  },\n};\n\nexport const esriLayers = [esriXYZTiles];\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Feature\n */\nimport BaseObject from './Object.js';\nimport EventType from './events/EventType.js';\nimport { assert } from './asserts.js';\nimport { listen, unlistenByKey } from './events.js';\n/**\n * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n */\n/**\n * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<import(\"./ObjectEventType\").Types|'change:geometry', import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|import(\"./ObjectEventType\").Types\n *     |'change:geometry', Return>} FeatureOnSignature\n */\n/***\n * @template Geometry\n * @typedef {Object<string, *> & { geometry?: Geometry }} ObjectWithGeometry\n */\n/**\n * @classdesc\n * A vector object for geographic features with a geometry and other\n * attribute properties, similar to the features in vector file formats like\n * GeoJSON.\n *\n * Features can be styled individually with `setStyle`; otherwise they use the\n * style of their vector layer.\n *\n * Note that attribute properties are set as {@link module:ol/Object~BaseObject} properties on\n * the feature object, so they are observable, and have get/set accessors.\n *\n * Typically, a feature has a single geometry property. You can set the\n * geometry using the `setGeometry` method and get it with `getGeometry`.\n * It is possible to store more than one geometry on a feature using attribute\n * properties. By default, the geometry used for rendering is identified by\n * the property name `geometry`. If you want to use another geometry property\n * for rendering, use the `setGeometryName` method to change the attribute\n * property associated with the geometry for the feature.  For example:\n *\n * ```js\n *\n * import Feature from 'ol/Feature';\n * import Polygon from 'ol/geom/Polygon';\n * import Point from 'ol/geom/Point';\n *\n * var feature = new Feature({\n *   geometry: new Polygon(polyCoords),\n *   labelPoint: new Point(labelCoords),\n *   name: 'My Polygon'\n * });\n *\n * // get the polygon geometry\n * var poly = feature.getGeometry();\n *\n * // Render the feature as a point using the coordinates from labelPoint\n * feature.setGeometryName('labelPoint');\n *\n * // get the point geometry\n * var point = feature.getGeometry();\n * ```\n *\n * @api\n * @template {import(\"./geom/Geometry.js\").default} [Geometry=import(\"./geom/Geometry.js\").default]\n */\nvar Feature = /** @class */ (function (_super) {\n    __extends(Feature, _super);\n    /**\n     * @param {Geometry|ObjectWithGeometry<Geometry>} [opt_geometryOrProperties]\n     *     You may pass a Geometry object directly, or an object literal containing\n     *     properties. If you pass an object literal, you may include a Geometry\n     *     associated with a `geometry` key.\n     */\n    function Feature(opt_geometryOrProperties) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {FeatureOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {FeatureOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {number|string|undefined}\n         */\n        _this.id_ = undefined;\n        /**\n         * @type {string}\n         * @private\n         */\n        _this.geometryName_ = 'geometry';\n        /**\n         * User provided style.\n         * @private\n         * @type {import(\"./style/Style.js\").StyleLike}\n         */\n        _this.style_ = null;\n        /**\n         * @private\n         * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n         */\n        _this.styleFunction_ = undefined;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.geometryChangeKey_ = null;\n        _this.addChangeListener(_this.geometryName_, _this.handleGeometryChanged_);\n        if (opt_geometryOrProperties) {\n            if (typeof (\n            /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry) === 'function') {\n                var geometry = /** @type {Geometry} */ (opt_geometryOrProperties);\n                _this.setGeometry(geometry);\n            }\n            else {\n                /** @type {Object<string, *>} */\n                var properties = opt_geometryOrProperties;\n                _this.setProperties(properties);\n            }\n        }\n        return _this;\n    }\n    /**\n     * Clone this feature. If the original feature has a geometry it\n     * is also cloned. The feature id is not set in the clone.\n     * @return {Feature<Geometry>} The clone.\n     * @api\n     */\n    Feature.prototype.clone = function () {\n        var clone = /** @type {Feature<Geometry>} */ (new Feature(this.hasProperties() ? this.getProperties() : null));\n        clone.setGeometryName(this.getGeometryName());\n        var geometry = this.getGeometry();\n        if (geometry) {\n            clone.setGeometry(/** @type {Geometry} */ (geometry.clone()));\n        }\n        var style = this.getStyle();\n        if (style) {\n            clone.setStyle(style);\n        }\n        return clone;\n    };\n    /**\n     * Get the feature's default geometry.  A feature may have any number of named\n     * geometries.  The \"default\" geometry (the one that is rendered by default) is\n     * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n     * @return {Geometry|undefined} The default geometry for the feature.\n     * @api\n     * @observable\n     */\n    Feature.prototype.getGeometry = function () {\n        return /** @type {Geometry|undefined} */ (this.get(this.geometryName_));\n    };\n    /**\n     * Get the feature identifier.  This is a stable identifier for the feature and\n     * is either set when reading data from a remote source or set explicitly by\n     * calling {@link module:ol/Feature~Feature#setId}.\n     * @return {number|string|undefined} Id.\n     * @api\n     */\n    Feature.prototype.getId = function () {\n        return this.id_;\n    };\n    /**\n     * Get the name of the feature's default geometry.  By default, the default\n     * geometry is named `geometry`.\n     * @return {string} Get the property name associated with the default geometry\n     *     for this feature.\n     * @api\n     */\n    Feature.prototype.getGeometryName = function () {\n        return this.geometryName_;\n    };\n    /**\n     * Get the feature's style. Will return what was provided to the\n     * {@link module:ol/Feature~Feature#setStyle} method.\n     * @return {import(\"./style/Style.js\").StyleLike|undefined} The feature style.\n     * @api\n     */\n    Feature.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the feature's style function.\n     * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n     * representing the current style of this feature.\n     * @api\n     */\n    Feature.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChange_ = function () {\n        this.changed();\n    };\n    /**\n     * @private\n     */\n    Feature.prototype.handleGeometryChanged_ = function () {\n        if (this.geometryChangeKey_) {\n            unlistenByKey(this.geometryChangeKey_);\n            this.geometryChangeKey_ = null;\n        }\n        var geometry = this.getGeometry();\n        if (geometry) {\n            this.geometryChangeKey_ = listen(geometry, EventType.CHANGE, this.handleGeometryChange_, this);\n        }\n        this.changed();\n    };\n    /**\n     * Set the default geometry for the feature.  This will update the property\n     * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n     * @param {Geometry|undefined} geometry The new geometry.\n     * @api\n     * @observable\n     */\n    Feature.prototype.setGeometry = function (geometry) {\n        this.set(this.geometryName_, geometry);\n    };\n    /**\n     * Set the style for the feature to override the layer style.  This can be a\n     * single style object, an array of styles, or a function that takes a\n     * resolution and returns an array of styles. To unset the feature style, call\n     * `setStyle()` without arguments or a falsey value.\n     * @param {import(\"./style/Style.js\").StyleLike} [opt_style] Style for this feature.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style;\n        this.styleFunction_ = !opt_style\n            ? undefined\n            : createStyleFunction(opt_style);\n        this.changed();\n    };\n    /**\n     * Set the feature id.  The feature id is considered stable and may be used when\n     * requesting features or comparing identifiers returned from a remote source.\n     * The feature id can be used with the\n     * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n     * @param {number|string|undefined} id The feature id.\n     * @api\n     * @fires module:ol/events/Event~BaseEvent#event:change\n     */\n    Feature.prototype.setId = function (id) {\n        this.id_ = id;\n        this.changed();\n    };\n    /**\n     * Set the property name to be used when getting the feature's default geometry.\n     * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n     * this name will be returned.\n     * @param {string} name The property name of the default geometry.\n     * @api\n     */\n    Feature.prototype.setGeometryName = function (name) {\n        this.removeChangeListener(this.geometryName_, this.handleGeometryChanged_);\n        this.geometryName_ = name;\n        this.addChangeListener(this.geometryName_, this.handleGeometryChanged_);\n        this.handleGeometryChanged_();\n    };\n    return Feature;\n}(BaseObject));\n/**\n * Convert the provided object into a feature style function.  Functions passed\n * through unchanged.  Arrays of Style or single style objects wrapped\n * in a new feature style function.\n * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n *     A feature style function, a single style, or an array of styles.\n * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n */\nexport function createStyleFunction(obj) {\n    if (typeof obj === 'function') {\n        return obj;\n    }\n    else {\n        /**\n         * @type {Array<import(\"./style/Style.js\").default>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n            var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n            styles_1 = [style];\n        }\n        return function () {\n            return styles_1;\n        };\n    }\n}\nexport default Feature;\n//# sourceMappingURL=Feature.js.map","/**\n * @module ol/format/Feature\n */\nimport Units from '../proj/Units.js';\nimport { abstract } from '../util.js';\nimport { assign } from '../obj.js';\nimport { equivalent as equivalentProjection, get as getProjection, transformExtent, } from '../proj.js';\n/**\n * @typedef {Object} ReadOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are reading.\n * If not provided, the projection will be derived from the data (where possible) or\n * the `dataProjection` of the format is assigned (where set). If the projection\n * can not be derived from the data and if no `dataProjection` is set for a format,\n * the features will not be reprojected.\n * @property {import(\"../extent.js\").Extent} [extent] Tile extent in map units of the tile being read.\n * This is only required when reading data with tile pixels as geometry units. When configured,\n * a `dataProjection` with `TILE_PIXELS` as `units` and the tile's pixel extent as `extent` needs to be\n * provided.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * created by the format reader. If not provided, features will be returned in the\n * `dataProjection`.\n */\n/**\n * @typedef {Object} WriteOptions\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection] Projection of the data we are writing.\n * If not provided, the `dataProjection` of the format is assigned (where set).\n * If no `dataProjection` is set for a format, the features will be returned\n * in the `featureProjection`.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection of the feature geometries\n * that will be serialized by the format writer. If not provided, geometries are assumed\n * to be in the `dataProjection` if that is set; in other words, they are not transformed.\n * @property {boolean} [rightHanded] When writing geometries, follow the right-hand\n * rule for linear ring orientation.  This means that polygons will have counter-clockwise\n * exterior rings and clockwise interior rings.  By default, coordinates are serialized\n * as they are provided at construction.  If `true`, the right-hand rule will\n * be applied.  If `false`, the left-hand rule will be applied (clockwise for\n * exterior and counter-clockwise for interior rings).  Note that not all\n * formats support this.  The GeoJSON format does use this property when writing\n * geometries.\n * @property {number} [decimals] Maximum number of decimal places for coordinates.\n * Coordinates are stored internally as floats, but floating-point arithmetic can create\n * coordinates with a large number of decimal places, not generally wanted on output.\n * Set a number here to round coordinates. Can also be used to ensure that\n * coordinates read in can be written back out with the same number of decimals.\n * Default is no rounding.\n */\n/**\n * @typedef {'arraybuffer' | 'json' | 'text' | 'xml'} Type\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for feature formats.\n * {@link module:ol/format/Feature~FeatureFormat} subclasses provide the ability to decode and encode\n * {@link module:ol/Feature~Feature} objects from a variety of commonly used geospatial\n * file formats.  See the documentation for each format for more details.\n *\n * @abstract\n * @api\n */\nvar FeatureFormat = /** @class */ (function () {\n    function FeatureFormat() {\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default|undefined}\n         */\n        this.dataProjection = undefined;\n        /**\n         * @protected\n         * @type {import(\"../proj/Projection.js\").default|undefined}\n         */\n        this.defaultFeatureProjection = undefined;\n        /**\n         * A list media types supported by the format in descending order of preference.\n         * @type {Array<string>}\n         */\n        this.supportedMediaTypes = null;\n    }\n    /**\n     * Adds the data projection to the read options.\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Options.\n     * @return {ReadOptions|undefined} Options.\n     * @protected\n     */\n    FeatureFormat.prototype.getReadOptions = function (source, opt_options) {\n        var options;\n        if (opt_options) {\n            var dataProjection = opt_options.dataProjection\n                ? getProjection(opt_options.dataProjection)\n                : this.readProjection(source);\n            if (opt_options.extent &&\n                dataProjection &&\n                dataProjection.getUnits() === Units.TILE_PIXELS) {\n                dataProjection = getProjection(dataProjection);\n                dataProjection.setWorldExtent(opt_options.extent);\n            }\n            options = {\n                dataProjection: dataProjection,\n                featureProjection: opt_options.featureProjection,\n            };\n        }\n        return this.adaptOptions(options);\n    };\n    /**\n     * Sets the `dataProjection` on the options, if no `dataProjection`\n     * is set.\n     * @param {WriteOptions|ReadOptions|undefined} options\n     *     Options.\n     * @protected\n     * @return {WriteOptions|ReadOptions|undefined}\n     *     Updated options.\n     */\n    FeatureFormat.prototype.adaptOptions = function (options) {\n        return assign({\n            dataProjection: this.dataProjection,\n            featureProjection: this.defaultFeatureProjection,\n        }, options);\n    };\n    /**\n     * @abstract\n     * @return {Type} The format type.\n     */\n    FeatureFormat.prototype.getType = function () {\n        return abstract();\n    };\n    /**\n     * Read a single feature from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {import(\"../Feature.js\").FeatureLike} Feature.\n     */\n    FeatureFormat.prototype.readFeature = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read all features from a source.\n     *\n     * @abstract\n     * @param {Document|Element|ArrayBuffer|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     */\n    FeatureFormat.prototype.readFeatures = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a single geometry from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @param {ReadOptions} [opt_options] Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    FeatureFormat.prototype.readGeometry = function (source, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection from a source.\n     *\n     * @abstract\n     * @param {Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default|undefined} Projection.\n     */\n    FeatureFormat.prototype.readProjection = function (source) {\n        return abstract();\n    };\n    /**\n     * Encode a feature in this format.\n     *\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeFeature = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features in this format.\n     *\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeFeatures = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Write a single geometry in this format.\n     *\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {WriteOptions} [opt_options] Write options.\n     * @return {string|ArrayBuffer} Result.\n     */\n    FeatureFormat.prototype.writeGeometry = function (geometry, opt_options) {\n        return abstract();\n    };\n    return FeatureFormat;\n}());\nexport default FeatureFormat;\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {boolean} write Set to true for writing, false for reading.\n * @param {WriteOptions|ReadOptions} [opt_options] Options.\n * @return {import(\"../geom/Geometry.js\").default} Transformed geometry.\n */\nexport function transformGeometryWithOptions(geometry, write, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    var transformed;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        transformed = (write ? geometry.clone() : geometry).transform(write ? featureProjection : dataProjection, write ? dataProjection : featureProjection);\n    }\n    else {\n        transformed = geometry;\n    }\n    if (write &&\n        opt_options &&\n        /** @type {WriteOptions} */ (opt_options).decimals !== undefined) {\n        var power_1 = Math.pow(10, \n        /** @type {WriteOptions} */ (opt_options).decimals);\n        // if decimals option on write, round each coordinate appropriately\n        /**\n         * @param {Array<number>} coordinates Coordinates.\n         * @return {Array<number>} Transformed coordinates.\n         */\n        var transform = function (coordinates) {\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = Math.round(coordinates[i] * power_1) / power_1;\n            }\n            return coordinates;\n        };\n        if (transformed === geometry) {\n            transformed = geometry.clone();\n        }\n        transformed.applyTransform(transform);\n    }\n    return transformed;\n}\n/**\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @param {ReadOptions} [opt_options] Read options.\n * @return {import(\"../extent.js\").Extent} Transformed extent.\n */\nexport function transformExtentWithOptions(extent, opt_options) {\n    var featureProjection = opt_options\n        ? getProjection(opt_options.featureProjection)\n        : null;\n    var dataProjection = opt_options\n        ? getProjection(opt_options.dataProjection)\n        : null;\n    if (featureProjection &&\n        dataProjection &&\n        !equivalentProjection(featureProjection, dataProjection)) {\n        return transformExtent(extent, dataProjection, featureProjection);\n    }\n    else {\n        return extent;\n    }\n}\n//# sourceMappingURL=Feature.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/JSONFeature\n */\nimport FeatureFormat from './Feature.js';\nimport { abstract } from '../util.js';\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for JSON feature formats.\n *\n * @abstract\n */\nvar JSONFeature = /** @class */ (function (_super) {\n    __extends(JSONFeature, _super);\n    function JSONFeature() {\n        return _super.call(this) || this;\n    }\n    /**\n     * @return {import(\"./Feature.js\").Type} Format.\n     */\n    JSONFeature.prototype.getType = function () {\n        return 'json';\n    };\n    /**\n     * Read a feature.  Only works for a single feature. Use `readFeatures` to\n     * read a feature collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {import(\"../Feature.js\").default} Feature.\n     * @api\n     */\n    JSONFeature.prototype.readFeature = function (source, opt_options) {\n        return this.readFeatureFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * Read all features.  Works with both a single feature and a feature\n     * collection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     * @api\n     */\n    JSONFeature.prototype.readFeatures = function (source, opt_options) {\n        return this.readFeaturesFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    JSONFeature.prototype.readFeatureFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<import(\"../Feature.js\").default>} Features.\n     */\n    JSONFeature.prototype.readFeaturesFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read a geometry.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     * @api\n     */\n    JSONFeature.prototype.readGeometry = function (source, opt_options) {\n        return this.readGeometryFromObject(getObject(source), this.getReadOptions(source, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    JSONFeature.prototype.readGeometryFromObject = function (object, opt_options) {\n        return abstract();\n    };\n    /**\n     * Read the projection.\n     *\n     * @param {ArrayBuffer|Document|Element|Object|string} source Source.\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     * @api\n     */\n    JSONFeature.prototype.readProjection = function (source) {\n        return this.readProjectionFromObject(getObject(source));\n    };\n    /**\n     * @abstract\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    JSONFeature.prototype.readProjectionFromObject = function (object) {\n        return abstract();\n    };\n    /**\n     * Encode a feature as string.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded feature.\n     * @api\n     */\n    JSONFeature.prototype.writeFeature = function (feature, opt_options) {\n        return JSON.stringify(this.writeFeatureObject(feature, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeatureObject = function (feature, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode an array of features as string.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded features.\n     * @api\n     */\n    JSONFeature.prototype.writeFeatures = function (features, opt_options) {\n        return JSON.stringify(this.writeFeaturesObject(features, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeFeaturesObject = function (features, opt_options) {\n        return abstract();\n    };\n    /**\n     * Encode a geometry as string.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {string} Encoded geometry.\n     * @api\n     */\n    JSONFeature.prototype.writeGeometry = function (geometry, opt_options) {\n        return JSON.stringify(this.writeGeometryObject(geometry, opt_options));\n    };\n    /**\n     * @abstract\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {Object} Object.\n     */\n    JSONFeature.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return abstract();\n    };\n    return JSONFeature;\n}(FeatureFormat));\n/**\n * @param {Document|Element|Object|string} source Source.\n * @return {Object} Object.\n */\nfunction getObject(source) {\n    if (typeof source === 'string') {\n        var object = JSON.parse(source);\n        return object ? /** @type {Object} */ (object) : null;\n    }\n    else if (source !== null) {\n        return source;\n    }\n    else {\n        return null;\n    }\n}\nexport default JSONFeature;\n//# sourceMappingURL=JSONFeature.js.map","/**\n * @module ol/geom/GeometryLayout\n */\n/**\n * The coordinate layout for geometries, indicating whether a 3rd or 4th z ('Z')\n * or measure ('M') coordinate is available. Supported values are `'XY'`,\n * `'XYZ'`, `'XYM'`, `'XYZM'`.\n * @enum {string}\n */\nexport default {\n    XY: 'XY',\n    XYZ: 'XYZ',\n    XYM: 'XYM',\n    XYZM: 'XYZM',\n};\n//# sourceMappingURL=GeometryLayout.js.map","/**\n * @module ol/geom/flat/transform\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../transform.js\").Transform} transform Transform.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function transform2D(flatCoordinates, offset, end, stride, transform, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var x = flatCoordinates[j];\n        var y = flatCoordinates[j + 1];\n        dest[i++] = transform[0] * x + transform[2] * y + transform[4];\n        dest[i++] = transform[1] * x + transform[3] * y + transform[5];\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} angle Angle.\n * @param {Array<number>} anchor Rotation anchor point.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function rotate(flatCoordinates, offset, end, stride, angle, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var deltaX = flatCoordinates[j] - anchorX;\n        var deltaY = flatCoordinates[j + 1] - anchorY;\n        dest[i++] = anchorX + deltaX * cos - deltaY * sin;\n        dest[i++] = anchorY + deltaX * sin + deltaY * cos;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * Scale the coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} sx Scale factor in the x-direction.\n * @param {number} sy Scale factor in the y-direction.\n * @param {Array<number>} anchor Scale anchor point.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function scale(flatCoordinates, offset, end, stride, sx, sy, anchor, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var anchorX = anchor[0];\n    var anchorY = anchor[1];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        var deltaX = flatCoordinates[j] - anchorX;\n        var deltaY = flatCoordinates[j + 1] - anchorY;\n        dest[i++] = anchorX + sx * deltaX;\n        dest[i++] = anchorY + sy * deltaY;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} deltaX Delta X.\n * @param {number} deltaY Delta Y.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function translate(flatCoordinates, offset, end, stride, deltaX, deltaY, opt_dest) {\n    var dest = opt_dest ? opt_dest : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        dest[i++] = flatCoordinates[j] + deltaX;\n        dest[i++] = flatCoordinates[j + 1] + deltaY;\n        for (var k = j + 2; k < j + stride; ++k) {\n            dest[i++] = flatCoordinates[k];\n        }\n    }\n    if (opt_dest && dest.length != i) {\n        dest.length = i;\n    }\n    return dest;\n}\n//# sourceMappingURL=transform.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Geometry\n */\nimport BaseObject from '../Object.js';\nimport Units from '../proj/Units.js';\nimport { abstract } from '../util.js';\nimport { compose as composeTransform, create as createTransform, } from '../transform.js';\nimport { createEmpty, createOrUpdateEmpty, getHeight, returnOrUpdate, } from '../extent.js';\nimport { get as getProjection, getTransform } from '../proj.js';\nimport { memoizeOne } from '../functions.js';\nimport { transform2D } from './flat/transform.js';\n/**\n * @typedef {'Point' | 'LineString' | 'LinearRing' | 'Polygon' | 'MultiPoint' | 'MultiLineString' | 'MultiPolygon' | 'GeometryCollection' | 'Circle'} Type\n * The geometry type.  One of `'Point'`, `'LineString'`, `'LinearRing'`,\n * `'Polygon'`, `'MultiPoint'`, `'MultiLineString'`, `'MultiPolygon'`,\n * `'GeometryCollection'`, or `'Circle'`.\n */\n/**\n * @type {import(\"../transform.js\").Transform}\n */\nvar tmpTransform = createTransform();\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for vector geometries.\n *\n * To get notified of changes to the geometry, register a listener for the\n * generic `change` event on your geometry instance.\n *\n * @abstract\n * @api\n */\nvar Geometry = /** @class */ (function (_super) {\n    __extends(Geometry, _super);\n    function Geometry() {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        _this.extent_ = createEmpty();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.extentRevision_ = -1;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.simplifiedGeometryRevision = 0;\n        /**\n         * Get a transformed and simplified version of the geometry.\n         * @abstract\n         * @param {number} revision The geometry revision.\n         * @param {number} squaredTolerance Squared tolerance.\n         * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n         * @return {Geometry} Simplified geometry.\n         */\n        _this.simplifyTransformedInternal = memoizeOne(function (revision, squaredTolerance, opt_transform) {\n            if (!opt_transform) {\n                return this.getSimplifiedGeometry(squaredTolerance);\n            }\n            var clone = this.clone();\n            clone.applyTransform(opt_transform);\n            return clone.getSimplifiedGeometry(squaredTolerance);\n        });\n        return _this;\n    }\n    /**\n     * Get a transformed and simplified version of the geometry.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.simplifyTransformed = function (squaredTolerance, opt_transform) {\n        return this.simplifyTransformedInternal(this.getRevision(), squaredTolerance, opt_transform);\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @abstract\n     * @return {!Geometry} Clone.\n     */\n    Geometry.prototype.clone = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Geometry.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        return abstract();\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Geometry.prototype.containsXY = function (x, y) {\n        var coord = this.getClosestPoint([x, y]);\n        return coord[0] === x && coord[1] === y;\n    };\n    /**\n     * Return the closest point of the geometry to the passed point as\n     * {@link module:ol/coordinate~Coordinate coordinate}.\n     * @param {import(\"../coordinate.js\").Coordinate} point Point.\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_closestPoint] Closest point.\n     * @return {import(\"../coordinate.js\").Coordinate} Closest point.\n     * @api\n     */\n    Geometry.prototype.getClosestPoint = function (point, opt_closestPoint) {\n        var closestPoint = opt_closestPoint ? opt_closestPoint : [NaN, NaN];\n        this.closestPointXY(point[0], point[1], closestPoint, Infinity);\n        return closestPoint;\n    };\n    /**\n     * Returns true if this geometry includes the specified coordinate. If the\n     * coordinate is on the boundary of the geometry, returns false.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains coordinate.\n     * @api\n     */\n    Geometry.prototype.intersectsCoordinate = function (coordinate) {\n        return this.containsXY(coordinate[0], coordinate[1]);\n    };\n    /**\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Geometry.prototype.computeExtent = function (extent) {\n        return abstract();\n    };\n    /**\n     * Get the extent of the geometry.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Extent.\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    Geometry.prototype.getExtent = function (opt_extent) {\n        if (this.extentRevision_ != this.getRevision()) {\n            var extent = this.computeExtent(this.extent_);\n            if (isNaN(extent[0]) || isNaN(extent[1])) {\n                createOrUpdateEmpty(extent);\n            }\n            this.extentRevision_ = this.getRevision();\n        }\n        return returnOrUpdate(this.extent_, opt_extent);\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    Geometry.prototype.rotate = function (angle, anchor) {\n        abstract();\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number} [opt_sy] The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    Geometry.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        abstract();\n    };\n    /**\n     * Create a simplified version of this geometry.  For linestrings, this uses\n     * the [Douglas Peucker](https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm)\n     * algorithm.  For polygons, a quantization-based\n     * simplification is used to preserve topology.\n     * @param {number} tolerance The tolerance distance for simplification.\n     * @return {Geometry} A new, simplified version of the original geometry.\n     * @api\n     */\n    Geometry.prototype.simplify = function (tolerance) {\n        return this.getSimplifiedGeometry(tolerance * tolerance);\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker\n     * algorithm.\n     * See https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm.\n     * @abstract\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Geometry} Simplified geometry.\n     */\n    Geometry.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        return abstract();\n    };\n    /**\n     * Get the type of this geometry.\n     * @abstract\n     * @return {Type} Geometry type.\n     */\n    Geometry.prototype.getType = function () {\n        return abstract();\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @abstract\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     */\n    Geometry.prototype.applyTransform = function (transformFn) {\n        abstract();\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     */\n    Geometry.prototype.intersectsExtent = function (extent) {\n        return abstract();\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @abstract\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    Geometry.prototype.translate = function (deltaX, deltaY) {\n        abstract();\n    };\n    /**\n     * Transform each coordinate of the geometry from one coordinate reference\n     * system to another. The geometry is modified in place.\n     * For example, a line will be transformed to a line and a circle to a circle.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     *\n     * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n     *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n     * @return {Geometry} This geometry.  Note that original geometry is\n     *     modified in place.\n     * @api\n     */\n    Geometry.prototype.transform = function (source, destination) {\n        /** @type {import(\"../proj/Projection.js\").default} */\n        var sourceProj = getProjection(source);\n        var transformFn = sourceProj.getUnits() == Units.TILE_PIXELS\n            ? function (inCoordinates, outCoordinates, stride) {\n                var pixelExtent = sourceProj.getExtent();\n                var projectedExtent = sourceProj.getWorldExtent();\n                var scale = getHeight(projectedExtent) / getHeight(pixelExtent);\n                composeTransform(tmpTransform, projectedExtent[0], projectedExtent[3], scale, -scale, 0, 0, 0);\n                transform2D(inCoordinates, 0, inCoordinates.length, stride, tmpTransform, outCoordinates);\n                return getTransform(sourceProj, destination)(inCoordinates, outCoordinates, stride);\n            }\n            : getTransform(sourceProj, destination);\n        this.applyTransform(transformFn);\n        return this;\n    };\n    return Geometry;\n}(BaseObject));\nexport default Geometry;\n//# sourceMappingURL=Geometry.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/SimpleGeometry\n */\nimport Geometry from './Geometry.js';\nimport GeometryLayout from './GeometryLayout.js';\nimport { abstract } from '../util.js';\nimport { createOrUpdateFromFlatCoordinates, getCenter } from '../extent.js';\nimport { rotate, scale, transform2D, translate } from './flat/transform.js';\n/**\n * @classdesc\n * Abstract base class; only used for creating subclasses; do not instantiate\n * in apps, as cannot be rendered.\n *\n * @abstract\n * @api\n */\nvar SimpleGeometry = /** @class */ (function (_super) {\n    __extends(SimpleGeometry, _super);\n    function SimpleGeometry() {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {import(\"./GeometryLayout.js\").default}\n         */\n        _this.layout = GeometryLayout.XY;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.stride = 2;\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        _this.flatCoordinates = null;\n        return _this;\n    }\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    SimpleGeometry.prototype.computeExtent = function (extent) {\n        return createOrUpdateFromFlatCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, extent);\n    };\n    /**\n     * @abstract\n     * @return {Array<*> | null} Coordinates.\n     */\n    SimpleGeometry.prototype.getCoordinates = function () {\n        return abstract();\n    };\n    /**\n     * Return the first coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} First coordinate.\n     * @api\n     */\n    SimpleGeometry.prototype.getFirstCoordinate = function () {\n        return this.flatCoordinates.slice(0, this.stride);\n    };\n    /**\n     * @return {Array<number>} Flat coordinates.\n     */\n    SimpleGeometry.prototype.getFlatCoordinates = function () {\n        return this.flatCoordinates;\n    };\n    /**\n     * Return the last coordinate of the geometry.\n     * @return {import(\"../coordinate.js\").Coordinate} Last point.\n     * @api\n     */\n    SimpleGeometry.prototype.getLastCoordinate = function () {\n        return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);\n    };\n    /**\n     * Return the {@link module:ol/geom/GeometryLayout layout} of the geometry.\n     * @return {import(\"./GeometryLayout.js\").default} Layout.\n     * @api\n     */\n    SimpleGeometry.prototype.getLayout = function () {\n        return this.layout;\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        if (this.simplifiedGeometryRevision !== this.getRevision()) {\n            this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n            this.simplifiedGeometryRevision = this.getRevision();\n        }\n        // If squaredTolerance is negative or if we know that simplification will not\n        // have any effect then just return this.\n        if (squaredTolerance < 0 ||\n            (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n                squaredTolerance <= this.simplifiedGeometryMaxMinSquaredTolerance)) {\n            return this;\n        }\n        var simplifiedGeometry = this.getSimplifiedGeometryInternal(squaredTolerance);\n        var simplifiedFlatCoordinates = simplifiedGeometry.getFlatCoordinates();\n        if (simplifiedFlatCoordinates.length < this.flatCoordinates.length) {\n            return simplifiedGeometry;\n        }\n        else {\n            // Simplification did not actually remove any coordinates.  We now know\n            // that any calls to getSimplifiedGeometry with a squaredTolerance less\n            // than or equal to the current squaredTolerance will also not have any\n            // effect.  This allows us to short circuit simplification (saving CPU\n            // cycles) and prevents the cache of simplified geometries from filling\n            // up with useless identical copies of this geometry (saving memory).\n            this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n            return this;\n        }\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {SimpleGeometry} Simplified geometry.\n     * @protected\n     */\n    SimpleGeometry.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        return this;\n    };\n    /**\n     * @return {number} Stride.\n     */\n    SimpleGeometry.prototype.getStride = function () {\n        return this.stride;\n    };\n    /**\n     * @param {import(\"./GeometryLayout.js\").default} layout Layout.\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     */\n    SimpleGeometry.prototype.setFlatCoordinates = function (layout, flatCoordinates) {\n        this.stride = getStrideForLayout(layout);\n        this.layout = layout;\n        this.flatCoordinates = flatCoordinates;\n    };\n    /**\n     * @abstract\n     * @param {!Array<*>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    SimpleGeometry.prototype.setCoordinates = function (coordinates, opt_layout) {\n        abstract();\n    };\n    /**\n     * @param {import(\"./GeometryLayout.js\").default|undefined} layout Layout.\n     * @param {Array<*>} coordinates Coordinates.\n     * @param {number} nesting Nesting.\n     * @protected\n     */\n    SimpleGeometry.prototype.setLayout = function (layout, coordinates, nesting) {\n        /** @type {number} */\n        var stride;\n        if (layout) {\n            stride = getStrideForLayout(layout);\n        }\n        else {\n            for (var i = 0; i < nesting; ++i) {\n                if (coordinates.length === 0) {\n                    this.layout = GeometryLayout.XY;\n                    this.stride = 2;\n                    return;\n                }\n                else {\n                    coordinates = /** @type {Array} */ (coordinates[0]);\n                }\n            }\n            stride = coordinates.length;\n            layout = getLayoutForStride(stride);\n        }\n        this.layout = layout;\n        this.stride = stride;\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     * @api\n     */\n    SimpleGeometry.prototype.applyTransform = function (transformFn) {\n        if (this.flatCoordinates) {\n            transformFn(this.flatCoordinates, this.flatCoordinates, this.stride);\n            this.changed();\n        }\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @param {number} angle Rotation angle in counter-clockwise radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    SimpleGeometry.prototype.rotate = function (angle, anchor) {\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            rotate(flatCoordinates, 0, flatCoordinates.length, stride, angle, anchor, flatCoordinates);\n            this.changed();\n        }\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number} [opt_sy] The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    SimpleGeometry.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        var sy = opt_sy;\n        if (sy === undefined) {\n            sy = sx;\n        }\n        var anchor = opt_anchor;\n        if (!anchor) {\n            anchor = getCenter(this.getExtent());\n        }\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            scale(flatCoordinates, 0, flatCoordinates.length, stride, sx, sy, anchor, flatCoordinates);\n            this.changed();\n        }\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    SimpleGeometry.prototype.translate = function (deltaX, deltaY) {\n        var flatCoordinates = this.getFlatCoordinates();\n        if (flatCoordinates) {\n            var stride = this.getStride();\n            translate(flatCoordinates, 0, flatCoordinates.length, stride, deltaX, deltaY, flatCoordinates);\n            this.changed();\n        }\n    };\n    return SimpleGeometry;\n}(Geometry));\n/**\n * @param {number} stride Stride.\n * @return {import(\"./GeometryLayout.js\").default} layout Layout.\n */\nfunction getLayoutForStride(stride) {\n    var layout;\n    if (stride == 2) {\n        layout = GeometryLayout.XY;\n    }\n    else if (stride == 3) {\n        layout = GeometryLayout.XYZ;\n    }\n    else if (stride == 4) {\n        layout = GeometryLayout.XYZM;\n    }\n    return /** @type {import(\"./GeometryLayout.js\").default} */ (layout);\n}\n/**\n * @param {import(\"./GeometryLayout.js\").default} layout Layout.\n * @return {number} Stride.\n */\nexport function getStrideForLayout(layout) {\n    var stride;\n    if (layout == GeometryLayout.XY) {\n        stride = 2;\n    }\n    else if (layout == GeometryLayout.XYZ || layout == GeometryLayout.XYM) {\n        stride = 3;\n    }\n    else if (layout == GeometryLayout.XYZM) {\n        stride = 4;\n    }\n    return /** @type {number} */ (stride);\n}\n/**\n * @param {SimpleGeometry} simpleGeometry Simple geometry.\n * @param {import(\"../transform.js\").Transform} transform Transform.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Transformed flat coordinates.\n */\nexport function transformGeom2D(simpleGeometry, transform, opt_dest) {\n    var flatCoordinates = simpleGeometry.getFlatCoordinates();\n    if (!flatCoordinates) {\n        return null;\n    }\n    else {\n        var stride = simpleGeometry.getStride();\n        return transform2D(flatCoordinates, 0, flatCoordinates.length, stride, transform, opt_dest);\n    }\n}\nexport default SimpleGeometry;\n//# sourceMappingURL=SimpleGeometry.js.map","/**\n * @module ol/geom/flat/closest\n */\nimport { lerp, squaredDistance as squaredDx } from '../../math.js';\n/**\n * Returns the point on the 2D line segment flatCoordinates[offset1] to\n * flatCoordinates[offset2] that is closest to the point (x, y).  Extra\n * dimensions are linearly interpolated.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset1 Offset 1.\n * @param {number} offset2 Offset 2.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n */\nfunction assignClosest(flatCoordinates, offset1, offset2, stride, x, y, closestPoint) {\n    var x1 = flatCoordinates[offset1];\n    var y1 = flatCoordinates[offset1 + 1];\n    var dx = flatCoordinates[offset2] - x1;\n    var dy = flatCoordinates[offset2 + 1] - y1;\n    var offset;\n    if (dx === 0 && dy === 0) {\n        offset = offset1;\n    }\n    else {\n        var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n        if (t > 1) {\n            offset = offset2;\n        }\n        else if (t > 0) {\n            for (var i = 0; i < stride; ++i) {\n                closestPoint[i] = lerp(flatCoordinates[offset1 + i], flatCoordinates[offset2 + i], t);\n            }\n            closestPoint.length = stride;\n            return;\n        }\n        else {\n            offset = offset1;\n        }\n    }\n    for (var i = 0; i < stride; ++i) {\n        closestPoint[i] = flatCoordinates[offset + i];\n    }\n    closestPoint.length = stride;\n}\n/**\n * Return the squared of the largest distance between any pair of consecutive\n * coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function maxSquaredDelta(flatCoordinates, offset, end, stride, max) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    for (offset += stride; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        var squaredDelta = squaredDx(x1, y1, x2, y2);\n        if (squaredDelta > max) {\n            max = squaredDelta;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        max = maxSquaredDelta(flatCoordinates, offset, end, stride, max);\n        offset = end;\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function multiArrayMaxSquaredDelta(flatCoordinates, offset, endss, stride, max) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        max = arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max);\n        offset = ends[ends.length - 1];\n    }\n    return max;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>} [opt_tmpPoint] Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestPoint(flatCoordinates, offset, end, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    if (offset == end) {\n        return minSquaredDistance;\n    }\n    var i, squaredDistance;\n    if (maxDelta === 0) {\n        // All points are identical, so just test the first point.\n        squaredDistance = squaredDx(x, y, flatCoordinates[offset], flatCoordinates[offset + 1]);\n        if (squaredDistance < minSquaredDistance) {\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = flatCoordinates[offset + i];\n            }\n            closestPoint.length = stride;\n            return squaredDistance;\n        }\n        else {\n            return minSquaredDistance;\n        }\n    }\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    var index = offset + stride;\n    while (index < end) {\n        assignClosest(flatCoordinates, index - stride, index, stride, x, y, tmpPoint);\n        squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n        if (squaredDistance < minSquaredDistance) {\n            minSquaredDistance = squaredDistance;\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = tmpPoint[i];\n            }\n            closestPoint.length = stride;\n            index += stride;\n        }\n        else {\n            // Skip ahead multiple points, because we know that all the skipped\n            // points cannot be any closer than the closest point we have found so\n            // far.  We know this because we know how close the current point is, how\n            // close the closest point we have found so far is, and the maximum\n            // distance between consecutive points.  For example, if we're currently\n            // at distance 10, the best we've found so far is 3, and that the maximum\n            // distance between consecutive points is 2, then we'll need to skip at\n            // least (10 - 3) / 2 == 3 (rounded down) points to have any chance of\n            // finding a closer point.  We use Math.max(..., 1) to ensure that we\n            // always advance at least one point, to avoid an infinite loop.\n            index +=\n                stride *\n                    Math.max(((Math.sqrt(squaredDistance) - Math.sqrt(minSquaredDistance)) /\n                        maxDelta) |\n                        0, 1);\n        }\n    }\n    if (isRing) {\n        // Check the closing segment.\n        assignClosest(flatCoordinates, end - stride, offset, stride, x, y, tmpPoint);\n        squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n        if (squaredDistance < minSquaredDistance) {\n            minSquaredDistance = squaredDistance;\n            for (i = 0; i < stride; ++i) {\n                closestPoint[i] = tmpPoint[i];\n            }\n            closestPoint.length = stride;\n        }\n    }\n    return minSquaredDistance;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>} [opt_tmpPoint] Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestArrayPoint(flatCoordinates, offset, ends, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        minSquaredDistance = assignClosestPoint(flatCoordinates, offset, end, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n        offset = end;\n    }\n    return minSquaredDistance;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>} [opt_tmpPoint] Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestMultiArrayPoint(flatCoordinates, offset, endss, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, opt_tmpPoint) {\n    var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        minSquaredDistance = assignClosestArrayPoint(flatCoordinates, offset, ends, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n        offset = ends[ends.length - 1];\n    }\n    return minSquaredDistance;\n}\n//# sourceMappingURL=closest.js.map","/**\n * @module ol/geom/flat/deflate\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinate(flatCoordinates, offset, coordinate, stride) {\n    for (var i = 0, ii = coordinate.length; i < ii; ++i) {\n        flatCoordinates[offset++] = coordinate[i];\n    }\n    return offset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinates(flatCoordinates, offset, coordinates, stride) {\n    for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n        var coordinate = coordinates[i];\n        for (var j = 0; j < stride; ++j) {\n            flatCoordinates[offset++] = coordinate[j];\n        }\n    }\n    return offset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} coordinatess Coordinatess.\n * @param {number} stride Stride.\n * @param {Array<number>} [opt_ends] Ends.\n * @return {Array<number>} Ends.\n */\nexport function deflateCoordinatesArray(flatCoordinates, offset, coordinatess, stride, opt_ends) {\n    var ends = opt_ends ? opt_ends : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatess.length; j < jj; ++j) {\n        var end = deflateCoordinates(flatCoordinates, offset, coordinatess[j], stride);\n        ends[i++] = end;\n        offset = end;\n    }\n    ends.length = i;\n    return ends;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} coordinatesss Coordinatesss.\n * @param {number} stride Stride.\n * @param {Array<Array<number>>} [opt_endss] Endss.\n * @return {Array<Array<number>>} Endss.\n */\nexport function deflateMultiCoordinatesArray(flatCoordinates, offset, coordinatesss, stride, opt_endss) {\n    var endss = opt_endss ? opt_endss : [];\n    var i = 0;\n    for (var j = 0, jj = coordinatesss.length; j < jj; ++j) {\n        var ends = deflateCoordinatesArray(flatCoordinates, offset, coordinatesss[j], stride, endss[i]);\n        endss[i++] = ends;\n        offset = ends[ends.length - 1];\n    }\n    endss.length = i;\n    return endss;\n}\n//# sourceMappingURL=deflate.js.map","/**\n * @module ol/geom/flat/simplify\n */\n// Based on simplify-js https://github.com/mourner/simplify-js\n// Copyright (c) 2012, Vladimir Agafonkin\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//    1. Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//\n//    2. Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\nimport { squaredDistance, squaredSegmentDistance } from '../../math.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {boolean} highQuality Highest quality.\n * @param {Array<number>} [opt_simplifiedFlatCoordinates] Simplified flat\n *     coordinates.\n * @return {Array<number>} Simplified line string.\n */\nexport function simplifyLineString(flatCoordinates, offset, end, stride, squaredTolerance, highQuality, opt_simplifiedFlatCoordinates) {\n    var simplifiedFlatCoordinates = opt_simplifiedFlatCoordinates !== undefined\n        ? opt_simplifiedFlatCoordinates\n        : [];\n    if (!highQuality) {\n        end = radialDistance(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        flatCoordinates = simplifiedFlatCoordinates;\n        offset = 0;\n        stride = 2;\n    }\n    simplifiedFlatCoordinates.length = douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n    return simplifiedFlatCoordinates;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    var n = (end - offset) / stride;\n    if (n < 3) {\n        for (; offset < end; offset += stride) {\n            simplifiedFlatCoordinates[simplifiedOffset++] = flatCoordinates[offset];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + 1];\n        }\n        return simplifiedOffset;\n    }\n    /** @type {Array<number>} */\n    var markers = new Array(n);\n    markers[0] = 1;\n    markers[n - 1] = 1;\n    /** @type {Array<number>} */\n    var stack = [offset, end - stride];\n    var index = 0;\n    while (stack.length > 0) {\n        var last = stack.pop();\n        var first = stack.pop();\n        var maxSquaredDistance = 0;\n        var x1 = flatCoordinates[first];\n        var y1 = flatCoordinates[first + 1];\n        var x2 = flatCoordinates[last];\n        var y2 = flatCoordinates[last + 1];\n        for (var i = first + stride; i < last; i += stride) {\n            var x = flatCoordinates[i];\n            var y = flatCoordinates[i + 1];\n            var squaredDistance_1 = squaredSegmentDistance(x, y, x1, y1, x2, y2);\n            if (squaredDistance_1 > maxSquaredDistance) {\n                index = i;\n                maxSquaredDistance = squaredDistance_1;\n            }\n        }\n        if (maxSquaredDistance > squaredTolerance) {\n            markers[(index - offset) / stride] = 1;\n            if (first + stride < index) {\n                stack.push(first, index);\n            }\n            if (index + stride < last) {\n                stack.push(index, last);\n            }\n        }\n    }\n    for (var i = 0; i < n; ++i) {\n        if (markers[i]) {\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + i * stride];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + i * stride + 1];\n        }\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerArray(flatCoordinates, offset, ends, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        simplifiedOffset = douglasPeucker(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset);\n        simplifiedEnds.push(simplifiedOffset);\n        offset = end;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerMultiArray(flatCoordinates, offset, endss, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        var simplifiedEnds = [];\n        simplifiedOffset = douglasPeuckerArray(flatCoordinates, offset, ends, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n        simplifiedEndss.push(simplifiedEnds);\n        offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function radialDistance(flatCoordinates, offset, end, stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    if (end <= offset + stride) {\n        // zero or one point, no simplification possible, so copy and return\n        for (; offset < end; offset += stride) {\n            simplifiedFlatCoordinates[simplifiedOffset++] = flatCoordinates[offset];\n            simplifiedFlatCoordinates[simplifiedOffset++] =\n                flatCoordinates[offset + 1];\n        }\n        return simplifiedOffset;\n    }\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    // copy first point\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    var x2 = x1;\n    var y2 = y1;\n    for (offset += stride; offset < end; offset += stride) {\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        if (squaredDistance(x1, y1, x2, y2) > squaredTolerance) {\n            // copy point at offset\n            simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n            simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n            x1 = x2;\n            y1 = y2;\n        }\n    }\n    if (x2 != x1 || y2 != y1) {\n        // copy last point\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {number} value Value.\n * @param {number} tolerance Tolerance.\n * @return {number} Rounded value.\n */\nexport function snap(value, tolerance) {\n    return tolerance * Math.round(value / tolerance);\n}\n/**\n * Simplifies a line string using an algorithm designed by Tim Schaub.\n * Coordinates are snapped to the nearest value in a virtual grid and\n * consecutive duplicate coordinates are discarded.  This effectively preserves\n * topology as the simplification of any subsection of a line string is\n * independent of the rest of the line string.  This means that, for examples,\n * the common edge between two polygons will be simplified to the same line\n * string independently in both polygons.  This implementation uses a single\n * pass over the coordinates and eliminates intermediate collinear points.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function quantize(flatCoordinates, offset, end, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n    // do nothing if the line is empty\n    if (offset == end) {\n        return simplifiedOffset;\n    }\n    // snap the first coordinate (P1)\n    var x1 = snap(flatCoordinates[offset], tolerance);\n    var y1 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    // add the first coordinate to the output\n    simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n    // find the next coordinate that does not snap to the same value as the first\n    // coordinate (P2)\n    var x2, y2;\n    do {\n        x2 = snap(flatCoordinates[offset], tolerance);\n        y2 = snap(flatCoordinates[offset + 1], tolerance);\n        offset += stride;\n        if (offset == end) {\n            // all coordinates snap to the same value, the line collapses to a point\n            // push the last snapped value anyway to ensure that the output contains\n            // at least two points\n            // FIXME should we really return at least two points anyway?\n            simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n            simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n            return simplifiedOffset;\n        }\n    } while (x2 == x1 && y2 == y1);\n    while (offset < end) {\n        // snap the next coordinate (P3)\n        var x3 = snap(flatCoordinates[offset], tolerance);\n        var y3 = snap(flatCoordinates[offset + 1], tolerance);\n        offset += stride;\n        // skip P3 if it is equal to P2\n        if (x3 == x2 && y3 == y2) {\n            continue;\n        }\n        // calculate the delta between P1 and P2\n        var dx1 = x2 - x1;\n        var dy1 = y2 - y1;\n        // calculate the delta between P3 and P1\n        var dx2 = x3 - x1;\n        var dy2 = y3 - y1;\n        // if P1, P2, and P3 are colinear and P3 is further from P1 than P2 is from\n        // P1 in the same direction then P2 is on the straight line between P1 and\n        // P3\n        if (dx1 * dy2 == dy1 * dx2 &&\n            ((dx1 < 0 && dx2 < dx1) || dx1 == dx2 || (dx1 > 0 && dx2 > dx1)) &&\n            ((dy1 < 0 && dy2 < dy1) || dy1 == dy2 || (dy1 > 0 && dy2 > dy1))) {\n            // discard P2 and set P2 = P3\n            x2 = x3;\n            y2 = y3;\n            continue;\n        }\n        // either P1, P2, and P3 are not colinear, or they are colinear but P3 is\n        // between P3 and P1 or on the opposite half of the line to P2.  add P2,\n        // and continue with P1 = P2 and P2 = P3\n        simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n        simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n        x1 = x2;\n        y1 = y2;\n        x2 = x3;\n        y2 = y3;\n    }\n    // add the last point (P2)\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function quantizeArray(flatCoordinates, offset, ends, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        simplifiedOffset = quantize(flatCoordinates, offset, end, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset);\n        simplifiedEnds.push(simplifiedOffset);\n        offset = end;\n    }\n    return simplifiedOffset;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function quantizeMultiArray(flatCoordinates, offset, endss, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        var simplifiedEnds = [];\n        simplifiedOffset = quantizeArray(flatCoordinates, offset, ends, stride, tolerance, simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n        simplifiedEndss.push(simplifiedEnds);\n        offset = ends[ends.length - 1];\n    }\n    return simplifiedOffset;\n}\n//# sourceMappingURL=simplify.js.map","/**\n * @module ol/geom/flat/inflate\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>} [opt_coordinates] Coordinates.\n * @return {Array<import(\"../../coordinate.js\").Coordinate>} Coordinates.\n */\nexport function inflateCoordinates(flatCoordinates, offset, end, stride, opt_coordinates) {\n    var coordinates = opt_coordinates !== undefined ? opt_coordinates : [];\n    var i = 0;\n    for (var j = offset; j < end; j += stride) {\n        coordinates[i++] = flatCoordinates.slice(j, j + stride);\n    }\n    coordinates.length = i;\n    return coordinates;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} [opt_coordinatess] Coordinatess.\n * @return {Array<Array<import(\"../../coordinate.js\").Coordinate>>} Coordinatess.\n */\nexport function inflateCoordinatesArray(flatCoordinates, offset, ends, stride, opt_coordinatess) {\n    var coordinatess = opt_coordinatess !== undefined ? opt_coordinatess : [];\n    var i = 0;\n    for (var j = 0, jj = ends.length; j < jj; ++j) {\n        var end = ends[j];\n        coordinatess[i++] = inflateCoordinates(flatCoordinates, offset, end, stride, coordinatess[i]);\n        offset = end;\n    }\n    coordinatess.length = i;\n    return coordinatess;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} [opt_coordinatesss]\n *     Coordinatesss.\n * @return {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} Coordinatesss.\n */\nexport function inflateMultiCoordinatesArray(flatCoordinates, offset, endss, stride, opt_coordinatesss) {\n    var coordinatesss = opt_coordinatesss !== undefined ? opt_coordinatesss : [];\n    var i = 0;\n    for (var j = 0, jj = endss.length; j < jj; ++j) {\n        var ends = endss[j];\n        coordinatesss[i++] = inflateCoordinatesArray(flatCoordinates, offset, ends, stride, coordinatesss[i]);\n        offset = ends[ends.length - 1];\n    }\n    coordinatesss.length = i;\n    return coordinatesss;\n}\n//# sourceMappingURL=inflate.js.map","/**\n * @module ol/geom/flat/interpolate\n */\nimport { binarySearch } from '../../array.js';\nimport { lerp } from '../../math.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} fraction Fraction.\n * @param {Array<number>} [opt_dest] Destination.\n * @param {number} [opt_dimension] Destination dimension (default is `2`)\n * @return {Array<number>} Destination.\n */\nexport function interpolatePoint(flatCoordinates, offset, end, stride, fraction, opt_dest, opt_dimension) {\n    var o, t;\n    var n = (end - offset) / stride;\n    if (n === 1) {\n        o = offset;\n    }\n    else if (n === 2) {\n        o = offset;\n        t = fraction;\n    }\n    else if (n !== 0) {\n        var x1 = flatCoordinates[offset];\n        var y1 = flatCoordinates[offset + 1];\n        var length_1 = 0;\n        var cumulativeLengths = [0];\n        for (var i = offset + stride; i < end; i += stride) {\n            var x2 = flatCoordinates[i];\n            var y2 = flatCoordinates[i + 1];\n            length_1 += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n            cumulativeLengths.push(length_1);\n            x1 = x2;\n            y1 = y2;\n        }\n        var target = fraction * length_1;\n        var index = binarySearch(cumulativeLengths, target);\n        if (index < 0) {\n            t =\n                (target - cumulativeLengths[-index - 2]) /\n                    (cumulativeLengths[-index - 1] - cumulativeLengths[-index - 2]);\n            o = offset + (-index - 2) * stride;\n        }\n        else {\n            o = offset + index * stride;\n        }\n    }\n    var dimension = opt_dimension > 1 ? opt_dimension : 2;\n    var dest = opt_dest ? opt_dest : new Array(dimension);\n    for (var i = 0; i < dimension; ++i) {\n        dest[i] =\n            o === undefined\n                ? NaN\n                : t === undefined\n                    ? flatCoordinates[o + i]\n                    : lerp(flatCoordinates[o + i], flatCoordinates[o + stride + i], t);\n    }\n    return dest;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @return {import(\"../../coordinate.js\").Coordinate|null} Coordinate.\n */\nexport function lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, extrapolate) {\n    if (end == offset) {\n        return null;\n    }\n    var coordinate;\n    if (m < flatCoordinates[offset + stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(offset, offset + stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    else if (flatCoordinates[end - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(end - stride, end);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    // FIXME use O(1) search\n    if (m == flatCoordinates[offset + stride - 1]) {\n        return flatCoordinates.slice(offset, offset + stride);\n    }\n    var lo = offset / stride;\n    var hi = end / stride;\n    while (lo < hi) {\n        var mid = (lo + hi) >> 1;\n        if (m < flatCoordinates[(mid + 1) * stride - 1]) {\n            hi = mid;\n        }\n        else {\n            lo = mid + 1;\n        }\n    }\n    var m0 = flatCoordinates[lo * stride - 1];\n    if (m == m0) {\n        return flatCoordinates.slice((lo - 1) * stride, (lo - 1) * stride + stride);\n    }\n    var m1 = flatCoordinates[(lo + 1) * stride - 1];\n    var t = (m - m0) / (m1 - m0);\n    coordinate = [];\n    for (var i = 0; i < stride - 1; ++i) {\n        coordinate.push(lerp(flatCoordinates[(lo - 1) * stride + i], flatCoordinates[lo * stride + i], t));\n    }\n    coordinate.push(m);\n    return coordinate;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} m M.\n * @param {boolean} extrapolate Extrapolate.\n * @param {boolean} interpolate Interpolate.\n * @return {import(\"../../coordinate.js\").Coordinate|null} Coordinate.\n */\nexport function lineStringsCoordinateAtM(flatCoordinates, offset, ends, stride, m, extrapolate, interpolate) {\n    if (interpolate) {\n        return lineStringCoordinateAtM(flatCoordinates, offset, ends[ends.length - 1], stride, m, extrapolate);\n    }\n    var coordinate;\n    if (m < flatCoordinates[stride - 1]) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(0, stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    if (flatCoordinates[flatCoordinates.length - 1] < m) {\n        if (extrapolate) {\n            coordinate = flatCoordinates.slice(flatCoordinates.length - stride);\n            coordinate[stride - 1] = m;\n            return coordinate;\n        }\n        else {\n            return null;\n        }\n    }\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        if (offset == end) {\n            continue;\n        }\n        if (m < flatCoordinates[offset + stride - 1]) {\n            return null;\n        }\n        else if (m <= flatCoordinates[end - 1]) {\n            return lineStringCoordinateAtM(flatCoordinates, offset, end, stride, m, false);\n        }\n        offset = end;\n    }\n    return null;\n}\n//# sourceMappingURL=interpolate.js.map","/**\n * @module ol/geom/flat/length\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Length.\n */\nexport function lineStringLength(flatCoordinates, offset, end, stride) {\n    var x1 = flatCoordinates[offset];\n    var y1 = flatCoordinates[offset + 1];\n    var length = 0;\n    for (var i = offset + stride; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n        x1 = x2;\n        y1 = y2;\n    }\n    return length;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Perimeter.\n */\nexport function linearRingLength(flatCoordinates, offset, end, stride) {\n    var perimeter = lineStringLength(flatCoordinates, offset, end, stride);\n    var dx = flatCoordinates[end - stride] - flatCoordinates[offset];\n    var dy = flatCoordinates[end - stride + 1] - flatCoordinates[offset + 1];\n    perimeter += Math.sqrt(dx * dx + dy * dy);\n    return perimeter;\n}\n//# sourceMappingURL=length.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/LineString\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestPoint, maxSquaredDelta } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { douglasPeucker } from './flat/simplify.js';\nimport { extend } from '../array.js';\nimport { forEach as forEachSegment } from './flat/segments.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { interpolatePoint, lineStringCoordinateAtM } from './flat/interpolate.js';\nimport { intersectsLineString } from './flat/intersectsextent.js';\nimport { lineStringLength } from './flat/length.js';\n/**\n * @classdesc\n * Linestring geometry.\n *\n * @api\n */\nvar LineString = /** @class */ (function (_super) {\n    __extends(LineString, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    function LineString(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.flatMidpoint_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatMidpointRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed coordinate to the coordinates of the linestring.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @api\n     */\n    LineString.prototype.appendCoordinate = function (coordinate) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = coordinate.slice();\n        }\n        else {\n            extend(this.flatCoordinates, coordinate);\n        }\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LineString} Clone.\n     * @api\n     */\n    LineString.prototype.clone = function () {\n        var lineString = new LineString(this.flatCoordinates.slice(), this.layout);\n        lineString.applyProperties(this);\n        return lineString;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    LineString.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(maxSquaredDelta(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestPoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Iterate over each segment, calling the provided callback.\n     * If the callback returns a truthy value the function returns that\n     * value immediately. Otherwise the function returns `false`.\n     *\n     * @param {function(this: S, import(\"../coordinate.js\").Coordinate, import(\"../coordinate.js\").Coordinate): T} callback Function\n     *     called for each segment. The function will receive two arguments, the start and end coordinates of the segment.\n     * @return {T|boolean} Value.\n     * @template T,S\n     * @api\n     */\n    LineString.prototype.forEachSegment = function (callback) {\n        return forEachSegment(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, callback);\n    };\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * @param {number} m M.\n     * @param {boolean} [opt_extrapolate] Extrapolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate|null} Coordinate.\n     * @api\n     */\n    LineString.prototype.getCoordinateAtM = function (m, opt_extrapolate) {\n        if (this.layout != GeometryLayout.XYM &&\n            this.layout != GeometryLayout.XYZM) {\n            return null;\n        }\n        var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n        return lineStringCoordinateAtM(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, m, extrapolate);\n    };\n    /**\n     * Return the coordinates of the linestring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    LineString.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the coordinate at the provided fraction along the linestring.\n     * The `fraction` is a number between 0 and 1, where 0 is the start of the\n     * linestring and 1 is the end.\n     * @param {number} fraction Fraction.\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_dest] Optional coordinate whose values will\n     *     be modified. If not provided, a new coordinate will be returned.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinate of the interpolated point.\n     * @api\n     */\n    LineString.prototype.getCoordinateAt = function (fraction, opt_dest) {\n        return interpolatePoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, fraction, opt_dest, this.stride);\n    };\n    /**\n     * Return the length of the linestring on projected plane.\n     * @return {number} Length (on projected plane).\n     * @api\n     */\n    LineString.prototype.getLength = function () {\n        return lineStringLength(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * @return {Array<number>} Flat midpoint.\n     */\n    LineString.prototype.getFlatMidpoint = function () {\n        if (this.flatMidpointRevision_ != this.getRevision()) {\n            this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_);\n            this.flatMidpointRevision_ = this.getRevision();\n        }\n        return this.flatMidpoint_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LineString} Simplified LineString.\n     * @protected\n     */\n    LineString.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        simplifiedFlatCoordinates.length = douglasPeucker(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        return new LineString(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    LineString.prototype.getType = function () {\n        return 'LineString';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    LineString.prototype.intersectsExtent = function (extent) {\n        return intersectsLineString(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the linestring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    LineString.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return LineString;\n}(SimpleGeometry));\nexport default LineString;\n//# sourceMappingURL=LineString.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiLineString\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport LineString from './LineString.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { arrayMaxSquaredDelta, assignClosestArrayPoint } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinatesArray } from './flat/deflate.js';\nimport { douglasPeuckerArray } from './flat/simplify.js';\nimport { extend } from '../array.js';\nimport { inflateCoordinatesArray } from './flat/inflate.js';\nimport { interpolatePoint, lineStringsCoordinateAtM, } from './flat/interpolate.js';\nimport { intersectsLineStringArray } from './flat/intersectsextent.js';\n/**\n * @classdesc\n * Multi-linestring geometry.\n *\n * @api\n */\nvar MultiLineString = /** @class */ (function (_super) {\n    __extends(MultiLineString, _super);\n    /**\n     * @param {Array<Array<import(\"../coordinate.js\").Coordinate>|LineString>|Array<number>} coordinates\n     *     Coordinates or LineString geometries. (For internal use, flat coordinates in\n     *     combination with `opt_layout` and `opt_ends` are also accepted.)\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @param {Array<number>} [opt_ends] Flat coordinate ends for internal use.\n     */\n    function MultiLineString(coordinates, opt_layout, opt_ends) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        _this.ends_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (Array.isArray(coordinates[0])) {\n            _this.setCoordinates(\n            /** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n        }\n        else if (opt_layout !== undefined && opt_ends) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.ends_ = opt_ends;\n        }\n        else {\n            var layout = _this.getLayout();\n            var lineStrings = /** @type {Array<LineString>} */ (coordinates);\n            var flatCoordinates = [];\n            var ends = [];\n            for (var i = 0, ii = lineStrings.length; i < ii; ++i) {\n                var lineString = lineStrings[i];\n                if (i === 0) {\n                    layout = lineString.getLayout();\n                }\n                extend(flatCoordinates, lineString.getFlatCoordinates());\n                ends.push(flatCoordinates.length);\n            }\n            _this.setFlatCoordinates(layout, flatCoordinates);\n            _this.ends_ = ends;\n        }\n        return _this;\n    }\n    /**\n     * Append the passed linestring to the multilinestring.\n     * @param {LineString} lineString LineString.\n     * @api\n     */\n    MultiLineString.prototype.appendLineString = function (lineString) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = lineString.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, lineString.getFlatCoordinates().slice());\n        }\n        this.ends_.push(this.flatCoordinates.length);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiLineString} Clone.\n     * @api\n     */\n    MultiLineString.prototype.clone = function () {\n        var multiLineString = new MultiLineString(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n        multiLineString.applyProperties(this);\n        return multiLineString;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiLineString.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates, 0, this.ends_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestArrayPoint(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, false, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Returns the coordinate at `m` using linear interpolation, or `null` if no\n     * such coordinate exists.\n     *\n     * `opt_extrapolate` controls extrapolation beyond the range of Ms in the\n     * MultiLineString. If `opt_extrapolate` is `true` then Ms less than the first\n     * M will return the first coordinate and Ms greater than the last M will\n     * return the last coordinate.\n     *\n     * `opt_interpolate` controls interpolation between consecutive LineStrings\n     * within the MultiLineString. If `opt_interpolate` is `true` the coordinates\n     * will be linearly interpolated between the last coordinate of one LineString\n     * and the first coordinate of the next LineString.  If `opt_interpolate` is\n     * `false` then the function will return `null` for Ms falling between\n     * LineStrings.\n     *\n     * @param {number} m M.\n     * @param {boolean} [opt_extrapolate] Extrapolate. Default is `false`.\n     * @param {boolean} [opt_interpolate] Interpolate. Default is `false`.\n     * @return {import(\"../coordinate.js\").Coordinate|null} Coordinate.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinateAtM = function (m, opt_extrapolate, opt_interpolate) {\n        if ((this.layout != GeometryLayout.XYM &&\n            this.layout != GeometryLayout.XYZM) ||\n            this.flatCoordinates.length === 0) {\n            return null;\n        }\n        var extrapolate = opt_extrapolate !== undefined ? opt_extrapolate : false;\n        var interpolate = opt_interpolate !== undefined ? opt_interpolate : false;\n        return lineStringsCoordinateAtM(this.flatCoordinates, 0, this.ends_, this.stride, m, extrapolate, interpolate);\n    };\n    /**\n     * Return the coordinates of the multilinestring.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @api\n     */\n    MultiLineString.prototype.getCoordinates = function () {\n        return inflateCoordinatesArray(this.flatCoordinates, 0, this.ends_, this.stride);\n    };\n    /**\n     * @return {Array<number>} Ends.\n     */\n    MultiLineString.prototype.getEnds = function () {\n        return this.ends_;\n    };\n    /**\n     * Return the linestring at the specified index.\n     * @param {number} index Index.\n     * @return {LineString} LineString.\n     * @api\n     */\n    MultiLineString.prototype.getLineString = function (index) {\n        if (index < 0 || this.ends_.length <= index) {\n            return null;\n        }\n        return new LineString(this.flatCoordinates.slice(index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n    /**\n     * Return the linestrings of this multilinestring.\n     * @return {Array<LineString>} LineStrings.\n     * @api\n     */\n    MultiLineString.prototype.getLineStrings = function () {\n        var flatCoordinates = this.flatCoordinates;\n        var ends = this.ends_;\n        var layout = this.layout;\n        /** @type {Array<LineString>} */\n        var lineStrings = [];\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var lineString = new LineString(flatCoordinates.slice(offset, end), layout);\n            lineStrings.push(lineString);\n            offset = end;\n        }\n        return lineStrings;\n    };\n    /**\n     * @return {Array<number>} Flat midpoints.\n     */\n    MultiLineString.prototype.getFlatMidpoints = function () {\n        var midpoints = [];\n        var flatCoordinates = this.flatCoordinates;\n        var offset = 0;\n        var ends = this.ends_;\n        var stride = this.stride;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var midpoint = interpolatePoint(flatCoordinates, offset, end, stride, 0.5);\n            extend(midpoints, midpoint);\n            offset = end;\n        }\n        return midpoints;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {MultiLineString} Simplified MultiLineString.\n     * @protected\n     */\n    MultiLineString.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEnds = [];\n        simplifiedFlatCoordinates.length = douglasPeuckerArray(this.flatCoordinates, 0, this.ends_, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0, simplifiedEnds);\n        return new MultiLineString(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    MultiLineString.prototype.getType = function () {\n        return 'MultiLineString';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiLineString.prototype.intersectsExtent = function (extent) {\n        return intersectsLineStringArray(this.flatCoordinates, 0, this.ends_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the multilinestring.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {GeometryLayout} [opt_layout] Layout.\n     * @api\n     */\n    MultiLineString.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 2);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var ends = deflateCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n        this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n        this.changed();\n    };\n    return MultiLineString;\n}(SimpleGeometry));\nexport default MultiLineString;\n//# sourceMappingURL=MultiLineString.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Point\n */\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { containsXY, createOrUpdateFromCoordinate } from '../extent.js';\nimport { deflateCoordinate } from './flat/deflate.js';\nimport { squaredDistance as squaredDx } from '../math.js';\n/**\n * @classdesc\n * Point geometry.\n *\n * @api\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    function Point(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        _this.setCoordinates(coordinates, opt_layout);\n        return _this;\n    }\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Point} Clone.\n     * @api\n     */\n    Point.prototype.clone = function () {\n        var point = new Point(this.flatCoordinates.slice(), this.layout);\n        point.applyProperties(this);\n        return point;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Point.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        var flatCoordinates = this.flatCoordinates;\n        var squaredDistance = squaredDx(x, y, flatCoordinates[0], flatCoordinates[1]);\n        if (squaredDistance < minSquaredDistance) {\n            var stride = this.stride;\n            for (var i = 0; i < stride; ++i) {\n                closestPoint[i] = flatCoordinates[i];\n            }\n            closestPoint.length = stride;\n            return squaredDistance;\n        }\n        else {\n            return minSquaredDistance;\n        }\n    };\n    /**\n     * Return the coordinate of the point.\n     * @return {import(\"../coordinate.js\").Coordinate} Coordinates.\n     * @api\n     */\n    Point.prototype.getCoordinates = function () {\n        return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    Point.prototype.computeExtent = function (extent) {\n        return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    Point.prototype.getType = function () {\n        return 'Point';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    Point.prototype.intersectsExtent = function (extent) {\n        return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\n    };\n    /**\n     * @param {!Array<*>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    Point.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 0);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinate(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return Point;\n}(SimpleGeometry));\nexport default Point;\n//# sourceMappingURL=Point.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiPoint\n */\nimport Point from './Point.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { closestSquaredDistanceXY, containsXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { squaredDistance as squaredDx } from '../math.js';\n/**\n * @classdesc\n * Multi-point geometry.\n *\n * @api\n */\nvar MultiPoint = /** @class */ (function (_super) {\n    __extends(MultiPoint, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    function MultiPoint(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        if (opt_layout && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed point to this multipoint.\n     * @param {Point} point Point.\n     * @api\n     */\n    MultiPoint.prototype.appendPoint = function (point) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = point.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, point.getFlatCoordinates());\n        }\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPoint} Clone.\n     * @api\n     */\n    MultiPoint.prototype.clone = function () {\n        var multiPoint = new MultiPoint(this.flatCoordinates.slice(), this.layout);\n        multiPoint.applyProperties(this);\n        return multiPoint;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiPoint.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        var flatCoordinates = this.flatCoordinates;\n        var stride = this.stride;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var squaredDistance = squaredDx(x, y, flatCoordinates[i], flatCoordinates[i + 1]);\n            if (squaredDistance < minSquaredDistance) {\n                minSquaredDistance = squaredDistance;\n                for (var j = 0; j < stride; ++j) {\n                    closestPoint[j] = flatCoordinates[i + j];\n                }\n                closestPoint.length = stride;\n            }\n        }\n        return minSquaredDistance;\n    };\n    /**\n     * Return the coordinates of the multipoint.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    MultiPoint.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the point at the specified index.\n     * @param {number} index Index.\n     * @return {Point} Point.\n     * @api\n     */\n    MultiPoint.prototype.getPoint = function (index) {\n        var n = !this.flatCoordinates\n            ? 0\n            : this.flatCoordinates.length / this.stride;\n        if (index < 0 || n <= index) {\n            return null;\n        }\n        return new Point(this.flatCoordinates.slice(index * this.stride, (index + 1) * this.stride), this.layout);\n    };\n    /**\n     * Return the points of this multipoint.\n     * @return {Array<Point>} Points.\n     * @api\n     */\n    MultiPoint.prototype.getPoints = function () {\n        var flatCoordinates = this.flatCoordinates;\n        var layout = this.layout;\n        var stride = this.stride;\n        /** @type {Array<Point>} */\n        var points = [];\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var point = new Point(flatCoordinates.slice(i, i + stride), layout);\n            points.push(point);\n        }\n        return points;\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    MultiPoint.prototype.getType = function () {\n        return 'MultiPoint';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiPoint.prototype.intersectsExtent = function (extent) {\n        var flatCoordinates = this.flatCoordinates;\n        var stride = this.stride;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            var x = flatCoordinates[i];\n            var y = flatCoordinates[i + 1];\n            if (containsXY(extent, x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Set the coordinates of the multipoint.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    MultiPoint.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return MultiPoint;\n}(SimpleGeometry));\nexport default MultiPoint;\n//# sourceMappingURL=MultiPoint.js.map","/**\n * @module ol/geom/flat/area\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRing(flatCoordinates, offset, end, stride) {\n    var twiceArea = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        twiceArea += y1 * x2 - x1 * y2;\n        x1 = x2;\n        y1 = y2;\n    }\n    return twiceArea / 2;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRings(flatCoordinates, offset, ends, stride) {\n    var area = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        area += linearRing(flatCoordinates, offset, end, stride);\n        offset = end;\n    }\n    return area;\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRingss(flatCoordinates, offset, endss, stride) {\n    var area = 0;\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        area += linearRings(flatCoordinates, offset, ends, stride);\n        offset = ends[ends.length - 1];\n    }\n    return area;\n}\n//# sourceMappingURL=area.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/LinearRing\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestPoint, maxSquaredDelta } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateCoordinates } from './flat/deflate.js';\nimport { douglasPeucker } from './flat/simplify.js';\nimport { inflateCoordinates } from './flat/inflate.js';\nimport { linearRing as linearRingArea } from './flat/area.js';\n/**\n * @classdesc\n * Linear ring geometry. Only used as part of polygon; cannot be rendered\n * on its own.\n *\n * @api\n */\nvar LinearRing = /** @class */ (function (_super) {\n    __extends(LinearRing, _super);\n    /**\n     * @param {Array<import(\"../coordinate.js\").Coordinate>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     */\n    function LinearRing(coordinates, opt_layout) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!LinearRing} Clone.\n     * @api\n     */\n    LinearRing.prototype.clone = function () {\n        return new LinearRing(this.flatCoordinates.slice(), this.layout);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    LinearRing.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(maxSquaredDelta(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestPoint(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * Return the area of the linear ring on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    LinearRing.prototype.getArea = function () {\n        return linearRingArea(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * Return the coordinates of the linear ring.\n     * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n     * @api\n     */\n    LinearRing.prototype.getCoordinates = function () {\n        return inflateCoordinates(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {LinearRing} Simplified LinearRing.\n     * @protected\n     */\n    LinearRing.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        simplifiedFlatCoordinates.length = douglasPeucker(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, squaredTolerance, simplifiedFlatCoordinates, 0);\n        return new LinearRing(simplifiedFlatCoordinates, GeometryLayout.XY);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    LinearRing.prototype.getType = function () {\n        return 'LinearRing';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    LinearRing.prototype.intersectsExtent = function (extent) {\n        return false;\n    };\n    /**\n     * Set the coordinates of the linear ring.\n     * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    LinearRing.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 1);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        this.flatCoordinates.length = deflateCoordinates(this.flatCoordinates, 0, coordinates, this.stride);\n        this.changed();\n    };\n    return LinearRing;\n}(SimpleGeometry));\nexport default LinearRing;\n//# sourceMappingURL=LinearRing.js.map","/**\n * @module ol/geom/flat/interiorpoint\n */\nimport { linearRingsContainsXY } from './contains.js';\nimport { numberSafeCompareFunction } from '../../array.js';\n/**\n * Calculates a point that is likely to lie in the interior of the linear rings.\n * Inspired by JTS's com.vividsolutions.jts.geom.Geometry#getInteriorPoint.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @param {number} flatCentersOffset Flat center offset.\n * @param {Array<number>} [opt_dest] Destination.\n * @return {Array<number>} Destination point as XYM coordinate, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointOfArray(flatCoordinates, offset, ends, stride, flatCenters, flatCentersOffset, opt_dest) {\n    var i, ii, x, x1, x2, y1, y2;\n    var y = flatCenters[flatCentersOffset + 1];\n    /** @type {Array<number>} */\n    var intersections = [];\n    // Calculate intersections with the horizontal line\n    for (var r = 0, rr = ends.length; r < rr; ++r) {\n        var end = ends[r];\n        x1 = flatCoordinates[end - stride];\n        y1 = flatCoordinates[end - stride + 1];\n        for (i = offset; i < end; i += stride) {\n            x2 = flatCoordinates[i];\n            y2 = flatCoordinates[i + 1];\n            if ((y <= y1 && y2 <= y) || (y1 <= y && y <= y2)) {\n                x = ((y - y1) / (y2 - y1)) * (x2 - x1) + x1;\n                intersections.push(x);\n            }\n            x1 = x2;\n            y1 = y2;\n        }\n    }\n    // Find the longest segment of the horizontal line that has its center point\n    // inside the linear ring.\n    var pointX = NaN;\n    var maxSegmentLength = -Infinity;\n    intersections.sort(numberSafeCompareFunction);\n    x1 = intersections[0];\n    for (i = 1, ii = intersections.length; i < ii; ++i) {\n        x2 = intersections[i];\n        var segmentLength = Math.abs(x2 - x1);\n        if (segmentLength > maxSegmentLength) {\n            x = (x1 + x2) / 2;\n            if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n                pointX = x;\n                maxSegmentLength = segmentLength;\n            }\n        }\n        x1 = x2;\n    }\n    if (isNaN(pointX)) {\n        // There is no horizontal line that has its center point inside the linear\n        // ring.  Use the center of the the linear ring's extent.\n        pointX = flatCenters[flatCentersOffset];\n    }\n    if (opt_dest) {\n        opt_dest.push(pointX, y, maxSegmentLength);\n        return opt_dest;\n    }\n    else {\n        return [pointX, y, maxSegmentLength];\n    }\n}\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @return {Array<number>} Interior points as XYM coordinates, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointsOfMultiArray(flatCoordinates, offset, endss, stride, flatCenters) {\n    var interiorPoints = [];\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        interiorPoints = getInteriorPointOfArray(flatCoordinates, offset, ends, stride, flatCenters, 2 * i, interiorPoints);\n        offset = ends[ends.length - 1];\n    }\n    return interiorPoints;\n}\n//# sourceMappingURL=interiorpoint.js.map","/**\n * @module ol/geom/flat/reverse\n */\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n */\nexport function coordinates(flatCoordinates, offset, end, stride) {\n    while (offset < end - stride) {\n        for (var i = 0; i < stride; ++i) {\n            var tmp = flatCoordinates[offset + i];\n            flatCoordinates[offset + i] = flatCoordinates[end - stride + i];\n            flatCoordinates[end - stride + i] = tmp;\n        }\n        offset += stride;\n        end -= stride;\n    }\n}\n//# sourceMappingURL=reverse.js.map","/**\n * @module ol/geom/flat/orient\n */\nimport { coordinates as reverseCoordinates } from './reverse.js';\n/**\n * Is the linear ring oriented clockwise in a coordinate system with a bottom-left\n * coordinate origin? For a coordinate system with a top-left coordinate origin,\n * the ring's orientation is clockwise when this function returns false.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {boolean} Is clockwise.\n */\nexport function linearRingIsClockwise(flatCoordinates, offset, end, stride) {\n    // https://stackoverflow.com/q/1165647/clockwise-method#1165943\n    // https://github.com/OSGeo/gdal/blob/master/gdal/ogr/ogrlinearring.cpp\n    var edge = 0;\n    var x1 = flatCoordinates[end - stride];\n    var y1 = flatCoordinates[end - stride + 1];\n    for (; offset < end; offset += stride) {\n        var x2 = flatCoordinates[offset];\n        var y2 = flatCoordinates[offset + 1];\n        edge += (x2 - x1) * (y2 + y1);\n        x1 = x2;\n        y1 = y2;\n    }\n    return edge === 0 ? undefined : edge > 0;\n}\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean} [opt_right] Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingsAreOriented(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var isClockwise = linearRingIsClockwise(flatCoordinates, offset, end, stride);\n        if (i === 0) {\n            if ((right && isClockwise) || (!right && !isClockwise)) {\n                return false;\n            }\n        }\n        else {\n            if ((right && !isClockwise) || (!right && isClockwise)) {\n                return false;\n            }\n        }\n        offset = end;\n    }\n    return true;\n}\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean} [opt_right] Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingssAreOriented(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        if (!linearRingsAreOriented(flatCoordinates, offset, ends, stride, opt_right)) {\n            return false;\n        }\n        if (ends.length) {\n            offset = ends[ends.length - 1];\n        }\n    }\n    return true;\n}\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {boolean} [opt_right] Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRings(flatCoordinates, offset, ends, stride, opt_right) {\n    var right = opt_right !== undefined ? opt_right : false;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        var isClockwise = linearRingIsClockwise(flatCoordinates, offset, end, stride);\n        var reverse = i === 0\n            ? (right && isClockwise) || (!right && !isClockwise)\n            : (right && !isClockwise) || (!right && isClockwise);\n        if (reverse) {\n            reverseCoordinates(flatCoordinates, offset, end, stride);\n        }\n        offset = end;\n    }\n    return offset;\n}\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean} [opt_right] Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRingsArray(flatCoordinates, offset, endss, stride, opt_right) {\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        offset = orientLinearRings(flatCoordinates, offset, endss[i], stride, opt_right);\n    }\n    return offset;\n}\n/**\n * Return a two-dimensional endss\n * @param {Array<number>} flatCoordinates Flat coordinates\n * @param {Array<number>} ends Linear ring end indexes\n * @return {Array<Array<number>>} Two dimensional endss array that can\n * be used to contruct a MultiPolygon\n */\nexport function inflateEnds(flatCoordinates, ends) {\n    var endss = [];\n    var offset = 0;\n    var prevEndIndex = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n        var end = ends[i];\n        // classifies an array of rings into polygons with outer rings and holes\n        if (!linearRingIsClockwise(flatCoordinates, offset, end, 2)) {\n            endss.push(ends.slice(prevEndIndex, i + 1));\n        }\n        else {\n            if (endss.length === 0) {\n                continue;\n            }\n            endss[endss.length - 1].push(ends[prevEndIndex]);\n        }\n        prevEndIndex = i + 1;\n        offset = end;\n    }\n    return endss;\n}\n//# sourceMappingURL=orient.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/Polygon\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport LinearRing from './LinearRing.js';\nimport Point from './Point.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { arrayMaxSquaredDelta, assignClosestArrayPoint } from './flat/closest.js';\nimport { closestSquaredDistanceXY, getCenter } from '../extent.js';\nimport { deflateCoordinatesArray } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { getInteriorPointOfArray } from './flat/interiorpoint.js';\nimport { inflateCoordinatesArray } from './flat/inflate.js';\nimport { intersectsLinearRingArray } from './flat/intersectsextent.js';\nimport { linearRingsAreOriented, orientLinearRings } from './flat/orient.js';\nimport { linearRings as linearRingsArea } from './flat/area.js';\nimport { linearRingsContainsXY } from './flat/contains.js';\nimport { modulo } from '../math.js';\nimport { quantizeArray } from './flat/simplify.js';\nimport { offset as sphereOffset } from '../sphere.js';\n/**\n * @classdesc\n * Polygon geometry.\n *\n * @api\n */\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    /**\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>|!Array<number>} coordinates\n     *     Array of linear rings that define the polygon. The first linear ring of the\n     *     array defines the outer-boundary or surface of the polygon. Each subsequent\n     *     linear ring defines a hole in the surface of the polygon. A linear ring is\n     *     an array of vertices' coordinates where the first coordinate and the last are\n     *     equivalent. (For internal use, flat coordinates in combination with\n     *     `opt_layout` and `opt_ends` are also accepted.)\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @param {Array<number>} [opt_ends] Ends (for internal use with flat coordinates).\n     */\n    function Polygon(coordinates, opt_layout, opt_ends) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        _this.ends_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatInteriorPointRevision_ = -1;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.flatInteriorPoint_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.orientedRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.orientedFlatCoordinates_ = null;\n        if (opt_layout !== undefined && opt_ends) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.ends_ = opt_ends;\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed linear ring to this polygon.\n     * @param {LinearRing} linearRing Linear ring.\n     * @api\n     */\n    Polygon.prototype.appendLinearRing = function (linearRing) {\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = linearRing.getFlatCoordinates().slice();\n        }\n        else {\n            extend(this.flatCoordinates, linearRing.getFlatCoordinates());\n        }\n        this.ends_.push(this.flatCoordinates.length);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!Polygon} Clone.\n     * @api\n     */\n    Polygon.prototype.clone = function () {\n        var polygon = new Polygon(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n        polygon.applyProperties(this);\n        return polygon;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    Polygon.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates, 0, this.ends_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestArrayPoint(this.flatCoordinates, 0, this.ends_, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    Polygon.prototype.containsXY = function (x, y) {\n        return linearRingsContainsXY(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, x, y);\n    };\n    /**\n     * Return the area of the polygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    Polygon.prototype.getArea = function () {\n        return linearRingsArea(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);\n    };\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for polygons.\n     *\n     * @param {boolean} [opt_right] Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n     * @api\n     */\n    Polygon.prototype.getCoordinates = function (opt_right) {\n        var flatCoordinates;\n        if (opt_right !== undefined) {\n            flatCoordinates = this.getOrientedFlatCoordinates().slice();\n            orientLinearRings(flatCoordinates, 0, this.ends_, this.stride, opt_right);\n        }\n        else {\n            flatCoordinates = this.flatCoordinates;\n        }\n        return inflateCoordinatesArray(flatCoordinates, 0, this.ends_, this.stride);\n    };\n    /**\n     * @return {Array<number>} Ends.\n     */\n    Polygon.prototype.getEnds = function () {\n        return this.ends_;\n    };\n    /**\n     * @return {Array<number>} Interior point.\n     */\n    Polygon.prototype.getFlatInteriorPoint = function () {\n        if (this.flatInteriorPointRevision_ != this.getRevision()) {\n            var flatCenter = getCenter(this.getExtent());\n            this.flatInteriorPoint_ = getInteriorPointOfArray(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, flatCenter, 0);\n            this.flatInteriorPointRevision_ = this.getRevision();\n        }\n        return this.flatInteriorPoint_;\n    };\n    /**\n     * Return an interior point of the polygon.\n     * @return {Point} Interior point as XYM coordinate, where M is the\n     * length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    Polygon.prototype.getInteriorPoint = function () {\n        return new Point(this.getFlatInteriorPoint(), GeometryLayout.XYM);\n    };\n    /**\n     * Return the number of rings of the polygon,  this includes the exterior\n     * ring and any interior rings.\n     *\n     * @return {number} Number of rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRingCount = function () {\n        return this.ends_.length;\n    };\n    /**\n     * Return the Nth linear ring of the polygon geometry. Return `null` if the\n     * given index is out of range.\n     * The exterior linear ring is available at index `0` and the interior rings\n     * at index `1` and beyond.\n     *\n     * @param {number} index Index.\n     * @return {LinearRing|null} Linear ring.\n     * @api\n     */\n    Polygon.prototype.getLinearRing = function (index) {\n        if (index < 0 || this.ends_.length <= index) {\n            return null;\n        }\n        return new LinearRing(this.flatCoordinates.slice(index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n    };\n    /**\n     * Return the linear rings of the polygon.\n     * @return {Array<LinearRing>} Linear rings.\n     * @api\n     */\n    Polygon.prototype.getLinearRings = function () {\n        var layout = this.layout;\n        var flatCoordinates = this.flatCoordinates;\n        var ends = this.ends_;\n        var linearRings = [];\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var linearRing = new LinearRing(flatCoordinates.slice(offset, end), layout);\n            linearRings.push(linearRing);\n            offset = end;\n        }\n        return linearRings;\n    };\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    Polygon.prototype.getOrientedFlatCoordinates = function () {\n        if (this.orientedRevision_ != this.getRevision()) {\n            var flatCoordinates = this.flatCoordinates;\n            if (linearRingsAreOriented(flatCoordinates, 0, this.ends_, this.stride)) {\n                this.orientedFlatCoordinates_ = flatCoordinates;\n            }\n            else {\n                this.orientedFlatCoordinates_ = flatCoordinates.slice();\n                this.orientedFlatCoordinates_.length = orientLinearRings(this.orientedFlatCoordinates_, 0, this.ends_, this.stride);\n            }\n            this.orientedRevision_ = this.getRevision();\n        }\n        return this.orientedFlatCoordinates_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {Polygon} Simplified Polygon.\n     * @protected\n     */\n    Polygon.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEnds = [];\n        simplifiedFlatCoordinates.length = quantizeArray(this.flatCoordinates, 0, this.ends_, this.stride, Math.sqrt(squaredTolerance), simplifiedFlatCoordinates, 0, simplifiedEnds);\n        return new Polygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    Polygon.prototype.getType = function () {\n        return 'Polygon';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    Polygon.prototype.intersectsExtent = function (extent) {\n        return intersectsLinearRingArray(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the polygon.\n     * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    Polygon.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 2);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var ends = deflateCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n        this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n        this.changed();\n    };\n    return Polygon;\n}(SimpleGeometry));\nexport default Polygon;\n/**\n * Create an approximation of a circle on the surface of a sphere.\n * @param {import(\"../coordinate.js\").Coordinate} center Center (`[lon, lat]` in degrees).\n * @param {number} radius The great-circle distance from the center to\n *     the polygon vertices in meters.\n * @param {number} [opt_n] Optional number of vertices for the resulting\n *     polygon. Default is `32`.\n * @param {number} [opt_sphereRadius] Optional radius for the sphere (defaults to\n *     the Earth's mean radius using the WGS84 ellipsoid).\n * @return {Polygon} The \"circular\" polygon.\n * @api\n */\nexport function circular(center, radius, opt_n, opt_sphereRadius) {\n    var n = opt_n ? opt_n : 32;\n    /** @type {Array<number>} */\n    var flatCoordinates = [];\n    for (var i = 0; i < n; ++i) {\n        extend(flatCoordinates, sphereOffset(center, radius, (2 * Math.PI * i) / n, opt_sphereRadius));\n    }\n    flatCoordinates.push(flatCoordinates[0], flatCoordinates[1]);\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [\n        flatCoordinates.length,\n    ]);\n}\n/**\n * Create a polygon from an extent. The layout used is `XY`.\n * @param {import(\"../extent.js\").Extent} extent The extent.\n * @return {Polygon} The polygon.\n * @api\n */\nexport function fromExtent(extent) {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var flatCoordinates = [\n        minX,\n        minY,\n        minX,\n        maxY,\n        maxX,\n        maxY,\n        maxX,\n        minY,\n        minX,\n        minY,\n    ];\n    return new Polygon(flatCoordinates, GeometryLayout.XY, [\n        flatCoordinates.length,\n    ]);\n}\n/**\n * Create a regular polygon from a circle.\n * @param {import(\"./Circle.js\").default} circle Circle geometry.\n * @param {number} [opt_sides] Number of sides of the polygon. Default is 32.\n * @param {number} [opt_angle] Start angle for the first vertex of the polygon in\n *     counter-clockwise radians. 0 means East. Default is 0.\n * @return {Polygon} Polygon geometry.\n * @api\n */\nexport function fromCircle(circle, opt_sides, opt_angle) {\n    var sides = opt_sides ? opt_sides : 32;\n    var stride = circle.getStride();\n    var layout = circle.getLayout();\n    var center = circle.getCenter();\n    var arrayLength = stride * (sides + 1);\n    var flatCoordinates = new Array(arrayLength);\n    for (var i = 0; i < arrayLength; i += stride) {\n        flatCoordinates[i] = 0;\n        flatCoordinates[i + 1] = 0;\n        for (var j = 2; j < stride; j++) {\n            flatCoordinates[i + j] = center[j];\n        }\n    }\n    var ends = [flatCoordinates.length];\n    var polygon = new Polygon(flatCoordinates, layout, ends);\n    makeRegular(polygon, center, circle.getRadius(), opt_angle);\n    return polygon;\n}\n/**\n * Modify the coordinates of a polygon to make it a regular polygon.\n * @param {Polygon} polygon Polygon geometry.\n * @param {import(\"../coordinate.js\").Coordinate} center Center of the regular polygon.\n * @param {number} radius Radius of the regular polygon.\n * @param {number} [opt_angle] Start angle for the first vertex of the polygon in\n *     counter-clockwise radians. 0 means East. Default is 0.\n */\nexport function makeRegular(polygon, center, radius, opt_angle) {\n    var flatCoordinates = polygon.getFlatCoordinates();\n    var stride = polygon.getStride();\n    var sides = flatCoordinates.length / stride - 1;\n    var startAngle = opt_angle ? opt_angle : 0;\n    for (var i = 0; i <= sides; ++i) {\n        var offset = i * stride;\n        var angle = startAngle + (modulo(i, sides) * 2 * Math.PI) / sides;\n        flatCoordinates[offset] = center[0] + radius * Math.cos(angle);\n        flatCoordinates[offset + 1] = center[1] + radius * Math.sin(angle);\n    }\n    polygon.changed();\n}\n//# sourceMappingURL=Polygon.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/MultiPolygon\n */\nimport GeometryLayout from './GeometryLayout.js';\nimport MultiPoint from './MultiPoint.js';\nimport Polygon from './Polygon.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport { assignClosestMultiArrayPoint, multiArrayMaxSquaredDelta, } from './flat/closest.js';\nimport { closestSquaredDistanceXY } from '../extent.js';\nimport { deflateMultiCoordinatesArray } from './flat/deflate.js';\nimport { extend } from '../array.js';\nimport { getInteriorPointsOfMultiArray } from './flat/interiorpoint.js';\nimport { inflateMultiCoordinatesArray } from './flat/inflate.js';\nimport { intersectsLinearRingMultiArray } from './flat/intersectsextent.js';\nimport { linearRingssAreOriented, orientLinearRingsArray, } from './flat/orient.js';\nimport { linearRingss as linearRingssArea } from './flat/area.js';\nimport { linearRingss as linearRingssCenter } from './flat/center.js';\nimport { linearRingssContainsXY } from './flat/contains.js';\nimport { quantizeMultiArray } from './flat/simplify.js';\n/**\n * @classdesc\n * Multi-polygon geometry.\n *\n * @api\n */\nvar MultiPolygon = /** @class */ (function (_super) {\n    __extends(MultiPolygon, _super);\n    /**\n     * @param {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>|Polygon>|Array<number>} coordinates Coordinates.\n     *     For internal use, flat coordinates in combination with `opt_layout` and `opt_endss` are also accepted.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @param {Array<Array<number>>} [opt_endss] Array of ends for internal use with flat coordinates.\n     */\n    function MultiPolygon(coordinates, opt_layout, opt_endss) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {Array<Array<number>>}\n         * @private\n         */\n        _this.endss_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.flatInteriorPointsRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.flatInteriorPoints_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDeltaRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.orientedRevision_ = -1;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.orientedFlatCoordinates_ = null;\n        if (!opt_endss && !Array.isArray(coordinates[0])) {\n            var layout = _this.getLayout();\n            var polygons = /** @type {Array<Polygon>} */ (coordinates);\n            var flatCoordinates = [];\n            var endss = [];\n            for (var i = 0, ii = polygons.length; i < ii; ++i) {\n                var polygon = polygons[i];\n                if (i === 0) {\n                    layout = polygon.getLayout();\n                }\n                var offset = flatCoordinates.length;\n                var ends = polygon.getEnds();\n                for (var j = 0, jj = ends.length; j < jj; ++j) {\n                    ends[j] += offset;\n                }\n                extend(flatCoordinates, polygon.getFlatCoordinates());\n                endss.push(ends);\n            }\n            opt_layout = layout;\n            coordinates = flatCoordinates;\n            opt_endss = endss;\n        }\n        if (opt_layout !== undefined && opt_endss) {\n            _this.setFlatCoordinates(opt_layout, \n            /** @type {Array<number>} */ (coordinates));\n            _this.endss_ = opt_endss;\n        }\n        else {\n            _this.setCoordinates(\n            /** @type {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} */ (coordinates), opt_layout);\n        }\n        return _this;\n    }\n    /**\n     * Append the passed polygon to this multipolygon.\n     * @param {Polygon} polygon Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.appendPolygon = function (polygon) {\n        /** @type {Array<number>} */\n        var ends;\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = polygon.getFlatCoordinates().slice();\n            ends = polygon.getEnds().slice();\n            this.endss_.push();\n        }\n        else {\n            var offset = this.flatCoordinates.length;\n            extend(this.flatCoordinates, polygon.getFlatCoordinates());\n            ends = polygon.getEnds().slice();\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                ends[i] += offset;\n            }\n        }\n        this.endss_.push(ends);\n        this.changed();\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!MultiPolygon} Clone.\n     * @api\n     */\n    MultiPolygon.prototype.clone = function () {\n        var len = this.endss_.length;\n        var newEndss = new Array(len);\n        for (var i = 0; i < len; ++i) {\n            newEndss[i] = this.endss_[i].slice();\n        }\n        var multiPolygon = new MultiPolygon(this.flatCoordinates.slice(), this.layout, newEndss);\n        multiPolygon.applyProperties(this);\n        return multiPolygon;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    MultiPolygon.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        if (this.maxDeltaRevision_ != this.getRevision()) {\n            this.maxDelta_ = Math.sqrt(multiArrayMaxSquaredDelta(this.flatCoordinates, 0, this.endss_, this.stride, 0));\n            this.maxDeltaRevision_ = this.getRevision();\n        }\n        return assignClosestMultiArrayPoint(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    MultiPolygon.prototype.containsXY = function (x, y) {\n        return linearRingssContainsXY(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, x, y);\n    };\n    /**\n     * Return the area of the multipolygon on projected plane.\n     * @return {number} Area (on projected plane).\n     * @api\n     */\n    MultiPolygon.prototype.getArea = function () {\n        return linearRingssArea(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride);\n    };\n    /**\n     * Get the coordinate array for this geometry.  This array has the structure\n     * of a GeoJSON coordinate array for multi-polygons.\n     *\n     * @param {boolean} [opt_right] Orient coordinates according to the right-hand\n     *     rule (counter-clockwise for exterior and clockwise for interior rings).\n     *     If `false`, coordinates will be oriented according to the left-hand rule\n     *     (clockwise for exterior and counter-clockwise for interior rings).\n     *     By default, coordinate orientation will depend on how the geometry was\n     *     constructed.\n     * @return {Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} Coordinates.\n     * @api\n     */\n    MultiPolygon.prototype.getCoordinates = function (opt_right) {\n        var flatCoordinates;\n        if (opt_right !== undefined) {\n            flatCoordinates = this.getOrientedFlatCoordinates().slice();\n            orientLinearRingsArray(flatCoordinates, 0, this.endss_, this.stride, opt_right);\n        }\n        else {\n            flatCoordinates = this.flatCoordinates;\n        }\n        return inflateMultiCoordinatesArray(flatCoordinates, 0, this.endss_, this.stride);\n    };\n    /**\n     * @return {Array<Array<number>>} Endss.\n     */\n    MultiPolygon.prototype.getEndss = function () {\n        return this.endss_;\n    };\n    /**\n     * @return {Array<number>} Flat interior points.\n     */\n    MultiPolygon.prototype.getFlatInteriorPoints = function () {\n        if (this.flatInteriorPointsRevision_ != this.getRevision()) {\n            var flatCenters = linearRingssCenter(this.flatCoordinates, 0, this.endss_, this.stride);\n            this.flatInteriorPoints_ = getInteriorPointsOfMultiArray(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, flatCenters);\n            this.flatInteriorPointsRevision_ = this.getRevision();\n        }\n        return this.flatInteriorPoints_;\n    };\n    /**\n     * Return the interior points as {@link module:ol/geom/MultiPoint~MultiPoint multipoint}.\n     * @return {MultiPoint} Interior points as XYM coordinates, where M is\n     * the length of the horizontal intersection that the point belongs to.\n     * @api\n     */\n    MultiPolygon.prototype.getInteriorPoints = function () {\n        return new MultiPoint(this.getFlatInteriorPoints().slice(), GeometryLayout.XYM);\n    };\n    /**\n     * @return {Array<number>} Oriented flat coordinates.\n     */\n    MultiPolygon.prototype.getOrientedFlatCoordinates = function () {\n        if (this.orientedRevision_ != this.getRevision()) {\n            var flatCoordinates = this.flatCoordinates;\n            if (linearRingssAreOriented(flatCoordinates, 0, this.endss_, this.stride)) {\n                this.orientedFlatCoordinates_ = flatCoordinates;\n            }\n            else {\n                this.orientedFlatCoordinates_ = flatCoordinates.slice();\n                this.orientedFlatCoordinates_.length = orientLinearRingsArray(this.orientedFlatCoordinates_, 0, this.endss_, this.stride);\n            }\n            this.orientedRevision_ = this.getRevision();\n        }\n        return this.orientedFlatCoordinates_;\n    };\n    /**\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {MultiPolygon} Simplified MultiPolygon.\n     * @protected\n     */\n    MultiPolygon.prototype.getSimplifiedGeometryInternal = function (squaredTolerance) {\n        var simplifiedFlatCoordinates = [];\n        var simplifiedEndss = [];\n        simplifiedFlatCoordinates.length = quantizeMultiArray(this.flatCoordinates, 0, this.endss_, this.stride, Math.sqrt(squaredTolerance), simplifiedFlatCoordinates, 0, simplifiedEndss);\n        return new MultiPolygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEndss);\n    };\n    /**\n     * Return the polygon at the specified index.\n     * @param {number} index Index.\n     * @return {Polygon} Polygon.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygon = function (index) {\n        if (index < 0 || this.endss_.length <= index) {\n            return null;\n        }\n        var offset;\n        if (index === 0) {\n            offset = 0;\n        }\n        else {\n            var prevEnds = this.endss_[index - 1];\n            offset = prevEnds[prevEnds.length - 1];\n        }\n        var ends = this.endss_[index].slice();\n        var end = ends[ends.length - 1];\n        if (offset !== 0) {\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                ends[i] -= offset;\n            }\n        }\n        return new Polygon(this.flatCoordinates.slice(offset, end), this.layout, ends);\n    };\n    /**\n     * Return the polygons of this multipolygon.\n     * @return {Array<Polygon>} Polygons.\n     * @api\n     */\n    MultiPolygon.prototype.getPolygons = function () {\n        var layout = this.layout;\n        var flatCoordinates = this.flatCoordinates;\n        var endss = this.endss_;\n        var polygons = [];\n        var offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n            var ends = endss[i].slice();\n            var end = ends[ends.length - 1];\n            if (offset !== 0) {\n                for (var j = 0, jj = ends.length; j < jj; ++j) {\n                    ends[j] -= offset;\n                }\n            }\n            var polygon = new Polygon(flatCoordinates.slice(offset, end), layout, ends);\n            polygons.push(polygon);\n            offset = end;\n        }\n        return polygons;\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    MultiPolygon.prototype.getType = function () {\n        return 'MultiPolygon';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    MultiPolygon.prototype.intersectsExtent = function (extent) {\n        return intersectsLinearRingMultiArray(this.getOrientedFlatCoordinates(), 0, this.endss_, this.stride, extent);\n    };\n    /**\n     * Set the coordinates of the multipolygon.\n     * @param {!Array<Array<Array<import(\"../coordinate.js\").Coordinate>>>} coordinates Coordinates.\n     * @param {import(\"./GeometryLayout.js\").default} [opt_layout] Layout.\n     * @api\n     */\n    MultiPolygon.prototype.setCoordinates = function (coordinates, opt_layout) {\n        this.setLayout(opt_layout, coordinates, 3);\n        if (!this.flatCoordinates) {\n            this.flatCoordinates = [];\n        }\n        var endss = deflateMultiCoordinatesArray(this.flatCoordinates, 0, coordinates, this.stride, this.endss_);\n        if (endss.length === 0) {\n            this.flatCoordinates.length = 0;\n        }\n        else {\n            var lastEnds = endss[endss.length - 1];\n            this.flatCoordinates.length =\n                lastEnds.length === 0 ? 0 : lastEnds[lastEnds.length - 1];\n        }\n        this.changed();\n    };\n    return MultiPolygon;\n}(SimpleGeometry));\nexport default MultiPolygon;\n//# sourceMappingURL=MultiPolygon.js.map","/**\n * @module ol/geom/flat/center\n */\nimport { createEmpty, createOrUpdateFromFlatCoordinates } from '../../extent.js';\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @return {Array<number>} Flat centers.\n */\nexport function linearRingss(flatCoordinates, offset, endss, stride) {\n    var flatCenters = [];\n    var extent = createEmpty();\n    for (var i = 0, ii = endss.length; i < ii; ++i) {\n        var ends = endss[i];\n        extent = createOrUpdateFromFlatCoordinates(flatCoordinates, offset, ends[0], stride);\n        flatCenters.push((extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2);\n        offset = ends[ends.length - 1];\n    }\n    return flatCenters;\n}\n//# sourceMappingURL=center.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/format/TopoJSON\n */\nimport Feature from '../Feature.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"topojson-specification\").Topology} TopoJSONTopology\n * @typedef {import(\"topojson-specification\").GeometryCollection} TopoJSONGeometryCollection\n * @typedef {import(\"topojson-specification\").GeometryObject} TopoJSONGeometry\n * @typedef {import(\"topojson-specification\").Point} TopoJSONPoint\n * @typedef {import(\"topojson-specification\").MultiPoint} TopoJSONMultiPoint\n * @typedef {import(\"topojson-specification\").LineString} TopoJSONLineString\n * @typedef {import(\"topojson-specification\").MultiLineString} TopoJSONMultiLineString\n * @typedef {import(\"topojson-specification\").Polygon} TopoJSONPolygon\n * @typedef {import(\"topojson-specification\").MultiPolygon} TopoJSONMultiPolygon\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {string} [layerName] Set the name of the TopoJSON topology\n * `objects`'s children as feature property with the specified name. This means\n * that when set to `'layer'`, a topology like\n * ```\n * {\n *   \"type\": \"Topology\",\n *   \"objects\": {\n *     \"example\": {\n *       \"type\": \"GeometryCollection\",\n *       \"geometries\": []\n *     }\n *   }\n * }\n * ```\n * will result in features that have a property `'layer'` set to `'example'`.\n * When not set, no property will be added to features.\n * @property {Array<string>} [layers] Names of the TopoJSON topology's\n * `objects`'s children to read features from.  If not provided, features will\n * be read from all children.\n */\n/**\n * @classdesc\n * Feature format for reading data in the TopoJSON format.\n *\n * @api\n */\nvar TopoJSON = /** @class */ (function (_super) {\n    __extends(TopoJSON, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function TopoJSON(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        _this.layerName_ = options.layerName;\n        /**\n         * @private\n         * @type {?Array<string>}\n         */\n        _this.layers_ = options.layers ? options.layers : null;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n        return _this;\n    }\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<Feature>} Features.\n     */\n    TopoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n        if (object.type == 'Topology') {\n            var topoJSONTopology = /** @type {TopoJSONTopology} */ (object);\n            var transform = void 0, scale = null, translate = null;\n            if (topoJSONTopology['transform']) {\n                transform = topoJSONTopology['transform'];\n                scale = transform['scale'];\n                translate = transform['translate'];\n            }\n            var arcs = topoJSONTopology['arcs'];\n            if (transform) {\n                transformArcs(arcs, scale, translate);\n            }\n            /** @type {Array<Feature>} */\n            var features = [];\n            var topoJSONFeatures = topoJSONTopology['objects'];\n            var property = this.layerName_;\n            var feature = void 0;\n            for (var objectName in topoJSONFeatures) {\n                if (this.layers_ && this.layers_.indexOf(objectName) == -1) {\n                    continue;\n                }\n                if (topoJSONFeatures[objectName].type === 'GeometryCollection') {\n                    feature = /** @type {TopoJSONGeometryCollection} */ (topoJSONFeatures[objectName]);\n                    features.push.apply(features, readFeaturesFromGeometryCollection(feature, arcs, scale, translate, property, objectName, opt_options));\n                }\n                else {\n                    feature = /** @type {TopoJSONGeometry} */ (topoJSONFeatures[objectName]);\n                    features.push(readFeatureFromGeometry(feature, arcs, scale, translate, property, objectName, opt_options));\n                }\n            }\n            return features;\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    TopoJSON.prototype.readProjectionFromObject = function (object) {\n        return this.dataProjection;\n    };\n    return TopoJSON;\n}(JSONFeature));\n/**\n * @const\n * @type {Object<string, function(TopoJSONGeometry, Array, ...Array=): import(\"../geom/Geometry.js\").default>}\n */\nvar GEOMETRY_READERS = {\n    'Point': readPointGeometry,\n    'LineString': readLineStringGeometry,\n    'Polygon': readPolygonGeometry,\n    'MultiPoint': readMultiPointGeometry,\n    'MultiLineString': readMultiLineStringGeometry,\n    'MultiPolygon': readMultiPolygonGeometry,\n};\n/**\n * Concatenate arcs into a coordinate array.\n * @param {Array<number>} indices Indices of arcs to concatenate.  Negative\n *     values indicate arcs need to be reversed.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs (already\n *     transformed).\n * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates array.\n */\nfunction concatenateArcs(indices, arcs) {\n    /** @type {Array<import(\"../coordinate.js\").Coordinate>} */\n    var coordinates = [];\n    var index;\n    for (var i = 0, ii = indices.length; i < ii; ++i) {\n        index = indices[i];\n        if (i > 0) {\n            // splicing together arcs, discard last point\n            coordinates.pop();\n        }\n        if (index >= 0) {\n            // forward arc\n            var arc = arcs[index];\n            for (var j = 0, jj = arc.length; j < jj; ++j) {\n                coordinates.push(arc[j].slice(0));\n            }\n        }\n        else {\n            // reverse arc\n            var arc = arcs[~index];\n            for (var j = arc.length - 1; j >= 0; --j) {\n                coordinates.push(arc[j].slice(0));\n            }\n        }\n    }\n    return coordinates;\n}\n/**\n * Create a point from a TopoJSON geometry object.\n *\n * @param {TopoJSONPoint} object TopoJSON object.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n * @return {Point} Geometry.\n */\nfunction readPointGeometry(object, scale, translate) {\n    var coordinates = object['coordinates'];\n    if (scale && translate) {\n        transformVertex(coordinates, scale, translate);\n    }\n    return new Point(coordinates);\n}\n/**\n * Create a multi-point from a TopoJSON geometry object.\n *\n * @param {TopoJSONMultiPoint} object TopoJSON object.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n * @return {MultiPoint} Geometry.\n */\nfunction readMultiPointGeometry(object, scale, translate) {\n    var coordinates = object['coordinates'];\n    if (scale && translate) {\n        for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n            transformVertex(coordinates[i], scale, translate);\n        }\n    }\n    return new MultiPoint(coordinates);\n}\n/**\n * Create a linestring from a TopoJSON geometry object.\n *\n * @param {TopoJSONLineString} object TopoJSON object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @return {LineString} Geometry.\n */\nfunction readLineStringGeometry(object, arcs) {\n    var coordinates = concatenateArcs(object['arcs'], arcs);\n    return new LineString(coordinates);\n}\n/**\n * Create a multi-linestring from a TopoJSON geometry object.\n *\n * @param {TopoJSONMultiLineString} object TopoJSON object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @return {MultiLineString} Geometry.\n */\nfunction readMultiLineStringGeometry(object, arcs) {\n    var coordinates = [];\n    for (var i = 0, ii = object['arcs'].length; i < ii; ++i) {\n        coordinates[i] = concatenateArcs(object['arcs'][i], arcs);\n    }\n    return new MultiLineString(coordinates);\n}\n/**\n * Create a polygon from a TopoJSON geometry object.\n *\n * @param {TopoJSONPolygon} object TopoJSON object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @return {Polygon} Geometry.\n */\nfunction readPolygonGeometry(object, arcs) {\n    var coordinates = [];\n    for (var i = 0, ii = object['arcs'].length; i < ii; ++i) {\n        coordinates[i] = concatenateArcs(object['arcs'][i], arcs);\n    }\n    return new Polygon(coordinates);\n}\n/**\n * Create a multi-polygon from a TopoJSON geometry object.\n *\n * @param {TopoJSONMultiPolygon} object TopoJSON object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @return {MultiPolygon} Geometry.\n */\nfunction readMultiPolygonGeometry(object, arcs) {\n    var coordinates = [];\n    for (var i = 0, ii = object['arcs'].length; i < ii; ++i) {\n        // for each polygon\n        var polyArray = object['arcs'][i];\n        var ringCoords = [];\n        for (var j = 0, jj = polyArray.length; j < jj; ++j) {\n            // for each ring\n            ringCoords[j] = concatenateArcs(polyArray[j], arcs);\n        }\n        coordinates[i] = ringCoords;\n    }\n    return new MultiPolygon(coordinates);\n}\n/**\n * Create features from a TopoJSON GeometryCollection object.\n *\n * @param {TopoJSONGeometryCollection} collection TopoJSON Geometry\n *     object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n * @param {string|undefined} property Property to set the `GeometryCollection`'s parent\n *     object to.\n * @param {string} name Name of the `Topology`'s child object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {Array<Feature>} Array of features.\n */\nfunction readFeaturesFromGeometryCollection(collection, arcs, scale, translate, property, name, opt_options) {\n    var geometries = collection['geometries'];\n    var features = [];\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        features[i] = readFeatureFromGeometry(geometries[i], arcs, scale, translate, property, name, opt_options);\n    }\n    return features;\n}\n/**\n * Create a feature from a TopoJSON geometry object.\n *\n * @param {TopoJSONGeometry} object TopoJSON geometry object.\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n * @param {string|undefined} property Property to set the `GeometryCollection`'s parent\n *     object to.\n * @param {string} name Name of the `Topology`'s child object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {Feature} Feature.\n */\nfunction readFeatureFromGeometry(object, arcs, scale, translate, property, name, opt_options) {\n    var geometry = null;\n    var type = object.type;\n    if (type) {\n        var geometryReader = GEOMETRY_READERS[type];\n        if (type === 'Point' || type === 'MultiPoint') {\n            geometry = geometryReader(object, scale, translate);\n        }\n        else {\n            geometry = geometryReader(object, arcs);\n        }\n        geometry = transformGeometryWithOptions(geometry, false, opt_options);\n    }\n    var feature = new Feature({ geometry: geometry });\n    if (object.id !== undefined) {\n        feature.setId(object.id);\n    }\n    var properties = object.properties;\n    if (property) {\n        if (!properties) {\n            properties = {};\n        }\n        properties[property] = name;\n    }\n    if (properties) {\n        feature.setProperties(properties, true);\n    }\n    return feature;\n}\n/**\n * Apply a linear transform to array of arcs.  The provided array of arcs is\n * modified in place.\n *\n * @param {Array<Array<import(\"../coordinate.js\").Coordinate>>} arcs Array of arcs.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n */\nfunction transformArcs(arcs, scale, translate) {\n    for (var i = 0, ii = arcs.length; i < ii; ++i) {\n        transformArc(arcs[i], scale, translate);\n    }\n}\n/**\n * Apply a linear transform to an arc.  The provided arc is modified in place.\n *\n * @param {Array<import(\"../coordinate.js\").Coordinate>} arc Arc.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n */\nfunction transformArc(arc, scale, translate) {\n    var x = 0;\n    var y = 0;\n    for (var i = 0, ii = arc.length; i < ii; ++i) {\n        var vertex = arc[i];\n        x += vertex[0];\n        y += vertex[1];\n        vertex[0] = x;\n        vertex[1] = y;\n        transformVertex(vertex, scale, translate);\n    }\n}\n/**\n * Apply a linear transform to a vertex.  The provided vertex is modified in\n * place.\n *\n * @param {import(\"../coordinate.js\").Coordinate} vertex Vertex.\n * @param {Array<number>} scale Scale for each dimension.\n * @param {Array<number>} translate Translation for each dimension.\n */\nfunction transformVertex(vertex, scale, translate) {\n    vertex[0] = vertex[0] * scale[0] + translate[0];\n    vertex[1] = vertex[1] * scale[1] + translate[1];\n}\nexport default TopoJSON;\n//# sourceMappingURL=TopoJSON.js.map","/**\n * @module ol/style/Image\n */\nimport { abstract } from '../util.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {number} opacity Opacity.\n * @property {boolean} rotateWithView If the image should get rotated with the view.\n * @property {number} rotation Rotation.\n * @property {number|import(\"../size.js\").Size} scale Scale.\n * @property {Array<number>} displacement Displacement.\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} declutterMode Declutter mode: `declutter`, `obstacle`, 'none */\n/**\n * @classdesc\n * A base class used for creating subclasses and not instantiated in\n * apps. Base class for {@link module:ol/style/Icon~Icon}, {@link module:ol/style/Circle~CircleStyle} and\n * {@link module:ol/style/RegularShape~RegularShape}.\n * @abstract\n * @api\n */\nvar ImageStyle = /** @class */ (function () {\n    /**\n     * @param {Options} options Options.\n     */\n    function ImageStyle(options) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.opacity_ = options.opacity;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.displacement_ = options.displacement;\n        /**\n         * @private\n         * @type {\"declutter\"|\"obstacle\"|\"none\"|undefined}\n         */\n        this.declutterMode_ = options.declutterMode;\n    }\n    /**\n     * Clones the style.\n     * @return {ImageStyle} The cloned style.\n     * @api\n     */\n    ImageStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        return new ImageStyle({\n            opacity: this.getOpacity(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n            declutterMode: this.getDeclutterMode(),\n        });\n    };\n    /**\n     * Get the symbolizer opacity.\n     * @return {number} Opacity.\n     * @api\n     */\n    ImageStyle.prototype.getOpacity = function () {\n        return this.opacity_;\n    };\n    /**\n     * Determine whether the symbolizer rotates with the map.\n     * @return {boolean} Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the symoblizer rotation.\n     * @return {number} Rotation.\n     * @api\n     */\n    ImageStyle.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the symbolizer scale.\n     * @return {number|import(\"../size.js\").Size} Scale.\n     * @api\n     */\n    ImageStyle.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    ImageStyle.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the displacement of the shape\n     * @return {Array<number>} Shape's center displacement\n     * @api\n     */\n    ImageStyle.prototype.getDisplacement = function () {\n        return this.displacement_;\n    };\n    /**\n     * Get the declutter mode of the shape\n     * @return {\"declutter\"|\"obstacle\"|\"none\"|undefined} Shape's declutter mode\n     * @api\n     */\n    ImageStyle.prototype.getDeclutterMode = function () {\n        return this.declutterMode_;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @abstract\n     * @return {Array<number>} Anchor.\n     */\n    ImageStyle.prototype.getAnchor = function () {\n        return abstract();\n    };\n    /**\n     * Get the image element for the symbolizer.\n     * @abstract\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getImage = function (pixelRatio) {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} Image element.\n     */\n    ImageStyle.prototype.getHitDetectionImage = function () {\n        return abstract();\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    ImageStyle.prototype.getPixelRatio = function (pixelRatio) {\n        return 1;\n    };\n    /**\n     * @abstract\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    ImageStyle.prototype.getImageState = function () {\n        return abstract();\n    };\n    /**\n     * @abstract\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    ImageStyle.prototype.getImageSize = function () {\n        return abstract();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @abstract\n     * @return {Array<number>} Origin.\n     */\n    ImageStyle.prototype.getOrigin = function () {\n        return abstract();\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @abstract\n     * @return {import(\"../size.js\").Size} Size.\n     */\n    ImageStyle.prototype.getSize = function () {\n        return abstract();\n    };\n    /**\n     * Set the displacement.\n     *\n     * @param {Array<number>} displacement Displacement.\n     * @api\n     */\n    ImageStyle.prototype.setDisplacement = function (displacement) {\n        this.displacement_ = displacement;\n    };\n    /**\n     * Set the opacity.\n     *\n     * @param {number} opacity Opacity.\n     * @api\n     */\n    ImageStyle.prototype.setOpacity = function (opacity) {\n        this.opacity_ = opacity;\n    };\n    /**\n     * Set whether to rotate the style with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    ImageStyle.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number} rotation Rotation.\n     * @api\n     */\n    ImageStyle.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size} scale Scale.\n     * @api\n     */\n    ImageStyle.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale);\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.listenImageChange = function (listener) {\n        abstract();\n    };\n    /**\n     * Load not yet loaded URI.\n     * @abstract\n     */\n    ImageStyle.prototype.load = function () {\n        abstract();\n    };\n    /**\n     * @abstract\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    ImageStyle.prototype.unlistenImageChange = function (listener) {\n        abstract();\n    };\n    return ImageStyle;\n}());\nexport default ImageStyle;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/colorlike\n */\nimport { toString } from './color.js';\n/**\n * A type accepted by CanvasRenderingContext2D.fillStyle\n * or CanvasRenderingContext2D.strokeStyle.\n * Represents a color, pattern, or gradient. The origin for patterns and\n * gradients as fill style is an increment of 512 css pixels from map coordinate\n * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n * must be a factor of two (2, 4, 8, ..., 512).\n *\n * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n * @api\n */\n/**\n * @param {import(\"./color.js\").Color|ColorLike} color Color.\n * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n * @api\n */\nexport function asColorLike(color) {\n    if (Array.isArray(color)) {\n        return toString(color);\n    }\n    else {\n        return color;\n    }\n}\n//# sourceMappingURL=colorlike.js.map","/**\n * @module ol/css\n */\n/**\n * @typedef {Object} FontParameters\n * @property {string} style Style.\n * @property {string} variant Variant.\n * @property {string} weight Weight.\n * @property {string} size Size.\n * @property {string} lineHeight LineHeight.\n * @property {string} family Family.\n * @property {Array<string>} families Families.\n */\n/**\n * The CSS class for hidden feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_HIDDEN = 'ol-hidden';\n/**\n * The CSS class that we'll give the DOM elements to have them selectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_SELECTABLE = 'ol-selectable';\n/**\n * The CSS class that we'll give the DOM elements to have them unselectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSELECTABLE = 'ol-unselectable';\n/**\n * The CSS class for unsupported feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSUPPORTED = 'ol-unsupported';\n/**\n * The CSS class for controls.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_CONTROL = 'ol-control';\n/**\n * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n * to those elements which usually can be expanded.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_COLLAPSED = 'ol-collapsed';\n/**\n * From https://stackoverflow.com/questions/10135697/regex-to-parse-any-css-font\n * @type {RegExp}\n */\nvar fontRegEx = new RegExp([\n    '^\\\\s*(?=(?:(?:[-a-z]+\\\\s*){0,2}(italic|oblique))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(small-caps))?)',\n    '(?=(?:(?:[-a-z]+\\\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)',\n    '(?:(?:normal|\\\\1|\\\\2|\\\\3)\\\\s*){0,3}((?:xx?-)?',\n    '(?:small|large)|medium|smaller|larger|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx]))',\n    '(?:\\\\s*\\\\/\\\\s*(normal|[\\\\.\\\\d]+(?:\\\\%|in|[cem]m|ex|p[ctx])?))',\n    '?\\\\s*([-,\\\\\"\\\\\\'\\\\sa-z]+?)\\\\s*$',\n].join(''), 'i');\nvar fontRegExMatchIndex = [\n    'style',\n    'variant',\n    'weight',\n    'size',\n    'lineHeight',\n    'family',\n];\n/**\n * Get the list of font families from a font spec.  Note that this doesn't work\n * for font families that have commas in them.\n * @param {string} fontSpec The CSS font property.\n * @return {FontParameters|null} The font parameters (or null if the input spec is invalid).\n */\nexport var getFontParameters = function (fontSpec) {\n    var match = fontSpec.match(fontRegEx);\n    if (!match) {\n        return null;\n    }\n    var style = /** @type {FontParameters} */ ({\n        lineHeight: 'normal',\n        size: '1.2em',\n        style: 'normal',\n        weight: 'normal',\n        variant: 'normal',\n    });\n    for (var i = 0, ii = fontRegExMatchIndex.length; i < ii; ++i) {\n        var value = match[i + 1];\n        if (value !== undefined) {\n            style[fontRegExMatchIndex[i]] = value;\n        }\n    }\n    style.families = style.family.split(/,\\s?/);\n    return style;\n};\n//# sourceMappingURL=css.js.map","/**\n * @module ol/render/canvas\n */\nimport BaseObject from '../Object.js';\nimport EventTarget from '../events/Target.js';\nimport { WORKER_OFFSCREEN_CANVAS } from '../has.js';\nimport { clear } from '../obj.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { getFontParameters } from '../css.js';\n/**\n * @typedef {'Circle' | 'Image' | 'LineString' | 'Polygon' | 'Text' | 'Default'} BuilderType\n */\n/**\n * @typedef {Object} FillState\n * @property {import(\"../colorlike.js\").ColorLike} fillStyle FillStyle.\n */\n/**\n * @typedef Label\n * @property {number} width Width.\n * @property {number} height Height.\n * @property {Array<string|number>} contextInstructions ContextInstructions.\n */\n/**\n * @typedef {Object} FillStrokeState\n * @property {import(\"../colorlike.js\").ColorLike} [currentFillStyle] Current FillStyle.\n * @property {import(\"../colorlike.js\").ColorLike} [currentStrokeStyle] Current StrokeStyle.\n * @property {CanvasLineCap} [currentLineCap] Current LineCap.\n * @property {Array<number>} currentLineDash Current LineDash.\n * @property {number} [currentLineDashOffset] Current LineDashOffset.\n * @property {CanvasLineJoin} [currentLineJoin] Current LineJoin.\n * @property {number} [currentLineWidth] Current LineWidth.\n * @property {number} [currentMiterLimit] Current MiterLimit.\n * @property {number} [lastStroke] Last stroke.\n * @property {import(\"../colorlike.js\").ColorLike} [fillStyle] FillStyle.\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle] StrokeStyle.\n * @property {CanvasLineCap} [lineCap] LineCap.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} [lineDashOffset] LineDashOffset.\n * @property {CanvasLineJoin} [lineJoin] LineJoin.\n * @property {number} [lineWidth] LineWidth.\n * @property {number} [miterLimit] MiterLimit.\n */\n/**\n * @typedef {Object} StrokeState\n * @property {CanvasLineCap} lineCap LineCap.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} lineDashOffset LineDashOffset.\n * @property {CanvasLineJoin} lineJoin LineJoin.\n * @property {number} lineWidth LineWidth.\n * @property {number} miterLimit MiterLimit.\n * @property {import(\"../colorlike.js\").ColorLike} strokeStyle StrokeStyle.\n */\n/**\n * @typedef {Object} TextState\n * @property {string} font Font.\n * @property {string} [textAlign] TextAlign.\n * @property {string} [justify] Justify.\n * @property {string} textBaseline TextBaseline.\n * @property {string} [placement] Placement.\n * @property {number} [maxAngle] MaxAngle.\n * @property {boolean} [overflow] Overflow.\n * @property {import(\"../style/Fill.js\").default} [backgroundFill] BackgroundFill.\n * @property {import(\"../style/Stroke.js\").default} [backgroundStroke] BackgroundStroke.\n * @property {import(\"../size.js\").Size} [scale] Scale.\n * @property {Array<number>} [padding] Padding.\n */\n/**\n * @typedef {Object} SerializableInstructions\n * @property {Array<*>} instructions The rendering instructions.\n * @property {Array<*>} hitDetectionInstructions The rendering hit detection instructions.\n * @property {Array<number>} coordinates The array of all coordinates.\n * @property {!Object<string, TextState>} [textStates] The text states (decluttering).\n * @property {!Object<string, FillState>} [fillStates] The fill states (decluttering).\n * @property {!Object<string, StrokeState>} [strokeStates] The stroke states (decluttering).\n */\n/**\n * @typedef {Object<number, import(\"./canvas/Executor.js\").ReplayImageOrLabelArgs>} DeclutterImageWithText\n */\n/**\n * @const\n * @type {string}\n */\nexport var defaultFont = '10px sans-serif';\n/**\n * @const\n * @type {import(\"../colorlike.js\").ColorLike}\n */\nexport var defaultFillStyle = '#000';\n/**\n * @const\n * @type {CanvasLineCap}\n */\nexport var defaultLineCap = 'round';\n/**\n * @const\n * @type {Array<number>}\n */\nexport var defaultLineDash = [];\n/**\n * @const\n * @type {number}\n */\nexport var defaultLineDashOffset = 0;\n/**\n * @const\n * @type {CanvasLineJoin}\n */\nexport var defaultLineJoin = 'round';\n/**\n * @const\n * @type {number}\n */\nexport var defaultMiterLimit = 10;\n/**\n * @const\n * @type {import(\"../colorlike.js\").ColorLike}\n */\nexport var defaultStrokeStyle = '#000';\n/**\n * @const\n * @type {string}\n */\nexport var defaultTextAlign = 'center';\n/**\n * @const\n * @type {string}\n */\nexport var defaultTextBaseline = 'middle';\n/**\n * @const\n * @type {Array<number>}\n */\nexport var defaultPadding = [0, 0, 0, 0];\n/**\n * @const\n * @type {number}\n */\nexport var defaultLineWidth = 1;\n/**\n * @type {BaseObject}\n */\nexport var checkedFonts = new BaseObject();\n/**\n * The label cache for text rendering. To change the default cache size of 2048\n * entries, use {@link module:ol/structs/LRUCache~LRUCache#setSize cache.setSize()}.\n * Deprecated - there is no label cache any more.\n * @type {?}\n * @api\n * @deprecated\n */\nexport var labelCache = new EventTarget();\nlabelCache.setSize = function () {\n    console.warn('labelCache is deprecated.'); //eslint-disable-line\n};\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar measureContext = null;\n/**\n * @type {string}\n */\nvar measureFont;\n/**\n * @type {!Object<string, number>}\n */\nexport var textHeights = {};\n/**\n * Clears the label cache when a font becomes available.\n * @param {string} fontSpec CSS font spec.\n */\nexport var registerFont = (function () {\n    var retries = 100;\n    var size = '32px ';\n    var referenceFonts = ['monospace', 'serif'];\n    var len = referenceFonts.length;\n    var text = 'wmytzilWMYTZIL@#/&?$%10\\uF013';\n    var interval, referenceWidth;\n    /**\n     * @param {string} fontStyle Css font-style\n     * @param {string} fontWeight Css font-weight\n     * @param {*} fontFamily Css font-family\n     * @return {boolean} Font with style and weight is available\n     */\n    function isAvailable(fontStyle, fontWeight, fontFamily) {\n        var available = true;\n        for (var i = 0; i < len; ++i) {\n            var referenceFont = referenceFonts[i];\n            referenceWidth = measureTextWidth(fontStyle + ' ' + fontWeight + ' ' + size + referenceFont, text);\n            if (fontFamily != referenceFont) {\n                var width = measureTextWidth(fontStyle +\n                    ' ' +\n                    fontWeight +\n                    ' ' +\n                    size +\n                    fontFamily +\n                    ',' +\n                    referenceFont, text);\n                // If width and referenceWidth are the same, then the fallback was used\n                // instead of the font we wanted, so the font is not available.\n                available = available && width != referenceWidth;\n            }\n        }\n        if (available) {\n            return true;\n        }\n        return false;\n    }\n    function check() {\n        var done = true;\n        var fonts = checkedFonts.getKeys();\n        for (var i = 0, ii = fonts.length; i < ii; ++i) {\n            var font = fonts[i];\n            if (checkedFonts.get(font) < retries) {\n                if (isAvailable.apply(this, font.split('\\n'))) {\n                    clear(textHeights);\n                    // Make sure that loaded fonts are picked up by Safari\n                    measureContext = null;\n                    measureFont = undefined;\n                    checkedFonts.set(font, retries);\n                }\n                else {\n                    checkedFonts.set(font, checkedFonts.get(font) + 1, true);\n                    done = false;\n                }\n            }\n        }\n        if (done) {\n            clearInterval(interval);\n            interval = undefined;\n        }\n    }\n    return function (fontSpec) {\n        var font = getFontParameters(fontSpec);\n        if (!font) {\n            return;\n        }\n        var families = font.families;\n        for (var i = 0, ii = families.length; i < ii; ++i) {\n            var family = families[i];\n            var key = font.style + '\\n' + font.weight + '\\n' + family;\n            if (checkedFonts.get(key) === undefined) {\n                checkedFonts.set(key, retries, true);\n                if (!isAvailable(font.style, font.weight, family)) {\n                    checkedFonts.set(key, 0, true);\n                    if (interval === undefined) {\n                        interval = setInterval(check, 32);\n                    }\n                }\n            }\n        }\n    };\n})();\n/**\n * @param {string} font Font to use for measuring.\n * @return {import(\"../size.js\").Size} Measurement.\n */\nexport var measureTextHeight = (function () {\n    /**\n     * @type {HTMLDivElement}\n     */\n    var measureElement;\n    return function (fontSpec) {\n        var height = textHeights[fontSpec];\n        if (height == undefined) {\n            if (WORKER_OFFSCREEN_CANVAS) {\n                var font = getFontParameters(fontSpec);\n                var metrics = measureText(fontSpec, 'g');\n                var lineHeight = isNaN(Number(font.lineHeight))\n                    ? 1.2\n                    : Number(font.lineHeight);\n                height =\n                    lineHeight *\n                        (metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent);\n            }\n            else {\n                if (!measureElement) {\n                    measureElement = document.createElement('div');\n                    measureElement.innerHTML = 'M';\n                    measureElement.style.minHeight = '0';\n                    measureElement.style.maxHeight = 'none';\n                    measureElement.style.height = 'auto';\n                    measureElement.style.padding = '0';\n                    measureElement.style.border = 'none';\n                    measureElement.style.position = 'absolute';\n                    measureElement.style.display = 'block';\n                    measureElement.style.left = '-99999px';\n                }\n                measureElement.style.font = fontSpec;\n                document.body.appendChild(measureElement);\n                height = measureElement.offsetHeight;\n                document.body.removeChild(measureElement);\n            }\n            textHeights[fontSpec] = height;\n        }\n        return height;\n    };\n})();\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {TextMetrics} Text metrics.\n */\nfunction measureText(font, text) {\n    if (!measureContext) {\n        measureContext = createCanvasContext2D(1, 1);\n    }\n    if (font != measureFont) {\n        measureContext.font = font;\n        measureFont = measureContext.font;\n    }\n    return measureContext.measureText(text);\n}\n/**\n * @param {string} font Font.\n * @param {string} text Text.\n * @return {number} Width.\n */\nexport function measureTextWidth(font, text) {\n    return measureText(font, text).width;\n}\n/**\n * Measure text width using a cache.\n * @param {string} font The font.\n * @param {string} text The text to measure.\n * @param {Object<string, number>} cache A lookup of cached widths by text.\n * @return {number} The text width.\n */\nexport function measureAndCacheTextWidth(font, text, cache) {\n    if (text in cache) {\n        return cache[text];\n    }\n    var width = text\n        .split('\\n')\n        .reduce(function (prev, curr) { return Math.max(prev, measureTextWidth(font, curr)); }, 0);\n    cache[text] = width;\n    return width;\n}\n/**\n * @param {TextState} baseStyle Base style.\n * @param {Array<string>} chunks Text chunks to measure.\n * @return {{width: number, height: number, widths: Array<number>, heights: Array<number>, lineWidths: Array<number>}}} Text metrics.\n */\nexport function getTextDimensions(baseStyle, chunks) {\n    var widths = [];\n    var heights = [];\n    var lineWidths = [];\n    var width = 0;\n    var lineWidth = 0;\n    var height = 0;\n    var lineHeight = 0;\n    for (var i = 0, ii = chunks.length; i <= ii; i += 2) {\n        var text = chunks[i];\n        if (text === '\\n' || i === ii) {\n            width = Math.max(width, lineWidth);\n            lineWidths.push(lineWidth);\n            lineWidth = 0;\n            height += lineHeight;\n            continue;\n        }\n        var font = chunks[i + 1] || baseStyle.font;\n        var currentWidth = measureTextWidth(font, text);\n        widths.push(currentWidth);\n        lineWidth += currentWidth;\n        var currentHeight = measureTextHeight(font);\n        heights.push(currentHeight);\n        lineHeight = Math.max(lineHeight, currentHeight);\n    }\n    return { width: width, height: height, widths: widths, heights: heights, lineWidths: lineWidths };\n}\n/**\n * @param {CanvasRenderingContext2D} context Context.\n * @param {number} rotation Rotation.\n * @param {number} offsetX X offset.\n * @param {number} offsetY Y offset.\n */\nexport function rotateAtOffset(context, rotation, offsetX, offsetY) {\n    if (rotation !== 0) {\n        context.translate(offsetX, offsetY);\n        context.rotate(rotation);\n        context.translate(-offsetX, -offsetY);\n    }\n}\n/**\n * @param {CanvasRenderingContext2D} context Context.\n * @param {import(\"../transform.js\").Transform|null} transform Transform.\n * @param {number} opacity Opacity.\n * @param {Label|HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} labelOrImage Label.\n * @param {number} originX Origin X.\n * @param {number} originY Origin Y.\n * @param {number} w Width.\n * @param {number} h Height.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {import(\"../size.js\").Size} scale Scale.\n */\nexport function drawImageOrLabel(context, transform, opacity, labelOrImage, originX, originY, w, h, x, y, scale) {\n    context.save();\n    if (opacity !== 1) {\n        context.globalAlpha *= opacity;\n    }\n    if (transform) {\n        context.setTransform.apply(context, transform);\n    }\n    if ( /** @type {*} */(labelOrImage).contextInstructions) {\n        // label\n        context.translate(x, y);\n        context.scale(scale[0], scale[1]);\n        executeLabelInstructions(/** @type {Label} */ (labelOrImage), context);\n    }\n    else if (scale[0] < 0 || scale[1] < 0) {\n        // flipped image\n        context.translate(x, y);\n        context.scale(scale[0], scale[1]);\n        context.drawImage(\n        /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (labelOrImage), originX, originY, w, h, 0, 0, w, h);\n    }\n    else {\n        // if image not flipped translate and scale can be avoided\n        context.drawImage(\n        /** @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} */ (labelOrImage), originX, originY, w, h, x, y, w * scale[0], h * scale[1]);\n    }\n    context.restore();\n}\n/**\n * @param {Label} label Label.\n * @param {CanvasRenderingContext2D} context Context.\n */\nfunction executeLabelInstructions(label, context) {\n    var contextInstructions = label.contextInstructions;\n    for (var i = 0, ii = contextInstructions.length; i < ii; i += 2) {\n        if (Array.isArray(contextInstructions[i + 1])) {\n            context[contextInstructions[i]].apply(context, contextInstructions[i + 1]);\n        }\n        else {\n            context[contextInstructions[i]] = contextInstructions[i + 1];\n        }\n    }\n}\n//# sourceMappingURL=canvas.js.map","/**\n * @module ol/style/RegularShape\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { asColorLike } from '../colorlike.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { defaultFillStyle, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../render/canvas.js';\n/**\n * Specify radius for regular polygons, or radius1 and radius2 for stars.\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} points Number of points for stars and regular polygons. In case of a polygon, the number of points\n * is the number of sides.\n * @property {number} [radius] Radius of a regular polygon.\n * @property {number} [radius1] First radius of a star. Ignored if radius is set.\n * @property {number} [radius2] Second radius of a star.\n * @property {number} [angle=0] Shape's angle in radians. A value of 0 will have one of the shape's point facing up.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the shape\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. Unless two dimensional scaling is required a better\n * result may be obtained with appropriate settings for `radius`, `radius1` and `radius2`.\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} [declutterMode] Declutter mode\n */\n/**\n * @typedef {Object} RenderOptions\n * @property {import(\"../colorlike.js\").ColorLike} [strokeStyle] StrokeStyle.\n * @property {number} strokeWidth StrokeWidth.\n * @property {number} size Size.\n * @property {Array<number>} lineDash LineDash.\n * @property {number} lineDashOffset LineDashOffset.\n * @property {CanvasLineJoin} lineJoin LineJoin.\n * @property {number} miterLimit MiterLimit.\n */\n/**\n * @classdesc\n * Set regular shape style for vector features. The resulting shape will be\n * a regular polygon when `radius` is provided, or a star when `radius1` and\n * `radius2` are provided.\n * @api\n */\nvar RegularShape = /** @class */ (function (_super) {\n    __extends(RegularShape, _super);\n    /**\n     * @param {Options} options Options.\n     */\n    function RegularShape(options) {\n        var _this = this;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: 1,\n            rotateWithView: rotateWithView,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            scale: options.scale !== undefined ? options.scale : 1,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            declutterMode: options.declutterMode,\n        }) || this;\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = undefined;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.hitDetectionCanvas_ = null;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        _this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.points_ = options.points;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.radius_ =\n            options.radius !== undefined ? options.radius : options.radius1;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.radius2_ = options.radius2;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.angle_ = options.angle !== undefined ? options.angle : 0;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        _this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = null;\n        /**\n         * @private\n         * @type {RenderOptions}\n         */\n        _this.renderOptions_ = null;\n        _this.render();\n        return _this;\n    }\n    /**\n     * Clones the style.\n     * @return {RegularShape} The cloned style.\n     * @api\n     */\n    RegularShape.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new RegularShape({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            points: this.getPoints(),\n            radius: this.getRadius(),\n            radius2: this.getRadius2(),\n            angle: this.getAngle(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            displacement: this.getDisplacement().slice(),\n            declutterMode: this.getDeclutterMode(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    RegularShape.prototype.getAnchor = function () {\n        var size = this.size_;\n        if (!size) {\n            return null;\n        }\n        var displacement = this.getDisplacement();\n        return [size[0] / 2 - displacement[0], size[1] / 2 + displacement[1]];\n    };\n    /**\n     * Get the angle used in generating the shape.\n     * @return {number} Shape's rotation in radians.\n     * @api\n     */\n    RegularShape.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    /**\n     * Get the fill style for the shape.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    RegularShape.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Set the fill style.\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    RegularShape.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n        this.render();\n    };\n    /**\n     * @return {HTMLCanvasElement} Image element.\n     */\n    RegularShape.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionCanvas_) {\n            this.createHitDetectionCanvas_(this.renderOptions_);\n        }\n        return this.hitDetectionCanvas_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    RegularShape.prototype.getImage = function (pixelRatio) {\n        var image = this.canvas_[pixelRatio];\n        if (!image) {\n            var renderOptions = this.renderOptions_;\n            var context = createCanvasContext2D(renderOptions.size * pixelRatio, renderOptions.size * pixelRatio);\n            this.draw_(renderOptions, context, pixelRatio);\n            image = context.canvas;\n            this.canvas_[pixelRatio] = image;\n        }\n        return image;\n    };\n    /**\n     * Get the image pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Pixel ratio.\n     */\n    RegularShape.prototype.getPixelRatio = function (pixelRatio) {\n        return pixelRatio;\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    RegularShape.prototype.getImageSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    RegularShape.prototype.getImageState = function () {\n        return ImageState.LOADED;\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    RegularShape.prototype.getOrigin = function () {\n        return this.origin_;\n    };\n    /**\n     * Get the number of points for generating the shape.\n     * @return {number} Number of points for stars and regular polygons.\n     * @api\n     */\n    RegularShape.prototype.getPoints = function () {\n        return this.points_;\n    };\n    /**\n     * Get the (primary) radius for the shape.\n     * @return {number} Radius.\n     * @api\n     */\n    RegularShape.prototype.getRadius = function () {\n        return this.radius_;\n    };\n    /**\n     * Get the secondary radius for the shape.\n     * @return {number|undefined} Radius2.\n     * @api\n     */\n    RegularShape.prototype.getRadius2 = function () {\n        return this.radius2_;\n    };\n    /**\n     * Get the size of the symbolizer (in pixels).\n     * @return {import(\"../size.js\").Size} Size.\n     * @api\n     */\n    RegularShape.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * Get the stroke style for the shape.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    RegularShape.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Set the stroke style.\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    RegularShape.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n        this.render();\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.listenImageChange = function (listener) { };\n    /**\n     * Load not yet loaded URI.\n     */\n    RegularShape.prototype.load = function () { };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    RegularShape.prototype.unlistenImageChange = function (listener) { };\n    /**\n     * Calculate additional canvas size needed for the miter.\n     * @param {string} lineJoin Line join\n     * @param {number} strokeWidth Stroke width\n     * @param {number} miterLimit Miter limit\n     * @return {number} Additional canvas size needed\n     * @private\n     */\n    RegularShape.prototype.calculateLineJoinSize_ = function (lineJoin, strokeWidth, miterLimit) {\n        if (strokeWidth === 0 ||\n            this.points_ === Infinity ||\n            (lineJoin !== 'bevel' && lineJoin !== 'miter')) {\n            return strokeWidth;\n        }\n        // m  | ^\n        // i  | |\\                  .\n        // t >|  #\\\n        // e  | |\\ \\              .\n        // r      \\s\\\n        //      |  \\t\\          .                 .\n        //          \\r\\                      .   .\n        //      |    \\o\\      .          .  . . .\n        //          e \\k\\            .  .    . .\n        //      |      \\e\\  .    .  .       . .\n        //       d      \\ \\  .  .          . .\n        //      | _ _a_ _\\#  .            . .\n        //   r1          / `             . .\n        //      |                       . .\n        //       b     /               . .\n        //      |                     . .\n        //           / r2            . .\n        //      |                        .   .\n        //         /                           .   .\n        //      |                                   .   .\n        //       /                                         .   .\n        //       center\n        var r1 = this.radius_;\n        var r2 = this.radius2_ === undefined ? r1 : this.radius2_;\n        if (r1 < r2) {\n            var tmp = r1;\n            r1 = r2;\n            r2 = tmp;\n        }\n        var points = this.radius2_ === undefined ? this.points_ : this.points_ * 2;\n        var alpha = (2 * Math.PI) / points;\n        var a = r2 * Math.sin(alpha);\n        var b = Math.sqrt(r2 * r2 - a * a);\n        var d = r1 - b;\n        var e = Math.sqrt(a * a + d * d);\n        var miterRatio = e / a;\n        if (lineJoin === 'miter' && miterRatio <= miterLimit) {\n            return miterRatio * strokeWidth;\n        }\n        // Calculate the distnce from center to the stroke corner where\n        // it was cut short because of the miter limit.\n        //              l\n        //        ----+---- <= distance from center to here is maxr\n        //       /####|k ##\\\n        //      /#####^#####\\\n        //     /#### /+\\# s #\\\n        //    /### h/+++\\# t #\\\n        //   /### t/+++++\\# r #\\\n        //  /### a/+++++++\\# o #\\\n        // /### p/++ fill +\\# k #\\\n        ///#### /+++++^+++++\\# e #\\\n        //#####/+++++/+\\+++++\\#####\\\n        var k = strokeWidth / 2 / miterRatio;\n        var l = (strokeWidth / 2) * (d / e);\n        var maxr = Math.sqrt((r1 + k) * (r1 + k) + l * l);\n        var bevelAdd = maxr - r1;\n        if (this.radius2_ === undefined || lineJoin === 'bevel') {\n            return bevelAdd * 2;\n        }\n        // If outer miter is over the miter limit the inner miter may reach through the\n        // center and be longer than the bevel, same calculation as above but swap r1 / r2.\n        var aa = r1 * Math.sin(alpha);\n        var bb = Math.sqrt(r1 * r1 - aa * aa);\n        var dd = r2 - bb;\n        var ee = Math.sqrt(aa * aa + dd * dd);\n        var innerMiterRatio = ee / aa;\n        if (innerMiterRatio <= miterLimit) {\n            var innerLength = (innerMiterRatio * strokeWidth) / 2 - r2 - r1;\n            return 2 * Math.max(bevelAdd, innerLength);\n        }\n        return bevelAdd * 2;\n    };\n    /**\n     * @return {RenderOptions}  The render options\n     * @protected\n     */\n    RegularShape.prototype.createRenderOptions = function () {\n        var lineJoin = defaultLineJoin;\n        var miterLimit = 0;\n        var lineDash = null;\n        var lineDashOffset = 0;\n        var strokeStyle;\n        var strokeWidth = 0;\n        if (this.stroke_) {\n            strokeStyle = this.stroke_.getColor();\n            if (strokeStyle === null) {\n                strokeStyle = defaultStrokeStyle;\n            }\n            strokeStyle = asColorLike(strokeStyle);\n            strokeWidth = this.stroke_.getWidth();\n            if (strokeWidth === undefined) {\n                strokeWidth = defaultLineWidth;\n            }\n            lineDash = this.stroke_.getLineDash();\n            lineDashOffset = this.stroke_.getLineDashOffset();\n            lineJoin = this.stroke_.getLineJoin();\n            if (lineJoin === undefined) {\n                lineJoin = defaultLineJoin;\n            }\n            miterLimit = this.stroke_.getMiterLimit();\n            if (miterLimit === undefined) {\n                miterLimit = defaultMiterLimit;\n            }\n        }\n        var add = this.calculateLineJoinSize_(lineJoin, strokeWidth, miterLimit);\n        var maxRadius = Math.max(this.radius_, this.radius2_ || 0);\n        var size = Math.ceil(2 * maxRadius + add);\n        return {\n            strokeStyle: strokeStyle,\n            strokeWidth: strokeWidth,\n            size: size,\n            lineDash: lineDash,\n            lineDashOffset: lineDashOffset,\n            lineJoin: lineJoin,\n            miterLimit: miterLimit,\n        };\n    };\n    /**\n     * @protected\n     */\n    RegularShape.prototype.render = function () {\n        this.renderOptions_ = this.createRenderOptions();\n        var size = this.renderOptions_.size;\n        this.canvas_ = {};\n        this.size_ = [size, size];\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The rendering context.\n     * @param {number} pixelRatio The pixel ratio.\n     */\n    RegularShape.prototype.draw_ = function (renderOptions, context, pixelRatio) {\n        context.scale(pixelRatio, pixelRatio);\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            if (color === null) {\n                color = defaultFillStyle;\n            }\n            context.fillStyle = asColorLike(color);\n            context.fill();\n        }\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (context.setLineDash && renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     */\n    RegularShape.prototype.createHitDetectionCanvas_ = function (renderOptions) {\n        if (this.fill_) {\n            var color = this.fill_.getColor();\n            // determine if fill is transparent (or pattern or gradient)\n            var opacity = 0;\n            if (typeof color === 'string') {\n                color = asArray(color);\n            }\n            if (color === null) {\n                opacity = 1;\n            }\n            else if (Array.isArray(color)) {\n                opacity = color.length === 4 ? color[3] : 1;\n            }\n            if (opacity === 0) {\n                // if a transparent fill style is set, create an extra hit-detection image\n                // with a default fill style\n                var context = createCanvasContext2D(renderOptions.size, renderOptions.size);\n                this.hitDetectionCanvas_ = context.canvas;\n                this.drawHitDetectionCanvas_(renderOptions, context);\n            }\n        }\n        if (!this.hitDetectionCanvas_) {\n            this.hitDetectionCanvas_ = this.getImage(1);\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context The context to draw in.\n     */\n    RegularShape.prototype.createPath_ = function (context) {\n        var points = this.points_;\n        var radius = this.radius_;\n        if (points === Infinity) {\n            context.arc(0, 0, radius, 0, 2 * Math.PI);\n        }\n        else {\n            var radius2 = this.radius2_ === undefined ? radius : this.radius2_;\n            if (this.radius2_ !== undefined) {\n                points *= 2;\n            }\n            var startAngle = this.angle_ - Math.PI / 2;\n            var step = (2 * Math.PI) / points;\n            for (var i = 0; i < points; i++) {\n                var angle0 = startAngle + i * step;\n                var radiusC = i % 2 === 0 ? radius : radius2;\n                context.lineTo(radiusC * Math.cos(angle0), radiusC * Math.sin(angle0));\n            }\n            context.closePath();\n        }\n    };\n    /**\n     * @private\n     * @param {RenderOptions} renderOptions Render options.\n     * @param {CanvasRenderingContext2D} context The context.\n     */\n    RegularShape.prototype.drawHitDetectionCanvas_ = function (renderOptions, context) {\n        // set origin to canvas center\n        context.translate(renderOptions.size / 2, renderOptions.size / 2);\n        this.createPath_(context);\n        context.fillStyle = defaultFillStyle;\n        context.fill();\n        if (this.stroke_) {\n            context.strokeStyle = renderOptions.strokeStyle;\n            context.lineWidth = renderOptions.strokeWidth;\n            if (renderOptions.lineDash) {\n                context.setLineDash(renderOptions.lineDash);\n                context.lineDashOffset = renderOptions.lineDashOffset;\n            }\n            context.lineJoin = renderOptions.lineJoin;\n            context.miterLimit = renderOptions.miterLimit;\n            context.stroke();\n        }\n    };\n    return RegularShape;\n}(ImageStyle));\nexport default RegularShape;\n//# sourceMappingURL=RegularShape.js.map","/**\n * @module ol/style/Circle\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport RegularShape from './RegularShape.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {number} radius Circle radius.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {Array<number>} [displacement=[0,0]] displacement\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale. A two dimensional scale will produce an ellipse.\n * Unless two dimensional scaling is required a better result may be obtained with an appropriate setting for `radius`.\n * @property {number} [rotation=0] Rotation in radians\n * (positive rotation clockwise, meaningful only when used in conjunction with a two dimensional scale).\n * @property {boolean} [rotateWithView=false] Whether to rotate the shape with the view\n * (meaningful only when used in conjunction with a two dimensional scale).\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} [declutterMode] Declutter mode\n */\n/**\n * @classdesc\n * Set circle style for vector features.\n * @api\n */\nvar CircleStyle = /** @class */ (function (_super) {\n    __extends(CircleStyle, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function CircleStyle(opt_options) {\n        var options = opt_options ? opt_options : {};\n        return _super.call(this, {\n            points: Infinity,\n            fill: options.fill,\n            radius: options.radius,\n            stroke: options.stroke,\n            scale: options.scale !== undefined ? options.scale : 1,\n            rotation: options.rotation !== undefined ? options.rotation : 0,\n            rotateWithView: options.rotateWithView !== undefined ? options.rotateWithView : false,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            declutterMode: options.declutterMode,\n        }) || this;\n    }\n    /**\n     * Clones the style.\n     * @return {CircleStyle} The cloned style.\n     * @api\n     */\n    CircleStyle.prototype.clone = function () {\n        var scale = this.getScale();\n        var style = new CircleStyle({\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            radius: this.getRadius(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            displacement: this.getDisplacement().slice(),\n            declutterMode: this.getDeclutterMode(),\n        });\n        style.setOpacity(this.getOpacity());\n        return style;\n    };\n    /**\n     * Set the circle radius.\n     *\n     * @param {number} radius Circle radius.\n     * @api\n     */\n    CircleStyle.prototype.setRadius = function (radius) {\n        this.radius_ = radius;\n        this.render();\n    };\n    return CircleStyle;\n}(RegularShape));\nexport default CircleStyle;\n//# sourceMappingURL=Circle.js.map","/**\n * @module ol/style/Fill\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} [color=null] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n */\n/**\n * @classdesc\n * Set fill style for vector features.\n * @api\n */\nvar Fill = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Fill(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n    }\n    /**\n     * Clones the style. The color is not cloned if it is an {@link module:ol/colorlike~ColorLike}.\n     * @return {Fill} The cloned style.\n     * @api\n     */\n    Fill.prototype.clone = function () {\n        var color = this.getColor();\n        return new Fill({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n        });\n    };\n    /**\n     * Get the fill color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} Color.\n     * @api\n     */\n    Fill.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike|null} color Color.\n     * @api\n     */\n    Fill.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    return Fill;\n}());\nexport default Fill;\n//# sourceMappingURL=Fill.js.map","/**\n * @module ol/style/Stroke\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} [color] A color, gradient or pattern.\n * See {@link module:ol/color~Color} and {@link module:ol/colorlike~ColorLike} for possible formats.\n * Default null; if null, the Canvas/renderer default black will be used.\n * @property {CanvasLineCap} [lineCap='round'] Line cap style: `butt`, `round`, or `square`.\n * @property {CanvasLineJoin} [lineJoin='round'] Line join style: `bevel`, `round`, or `miter`.\n * @property {Array<number>} [lineDash] Line dash pattern. Default is `null` (no dash).\n * Please note that Internet Explorer 10 and lower do not support the `setLineDash` method on\n * the `CanvasRenderingContext2D` and therefore this option will have no visual effect in these browsers.\n * @property {number} [lineDashOffset=0] Line dash offset.\n * @property {number} [miterLimit=10] Miter limit.\n * @property {number} [width] Width.\n */\n/**\n * @classdesc\n * Set stroke style for vector features.\n * Note that the defaults given are the Canvas defaults, which will be used if\n * option is not defined. The `get` functions return whatever was entered in\n * the options; they will not return the default.\n * @api\n */\nvar Stroke = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Stroke(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike}\n         */\n        this.color_ = options.color !== undefined ? options.color : null;\n        /**\n         * @private\n         * @type {CanvasLineCap|undefined}\n         */\n        this.lineCap_ = options.lineCap;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.lineDash_ = options.lineDash !== undefined ? options.lineDash : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.lineDashOffset_ = options.lineDashOffset;\n        /**\n         * @private\n         * @type {CanvasLineJoin|undefined}\n         */\n        this.lineJoin_ = options.lineJoin;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.miterLimit_ = options.miterLimit;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.width_ = options.width;\n    }\n    /**\n     * Clones the style.\n     * @return {Stroke} The cloned style.\n     * @api\n     */\n    Stroke.prototype.clone = function () {\n        var color = this.getColor();\n        return new Stroke({\n            color: Array.isArray(color) ? color.slice() : color || undefined,\n            lineCap: this.getLineCap(),\n            lineDash: this.getLineDash() ? this.getLineDash().slice() : undefined,\n            lineDashOffset: this.getLineDashOffset(),\n            lineJoin: this.getLineJoin(),\n            miterLimit: this.getMiterLimit(),\n            width: this.getWidth(),\n        });\n    };\n    /**\n     * Get the stroke color.\n     * @return {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} Color.\n     * @api\n     */\n    Stroke.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the line cap type for the stroke.\n     * @return {CanvasLineCap|undefined} Line cap.\n     * @api\n     */\n    Stroke.prototype.getLineCap = function () {\n        return this.lineCap_;\n    };\n    /**\n     * Get the line dash style for the stroke.\n     * @return {Array<number>} Line dash.\n     * @api\n     */\n    Stroke.prototype.getLineDash = function () {\n        return this.lineDash_;\n    };\n    /**\n     * Get the line dash offset for the stroke.\n     * @return {number|undefined} Line dash offset.\n     * @api\n     */\n    Stroke.prototype.getLineDashOffset = function () {\n        return this.lineDashOffset_;\n    };\n    /**\n     * Get the line join type for the stroke.\n     * @return {CanvasLineJoin|undefined} Line join.\n     * @api\n     */\n    Stroke.prototype.getLineJoin = function () {\n        return this.lineJoin_;\n    };\n    /**\n     * Get the miter limit for the stroke.\n     * @return {number|undefined} Miter limit.\n     * @api\n     */\n    Stroke.prototype.getMiterLimit = function () {\n        return this.miterLimit_;\n    };\n    /**\n     * Get the stroke width.\n     * @return {number|undefined} Width.\n     * @api\n     */\n    Stroke.prototype.getWidth = function () {\n        return this.width_;\n    };\n    /**\n     * Set the color.\n     *\n     * @param {import(\"../color.js\").Color|import(\"../colorlike.js\").ColorLike} color Color.\n     * @api\n     */\n    Stroke.prototype.setColor = function (color) {\n        this.color_ = color;\n    };\n    /**\n     * Set the line cap.\n     *\n     * @param {CanvasLineCap|undefined} lineCap Line cap.\n     * @api\n     */\n    Stroke.prototype.setLineCap = function (lineCap) {\n        this.lineCap_ = lineCap;\n    };\n    /**\n     * Set the line dash.\n     *\n     * Please note that Internet Explorer 10 and lower [do not support][mdn] the\n     * `setLineDash` method on the `CanvasRenderingContext2D` and therefore this\n     * property will have no visual effect in these browsers.\n     *\n     * [mdn]: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setLineDash#Browser_compatibility\n     *\n     * @param {Array<number>} lineDash Line dash.\n     * @api\n     */\n    Stroke.prototype.setLineDash = function (lineDash) {\n        this.lineDash_ = lineDash;\n    };\n    /**\n     * Set the line dash offset.\n     *\n     * @param {number|undefined} lineDashOffset Line dash offset.\n     * @api\n     */\n    Stroke.prototype.setLineDashOffset = function (lineDashOffset) {\n        this.lineDashOffset_ = lineDashOffset;\n    };\n    /**\n     * Set the line join.\n     *\n     * @param {CanvasLineJoin|undefined} lineJoin Line join.\n     * @api\n     */\n    Stroke.prototype.setLineJoin = function (lineJoin) {\n        this.lineJoin_ = lineJoin;\n    };\n    /**\n     * Set the miter limit.\n     *\n     * @param {number|undefined} miterLimit Miter limit.\n     * @api\n     */\n    Stroke.prototype.setMiterLimit = function (miterLimit) {\n        this.miterLimit_ = miterLimit;\n    };\n    /**\n     * Set the width.\n     *\n     * @param {number|undefined} width Width.\n     * @api\n     */\n    Stroke.prototype.setWidth = function (width) {\n        this.width_ = width;\n    };\n    return Stroke;\n}());\nexport default Stroke;\n//# sourceMappingURL=Stroke.js.map","/**\n * @module ol/style/Style\n */\nimport CircleStyle from './Circle.js';\nimport Fill from './Fill.js';\nimport Stroke from './Stroke.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/Feature~Feature} and a `{number}`\n * representing the view's resolution. The function should return a\n * {@link module:ol/style/Style~Style} or an array of them. This way e.g. a\n * vector layer can be styled. If the function returns `undefined`, the\n * feature will not be rendered.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike, number):(Style|Array<Style>|void)} StyleFunction\n */\n/**\n * A {@link Style}, an array of {@link Style}, or a {@link StyleFunction}.\n * @typedef {Style|Array<Style>|StyleFunction} StyleLike\n */\n/**\n * A function that takes an {@link module:ol/Feature~Feature} as argument and returns an\n * {@link module:ol/geom/Geometry~Geometry} that will be rendered and styled for the feature.\n *\n * @typedef {function(import(\"../Feature.js\").FeatureLike):\n *     (import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined)} GeometryFunction\n */\n/**\n * Custom renderer function. Takes two arguments:\n *\n * 1. The pixel coordinates of the geometry in GeoJSON notation.\n * 2. The {@link module:ol/render~State} of the layer renderer.\n *\n * @typedef {function((import(\"../coordinate.js\").Coordinate|Array<import(\"../coordinate.js\").Coordinate>|Array<Array<import(\"../coordinate.js\").Coordinate>>),import(\"../render.js\").State): void} RenderFunction\n */\n/**\n * @typedef {Object} Options\n * @property {string|import(\"../geom/Geometry.js\").default|GeometryFunction} [geometry] Feature property or geometry\n * or function returning a geometry to render for this style.\n * @property {import(\"./Fill.js\").default} [fill] Fill style.\n * @property {import(\"./Image.js\").default} [image] Image style.\n * @property {RenderFunction} [renderer] Custom renderer. When configured, `fill`, `stroke` and `image` will be\n * ignored, and the provided function will be called with each render frame for each geometry.\n * @property {RenderFunction} [hitDetectionRenderer] Custom renderer for hit detection. If provided will be used\n * in hit detection rendering.\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Text.js\").default} [text] Text style.\n * @property {number} [zIndex] Z index.\n */\n/**\n * @classdesc\n * Container for vector feature rendering styles. Any changes made to the style\n * or its children through `set*()` methods will not take effect until the\n * feature or layer that uses the style is re-rendered.\n *\n * ## Feature styles\n *\n * If no style is defined, the following default style is used:\n * ```js\n *  import {Circle, Fill, Stroke, Style} from 'ol/style';\n *\n *  const fill = new Fill({\n *    color: 'rgba(255,255,255,0.4)',\n *  });\n *  const stroke = new Stroke({\n *    color: '#3399CC',\n *    width: 1.25,\n *  });\n *  const styles = [\n *    new Style({\n *      image: new Circle({\n *        fill: fill,\n *        stroke: stroke,\n *        radius: 5,\n *      }),\n *      fill: fill,\n *      stroke: stroke,\n *    }),\n *  ];\n * ```\n *\n * A separate editing style has the following defaults:\n * ```js\n *  import {Circle, Fill, Stroke, Style} from 'ol/style';\n *\n *  const styles = {};\n *  const white = [255, 255, 255, 1];\n *  const blue = [0, 153, 255, 1];\n *  const width = 3;\n *  styles['Polygon'] = [\n *    new Style({\n *      fill: new Fill({\n *        color: [255, 255, 255, 0.5],\n *      }),\n *    }),\n *  ];\n *  styles['MultiPolygon'] =\n *      styles['Polygon'];\n *  styles['LineString'] = [\n *    new Style({\n *      stroke: new Stroke({\n *        color: white,\n *        width: width + 2,\n *      }),\n *    }),\n *    new Style({\n *      stroke: new Stroke({\n *        color: blue,\n *        width: width,\n *      }),\n *    }),\n *  ];\n *  styles['MultiLineString'] = styles['LineString'];\n *\n *  styles['Circle'] = styles['Polygon'].concat(\n *    styles['LineString']\n *  );\n *\n *  styles['Point'] = [\n *    new Style({\n *      image: new Circle({\n *        radius: width * 2,\n *        fill: new Fill({\n *          color: blue,\n *        }),\n *        stroke: new Stroke({\n *          color: white,\n *          width: width / 2,\n *        }),\n *      }),\n *      zIndex: Infinity,\n *    }),\n *  ];\n *  styles['MultiPoint'] =\n *      styles['Point'];\n *  styles['GeometryCollection'] =\n *      styles['Polygon'].concat(\n *          styles['LineString'],\n *          styles['Point']\n *      );\n * ```\n *\n * @api\n */\nvar Style = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Style options.\n     */\n    function Style(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n         */\n        this.geometry_ = null;\n        /**\n         * @private\n         * @type {!GeometryFunction}\n         */\n        this.geometryFunction_ = defaultGeometryFunction;\n        if (options.geometry !== undefined) {\n            this.setGeometry(options.geometry);\n        }\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ = options.fill !== undefined ? options.fill : null;\n        /**\n         * @private\n         * @type {import(\"./Image.js\").default}\n         */\n        this.image_ = options.image !== undefined ? options.image : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.renderer_ = options.renderer !== undefined ? options.renderer : null;\n        /**\n         * @private\n         * @type {RenderFunction|null}\n         */\n        this.hitDetectionRenderer_ =\n            options.hitDetectionRenderer !== undefined\n                ? options.hitDetectionRenderer\n                : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {import(\"./Text.js\").default}\n         */\n        this.text_ = options.text !== undefined ? options.text : null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.zIndex_ = options.zIndex;\n    }\n    /**\n     * Clones the style.\n     * @return {Style} The cloned style.\n     * @api\n     */\n    Style.prototype.clone = function () {\n        var geometry = this.getGeometry();\n        if (geometry && typeof geometry === 'object') {\n            geometry = /** @type {import(\"../geom/Geometry.js\").default} */ (geometry).clone();\n        }\n        return new Style({\n            geometry: geometry,\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            image: this.getImage() ? this.getImage().clone() : undefined,\n            renderer: this.getRenderer(),\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            text: this.getText() ? this.getText().clone() : undefined,\n            zIndex: this.getZIndex(),\n        });\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setRenderer} or the `renderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Sets a custom renderer function for this style. When set, `fill`, `stroke`\n     * and `image` options of the style will be ignored.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setRenderer = function (renderer) {\n        this.renderer_ = renderer;\n    };\n    /**\n     * Sets a custom renderer function for this style used\n     * in hit detection.\n     * @param {RenderFunction|null} renderer Custom renderer function.\n     * @api\n     */\n    Style.prototype.setHitDetectionRenderer = function (renderer) {\n        this.hitDetectionRenderer_ = renderer;\n    };\n    /**\n     * Get the custom renderer function that was configured with\n     * {@link #setHitDetectionRenderer} or the `hitDetectionRenderer` constructor option.\n     * @return {RenderFunction|null} Custom renderer function.\n     * @api\n     */\n    Style.prototype.getHitDetectionRenderer = function () {\n        return this.hitDetectionRenderer_;\n    };\n    /**\n     * Get the geometry to be rendered.\n     * @return {string|import(\"../geom/Geometry.js\").default|GeometryFunction}\n     * Feature property or geometry or function that returns the geometry that will\n     * be rendered with this style.\n     * @api\n     */\n    Style.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    /**\n     * Get the function used to generate a geometry for rendering.\n     * @return {!GeometryFunction} Function that is called with a feature\n     * and returns the geometry to render instead of the feature's geometry.\n     * @api\n     */\n    Style.prototype.getGeometryFunction = function () {\n        return this.geometryFunction_;\n    };\n    /**\n     * Get the fill style.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Style.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Set the fill style.\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Style.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Get the image style.\n     * @return {import(\"./Image.js\").default} Image style.\n     * @api\n     */\n    Style.prototype.getImage = function () {\n        return this.image_;\n    };\n    /**\n     * Set the image style.\n     * @param {import(\"./Image.js\").default} image Image style.\n     * @api\n     */\n    Style.prototype.setImage = function (image) {\n        this.image_ = image;\n    };\n    /**\n     * Get the stroke style.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Style.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Set the stroke style.\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Style.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Get the text style.\n     * @return {import(\"./Text.js\").default} Text style.\n     * @api\n     */\n    Style.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Set the text style.\n     * @param {import(\"./Text.js\").default} text Text style.\n     * @api\n     */\n    Style.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Get the z-index for the style.\n     * @return {number|undefined} ZIndex.\n     * @api\n     */\n    Style.prototype.getZIndex = function () {\n        return this.zIndex_;\n    };\n    /**\n     * Set a geometry that is rendered instead of the feature's geometry.\n     *\n     * @param {string|import(\"../geom/Geometry.js\").default|GeometryFunction} geometry\n     *     Feature property or geometry or function returning a geometry to render\n     *     for this style.\n     * @api\n     */\n    Style.prototype.setGeometry = function (geometry) {\n        if (typeof geometry === 'function') {\n            this.geometryFunction_ = geometry;\n        }\n        else if (typeof geometry === 'string') {\n            this.geometryFunction_ = function (feature) {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (feature.get(geometry));\n            };\n        }\n        else if (!geometry) {\n            this.geometryFunction_ = defaultGeometryFunction;\n        }\n        else if (geometry !== undefined) {\n            this.geometryFunction_ = function () {\n                return /** @type {import(\"../geom/Geometry.js\").default} */ (geometry);\n            };\n        }\n        this.geometry_ = geometry;\n    };\n    /**\n     * Set the z-index.\n     *\n     * @param {number|undefined} zIndex ZIndex.\n     * @api\n     */\n    Style.prototype.setZIndex = function (zIndex) {\n        this.zIndex_ = zIndex;\n    };\n    return Style;\n}());\n/**\n * Convert the provided object into a style function.  Functions passed through\n * unchanged.  Arrays of Style or single style objects wrapped in a\n * new style function.\n * @param {StyleFunction|Array<Style>|Style} obj\n *     A style function, a single style, or an array of styles.\n * @return {StyleFunction} A style function.\n */\nexport function toFunction(obj) {\n    var styleFunction;\n    if (typeof obj === 'function') {\n        styleFunction = obj;\n    }\n    else {\n        /**\n         * @type {Array<Style>}\n         */\n        var styles_1;\n        if (Array.isArray(obj)) {\n            styles_1 = obj;\n        }\n        else {\n            assert(typeof ( /** @type {?} */(obj).getZIndex) === 'function', 41); // Expected an `Style` or an array of `Style`\n            var style = /** @type {Style} */ (obj);\n            styles_1 = [style];\n        }\n        styleFunction = function () {\n            return styles_1;\n        };\n    }\n    return styleFunction;\n}\n/**\n * @type {Array<Style>|null}\n */\nvar defaultStyles = null;\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {number} resolution Resolution.\n * @return {Array<Style>} Style.\n */\nexport function createDefaultStyle(feature, resolution) {\n    // We don't use an immediately-invoked function\n    // and a closure so we don't get an error at script evaluation time in\n    // browsers that do not support Canvas. (import(\"./Circle.js\").CircleStyle does\n    // canvas.getContext('2d') at construction time, which will cause an.error\n    // in such browsers.)\n    if (!defaultStyles) {\n        var fill = new Fill({\n            color: 'rgba(255,255,255,0.4)',\n        });\n        var stroke = new Stroke({\n            color: '#3399CC',\n            width: 1.25,\n        });\n        defaultStyles = [\n            new Style({\n                image: new CircleStyle({\n                    fill: fill,\n                    stroke: stroke,\n                    radius: 5,\n                }),\n                fill: fill,\n                stroke: stroke,\n            }),\n        ];\n    }\n    return defaultStyles;\n}\n/**\n * Default styles for editing features.\n * @return {Object<import(\"../geom/Geometry.js\").Type, Array<Style>>} Styles\n */\nexport function createEditingStyle() {\n    /** @type {Object<import(\"../geom/Geometry.js\").Type, Array<Style>>} */\n    var styles = {};\n    var white = [255, 255, 255, 1];\n    var blue = [0, 153, 255, 1];\n    var width = 3;\n    styles['Polygon'] = [\n        new Style({\n            fill: new Fill({\n                color: [255, 255, 255, 0.5],\n            }),\n        }),\n    ];\n    styles['MultiPolygon'] = styles['Polygon'];\n    styles['LineString'] = [\n        new Style({\n            stroke: new Stroke({\n                color: white,\n                width: width + 2,\n            }),\n        }),\n        new Style({\n            stroke: new Stroke({\n                color: blue,\n                width: width,\n            }),\n        }),\n    ];\n    styles['MultiLineString'] = styles['LineString'];\n    styles['Circle'] = styles['Polygon'].concat(styles['LineString']);\n    styles['Point'] = [\n        new Style({\n            image: new CircleStyle({\n                radius: width * 2,\n                fill: new Fill({\n                    color: blue,\n                }),\n                stroke: new Stroke({\n                    color: white,\n                    width: width / 2,\n                }),\n            }),\n            zIndex: Infinity,\n        }),\n    ];\n    styles['MultiPoint'] = styles['Point'];\n    styles['GeometryCollection'] = styles['Polygon'].concat(styles['LineString'], styles['Point']);\n    return styles;\n}\n/**\n * Function that is called with a feature and returns its default geometry.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature to get the geometry for.\n * @return {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default|undefined} Geometry to render.\n */\nfunction defaultGeometryFunction(feature) {\n    return feature.getGeometry();\n}\nexport default Style;\n//# sourceMappingURL=Style.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseVector\n */\nimport Layer from './Layer.js';\nimport RBush from 'rbush';\nimport { assign } from '../obj.js';\nimport { createDefaultStyle, toFunction as toStyleFunction, } from '../style/Style.js';\n/**\n * @template {import(\"../source/Vector.js\").default|import(\"../source/VectorTile.js\").default} VectorSourceType\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n * renderer when getting features from the vector source for the rendering or hit-detection.\n * Recommended value: the size of the largest symbol, line width or label.\n * @property {VectorSourceType} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles of all Vector and VectorTile layers that have set this to `true`. The priority\n * is defined by the z-index of the layer, the `zIndex` of the style and the render order of features.\n * Higher z-index means higher priority. Within the same z-index, a feature rendered before another has\n * higher priority.\n *\n * As an optimization decluttered features from layers with the same `className` are rendered above\n * the fill and stroke styles of all of those layers regardless of z-index.  To opt out of this\n * behavior and place declutterd features with their own layer configure the layer with a `className`\n * other than `ol-layer`.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style] Layer style. When set to `null`, only\n * features that have their own style will be rendered. See {@link module:ol/style/Style~Style} for the default style\n * which will be used if this is not set.\n * @property {import(\"./Base.js\").BackgroundColor} [background] Background color for the layer. If not specified, no background\n * will be rendered.\n * @property {boolean} [updateWhileAnimating=false] When set to `true`, feature batches will\n * be recreated during animations. This means that no vectors will be shown clipped, but the\n * setting will have a performance impact for large amounts of vector data. When set to `false`,\n * batches will be recreated when no animation is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true`, feature batches will\n * be recreated during interactions. See also `updateWhileAnimating`.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    RENDER_ORDER: 'renderOrder',\n};\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Vector.js\").default|import(\"../source/VectorTile.js\").default} VectorSourceType\n * @template {import(\"../renderer/canvas/VectorLayer.js\").default|import(\"../renderer/canvas/VectorTileLayer.js\").default|import(\"../renderer/canvas/VectorImageLayer.js\").default|import(\"../renderer/webgl/PointsLayer.js\").default} RendererType\n * @extends {Layer<VectorSourceType, RendererType>}\n * @api\n */\nvar BaseVectorLayer = /** @class */ (function (_super) {\n    __extends(BaseVectorLayer, _super);\n    /**\n     * @param {Options<VectorSourceType>} [opt_options] Options.\n     */\n    function BaseVectorLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.style;\n        delete baseOptions.renderBuffer;\n        delete baseOptions.updateWhileAnimating;\n        delete baseOptions.updateWhileInteracting;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.declutter_ =\n            options.declutter !== undefined ? options.declutter : false;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.renderBuffer_ =\n            options.renderBuffer !== undefined ? options.renderBuffer : 100;\n        /**\n         * User provided style.\n         * @type {import(\"../style/Style.js\").StyleLike}\n         * @private\n         */\n        _this.style_ = null;\n        /**\n         * Style function for use within the library.\n         * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n         * @private\n         */\n        _this.styleFunction_ = undefined;\n        _this.setStyle(options.style);\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileAnimating_ =\n            options.updateWhileAnimating !== undefined\n                ? options.updateWhileAnimating\n                : false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.updateWhileInteracting_ =\n            options.updateWhileInteracting !== undefined\n                ? options.updateWhileInteracting\n                : false;\n        return _this;\n    }\n    /**\n     * @return {boolean} Declutter.\n     */\n    BaseVectorLayer.prototype.getDeclutter = function () {\n        return this.declutter_;\n    };\n    /**\n     * Get the topmost feature that intersects the given pixel on the viewport. Returns a promise\n     * that resolves with an array of features. The array will either contain the topmost feature\n     * when a hit was detected, or it will be empty.\n     *\n     * The hit detection algorithm used for this method is optimized for performance, but is less\n     * accurate than the one used in {@link import(\"../PluggableMap.js\").default#getFeaturesAtPixel}: Text\n     * is not considered, and icons are only represented by their bounding box instead of the exact\n     * image.\n     *\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with an array of features.\n     * @api\n     */\n    BaseVectorLayer.prototype.getFeatures = function (pixel) {\n        return _super.prototype.getFeatures.call(this, pixel);\n    };\n    /**\n     * @return {number|undefined} Render buffer.\n     */\n    BaseVectorLayer.prototype.getRenderBuffer = function () {\n        return this.renderBuffer_;\n    };\n    /**\n     * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n     *     order.\n     */\n    BaseVectorLayer.prototype.getRenderOrder = function () {\n        return /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property.RENDER_ORDER));\n    };\n    /**\n     * Get the style for features.  This returns whatever was passed to the `style`\n     * option at construction or to the `setStyle` method.\n     * @return {import(\"../style/Style.js\").StyleLike|null|undefined} Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyle = function () {\n        return this.style_;\n    };\n    /**\n     * Get the style function.\n     * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n     * @api\n     */\n    BaseVectorLayer.prototype.getStyleFunction = function () {\n        return this.styleFunction_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     animating.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileAnimating = function () {\n        return this.updateWhileAnimating_;\n    };\n    /**\n     * @return {boolean} Whether the rendered layer should be updated while\n     *     interacting.\n     */\n    BaseVectorLayer.prototype.getUpdateWhileInteracting = function () {\n        return this.updateWhileInteracting_;\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    BaseVectorLayer.prototype.renderDeclutter = function (frameState) {\n        if (!frameState.declutterTree) {\n            frameState.declutterTree = new RBush(9);\n        }\n        /** @type {*} */ (this.getRenderer()).renderDeclutter(frameState);\n    };\n    /**\n     * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n     *     Render order.\n     */\n    BaseVectorLayer.prototype.setRenderOrder = function (renderOrder) {\n        this.set(Property.RENDER_ORDER, renderOrder);\n    };\n    /**\n     * Set the style for features.  This can be a single style object, an array\n     * of styles, or a function that takes a feature and resolution and returns\n     * an array of styles. If set to `null`, the layer has no style (a `null` style),\n     * so only features that have their own styles will be rendered in the layer. Call\n     * `setStyle()` without arguments to reset to the default style. See\n     * {@link module:ol/style/Style~Style} for information on the default style.\n     * @param {import(\"../style/Style.js\").StyleLike|null} [opt_style] Layer style.\n     * @api\n     */\n    BaseVectorLayer.prototype.setStyle = function (opt_style) {\n        this.style_ = opt_style !== undefined ? opt_style : createDefaultStyle;\n        this.styleFunction_ =\n            opt_style === null ? undefined : toStyleFunction(this.style_);\n        this.changed();\n    };\n    return BaseVectorLayer;\n}(Layer));\nexport default BaseVectorLayer;\n//# sourceMappingURL=BaseVector.js.map","/**\n * @module ol/render/canvas/Instruction\n */\n/**\n * @enum {number}\n */\nvar Instruction = {\n    BEGIN_GEOMETRY: 0,\n    BEGIN_PATH: 1,\n    CIRCLE: 2,\n    CLOSE_PATH: 3,\n    CUSTOM: 4,\n    DRAW_CHARS: 5,\n    DRAW_IMAGE: 6,\n    END_GEOMETRY: 7,\n    FILL: 8,\n    MOVE_TO_LINE_TO: 9,\n    SET_FILL_STYLE: 10,\n    SET_STROKE_STYLE: 11,\n    STROKE: 12,\n};\n/**\n * @type {Array<Instruction>}\n */\nexport var fillInstruction = [Instruction.FILL];\n/**\n * @type {Array<Instruction>}\n */\nexport var strokeInstruction = [Instruction.STROKE];\n/**\n * @type {Array<Instruction>}\n */\nexport var beginPathInstruction = [Instruction.BEGIN_PATH];\n/**\n * @type {Array<Instruction>}\n */\nexport var closePathInstruction = [Instruction.CLOSE_PATH];\nexport default Instruction;\n//# sourceMappingURL=Instruction.js.map","/**\n * @module ol/render/VectorContext\n */\n/**\n * @classdesc\n * Context for drawing geometries.  A vector context is available on render\n * events and does not need to be constructed directly.\n * @api\n */\nvar VectorContext = /** @class */ (function () {\n    function VectorContext() {\n    }\n    /**\n     * Render a geometry with a custom renderer.\n     *\n     * @param {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     * @param {Function} hitDetectionRenderer Renderer.\n     */\n    VectorContext.prototype.drawCustom = function (geometry, feature, renderer, hitDetectionRenderer) { };\n    /**\n     * Render a geometry.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry The geometry to render.\n     */\n    VectorContext.prototype.drawGeometry = function (geometry) { };\n    /**\n     * Set the rendering style.\n     *\n     * @param {import(\"../style/Style.js\").default} style The rendering style.\n     */\n    VectorContext.prototype.setStyle = function (style) { };\n    /**\n     * @param {import(\"../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawCircle = function (circleGeometry, feature) { };\n    /**\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"../style/Style.js\").default} style Style.\n     */\n    VectorContext.prototype.drawFeature = function (feature, style) { };\n    /**\n     * @param {import(\"../geom/GeometryCollection.js\").default} geometryCollectionGeometry Geometry collection.\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     */\n    VectorContext.prototype.drawGeometryCollection = function (geometryCollectionGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/LineString.js\").default|import(\"./Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawLineString = function (lineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiLineString.js\").default|import(\"./Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPoint.js\").default|import(\"./Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPoint = function (multiPointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Point.js\").default|import(\"./Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPoint = function (pointGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/Polygon.js\").default|import(\"./Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawPolygon = function (polygonGeometry, feature) { };\n    /**\n     * @param {import(\"../geom/SimpleGeometry.js\").default|import(\"./Feature.js\").default} geometry Geometry.\n     * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n     */\n    VectorContext.prototype.drawText = function (geometry, feature) { };\n    /**\n     * @param {import(\"../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    VectorContext.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) { };\n    /**\n     * @param {import(\"../style/Image.js\").default} imageStyle Image style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText} [opt_declutterImageWithText] Shared data for combined decluttering with a text style.\n     */\n    VectorContext.prototype.setImageStyle = function (imageStyle, opt_declutterImageWithText) { };\n    /**\n     * @param {import(\"../style/Text.js\").default} textStyle Text style.\n     * @param {import(\"../render/canvas.js\").DeclutterImageWithText} [opt_declutterImageWithText] Shared data for combined decluttering with an image style.\n     */\n    VectorContext.prototype.setTextStyle = function (textStyle, opt_declutterImageWithText) { };\n    return VectorContext;\n}());\nexport default VectorContext;\n//# sourceMappingURL=VectorContext.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/Builder\n */\nimport CanvasInstruction from './Instruction.js';\nimport Relationship from '../../extent/Relationship.js';\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { buffer, clone, containsCoordinate, coordinateRelationship, } from '../../extent.js';\nimport { defaultFillStyle, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, } from '../canvas.js';\nimport { equals, reverseSubArray } from '../../array.js';\nimport { inflateCoordinates, inflateCoordinatesArray, inflateMultiCoordinatesArray, } from '../../geom/flat/inflate.js';\nvar CanvasBuilder = /** @class */ (function (_super) {\n    __extends(CanvasBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this) || this;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.tolerance = tolerance;\n        /**\n         * @protected\n         * @const\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.maxExtent = maxExtent;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @type {number}\n         */\n        _this.maxLineWidth = 0;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        _this.resolution = resolution;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction1_ = null;\n        /**\n         * @private\n         * @type {Array<*>}\n         */\n        _this.beginGeometryInstruction2_ = null;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.bufferedMaxExtent_ = null;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.instructions = [];\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        _this.coordinates = [];\n        /**\n         * @private\n         * @type {import(\"../../coordinate.js\").Coordinate}\n         */\n        _this.tmpCoordinate_ = [];\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        _this.hitDetectionInstructions = [];\n        /**\n         * @protected\n         * @type {import(\"../canvas.js\").FillStrokeState}\n         */\n        _this.state = /** @type {import(\"../canvas.js\").FillStrokeState} */ ({});\n        return _this;\n    }\n    /**\n     * @protected\n     * @param {Array<number>} dashArray Dash array.\n     * @return {Array<number>} Dash array with pixel ratio applied\n     */\n    CanvasBuilder.prototype.applyPixelRatio = function (dashArray) {\n        var pixelRatio = this.pixelRatio;\n        return pixelRatio == 1\n            ? dashArray\n            : dashArray.map(function (dash) {\n                return dash * pixelRatio;\n            });\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} stride Stride.\n     * @protected\n     * @return {number} My end\n     */\n    CanvasBuilder.prototype.appendFlatPointCoordinates = function (flatCoordinates, stride) {\n        var extent = this.getBufferedMaxExtent();\n        var tmpCoord = this.tmpCoordinate_;\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        for (var i = 0, ii = flatCoordinates.length; i < ii; i += stride) {\n            tmpCoord[0] = flatCoordinates[i];\n            tmpCoord[1] = flatCoordinates[i + 1];\n            if (containsCoordinate(extent, tmpCoord)) {\n                coordinates[myEnd++] = tmpCoord[0];\n                coordinates[myEnd++] = tmpCoord[1];\n            }\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} closed Last input coordinate equals first.\n     * @param {boolean} skipFirst Skip first coordinate.\n     * @protected\n     * @return {number} My end.\n     */\n    CanvasBuilder.prototype.appendFlatLineCoordinates = function (flatCoordinates, offset, end, stride, closed, skipFirst) {\n        var coordinates = this.coordinates;\n        var myEnd = coordinates.length;\n        var extent = this.getBufferedMaxExtent();\n        if (skipFirst) {\n            offset += stride;\n        }\n        var lastXCoord = flatCoordinates[offset];\n        var lastYCoord = flatCoordinates[offset + 1];\n        var nextCoord = this.tmpCoordinate_;\n        var skipped = true;\n        var i, lastRel, nextRel;\n        for (i = offset + stride; i < end; i += stride) {\n            nextCoord[0] = flatCoordinates[i];\n            nextCoord[1] = flatCoordinates[i + 1];\n            nextRel = coordinateRelationship(extent, nextCoord);\n            if (nextRel !== lastRel) {\n                if (skipped) {\n                    coordinates[myEnd++] = lastXCoord;\n                    coordinates[myEnd++] = lastYCoord;\n                    skipped = false;\n                }\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n            }\n            else if (nextRel === Relationship.INTERSECTING) {\n                coordinates[myEnd++] = nextCoord[0];\n                coordinates[myEnd++] = nextCoord[1];\n                skipped = false;\n            }\n            else {\n                skipped = true;\n            }\n            lastXCoord = nextCoord[0];\n            lastYCoord = nextCoord[1];\n            lastRel = nextRel;\n        }\n        // Last coordinate equals first or only one point to append:\n        if ((closed && skipped) || i === offset + stride) {\n            coordinates[myEnd++] = lastXCoord;\n            coordinates[myEnd++] = lastYCoord;\n        }\n        return myEnd;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @param {Array<number>} builderEnds Builder ends.\n     * @return {number} Offset.\n     */\n    CanvasBuilder.prototype.drawCustomCoordinates_ = function (flatCoordinates, offset, ends, stride, builderEnds) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            var end = ends[i];\n            var builderEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n            builderEnds.push(builderEnd);\n            offset = end;\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {Function} renderer Renderer.\n     * @param {Function} hitDetectionRenderer Renderer.\n     */\n    CanvasBuilder.prototype.drawCustom = function (geometry, feature, renderer, hitDetectionRenderer) {\n        this.beginGeometry(geometry, feature);\n        var type = geometry.getType();\n        var stride = geometry.getStride();\n        var builderBegin = this.coordinates.length;\n        var flatCoordinates, builderEnd, builderEnds, builderEndss;\n        var offset;\n        switch (type) {\n            case 'MultiPolygon':\n                flatCoordinates =\n                    /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getOrientedFlatCoordinates();\n                builderEndss = [];\n                var endss = \n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n                offset = 0;\n                for (var i = 0, ii = endss.length; i < ii; ++i) {\n                    var myEnds = [];\n                    offset = this.drawCustomCoordinates_(flatCoordinates, offset, endss[i], stride, myEnds);\n                    builderEndss.push(myEnds);\n                }\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEndss,\n                    geometry,\n                    renderer,\n                    inflateMultiCoordinatesArray,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEndss,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateMultiCoordinatesArray,\n                ]);\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                builderEnds = [];\n                flatCoordinates =\n                    type == 'Polygon'\n                        ? /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getOrientedFlatCoordinates()\n                        : geometry.getFlatCoordinates();\n                offset = this.drawCustomCoordinates_(flatCoordinates, 0, \n                /** @type {import(\"../../geom/Polygon.js\").default|import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds(), stride, builderEnds);\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnds,\n                    geometry,\n                    renderer,\n                    inflateCoordinatesArray,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnds,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateCoordinatesArray,\n                ]);\n                break;\n            case 'LineString':\n            case 'Circle':\n                flatCoordinates = geometry.getFlatCoordinates();\n                builderEnd = this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    renderer,\n                    inflateCoordinates,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                    inflateCoordinates,\n                ]);\n                break;\n            case 'MultiPoint':\n                flatCoordinates = geometry.getFlatCoordinates();\n                builderEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n                if (builderEnd > builderBegin) {\n                    this.instructions.push([\n                        CanvasInstruction.CUSTOM,\n                        builderBegin,\n                        builderEnd,\n                        geometry,\n                        renderer,\n                        inflateCoordinates,\n                    ]);\n                    this.hitDetectionInstructions.push([\n                        CanvasInstruction.CUSTOM,\n                        builderBegin,\n                        builderEnd,\n                        geometry,\n                        hitDetectionRenderer || renderer,\n                        inflateCoordinates,\n                    ]);\n                }\n                break;\n            case 'Point':\n                flatCoordinates = geometry.getFlatCoordinates();\n                this.coordinates.push(flatCoordinates[0], flatCoordinates[1]);\n                builderEnd = this.coordinates.length;\n                this.instructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    renderer,\n                ]);\n                this.hitDetectionInstructions.push([\n                    CanvasInstruction.CUSTOM,\n                    builderBegin,\n                    builderEnd,\n                    geometry,\n                    hitDetectionRenderer || renderer,\n                ]);\n                break;\n            default:\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @protected\n     * @param {import(\"../../geom/Geometry\").default|import(\"../Feature.js\").default} geometry The geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.beginGeometry = function (geometry, feature) {\n        this.beginGeometryInstruction1_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.instructions.push(this.beginGeometryInstruction1_);\n        this.beginGeometryInstruction2_ = [\n            CanvasInstruction.BEGIN_GEOMETRY,\n            feature,\n            0,\n            geometry,\n        ];\n        this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasBuilder.prototype.finish = function () {\n        return {\n            instructions: this.instructions,\n            hitDetectionInstructions: this.hitDetectionInstructions,\n            coordinates: this.coordinates,\n        };\n    };\n    /**\n     * Reverse the hit detection instructions.\n     */\n    CanvasBuilder.prototype.reverseHitDetectionInstructions = function () {\n        var hitDetectionInstructions = this.hitDetectionInstructions;\n        // step 1 - reverse array\n        hitDetectionInstructions.reverse();\n        // step 2 - reverse instructions within geometry blocks\n        var i;\n        var n = hitDetectionInstructions.length;\n        var instruction;\n        var type;\n        var begin = -1;\n        for (i = 0; i < n; ++i) {\n            instruction = hitDetectionInstructions[i];\n            type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            if (type == CanvasInstruction.END_GEOMETRY) {\n                begin = i;\n            }\n            else if (type == CanvasInstruction.BEGIN_GEOMETRY) {\n                instruction[2] = i;\n                reverseSubArray(this.hitDetectionInstructions, begin, i);\n                begin = -1;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasBuilder.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        var state = this.state;\n        if (fillStyle) {\n            var fillStyleColor = fillStyle.getColor();\n            state.fillStyle = asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle);\n        }\n        else {\n            state.fillStyle = undefined;\n        }\n        if (strokeStyle) {\n            var strokeStyleColor = strokeStyle.getColor();\n            state.strokeStyle = asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle);\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            state.lineCap =\n                strokeStyleLineCap !== undefined ? strokeStyleLineCap : defaultLineCap;\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            state.lineDash = strokeStyleLineDash\n                ? strokeStyleLineDash.slice()\n                : defaultLineDash;\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            state.lineDashOffset = strokeStyleLineDashOffset\n                ? strokeStyleLineDashOffset\n                : defaultLineDashOffset;\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            state.lineJoin =\n                strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin;\n            var strokeStyleWidth = strokeStyle.getWidth();\n            state.lineWidth =\n                strokeStyleWidth !== undefined ? strokeStyleWidth : defaultLineWidth;\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            state.miterLimit =\n                strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit;\n            if (state.lineWidth > this.maxLineWidth) {\n                this.maxLineWidth = state.lineWidth;\n                // invalidate the buffered max extent cache\n                this.bufferedMaxExtent_ = null;\n            }\n        }\n        else {\n            state.strokeStyle = undefined;\n            state.lineCap = undefined;\n            state.lineDash = null;\n            state.lineDashOffset = undefined;\n            state.lineJoin = undefined;\n            state.lineWidth = undefined;\n            state.miterLimit = undefined;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Fill instruction.\n     */\n    CanvasBuilder.prototype.createFill = function (state) {\n        var fillStyle = state.fillStyle;\n        /** @type {Array<*>} */\n        var fillInstruction = [CanvasInstruction.SET_FILL_STYLE, fillStyle];\n        if (typeof fillStyle !== 'string') {\n            // Fill is a pattern or gradient - align it!\n            fillInstruction.push(true);\n        }\n        return fillInstruction;\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasBuilder.prototype.applyStroke = function (state) {\n        this.instructions.push(this.createStroke(state));\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @return {Array<*>} Stroke instruction.\n     */\n    CanvasBuilder.prototype.createStroke = function (state) {\n        return [\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth * this.pixelRatio,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            this.applyPixelRatio(state.lineDash),\n            state.lineDashOffset * this.pixelRatio,\n        ];\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState):Array<*>} createFill Create fill.\n     */\n    CanvasBuilder.prototype.updateFillStyle = function (state, createFill) {\n        var fillStyle = state.fillStyle;\n        if (typeof fillStyle !== 'string' || state.currentFillStyle != fillStyle) {\n            if (fillStyle !== undefined) {\n                this.instructions.push(createFill.call(this, state));\n            }\n            state.currentFillStyle = fillStyle;\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     * @param {function(this:CanvasBuilder, import(\"../canvas.js\").FillStrokeState): void} applyStroke Apply stroke.\n     */\n    CanvasBuilder.prototype.updateStrokeStyle = function (state, applyStroke) {\n        var strokeStyle = state.strokeStyle;\n        var lineCap = state.lineCap;\n        var lineDash = state.lineDash;\n        var lineDashOffset = state.lineDashOffset;\n        var lineJoin = state.lineJoin;\n        var lineWidth = state.lineWidth;\n        var miterLimit = state.miterLimit;\n        if (state.currentStrokeStyle != strokeStyle ||\n            state.currentLineCap != lineCap ||\n            (lineDash != state.currentLineDash &&\n                !equals(state.currentLineDash, lineDash)) ||\n            state.currentLineDashOffset != lineDashOffset ||\n            state.currentLineJoin != lineJoin ||\n            state.currentLineWidth != lineWidth ||\n            state.currentMiterLimit != miterLimit) {\n            if (strokeStyle !== undefined) {\n                applyStroke.call(this, state);\n            }\n            state.currentStrokeStyle = strokeStyle;\n            state.currentLineCap = lineCap;\n            state.currentLineDash = lineDash;\n            state.currentLineDashOffset = lineDashOffset;\n            state.currentLineJoin = lineJoin;\n            state.currentLineWidth = lineWidth;\n            state.currentMiterLimit = miterLimit;\n        }\n    };\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasBuilder.prototype.endGeometry = function (feature) {\n        this.beginGeometryInstruction1_[2] = this.instructions.length;\n        this.beginGeometryInstruction1_ = null;\n        this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length;\n        this.beginGeometryInstruction2_ = null;\n        var endGeometryInstruction = [CanvasInstruction.END_GEOMETRY, feature];\n        this.instructions.push(endGeometryInstruction);\n        this.hitDetectionInstructions.push(endGeometryInstruction);\n    };\n    /**\n     * Get the buffered rendering extent.  Rendering will be clipped to the extent\n     * provided to the constructor.  To account for symbolizers that may intersect\n     * this extent, we calculate a buffered extent (e.g. based on stroke width).\n     * @return {import(\"../../extent.js\").Extent} The buffered rendering extent.\n     * @protected\n     */\n    CanvasBuilder.prototype.getBufferedMaxExtent = function () {\n        if (!this.bufferedMaxExtent_) {\n            this.bufferedMaxExtent_ = clone(this.maxExtent);\n            if (this.maxLineWidth > 0) {\n                var width = (this.resolution * (this.maxLineWidth + 1)) / 2;\n                buffer(this.bufferedMaxExtent_, width, this.bufferedMaxExtent_);\n            }\n        }\n        return this.bufferedMaxExtent_;\n    };\n    return CanvasBuilder;\n}(VectorContext));\nexport default CanvasBuilder;\n//# sourceMappingURL=Builder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/ImageBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nvar CanvasImageBuilder = /** @class */ (function (_super) {\n    __extends(CanvasImageBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasImageBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.imagePixelRatio_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.anchorY_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.height_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.opacity_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originX_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.originY_ = undefined;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.rotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size|undefined}\n         */\n        _this.scale_ = undefined;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.width_ = undefined;\n        /**\n         * @private\n         * @type {\"declutter\"|\"obstacle\"|\"none\"|undefined}\n         */\n        _this.declutterMode_ = undefined;\n        /**\n         * Data shared with a text builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} pointGeometry Point geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawPoint = function (pointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(pointGeometry, feature);\n        var flatCoordinates = pointGeometry.getFlatCoordinates();\n        var stride = pointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_ * this.imagePixelRatio_,\n            this.originY_ * this.imagePixelRatio_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterMode_,\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterMode_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} multiPointGeometry MultiPoint geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasImageBuilder.prototype.drawMultiPoint = function (multiPointGeometry, feature) {\n        if (!this.image_) {\n            return;\n        }\n        this.beginGeometry(multiPointGeometry, feature);\n        var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n        var stride = multiPointGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatPointCoordinates(flatCoordinates, stride);\n        this.instructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.image_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_ * this.imagePixelRatio_,\n            this.anchorY_ * this.imagePixelRatio_,\n            Math.ceil(this.height_ * this.imagePixelRatio_),\n            this.opacity_,\n            this.originX_ * this.imagePixelRatio_,\n            this.originY_ * this.imagePixelRatio_,\n            this.rotateWithView_,\n            this.rotation_,\n            [\n                (this.scale_[0] * this.pixelRatio) / this.imagePixelRatio_,\n                (this.scale_[1] * this.pixelRatio) / this.imagePixelRatio_,\n            ],\n            Math.ceil(this.width_ * this.imagePixelRatio_),\n            this.declutterMode_,\n            this.declutterImageWithText_,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_IMAGE,\n            myBegin,\n            myEnd,\n            this.hitDetectionImage_,\n            // Remaining arguments to DRAW_IMAGE are in alphabetical order\n            this.anchorX_,\n            this.anchorY_,\n            this.height_,\n            this.opacity_,\n            this.originX_,\n            this.originY_,\n            this.rotateWithView_,\n            this.rotation_,\n            this.scale_,\n            this.width_,\n            this.declutterMode_,\n            this.declutterImageWithText_,\n        ]);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasImageBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        // FIXME this doesn't really protect us against further calls to draw*Geometry\n        this.anchorX_ = undefined;\n        this.anchorY_ = undefined;\n        this.hitDetectionImage_ = null;\n        this.image_ = null;\n        this.imagePixelRatio_ = undefined;\n        this.height_ = undefined;\n        this.scale_ = undefined;\n        this.opacity_ = undefined;\n        this.originX_ = undefined;\n        this.originY_ = undefined;\n        this.rotateWithView_ = undefined;\n        this.rotation_ = undefined;\n        this.width_ = undefined;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     * @param {Object} [opt_sharedData] Shared data.\n     */\n    CanvasImageBuilder.prototype.setImageStyle = function (imageStyle, opt_sharedData) {\n        var anchor = imageStyle.getAnchor();\n        var size = imageStyle.getSize();\n        var origin = imageStyle.getOrigin();\n        this.imagePixelRatio_ = imageStyle.getPixelRatio(this.pixelRatio);\n        this.anchorX_ = anchor[0];\n        this.anchorY_ = anchor[1];\n        this.hitDetectionImage_ = imageStyle.getHitDetectionImage();\n        this.image_ = imageStyle.getImage(this.pixelRatio);\n        this.height_ = size[1];\n        this.opacity_ = imageStyle.getOpacity();\n        this.originX_ = origin[0];\n        this.originY_ = origin[1];\n        this.rotateWithView_ = imageStyle.getRotateWithView();\n        this.rotation_ = imageStyle.getRotation();\n        this.scale_ = imageStyle.getScaleArray();\n        this.width_ = size[0];\n        this.declutterMode_ = imageStyle.getDeclutterMode();\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasImageBuilder;\n}(CanvasBuilder));\nexport default CanvasImageBuilder;\n//# sourceMappingURL=ImageBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/LineStringBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, strokeInstruction, } from './Instruction.js';\nimport { defaultLineDash, defaultLineDashOffset } from '../canvas.js';\nvar CanvasLineStringBuilder = /** @class */ (function (_super) {\n    __extends(CanvasLineStringBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasLineStringBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} end.\n     */\n    CanvasLineStringBuilder.prototype.drawFlatCoordinates_ = function (flatCoordinates, offset, end, stride) {\n        var myBegin = this.coordinates.length;\n        var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, false, false);\n        var moveToLineToInstruction = [\n            CanvasInstruction.MOVE_TO_LINE_TO,\n            myBegin,\n            myEnd,\n        ];\n        this.instructions.push(moveToLineToInstruction);\n        this.hitDetectionInstructions.push(moveToLineToInstruction);\n        return end;\n    };\n    /**\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} lineStringGeometry Line string geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawLineString = function (lineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(lineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            defaultLineDash,\n            defaultLineDashOffset,\n        ], beginPathInstruction);\n        var flatCoordinates = lineStringGeometry.getFlatCoordinates();\n        var stride = lineStringGeometry.getStride();\n        this.drawFlatCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} multiLineStringGeometry MultiLineString geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasLineStringBuilder.prototype.drawMultiLineString = function (multiLineStringGeometry, feature) {\n        var state = this.state;\n        var strokeStyle = state.strokeStyle;\n        var lineWidth = state.lineWidth;\n        if (strokeStyle === undefined || lineWidth === undefined) {\n            return;\n        }\n        this.updateStrokeStyle(state, this.applyStroke);\n        this.beginGeometry(multiLineStringGeometry, feature);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.SET_STROKE_STYLE,\n            state.strokeStyle,\n            state.lineWidth,\n            state.lineCap,\n            state.lineJoin,\n            state.miterLimit,\n            state.lineDash,\n            state.lineDashOffset,\n        ], beginPathInstruction);\n        var ends = multiLineStringGeometry.getEnds();\n        var flatCoordinates = multiLineStringGeometry.getFlatCoordinates();\n        var stride = multiLineStringGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinates_(flatCoordinates, offset, \n            /** @type {number} */ (ends[i]), stride);\n        }\n        this.hitDetectionInstructions.push(strokeInstruction);\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasLineStringBuilder.prototype.finish = function () {\n        var state = this.state;\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n        }\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillStrokeState} state State.\n     */\n    CanvasLineStringBuilder.prototype.applyStroke = function (state) {\n        if (state.lastStroke != undefined &&\n            state.lastStroke != this.coordinates.length) {\n            this.instructions.push(strokeInstruction);\n            state.lastStroke = this.coordinates.length;\n        }\n        state.lastStroke = 0;\n        _super.prototype.applyStroke.call(this, state);\n        this.instructions.push(beginPathInstruction);\n    };\n    return CanvasLineStringBuilder;\n}(CanvasBuilder));\nexport default CanvasLineStringBuilder;\n//# sourceMappingURL=LineStringBuilder.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/PolygonBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction, { beginPathInstruction, closePathInstruction, fillInstruction, strokeInstruction, } from './Instruction.js';\nimport { defaultFillStyle } from '../canvas.js';\nimport { snap } from '../../geom/flat/simplify.js';\nvar CanvasPolygonBuilder = /** @class */ (function (_super) {\n    __extends(CanvasPolygonBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasPolygonBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        return _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasPolygonBuilder.prototype.drawFlatCoordinatess_ = function (flatCoordinates, offset, ends, stride) {\n        var state = this.state;\n        var fill = state.fillStyle !== undefined;\n        var stroke = state.strokeStyle !== undefined;\n        var numEnds = ends.length;\n        this.instructions.push(beginPathInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction);\n        for (var i = 0; i < numEnds; ++i) {\n            var end = ends[i];\n            var myBegin = this.coordinates.length;\n            var myEnd = this.appendFlatLineCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\n            var moveToLineToInstruction = [\n                CanvasInstruction.MOVE_TO_LINE_TO,\n                myBegin,\n                myEnd,\n            ];\n            this.instructions.push(moveToLineToInstruction);\n            this.hitDetectionInstructions.push(moveToLineToInstruction);\n            if (stroke) {\n                // Performance optimization: only call closePath() when we have a stroke.\n                // Otherwise the ring is closed already (see appendFlatLineCoordinates above).\n                this.instructions.push(closePathInstruction);\n                this.hitDetectionInstructions.push(closePathInstruction);\n            }\n            offset = end;\n        }\n        if (fill) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (stroke) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        return offset;\n    };\n    /**\n     * @param {import(\"../../geom/Circle.js\").default} circleGeometry Circle geometry.\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawCircle = function (circleGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(circleGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var flatCoordinates = circleGeometry.getFlatCoordinates();\n        var stride = circleGeometry.getStride();\n        var myBegin = this.coordinates.length;\n        this.appendFlatLineCoordinates(flatCoordinates, 0, flatCoordinates.length, stride, false, false);\n        var circleInstruction = [CanvasInstruction.CIRCLE, myBegin];\n        this.instructions.push(beginPathInstruction, circleInstruction);\n        this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\n        if (state.fillStyle !== undefined) {\n            this.instructions.push(fillInstruction);\n            this.hitDetectionInstructions.push(fillInstruction);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.instructions.push(strokeInstruction);\n            this.hitDetectionInstructions.push(strokeInstruction);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} polygonGeometry Polygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawPolygon = function (polygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(polygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var ends = polygonGeometry.getEnds();\n        var flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\n        var stride = polygonGeometry.getStride();\n        this.drawFlatCoordinatess_(flatCoordinates, 0, \n        /** @type {Array<number>} */ (ends), stride);\n        this.endGeometry(feature);\n    };\n    /**\n     * @param {import(\"../../geom/MultiPolygon.js\").default} multiPolygonGeometry MultiPolygon geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasPolygonBuilder.prototype.drawMultiPolygon = function (multiPolygonGeometry, feature) {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        var strokeStyle = state.strokeStyle;\n        if (fillStyle === undefined && strokeStyle === undefined) {\n            return;\n        }\n        this.setFillStrokeStyles_();\n        this.beginGeometry(multiPolygonGeometry, feature);\n        if (state.fillStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_FILL_STYLE,\n                defaultFillStyle,\n            ]);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.SET_STROKE_STYLE,\n                state.strokeStyle,\n                state.lineWidth,\n                state.lineCap,\n                state.lineJoin,\n                state.miterLimit,\n                state.lineDash,\n                state.lineDashOffset,\n            ]);\n        }\n        var endss = multiPolygonGeometry.getEndss();\n        var flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\n        var stride = multiPolygonGeometry.getStride();\n        var offset = 0;\n        for (var i = 0, ii = endss.length; i < ii; ++i) {\n            offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\n        }\n        this.endGeometry(feature);\n    };\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasPolygonBuilder.prototype.finish = function () {\n        this.reverseHitDetectionInstructions();\n        this.state = null;\n        // We want to preserve topology when drawing polygons.  Polygons are\n        // simplified using quantization and point elimination. However, we might\n        // have received a mix of quantized and non-quantized geometries, so ensure\n        // that all are quantized by quantizing all coordinates in the batch.\n        var tolerance = this.tolerance;\n        if (tolerance !== 0) {\n            var coordinates = this.coordinates;\n            for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n                coordinates[i] = snap(coordinates[i], tolerance);\n            }\n        }\n        return _super.prototype.finish.call(this);\n    };\n    /**\n     * @private\n     */\n    CanvasPolygonBuilder.prototype.setFillStrokeStyles_ = function () {\n        var state = this.state;\n        var fillStyle = state.fillStyle;\n        if (fillStyle !== undefined) {\n            this.updateFillStyle(state, this.createFill);\n        }\n        if (state.strokeStyle !== undefined) {\n            this.updateStrokeStyle(state, this.applyStroke);\n        }\n    };\n    return CanvasPolygonBuilder;\n}(CanvasBuilder));\nexport default CanvasPolygonBuilder;\n//# sourceMappingURL=PolygonBuilder.js.map","/**\n * @module ol/geom/flat/straightchunk\n */\n/**\n * @param {number} maxAngle Maximum acceptable angle delta between segments.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Array<number>} Start and end of the first suitable chunk of the\n * given `flatCoordinates`.\n */\nexport function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n    var chunkStart = offset;\n    var chunkEnd = offset;\n    var chunkM = 0;\n    var m = 0;\n    var start = offset;\n    var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n    for (i = offset; i < end; i += stride) {\n        var x2 = flatCoordinates[i];\n        var y2 = flatCoordinates[i + 1];\n        if (x1 !== undefined) {\n            x23 = x2 - x1;\n            y23 = y2 - y1;\n            m23 = Math.sqrt(x23 * x23 + y23 * y23);\n            if (x12 !== undefined) {\n                m += m12;\n                acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n                if (acos > maxAngle) {\n                    if (m > chunkM) {\n                        chunkM = m;\n                        chunkStart = start;\n                        chunkEnd = i;\n                    }\n                    m = 0;\n                    start = i - stride;\n                }\n            }\n            m12 = m23;\n            x12 = x23;\n            y12 = y23;\n        }\n        x1 = x2;\n        y1 = y2;\n    }\n    m += m23;\n    return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n}\n//# sourceMappingURL=straightchunk.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/render/canvas/TextBuilder\n */\nimport CanvasBuilder from './Builder.js';\nimport CanvasInstruction from './Instruction.js';\nimport TextPlacement from '../../style/TextPlacement.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultPadding, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, registerFont, } from '../canvas.js';\nimport { getUid } from '../../util.js';\nimport { intersects } from '../../extent.js';\nimport { matchingChunk } from '../../geom/flat/straightchunk.js';\n/**\n * @const\n * @enum {number}\n */\nexport var TEXT_ALIGN = {\n    'left': 0,\n    'end': 0,\n    'center': 0.5,\n    'right': 1,\n    'start': 1,\n    'top': 0,\n    'middle': 0.5,\n    'hanging': 0.2,\n    'alphabetic': 0.8,\n    'ideographic': 0.8,\n    'bottom': 1,\n};\nvar CanvasTextBuilder = /** @class */ (function (_super) {\n    __extends(CanvasTextBuilder, _super);\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function CanvasTextBuilder(tolerance, maxExtent, resolution, pixelRatio) {\n        var _this = _super.call(this, tolerance, maxExtent, resolution, pixelRatio) || this;\n        /**\n         * @private\n         * @type {Array<HTMLCanvasElement>}\n         */\n        _this.labels_ = null;\n        /**\n         * @private\n         * @type {string|Array<string>}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.textRotateWithView_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        _this.fillStates = {};\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        _this.strokeStates = {};\n        /**\n         * @private\n         * @type {import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = /** @type {import(\"../canvas.js\").TextState} */ ({});\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        _this.textStates = {};\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.textKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.fillKey_ = '';\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.strokeKey_ = '';\n        /**\n         * Data shared with an image builder for combined decluttering.\n         * @private\n         * @type {import(\"../canvas.js\").DeclutterImageWithText}\n         */\n        _this.declutterImageWithText_ = undefined;\n        return _this;\n    }\n    /**\n     * @return {import(\"../canvas.js\").SerializableInstructions} the serializable instructions.\n     */\n    CanvasTextBuilder.prototype.finish = function () {\n        var instructions = _super.prototype.finish.call(this);\n        instructions.textStates = this.textStates;\n        instructions.fillStates = this.fillStates;\n        instructions.strokeStates = this.strokeStates;\n        return instructions;\n    };\n    /**\n     * @param {import(\"../../geom/SimpleGeometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     */\n    CanvasTextBuilder.prototype.drawText = function (geometry, feature) {\n        var fillState = this.textFillState_;\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        if (this.text_ === '' || !textState || (!fillState && !strokeState)) {\n            return;\n        }\n        var coordinates = this.coordinates;\n        var begin = coordinates.length;\n        var geometryType = geometry.getType();\n        var flatCoordinates = null;\n        var stride = geometry.getStride();\n        if (textState.placement === TextPlacement.LINE &&\n            (geometryType == 'LineString' ||\n                geometryType == 'MultiLineString' ||\n                geometryType == 'Polygon' ||\n                geometryType == 'MultiPolygon')) {\n            if (!intersects(this.getBufferedMaxExtent(), geometry.getExtent())) {\n                return;\n            }\n            var ends = void 0;\n            flatCoordinates = geometry.getFlatCoordinates();\n            if (geometryType == 'LineString') {\n                ends = [flatCoordinates.length];\n            }\n            else if (geometryType == 'MultiLineString') {\n                ends = /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getEnds();\n            }\n            else if (geometryType == 'Polygon') {\n                ends = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry)\n                    .getEnds()\n                    .slice(0, 1);\n            }\n            else if (geometryType == 'MultiPolygon') {\n                var endss = \n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getEndss();\n                ends = [];\n                for (var i = 0, ii = endss.length; i < ii; ++i) {\n                    ends.push(endss[i][0]);\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            var textAlign = textState.textAlign;\n            // No `justify` support for line placement.\n            var flatOffset = 0;\n            var flatEnd = void 0;\n            for (var o = 0, oo = ends.length; o < oo; ++o) {\n                if (textAlign == undefined) {\n                    var range = matchingChunk(textState.maxAngle, flatCoordinates, flatOffset, ends[o], stride);\n                    flatOffset = range[0];\n                    flatEnd = range[1];\n                }\n                else {\n                    flatEnd = ends[o];\n                }\n                for (var i = flatOffset; i < flatEnd; i += stride) {\n                    coordinates.push(flatCoordinates[i], flatCoordinates[i + 1]);\n                }\n                var end = coordinates.length;\n                flatOffset = ends[o];\n                this.drawChars_(begin, end);\n                begin = end;\n            }\n            this.endGeometry(feature);\n        }\n        else {\n            var geometryWidths = textState.overflow ? null : [];\n            switch (geometryType) {\n                case 'Point':\n                case 'MultiPoint':\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry).getFlatCoordinates();\n                    break;\n                case 'LineString':\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/LineString.js\").default} */ (geometry).getFlatMidpoint();\n                    break;\n                case 'Circle':\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/Circle.js\").default} */ (geometry).getCenter();\n                    break;\n                case 'MultiLineString':\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry).getFlatMidpoints();\n                    stride = 2;\n                    break;\n                case 'Polygon':\n                    flatCoordinates =\n                        /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry).getFlatInteriorPoint();\n                    if (!textState.overflow) {\n                        geometryWidths.push(flatCoordinates[2] / this.resolution);\n                    }\n                    stride = 3;\n                    break;\n                case 'MultiPolygon':\n                    var interiorPoints = \n                    /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry).getFlatInteriorPoints();\n                    flatCoordinates = [];\n                    for (var i = 0, ii = interiorPoints.length; i < ii; i += 3) {\n                        if (!textState.overflow) {\n                            geometryWidths.push(interiorPoints[i + 2] / this.resolution);\n                        }\n                        flatCoordinates.push(interiorPoints[i], interiorPoints[i + 1]);\n                    }\n                    if (flatCoordinates.length === 0) {\n                        return;\n                    }\n                    stride = 2;\n                    break;\n                default:\n            }\n            var end = this.appendFlatPointCoordinates(flatCoordinates, stride);\n            if (end === begin) {\n                return;\n            }\n            if (geometryWidths &&\n                (end - begin) / 2 !== flatCoordinates.length / stride) {\n                var beg_1 = begin / 2;\n                geometryWidths = geometryWidths.filter(function (w, i) {\n                    var keep = coordinates[(beg_1 + i) * 2] === flatCoordinates[i * stride] &&\n                        coordinates[(beg_1 + i) * 2 + 1] === flatCoordinates[i * stride + 1];\n                    if (!keep) {\n                        --beg_1;\n                    }\n                    return keep;\n                });\n            }\n            this.saveTextStates_();\n            if (textState.backgroundFill || textState.backgroundStroke) {\n                this.setFillStrokeStyle(textState.backgroundFill, textState.backgroundStroke);\n                if (textState.backgroundFill) {\n                    this.updateFillStyle(this.state, this.createFill);\n                    this.hitDetectionInstructions.push(this.createFill(this.state));\n                }\n                if (textState.backgroundStroke) {\n                    this.updateStrokeStyle(this.state, this.applyStroke);\n                    this.hitDetectionInstructions.push(this.createStroke(this.state));\n                }\n            }\n            this.beginGeometry(geometry, feature);\n            // adjust padding for negative scale\n            var padding = textState.padding;\n            if (padding != defaultPadding &&\n                (textState.scale[0] < 0 || textState.scale[1] < 0)) {\n                var p0 = textState.padding[0];\n                var p1 = textState.padding[1];\n                var p2 = textState.padding[2];\n                var p3 = textState.padding[3];\n                if (textState.scale[0] < 0) {\n                    p1 = -p1;\n                    p3 = -p3;\n                }\n                if (textState.scale[1] < 0) {\n                    p0 = -p0;\n                    p2 = -p2;\n                }\n                padding = [p0, p1, p2, p3];\n            }\n            // The image is unknown at this stage so we pass null; it will be computed at render time.\n            // For clarity, we pass NaN for offsetX, offsetY, width and height, which will be computed at\n            // render time.\n            var pixelRatio_1 = this.pixelRatio;\n            this.instructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [1, 1],\n                NaN,\n                undefined,\n                this.declutterImageWithText_,\n                padding == defaultPadding\n                    ? defaultPadding\n                    : padding.map(function (p) {\n                        return p * pixelRatio_1;\n                    }),\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            var scale = 1 / pixelRatio_1;\n            this.hitDetectionInstructions.push([\n                CanvasInstruction.DRAW_IMAGE,\n                begin,\n                end,\n                null,\n                NaN,\n                NaN,\n                NaN,\n                1,\n                0,\n                0,\n                this.textRotateWithView_,\n                this.textRotation_,\n                [scale, scale],\n                NaN,\n                undefined,\n                this.declutterImageWithText_,\n                padding,\n                !!textState.backgroundFill,\n                !!textState.backgroundStroke,\n                this.text_,\n                this.textKey_,\n                this.strokeKey_,\n                this.fillKey_,\n                this.textOffsetX_,\n                this.textOffsetY_,\n                geometryWidths,\n            ]);\n            this.endGeometry(feature);\n        }\n    };\n    /**\n     * @private\n     */\n    CanvasTextBuilder.prototype.saveTextStates_ = function () {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var fillState = this.textFillState_;\n        var strokeKey = this.strokeKey_;\n        if (strokeState) {\n            if (!(strokeKey in this.strokeStates)) {\n                this.strokeStates[strokeKey] = {\n                    strokeStyle: strokeState.strokeStyle,\n                    lineCap: strokeState.lineCap,\n                    lineDashOffset: strokeState.lineDashOffset,\n                    lineWidth: strokeState.lineWidth,\n                    lineJoin: strokeState.lineJoin,\n                    miterLimit: strokeState.miterLimit,\n                    lineDash: strokeState.lineDash,\n                };\n            }\n        }\n        var textKey = this.textKey_;\n        if (!(textKey in this.textStates)) {\n            this.textStates[textKey] = {\n                font: textState.font,\n                textAlign: textState.textAlign || defaultTextAlign,\n                justify: textState.justify,\n                textBaseline: textState.textBaseline || defaultTextBaseline,\n                scale: textState.scale,\n            };\n        }\n        var fillKey = this.fillKey_;\n        if (fillState) {\n            if (!(fillKey in this.fillStates)) {\n                this.fillStates[fillKey] = {\n                    fillStyle: fillState.fillStyle,\n                };\n            }\n        }\n    };\n    /**\n     * @private\n     * @param {number} begin Begin.\n     * @param {number} end End.\n     */\n    CanvasTextBuilder.prototype.drawChars_ = function (begin, end) {\n        var strokeState = this.textStrokeState_;\n        var textState = this.textState_;\n        var strokeKey = this.strokeKey_;\n        var textKey = this.textKey_;\n        var fillKey = this.fillKey_;\n        this.saveTextStates_();\n        var pixelRatio = this.pixelRatio;\n        var baseline = TEXT_ALIGN[textState.textBaseline];\n        var offsetY = this.textOffsetY_ * pixelRatio;\n        var text = this.text_;\n        var strokeWidth = strokeState\n            ? (strokeState.lineWidth * Math.abs(textState.scale[0])) / 2\n            : 0;\n        this.instructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            pixelRatio,\n            offsetY,\n            strokeKey,\n            strokeWidth * pixelRatio,\n            text,\n            textKey,\n            1,\n        ]);\n        this.hitDetectionInstructions.push([\n            CanvasInstruction.DRAW_CHARS,\n            begin,\n            end,\n            baseline,\n            textState.overflow,\n            fillKey,\n            textState.maxAngle,\n            1,\n            offsetY,\n            strokeKey,\n            strokeWidth,\n            text,\n            textKey,\n            1 / pixelRatio,\n        ]);\n    };\n    /**\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     * @param {Object} [opt_sharedData] Shared data.\n     */\n    CanvasTextBuilder.prototype.setTextStyle = function (textStyle, opt_sharedData) {\n        var textState, fillState, strokeState;\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                fillState = null;\n                this.textFillState_ = fillState;\n            }\n            else {\n                fillState = this.textFillState_;\n                if (!fillState) {\n                    fillState = /** @type {import(\"../canvas.js\").FillState} */ ({});\n                    this.textFillState_ = fillState;\n                }\n                fillState.fillStyle = asColorLike(textFillStyle.getColor() || defaultFillStyle);\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                strokeState = null;\n                this.textStrokeState_ = strokeState;\n            }\n            else {\n                strokeState = this.textStrokeState_;\n                if (!strokeState) {\n                    strokeState = /** @type {import(\"../canvas.js\").StrokeState} */ ({});\n                    this.textStrokeState_ = strokeState;\n                }\n                var lineDash = textStrokeStyle.getLineDash();\n                var lineDashOffset = textStrokeStyle.getLineDashOffset();\n                var lineWidth = textStrokeStyle.getWidth();\n                var miterLimit = textStrokeStyle.getMiterLimit();\n                strokeState.lineCap = textStrokeStyle.getLineCap() || defaultLineCap;\n                strokeState.lineDash = lineDash ? lineDash.slice() : defaultLineDash;\n                strokeState.lineDashOffset =\n                    lineDashOffset === undefined ? defaultLineDashOffset : lineDashOffset;\n                strokeState.lineJoin = textStrokeStyle.getLineJoin() || defaultLineJoin;\n                strokeState.lineWidth =\n                    lineWidth === undefined ? defaultLineWidth : lineWidth;\n                strokeState.miterLimit =\n                    miterLimit === undefined ? defaultMiterLimit : miterLimit;\n                strokeState.strokeStyle = asColorLike(textStrokeStyle.getColor() || defaultStrokeStyle);\n            }\n            textState = this.textState_;\n            var font = textStyle.getFont() || defaultFont;\n            registerFont(font);\n            var textScale = textStyle.getScaleArray();\n            textState.overflow = textStyle.getOverflow();\n            textState.font = font;\n            textState.maxAngle = textStyle.getMaxAngle();\n            textState.placement = textStyle.getPlacement();\n            textState.textAlign = textStyle.getTextAlign();\n            textState.justify = textStyle.getJustify();\n            textState.textBaseline =\n                textStyle.getTextBaseline() || defaultTextBaseline;\n            textState.backgroundFill = textStyle.getBackgroundFill();\n            textState.backgroundStroke = textStyle.getBackgroundStroke();\n            textState.padding = textStyle.getPadding() || defaultPadding;\n            textState.scale = textScale === undefined ? [1, 1] : textScale;\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            this.text_ = textStyle.getText() || '';\n            this.textOffsetX_ = textOffsetX === undefined ? 0 : textOffsetX;\n            this.textOffsetY_ = textOffsetY === undefined ? 0 : textOffsetY;\n            this.textRotateWithView_ =\n                textRotateWithView === undefined ? false : textRotateWithView;\n            this.textRotation_ = textRotation === undefined ? 0 : textRotation;\n            this.strokeKey_ = strokeState\n                ? (typeof strokeState.strokeStyle == 'string'\n                    ? strokeState.strokeStyle\n                    : getUid(strokeState.strokeStyle)) +\n                    strokeState.lineCap +\n                    strokeState.lineDashOffset +\n                    '|' +\n                    strokeState.lineWidth +\n                    strokeState.lineJoin +\n                    strokeState.miterLimit +\n                    '[' +\n                    strokeState.lineDash.join() +\n                    ']'\n                : '';\n            this.textKey_ =\n                textState.font +\n                    textState.scale +\n                    (textState.textAlign || '?') +\n                    (textState.justify || '?') +\n                    (textState.textBaseline || '?');\n            this.fillKey_ = fillState\n                ? typeof fillState.fillStyle == 'string'\n                    ? fillState.fillStyle\n                    : '|' + getUid(fillState.fillStyle)\n                : '';\n        }\n        this.declutterImageWithText_ = opt_sharedData;\n    };\n    return CanvasTextBuilder;\n}(CanvasBuilder));\nexport default CanvasTextBuilder;\n//# sourceMappingURL=TextBuilder.js.map","/**\n * @module ol/style/TextPlacement\n */\n/**\n * Text placement. One of `'point'`, `'line'`. Default is `'point'`. Note that\n * `'line'` requires the underlying geometry to be a {@link module:ol/geom/LineString~LineString},\n * {@link module:ol/geom/Polygon~Polygon}, {@link module:ol/geom/MultiLineString~MultiLineString} or\n * {@link module:ol/geom/MultiPolygon~MultiPolygon}.\n * @enum {string}\n */\nexport default {\n    POINT: 'point',\n    LINE: 'line',\n};\n//# sourceMappingURL=TextPlacement.js.map","/**\n * @module ol/render/canvas/BuilderGroup\n */\nimport Builder from './Builder.js';\nimport ImageBuilder from './ImageBuilder.js';\nimport LineStringBuilder from './LineStringBuilder.js';\nimport PolygonBuilder from './PolygonBuilder.js';\nimport TextBuilder from './TextBuilder.js';\n/**\n * @type {Object<import(\"../canvas.js\").BuilderType, typeof Builder>}\n */\nvar BATCH_CONSTRUCTORS = {\n    'Circle': PolygonBuilder,\n    'Default': Builder,\n    'Image': ImageBuilder,\n    'LineString': LineStringBuilder,\n    'Polygon': PolygonBuilder,\n    'Text': TextBuilder,\n};\nvar BuilderGroup = /** @class */ (function () {\n    /**\n     * @param {number} tolerance Tolerance.\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     */\n    function BuilderGroup(tolerance, maxExtent, resolution, pixelRatio) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.tolerance_ = tolerance;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"../canvas.js\").BuilderType, Builder>>}\n         */\n        this.buildersByZIndex_ = {};\n    }\n    /**\n     * @return {!Object<string, !Object<import(\"../canvas.js\").BuilderType, import(\"./Builder.js\").SerializableInstructions>>} The serializable instructions\n     */\n    BuilderGroup.prototype.finish = function () {\n        var builderInstructions = {};\n        for (var zKey in this.buildersByZIndex_) {\n            builderInstructions[zKey] = builderInstructions[zKey] || {};\n            var builders = this.buildersByZIndex_[zKey];\n            for (var builderKey in builders) {\n                var builderInstruction = builders[builderKey].finish();\n                builderInstructions[zKey][builderKey] = builderInstruction;\n            }\n        }\n        return builderInstructions;\n    };\n    /**\n     * @param {number|undefined} zIndex Z index.\n     * @param {import(\"../canvas.js\").BuilderType} builderType Replay type.\n     * @return {import(\"../VectorContext.js\").default} Replay.\n     */\n    BuilderGroup.prototype.getBuilder = function (zIndex, builderType) {\n        var zIndexKey = zIndex !== undefined ? zIndex.toString() : '0';\n        var replays = this.buildersByZIndex_[zIndexKey];\n        if (replays === undefined) {\n            replays = {};\n            this.buildersByZIndex_[zIndexKey] = replays;\n        }\n        var replay = replays[builderType];\n        if (replay === undefined) {\n            var Constructor = BATCH_CONSTRUCTORS[builderType];\n            replay = new Constructor(this.tolerance_, this.maxExtent_, this.resolution_, this.pixelRatio_);\n            replays[builderType] = replay;\n        }\n        return replay;\n    };\n    return BuilderGroup;\n}());\nexport default BuilderGroup;\n//# sourceMappingURL=BuilderGroup.js.map","/**\n * @module ol/geom/flat/textpath\n */\nimport { lerp } from '../../math.js';\nimport { rotate } from './transform.js';\n/**\n * @param {Array<number>} flatCoordinates Path to put text on.\n * @param {number} offset Start offset of the `flatCoordinates`.\n * @param {number} end End offset of the `flatCoordinates`.\n * @param {number} stride Stride.\n * @param {string} text Text to place on the path.\n * @param {number} startM m along the path where the text starts.\n * @param {number} maxAngle Max angle between adjacent chars in radians.\n * @param {number} scale The product of the text scale and the device pixel ratio.\n * @param {function(string, string, Object<string, number>):number} measureAndCacheTextWidth Measure and cache text width.\n * @param {string} font The font.\n * @param {Object<string, number>} cache A cache of measured widths.\n * @param {number} rotation Rotation to apply to the flatCoordinates to determine whether text needs to be reversed.\n * @return {Array<Array<*>>|null} The result array (or null if `maxAngle` was\n * exceeded). Entries of the array are x, y, anchorX, angle, chunk.\n */\nexport function drawTextOnPath(flatCoordinates, offset, end, stride, text, startM, maxAngle, scale, measureAndCacheTextWidth, font, cache, rotation) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var x1 = 0;\n    var y1 = 0;\n    var segmentLength = 0;\n    var segmentM = 0;\n    function advance() {\n        x1 = x2;\n        y1 = y2;\n        offset += stride;\n        x2 = flatCoordinates[offset];\n        y2 = flatCoordinates[offset + 1];\n        segmentM += segmentLength;\n        segmentLength = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    }\n    do {\n        advance();\n    } while (offset < end - stride && segmentM + segmentLength < startM);\n    var interpolate = segmentLength === 0 ? 0 : (startM - segmentM) / segmentLength;\n    var beginX = lerp(x1, x2, interpolate);\n    var beginY = lerp(y1, y2, interpolate);\n    var startOffset = offset - stride;\n    var startLength = segmentM;\n    var endM = startM + scale * measureAndCacheTextWidth(font, text, cache);\n    while (offset < end - stride && segmentM + segmentLength < endM) {\n        advance();\n    }\n    interpolate = segmentLength === 0 ? 0 : (endM - segmentM) / segmentLength;\n    var endX = lerp(x1, x2, interpolate);\n    var endY = lerp(y1, y2, interpolate);\n    // Keep text upright\n    var reverse;\n    if (rotation) {\n        var flat = [beginX, beginY, endX, endY];\n        rotate(flat, 0, 4, 2, rotation, flat, flat);\n        reverse = flat[0] > flat[2];\n    }\n    else {\n        reverse = beginX > endX;\n    }\n    var PI = Math.PI;\n    var result = [];\n    var singleSegment = startOffset + stride === offset;\n    offset = startOffset;\n    segmentLength = 0;\n    segmentM = startLength;\n    x2 = flatCoordinates[offset];\n    y2 = flatCoordinates[offset + 1];\n    var previousAngle;\n    // All on the same segment\n    if (singleSegment) {\n        advance();\n        previousAngle = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            previousAngle += previousAngle > 0 ? -PI : PI;\n        }\n        var x = (endX + beginX) / 2;\n        var y = (endY + beginY) / 2;\n        result[0] = [x, y, (endM - startM) / 2, previousAngle, text];\n        return result;\n    }\n    // rendering across line segments\n    text = text.replace(/\\n/g, ' '); // ensure rendering in single-line as all calculations below don't handle multi-lines\n    for (var i = 0, ii = text.length; i < ii;) {\n        advance();\n        var angle = Math.atan2(y2 - y1, x2 - x1);\n        if (reverse) {\n            angle += angle > 0 ? -PI : PI;\n        }\n        if (previousAngle !== undefined) {\n            var delta = angle - previousAngle;\n            delta += delta > PI ? -2 * PI : delta < -PI ? 2 * PI : 0;\n            if (Math.abs(delta) > maxAngle) {\n                return null;\n            }\n        }\n        previousAngle = angle;\n        var iStart = i;\n        var charLength = 0;\n        for (; i < ii; ++i) {\n            var index = reverse ? ii - i - 1 : i;\n            var len = scale * measureAndCacheTextWidth(font, text[index], cache);\n            if (offset + stride < end &&\n                segmentM + segmentLength < startM + charLength + len / 2) {\n                break;\n            }\n            charLength += len;\n        }\n        if (i === iStart) {\n            continue;\n        }\n        var chars = reverse\n            ? text.substring(ii - iStart, ii - i)\n            : text.substring(iStart, i);\n        interpolate =\n            segmentLength === 0\n                ? 0\n                : (startM + charLength / 2 - segmentM) / segmentLength;\n        var x = lerp(x1, x2, interpolate);\n        var y = lerp(y1, y2, interpolate);\n        result.push([x, y, charLength / 2, angle, chars]);\n        startM += charLength;\n    }\n    return result;\n}\n//# sourceMappingURL=textpath.js.map","/**\n * @module ol/render/canvas/Executor\n */\nimport CanvasInstruction from './Instruction.js';\nimport { TEXT_ALIGN } from './TextBuilder.js';\nimport { WORKER_OFFSCREEN_CANVAS } from '../../has.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, setFromArray as transformSetFromArray, } from '../../transform.js';\nimport { createEmpty, createOrUpdate, intersects } from '../../extent.js';\nimport { defaultPadding, defaultTextAlign, defaultTextBaseline, drawImageOrLabel, getTextDimensions, measureAndCacheTextWidth, } from '../canvas.js';\nimport { drawTextOnPath } from '../../geom/flat/textpath.js';\nimport { equals } from '../../array.js';\nimport { lineStringLength } from '../../geom/flat/length.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @typedef {Object} BBox\n * @property {number} minX Minimal x.\n * @property {number} minY Minimal y.\n * @property {number} maxX Maximal x.\n * @property {number} maxY Maximal y\n * @property {*} value Value.\n */\n/**\n * @typedef {Object} ImageOrLabelDimensions\n * @property {number} drawImageX DrawImageX.\n * @property {number} drawImageY DrawImageY.\n * @property {number} drawImageW DrawImageW.\n * @property {number} drawImageH DrawImageH.\n * @property {number} originX OriginX.\n * @property {number} originY OriginY.\n * @property {Array<number>} scale Scale.\n * @property {BBox} declutterBox DeclutterBox.\n * @property {import(\"../../transform.js\").Transform} canvasTransform CanvasTransform.\n */\n/**\n * @typedef {{0: CanvasRenderingContext2D, 1: number, 2: import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement, 3: ImageOrLabelDimensions, 4: number, 5: Array<*>, 6: Array<*>}} ReplayImageOrLabelArgs\n */\n/**\n * @template T\n * @typedef {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * @type {import(\"../../extent.js\").Extent}\n */\nvar tmpExtent = createEmpty();\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p1 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p2 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p3 = [];\n/** @type {import(\"../../coordinate.js\").Coordinate} */\nvar p4 = [];\n/**\n * @param {ReplayImageOrLabelArgs} replayImageOrLabelArgs Arguments to replayImageOrLabel\n * @return {BBox} Declutter bbox.\n */\nfunction getDeclutterBox(replayImageOrLabelArgs) {\n    return replayImageOrLabelArgs[3].declutterBox;\n}\nvar rtlRegEx = new RegExp(\n/* eslint-disable prettier/prettier */\n'[' +\n    String.fromCharCode(0x00591) + '-' + String.fromCharCode(0x008ff) +\n    String.fromCharCode(0x0fb1d) + '-' + String.fromCharCode(0x0fdff) +\n    String.fromCharCode(0x0fe70) + '-' + String.fromCharCode(0x0fefc) +\n    String.fromCharCode(0x10800) + '-' + String.fromCharCode(0x10fff) +\n    String.fromCharCode(0x1e800) + '-' + String.fromCharCode(0x1efff) +\n    ']'\n/* eslint-enable prettier/prettier */\n);\n/**\n * @param {string} text Text.\n * @param {string} align Alignment.\n * @return {number} Text alignment.\n */\nfunction horizontalTextAlign(text, align) {\n    if ((align === 'start' || align === 'end') && !rtlRegEx.test(text)) {\n        align = align === 'start' ? 'left' : 'right';\n    }\n    return TEXT_ALIGN[align];\n}\n/**\n * @param {Array<string>} acc Accumulator.\n * @param {string} line Line of text.\n * @param {number} i Index\n * @return {Array<string>} Accumulator.\n */\nfunction createTextChunks(acc, line, i) {\n    if (i > 0) {\n        acc.push('\\n', '');\n    }\n    acc.push(line, '');\n    return acc;\n}\nvar Executor = /** @class */ (function () {\n    /**\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The replay can have overlapping geometries.\n     * @param {import(\"../canvas.js\").SerializableInstructions} instructions The serializable instructions\n     */\n    function Executor(resolution, pixelRatio, overlaps, instructions) {\n        /**\n         * @protected\n         * @type {boolean}\n         */\n        this.overlaps = overlaps;\n        /**\n         * @protected\n         * @type {number}\n         */\n        this.pixelRatio = pixelRatio;\n        /**\n         * @protected\n         * @const\n         * @type {number}\n         */\n        this.resolution = resolution;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.alignFill_;\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.instructions = instructions.instructions;\n        /**\n         * @protected\n         * @type {Array<number>}\n         */\n        this.coordinates = instructions.coordinates;\n        /**\n         * @private\n         * @type {!Object<number,import(\"../../coordinate.js\").Coordinate|Array<import(\"../../coordinate.js\").Coordinate>|Array<Array<import(\"../../coordinate.js\").Coordinate>>>}\n         */\n        this.coordinateCache_ = {};\n        /**\n         * @private\n         * @type {!import(\"../../transform.js\").Transform}\n         */\n        this.renderedTransform_ = createTransform();\n        /**\n         * @protected\n         * @type {Array<*>}\n         */\n        this.hitDetectionInstructions = instructions.hitDetectionInstructions;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.pixelCoordinates_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.viewRotation_ = 0;\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").FillState>}\n         */\n        this.fillStates = instructions.fillStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").StrokeState>}\n         */\n        this.strokeStates = instructions.strokeStates || {};\n        /**\n         * @type {!Object<string, import(\"../canvas.js\").TextState>}\n         */\n        this.textStates = instructions.textStates || {};\n        /**\n         * @private\n         * @type {Object<string, Object<string, number>>}\n         */\n        this.widths_ = {};\n        /**\n         * @private\n         * @type {Object<string, import(\"../canvas.js\").Label>}\n         */\n        this.labels_ = {};\n    }\n    /**\n     * @param {string|Array<string>} text Text.\n     * @param {string} textKey Text style key.\n     * @param {string} fillKey Fill style key.\n     * @param {string} strokeKey Stroke style key.\n     * @return {import(\"../canvas.js\").Label} Label.\n     */\n    Executor.prototype.createLabel = function (text, textKey, fillKey, strokeKey) {\n        var key = text + textKey + fillKey + strokeKey;\n        if (this.labels_[key]) {\n            return this.labels_[key];\n        }\n        var strokeState = strokeKey ? this.strokeStates[strokeKey] : null;\n        var fillState = fillKey ? this.fillStates[fillKey] : null;\n        var textState = this.textStates[textKey];\n        var pixelRatio = this.pixelRatio;\n        var scale = [\n            textState.scale[0] * pixelRatio,\n            textState.scale[1] * pixelRatio,\n        ];\n        var textIsArray = Array.isArray(text);\n        var align = textState.justify\n            ? TEXT_ALIGN[textState.justify]\n            : horizontalTextAlign(Array.isArray(text) ? text[0] : text, textState.textAlign || defaultTextAlign);\n        var strokeWidth = strokeKey && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        var chunks = textIsArray\n            ? text\n            : text.split('\\n').reduce(createTextChunks, []);\n        var _a = getTextDimensions(textState, chunks), width = _a.width, height = _a.height, widths = _a.widths, heights = _a.heights, lineWidths = _a.lineWidths;\n        var renderWidth = width + strokeWidth;\n        var contextInstructions = [];\n        // make canvas 2 pixels wider to account for italic text width measurement errors\n        var w = (renderWidth + 2) * scale[0];\n        var h = (height + strokeWidth) * scale[1];\n        /** @type {import(\"../canvas.js\").Label} */\n        var label = {\n            width: w < 0 ? Math.floor(w) : Math.ceil(w),\n            height: h < 0 ? Math.floor(h) : Math.ceil(h),\n            contextInstructions: contextInstructions,\n        };\n        if (scale[0] != 1 || scale[1] != 1) {\n            contextInstructions.push('scale', scale);\n        }\n        if (strokeKey) {\n            contextInstructions.push('strokeStyle', strokeState.strokeStyle);\n            contextInstructions.push('lineWidth', strokeWidth);\n            contextInstructions.push('lineCap', strokeState.lineCap);\n            contextInstructions.push('lineJoin', strokeState.lineJoin);\n            contextInstructions.push('miterLimit', strokeState.miterLimit);\n            // eslint-disable-next-line\n            var Context = WORKER_OFFSCREEN_CANVAS ? OffscreenCanvasRenderingContext2D : CanvasRenderingContext2D;\n            if (Context.prototype.setLineDash) {\n                contextInstructions.push('setLineDash', [strokeState.lineDash]);\n                contextInstructions.push('lineDashOffset', strokeState.lineDashOffset);\n            }\n        }\n        if (fillKey) {\n            contextInstructions.push('fillStyle', fillState.fillStyle);\n        }\n        contextInstructions.push('textBaseline', 'middle');\n        contextInstructions.push('textAlign', 'center');\n        var leftRight = 0.5 - align;\n        var x = align * renderWidth + leftRight * strokeWidth;\n        var strokeInstructions = [];\n        var fillInstructions = [];\n        var lineHeight = 0;\n        var lineOffset = 0;\n        var widthHeightIndex = 0;\n        var lineWidthIndex = 0;\n        var previousFont;\n        for (var i = 0, ii = chunks.length; i < ii; i += 2) {\n            var text_1 = chunks[i];\n            if (text_1 === '\\n') {\n                lineOffset += lineHeight;\n                lineHeight = 0;\n                x = align * renderWidth + leftRight * strokeWidth;\n                ++lineWidthIndex;\n                continue;\n            }\n            var font = chunks[i + 1] || textState.font;\n            if (font !== previousFont) {\n                if (strokeKey) {\n                    strokeInstructions.push('font', font);\n                }\n                if (fillKey) {\n                    fillInstructions.push('font', font);\n                }\n                previousFont = font;\n            }\n            lineHeight = Math.max(lineHeight, heights[widthHeightIndex]);\n            var fillStrokeArgs = [\n                text_1,\n                x +\n                    leftRight * widths[widthHeightIndex] +\n                    align * (widths[widthHeightIndex] - lineWidths[lineWidthIndex]),\n                0.5 * (strokeWidth + lineHeight) + lineOffset,\n            ];\n            x += widths[widthHeightIndex];\n            if (strokeKey) {\n                strokeInstructions.push('strokeText', fillStrokeArgs);\n            }\n            if (fillKey) {\n                fillInstructions.push('fillText', fillStrokeArgs);\n            }\n            ++widthHeightIndex;\n        }\n        Array.prototype.push.apply(contextInstructions, strokeInstructions);\n        Array.prototype.push.apply(contextInstructions, fillInstructions);\n        this.labels_[key] = label;\n        return label;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../coordinate.js\").Coordinate} p1 1st point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p2 2nd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p3 3rd point of the background box.\n     * @param {import(\"../../coordinate.js\").Coordinate} p4 4th point of the background box.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     */\n    Executor.prototype.replayTextBackground_ = function (context, p1, p2, p3, p4, fillInstruction, strokeInstruction) {\n        context.beginPath();\n        context.moveTo.apply(context, p1);\n        context.lineTo.apply(context, p2);\n        context.lineTo.apply(context, p3);\n        context.lineTo.apply(context, p4);\n        context.lineTo.apply(context, p1);\n        if (fillInstruction) {\n            this.alignFill_ = /** @type {boolean} */ (fillInstruction[2]);\n            this.fill_(context);\n        }\n        if (strokeInstruction) {\n            this.setStrokeStyle_(context, \n            /** @type {Array<*>} */ (strokeInstruction));\n            context.stroke();\n        }\n    };\n    /**\n     * @private\n     * @param {number} sheetWidth Width of the sprite sheet.\n     * @param {number} sheetHeight Height of the sprite sheet.\n     * @param {number} centerX X.\n     * @param {number} centerY Y.\n     * @param {number} width Width.\n     * @param {number} height Height.\n     * @param {number} anchorX Anchor X.\n     * @param {number} anchorY Anchor Y.\n     * @param {number} originX Origin X.\n     * @param {number} originY Origin Y.\n     * @param {number} rotation Rotation.\n     * @param {import(\"../../size.js\").Size} scale Scale.\n     * @param {boolean} snapToPixel Snap to pixel.\n     * @param {Array<number>} padding Padding.\n     * @param {boolean} fillStroke Background fill or stroke.\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @return {ImageOrLabelDimensions} Dimensions for positioning and decluttering the image or label.\n     */\n    Executor.prototype.calculateImageOrLabelDimensions_ = function (sheetWidth, sheetHeight, centerX, centerY, width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, fillStroke, feature) {\n        anchorX *= scale[0];\n        anchorY *= scale[1];\n        var x = centerX - anchorX;\n        var y = centerY - anchorY;\n        var w = width + originX > sheetWidth ? sheetWidth - originX : width;\n        var h = height + originY > sheetHeight ? sheetHeight - originY : height;\n        var boxW = padding[3] + w * scale[0] + padding[1];\n        var boxH = padding[0] + h * scale[1] + padding[2];\n        var boxX = x - padding[3];\n        var boxY = y - padding[0];\n        if (fillStroke || rotation !== 0) {\n            p1[0] = boxX;\n            p4[0] = boxX;\n            p1[1] = boxY;\n            p2[1] = boxY;\n            p2[0] = boxX + boxW;\n            p3[0] = p2[0];\n            p3[1] = boxY + boxH;\n            p4[1] = p3[1];\n        }\n        var transform;\n        if (rotation !== 0) {\n            transform = composeTransform(createTransform(), centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n            applyTransform(transform, p1);\n            applyTransform(transform, p2);\n            applyTransform(transform, p3);\n            applyTransform(transform, p4);\n            createOrUpdate(Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1]), tmpExtent);\n        }\n        else {\n            createOrUpdate(Math.min(boxX, boxX + boxW), Math.min(boxY, boxY + boxH), Math.max(boxX, boxX + boxW), Math.max(boxY, boxY + boxH), tmpExtent);\n        }\n        if (snapToPixel) {\n            x = Math.round(x);\n            y = Math.round(y);\n        }\n        return {\n            drawImageX: x,\n            drawImageY: y,\n            drawImageW: w,\n            drawImageH: h,\n            originX: originX,\n            originY: originY,\n            declutterBox: {\n                minX: tmpExtent[0],\n                minY: tmpExtent[1],\n                maxX: tmpExtent[2],\n                maxY: tmpExtent[3],\n                value: feature,\n            },\n            canvasTransform: transform,\n            scale: scale,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../canvas.js\").Label|HTMLImageElement|HTMLCanvasElement|HTMLVideoElement} imageOrLabel Image.\n     * @param {ImageOrLabelDimensions} dimensions Dimensions.\n     * @param {number} opacity Opacity.\n     * @param {Array<*>} fillInstruction Fill instruction.\n     * @param {Array<*>} strokeInstruction Stroke instruction.\n     * @return {boolean} The image or label was rendered.\n     */\n    Executor.prototype.replayImageOrLabel_ = function (context, contextScale, imageOrLabel, dimensions, opacity, fillInstruction, strokeInstruction) {\n        var fillStroke = !!(fillInstruction || strokeInstruction);\n        var box = dimensions.declutterBox;\n        var canvas = context.canvas;\n        var strokePadding = strokeInstruction\n            ? (strokeInstruction[2] * dimensions.scale[0]) / 2\n            : 0;\n        var intersects = box.minX - strokePadding <= canvas.width / contextScale &&\n            box.maxX + strokePadding >= 0 &&\n            box.minY - strokePadding <= canvas.height / contextScale &&\n            box.maxY + strokePadding >= 0;\n        if (intersects) {\n            if (fillStroke) {\n                this.replayTextBackground_(context, p1, p2, p3, p4, \n                /** @type {Array<*>} */ (fillInstruction), \n                /** @type {Array<*>} */ (strokeInstruction));\n            }\n            drawImageOrLabel(context, dimensions.canvasTransform, opacity, imageOrLabel, dimensions.originX, dimensions.originY, dimensions.drawImageW, dimensions.drawImageH, dimensions.drawImageX, dimensions.drawImageY, dimensions.scale);\n        }\n        return true;\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     */\n    Executor.prototype.fill_ = function (context) {\n        if (this.alignFill_) {\n            var origin_1 = applyTransform(this.renderedTransform_, [0, 0]);\n            var repeatSize = 512 * this.pixelRatio;\n            context.save();\n            context.translate(origin_1[0] % repeatSize, origin_1[1] % repeatSize);\n            context.rotate(this.viewRotation_);\n        }\n        context.fill();\n        if (this.alignFill_) {\n            context.restore();\n        }\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {Array<*>} instruction Instruction.\n     */\n    Executor.prototype.setStrokeStyle_ = function (context, instruction) {\n        context['strokeStyle'] =\n            /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n        context.lineWidth = /** @type {number} */ (instruction[2]);\n        context.lineCap = /** @type {CanvasLineCap} */ (instruction[3]);\n        context.lineJoin = /** @type {CanvasLineJoin} */ (instruction[4]);\n        context.miterLimit = /** @type {number} */ (instruction[5]);\n        if (context.setLineDash) {\n            context.lineDashOffset = /** @type {number} */ (instruction[7]);\n            context.setLineDash(/** @type {Array<number>} */ (instruction[6]));\n        }\n    };\n    /**\n     * @private\n     * @param {string|Array<string>} text The text to draw.\n     * @param {string} textKey The key of the text state.\n     * @param {string} strokeKey The key for the stroke state.\n     * @param {string} fillKey The key for the fill state.\n     * @return {{label: import(\"../canvas.js\").Label, anchorX: number, anchorY: number}} The text image and its anchor.\n     */\n    Executor.prototype.drawLabelWithPointPlacement_ = function (text, textKey, strokeKey, fillKey) {\n        var textState = this.textStates[textKey];\n        var label = this.createLabel(text, textKey, fillKey, strokeKey);\n        var strokeState = this.strokeStates[strokeKey];\n        var pixelRatio = this.pixelRatio;\n        var align = horizontalTextAlign(Array.isArray(text) ? text[0] : text, textState.textAlign || defaultTextAlign);\n        var baseline = TEXT_ALIGN[textState.textBaseline || defaultTextBaseline];\n        var strokeWidth = strokeState && strokeState.lineWidth ? strokeState.lineWidth : 0;\n        // Remove the 2 pixels we added in createLabel() for the anchor\n        var width = label.width / pixelRatio - 2 * textState.scale[0];\n        var anchorX = align * width + 2 * (0.5 - align) * strokeWidth;\n        var anchorY = (baseline * label.height) / pixelRatio +\n            2 * (0.5 - baseline) * strokeWidth;\n        return {\n            label: label,\n            anchorX: anchorX,\n            anchorY: anchorY,\n        };\n    };\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {Array<*>} instructions Instructions array.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {FeatureCallback<T>} [opt_featureCallback] Feature callback.\n     * @param {import(\"../../extent.js\").Extent} [opt_hitExtent] Only check\n     *     features that intersect this extent.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.execute_ = function (context, contextScale, transform, instructions, snapToPixel, opt_featureCallback, opt_hitExtent, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var pixelCoordinates;\n        if (this.pixelCoordinates_ && equals(transform, this.renderedTransform_)) {\n            pixelCoordinates = this.pixelCoordinates_;\n        }\n        else {\n            if (!this.pixelCoordinates_) {\n                this.pixelCoordinates_ = [];\n            }\n            pixelCoordinates = transform2D(this.coordinates, 0, this.coordinates.length, 2, transform, this.pixelCoordinates_);\n            transformSetFromArray(this.renderedTransform_, transform);\n        }\n        var i = 0; // instruction index\n        var ii = instructions.length; // end of instructions\n        var d = 0; // data index\n        var dd; // end of per-instruction data\n        var anchorX, anchorY, prevX, prevY, roundX, roundY, image, text, textKey, strokeKey, fillKey;\n        var pendingFill = 0;\n        var pendingStroke = 0;\n        var lastFillInstruction = null;\n        var lastStrokeInstruction = null;\n        var coordinateCache = this.coordinateCache_;\n        var viewRotation = this.viewRotation_;\n        var viewRotationFromTransform = Math.round(Math.atan2(-transform[1], transform[0]) * 1e12) / 1e12;\n        var state = /** @type {import(\"../../render.js\").State} */ ({\n            context: context,\n            pixelRatio: this.pixelRatio,\n            resolution: this.resolution,\n            rotation: viewRotation,\n        });\n        // When the batch size gets too big, performance decreases. 200 is a good\n        // balance between batch size and number of fill/stroke instructions.\n        var batchSize = this.instructions != instructions || this.overlaps ? 0 : 200;\n        var /** @type {import(\"../../Feature.js\").FeatureLike} */ feature;\n        var x, y, currentGeometry;\n        while (i < ii) {\n            var instruction = instructions[i];\n            var type = /** @type {import(\"./Instruction.js\").default} */ (instruction[0]);\n            switch (type) {\n                case CanvasInstruction.BEGIN_GEOMETRY:\n                    feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                    currentGeometry = instruction[3];\n                    if (!feature.getGeometry()) {\n                        i = /** @type {number} */ (instruction[2]);\n                    }\n                    else if (opt_hitExtent !== undefined &&\n                        !intersects(opt_hitExtent, currentGeometry.getExtent())) {\n                        i = /** @type {number} */ (instruction[2]) + 1;\n                    }\n                    else {\n                        ++i;\n                    }\n                    break;\n                case CanvasInstruction.BEGIN_PATH:\n                    if (pendingFill > batchSize) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                    }\n                    if (pendingStroke > batchSize) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    if (!pendingFill && !pendingStroke) {\n                        context.beginPath();\n                        prevX = NaN;\n                        prevY = NaN;\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.CIRCLE:\n                    d = /** @type {number} */ (instruction[1]);\n                    var x1 = pixelCoordinates[d];\n                    var y1 = pixelCoordinates[d + 1];\n                    var x2 = pixelCoordinates[d + 2];\n                    var y2 = pixelCoordinates[d + 3];\n                    var dx = x2 - x1;\n                    var dy = y2 - y1;\n                    var r = Math.sqrt(dx * dx + dy * dy);\n                    context.moveTo(x1 + r, y1);\n                    context.arc(x1, y1, r, 0, 2 * Math.PI, true);\n                    ++i;\n                    break;\n                case CanvasInstruction.CLOSE_PATH:\n                    context.closePath();\n                    ++i;\n                    break;\n                case CanvasInstruction.CUSTOM:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = instruction[2];\n                    var geometry = \n                    /** @type {import(\"../../geom/SimpleGeometry.js\").default} */ (instruction[3]);\n                    var renderer = instruction[4];\n                    var fn = instruction.length == 6 ? instruction[5] : undefined;\n                    state.geometry = geometry;\n                    state.feature = feature;\n                    if (!(i in coordinateCache)) {\n                        coordinateCache[i] = [];\n                    }\n                    var coords = coordinateCache[i];\n                    if (fn) {\n                        fn(pixelCoordinates, d, dd, 2, coords);\n                    }\n                    else {\n                        coords[0] = pixelCoordinates[d];\n                        coords[1] = pixelCoordinates[d + 1];\n                        coords.length = 2;\n                    }\n                    renderer(coords, state);\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_IMAGE:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    image =\n                        /** @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement} */ (instruction[3]);\n                    // Remaining arguments in DRAW_IMAGE are in alphabetical order\n                    anchorX = /** @type {number} */ (instruction[4]);\n                    anchorY = /** @type {number} */ (instruction[5]);\n                    var height = /** @type {number} */ (instruction[6]);\n                    var opacity = /** @type {number} */ (instruction[7]);\n                    var originX = /** @type {number} */ (instruction[8]);\n                    var originY = /** @type {number} */ (instruction[9]);\n                    var rotateWithView = /** @type {boolean} */ (instruction[10]);\n                    var rotation = /** @type {number} */ (instruction[11]);\n                    var scale = /** @type {import(\"../../size.js\").Size} */ (instruction[12]);\n                    var width = /** @type {number} */ (instruction[13]);\n                    var declutterMode = \n                    /** @type {\"declutter\"|\"obstacle\"|\"none\"|undefined} */ (instruction[14]);\n                    var declutterImageWithText = \n                    /** @type {import(\"../canvas.js\").DeclutterImageWithText} */ (instruction[15]);\n                    if (!image && instruction.length >= 20) {\n                        // create label images\n                        text = /** @type {string} */ (instruction[19]);\n                        textKey = /** @type {string} */ (instruction[20]);\n                        strokeKey = /** @type {string} */ (instruction[21]);\n                        fillKey = /** @type {string} */ (instruction[22]);\n                        var labelWithAnchor = this.drawLabelWithPointPlacement_(text, textKey, strokeKey, fillKey);\n                        image = labelWithAnchor.label;\n                        instruction[3] = image;\n                        var textOffsetX = /** @type {number} */ (instruction[23]);\n                        anchorX = (labelWithAnchor.anchorX - textOffsetX) * this.pixelRatio;\n                        instruction[4] = anchorX;\n                        var textOffsetY = /** @type {number} */ (instruction[24]);\n                        anchorY = (labelWithAnchor.anchorY - textOffsetY) * this.pixelRatio;\n                        instruction[5] = anchorY;\n                        height = image.height;\n                        instruction[6] = height;\n                        width = image.width;\n                        instruction[13] = width;\n                    }\n                    var geometryWidths = void 0;\n                    if (instruction.length > 25) {\n                        geometryWidths = /** @type {number} */ (instruction[25]);\n                    }\n                    var padding = void 0, backgroundFill = void 0, backgroundStroke = void 0;\n                    if (instruction.length > 17) {\n                        padding = /** @type {Array<number>} */ (instruction[16]);\n                        backgroundFill = /** @type {boolean} */ (instruction[17]);\n                        backgroundStroke = /** @type {boolean} */ (instruction[18]);\n                    }\n                    else {\n                        padding = defaultPadding;\n                        backgroundFill = false;\n                        backgroundStroke = false;\n                    }\n                    if (rotateWithView && viewRotationFromTransform) {\n                        // Canvas is expected to be rotated to reverse view rotation.\n                        rotation += viewRotation;\n                    }\n                    else if (!rotateWithView && !viewRotationFromTransform) {\n                        // Canvas is not rotated, images need to be rotated back to be north-up.\n                        rotation -= viewRotation;\n                    }\n                    var widthIndex = 0;\n                    for (; d < dd; d += 2) {\n                        if (geometryWidths &&\n                            geometryWidths[widthIndex++] < width / this.pixelRatio) {\n                            continue;\n                        }\n                        var dimensions = this.calculateImageOrLabelDimensions_(image.width, image.height, pixelCoordinates[d], pixelCoordinates[d + 1], width, height, anchorX, anchorY, originX, originY, rotation, scale, snapToPixel, padding, backgroundFill || backgroundStroke, feature);\n                        /** @type {ReplayImageOrLabelArgs} */\n                        var args = [\n                            context,\n                            contextScale,\n                            image,\n                            dimensions,\n                            opacity,\n                            backgroundFill\n                                ? /** @type {Array<*>} */ (lastFillInstruction)\n                                : null,\n                            backgroundStroke\n                                ? /** @type {Array<*>} */ (lastStrokeInstruction)\n                                : null,\n                        ];\n                        if (opt_declutterTree) {\n                            if (declutterMode === 'none') {\n                                // not rendered in declutter group\n                                continue;\n                            }\n                            else if (declutterMode === 'obstacle') {\n                                // will always be drawn, thus no collision detection, but insert as obstacle\n                                opt_declutterTree.insert(dimensions.declutterBox);\n                                continue;\n                            }\n                            else {\n                                var imageArgs = void 0;\n                                var imageDeclutterBox = void 0;\n                                if (declutterImageWithText) {\n                                    var index = dd - d;\n                                    if (!declutterImageWithText[index]) {\n                                        // We now have the image for an image+text combination.\n                                        declutterImageWithText[index] = args;\n                                        // Don't render anything for now, wait for the text.\n                                        continue;\n                                    }\n                                    imageArgs = declutterImageWithText[index];\n                                    delete declutterImageWithText[index];\n                                    imageDeclutterBox = getDeclutterBox(imageArgs);\n                                    if (opt_declutterTree.collides(imageDeclutterBox)) {\n                                        continue;\n                                    }\n                                }\n                                if (opt_declutterTree.collides(dimensions.declutterBox)) {\n                                    continue;\n                                }\n                                if (imageArgs) {\n                                    // We now have image and text for an image+text combination.\n                                    opt_declutterTree.insert(imageDeclutterBox);\n                                    // Render the image before we render the text.\n                                    this.replayImageOrLabel_.apply(this, imageArgs);\n                                }\n                                opt_declutterTree.insert(dimensions.declutterBox);\n                            }\n                        }\n                        this.replayImageOrLabel_.apply(this, args);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.DRAW_CHARS:\n                    var begin = /** @type {number} */ (instruction[1]);\n                    var end = /** @type {number} */ (instruction[2]);\n                    var baseline = /** @type {number} */ (instruction[3]);\n                    var overflow = /** @type {number} */ (instruction[4]);\n                    fillKey = /** @type {string} */ (instruction[5]);\n                    var maxAngle = /** @type {number} */ (instruction[6]);\n                    var measurePixelRatio = /** @type {number} */ (instruction[7]);\n                    var offsetY = /** @type {number} */ (instruction[8]);\n                    strokeKey = /** @type {string} */ (instruction[9]);\n                    var strokeWidth = /** @type {number} */ (instruction[10]);\n                    text = /** @type {string} */ (instruction[11]);\n                    textKey = /** @type {string} */ (instruction[12]);\n                    var pixelRatioScale = [\n                        /** @type {number} */ (instruction[13]),\n                        /** @type {number} */ (instruction[13]),\n                    ];\n                    var textState = this.textStates[textKey];\n                    var font = textState.font;\n                    var textScale = [\n                        textState.scale[0] * measurePixelRatio,\n                        textState.scale[1] * measurePixelRatio,\n                    ];\n                    var cachedWidths = void 0;\n                    if (font in this.widths_) {\n                        cachedWidths = this.widths_[font];\n                    }\n                    else {\n                        cachedWidths = {};\n                        this.widths_[font] = cachedWidths;\n                    }\n                    var pathLength = lineStringLength(pixelCoordinates, begin, end, 2);\n                    var textLength = Math.abs(textScale[0]) *\n                        measureAndCacheTextWidth(font, text, cachedWidths);\n                    if (overflow || textLength <= pathLength) {\n                        var textAlign = this.textStates[textKey].textAlign;\n                        var startM = (pathLength - textLength) * TEXT_ALIGN[textAlign];\n                        var parts = drawTextOnPath(pixelCoordinates, begin, end, 2, text, startM, maxAngle, Math.abs(textScale[0]), measureAndCacheTextWidth, font, cachedWidths, viewRotationFromTransform ? 0 : this.viewRotation_);\n                        drawChars: if (parts) {\n                            /** @type {Array<ReplayImageOrLabelArgs>} */\n                            var replayImageOrLabelArgs = [];\n                            var c = void 0, cc = void 0, chars = void 0, label = void 0, part = void 0;\n                            if (strokeKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, '', strokeKey);\n                                    anchorX =\n                                        /** @type {number} */ (part[2]) +\n                                            (textScale[0] < 0 ? -strokeWidth : strokeWidth);\n                                    anchorY =\n                                        baseline * label.height +\n                                            ((0.5 - baseline) * 2 * strokeWidth * textScale[1]) /\n                                                textScale[0] -\n                                            offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (fillKey) {\n                                for (c = 0, cc = parts.length; c < cc; ++c) {\n                                    part = parts[c]; // x, y, anchorX, rotation, chunk\n                                    chars = /** @type {string} */ (part[4]);\n                                    label = this.createLabel(chars, textKey, fillKey, '');\n                                    anchorX = /** @type {number} */ (part[2]);\n                                    anchorY = baseline * label.height - offsetY;\n                                    var dimensions = this.calculateImageOrLabelDimensions_(label.width, label.height, part[0], part[1], label.width, label.height, anchorX, anchorY, 0, 0, part[3], pixelRatioScale, false, defaultPadding, false, feature);\n                                    if (opt_declutterTree &&\n                                        opt_declutterTree.collides(dimensions.declutterBox)) {\n                                        break drawChars;\n                                    }\n                                    replayImageOrLabelArgs.push([\n                                        context,\n                                        contextScale,\n                                        label,\n                                        dimensions,\n                                        1,\n                                        null,\n                                        null,\n                                    ]);\n                                }\n                            }\n                            if (opt_declutterTree) {\n                                opt_declutterTree.load(replayImageOrLabelArgs.map(getDeclutterBox));\n                            }\n                            for (var i_1 = 0, ii_1 = replayImageOrLabelArgs.length; i_1 < ii_1; ++i_1) {\n                                this.replayImageOrLabel_.apply(this, replayImageOrLabelArgs[i_1]);\n                            }\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.END_GEOMETRY:\n                    if (opt_featureCallback !== undefined) {\n                        feature = /** @type {import(\"../../Feature.js\").FeatureLike} */ (instruction[1]);\n                        var result = opt_featureCallback(feature, currentGeometry);\n                        if (result) {\n                            return result;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.FILL:\n                    if (batchSize) {\n                        pendingFill++;\n                    }\n                    else {\n                        this.fill_(context);\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.MOVE_TO_LINE_TO:\n                    d = /** @type {number} */ (instruction[1]);\n                    dd = /** @type {number} */ (instruction[2]);\n                    x = pixelCoordinates[d];\n                    y = pixelCoordinates[d + 1];\n                    roundX = (x + 0.5) | 0;\n                    roundY = (y + 0.5) | 0;\n                    if (roundX !== prevX || roundY !== prevY) {\n                        context.moveTo(x, y);\n                        prevX = roundX;\n                        prevY = roundY;\n                    }\n                    for (d += 2; d < dd; d += 2) {\n                        x = pixelCoordinates[d];\n                        y = pixelCoordinates[d + 1];\n                        roundX = (x + 0.5) | 0;\n                        roundY = (y + 0.5) | 0;\n                        if (d == dd - 2 || roundX !== prevX || roundY !== prevY) {\n                            context.lineTo(x, y);\n                            prevX = roundX;\n                            prevY = roundY;\n                        }\n                    }\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_FILL_STYLE:\n                    lastFillInstruction = instruction;\n                    this.alignFill_ = instruction[2];\n                    if (pendingFill) {\n                        this.fill_(context);\n                        pendingFill = 0;\n                        if (pendingStroke) {\n                            context.stroke();\n                            pendingStroke = 0;\n                        }\n                    }\n                    context.fillStyle =\n                        /** @type {import(\"../../colorlike.js\").ColorLike} */ (instruction[1]);\n                    ++i;\n                    break;\n                case CanvasInstruction.SET_STROKE_STYLE:\n                    lastStrokeInstruction = instruction;\n                    if (pendingStroke) {\n                        context.stroke();\n                        pendingStroke = 0;\n                    }\n                    this.setStrokeStyle_(context, /** @type {Array<*>} */ (instruction));\n                    ++i;\n                    break;\n                case CanvasInstruction.STROKE:\n                    if (batchSize) {\n                        pendingStroke++;\n                    }\n                    else {\n                        context.stroke();\n                    }\n                    ++i;\n                    break;\n                default: // consume the instruction anyway, to avoid an infinite loop\n                    ++i;\n                    break;\n            }\n        }\n        if (pendingFill) {\n            this.fill_(context);\n        }\n        if (pendingStroke) {\n            context.stroke();\n        }\n        return undefined;\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and text to integer pixels.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    Executor.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree) {\n        this.viewRotation_ = viewRotation;\n        this.execute_(context, contextScale, transform, this.instructions, snapToPixel, undefined, undefined, opt_declutterTree);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {FeatureCallback<T>} [opt_featureCallback] Feature callback.\n     * @param {import(\"../../extent.js\").Extent} [opt_hitExtent] Only check\n     *     features that intersect this extent.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    Executor.prototype.executeHitDetection = function (context, transform, viewRotation, opt_featureCallback, opt_hitExtent) {\n        this.viewRotation_ = viewRotation;\n        return this.execute_(context, 1, transform, this.hitDetectionInstructions, true, opt_featureCallback, opt_hitExtent);\n    };\n    return Executor;\n}());\nexport default Executor;\n//# sourceMappingURL=Executor.js.map","/**\n * @module ol/render/canvas/ExecutorGroup\n */\nimport Executor from './Executor.js';\nimport { buffer, createEmpty, extendCoordinate } from '../../extent.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { isEmpty } from '../../obj.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nimport { transform2D } from '../../geom/flat/transform.js';\n/**\n * @const\n * @type {Array<import(\"../canvas.js\").BuilderType>}\n */\nvar ORDER = ['Polygon', 'Circle', 'LineString', 'Image', 'Text', 'Default'];\nvar ExecutorGroup = /** @class */ (function () {\n    /**\n     * @param {import(\"../../extent.js\").Extent} maxExtent Max extent for clipping. When a\n     * `maxExtent` was set on the Builder for this executor group, the same `maxExtent`\n     * should be set here, unless the target context does not exceed that extent (which\n     * can be the case when rendering to tiles).\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {boolean} overlaps The executor group can have overlapping geometries.\n     * @param {!Object<string, !Object<import(\"../canvas.js\").BuilderType, import(\"../canvas.js\").SerializableInstructions>>} allInstructions\n     * The serializable instructions.\n     * @param {number} [opt_renderBuffer] Optional rendering buffer.\n     */\n    function ExecutorGroup(maxExtent, resolution, pixelRatio, overlaps, allInstructions, opt_renderBuffer) {\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        this.maxExtent_ = maxExtent;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overlaps_ = overlaps;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.resolution_ = resolution;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.renderBuffer_ = opt_renderBuffer;\n        /**\n         * @private\n         * @type {!Object<string, !Object<import(\"../canvas.js\").BuilderType, import(\"./Executor\").default>>}\n         */\n        this.executorsByZIndex_ = {};\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        this.hitDetectionContext_ = null;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        this.hitDetectionTransform_ = createTransform();\n        this.createExecutors_(allInstructions);\n    }\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    ExecutorGroup.prototype.clip = function (context, transform) {\n        var flatClipCoords = this.getClipCoords(transform);\n        context.beginPath();\n        context.moveTo(flatClipCoords[0], flatClipCoords[1]);\n        context.lineTo(flatClipCoords[2], flatClipCoords[3]);\n        context.lineTo(flatClipCoords[4], flatClipCoords[5]);\n        context.lineTo(flatClipCoords[6], flatClipCoords[7]);\n        context.clip();\n    };\n    /**\n     * Create executors and populate them using the provided instructions.\n     * @private\n     * @param {!Object<string, !Object<import(\"../canvas.js\").BuilderType, import(\"../canvas.js\").SerializableInstructions>>} allInstructions The serializable instructions\n     */\n    ExecutorGroup.prototype.createExecutors_ = function (allInstructions) {\n        for (var zIndex in allInstructions) {\n            var executors = this.executorsByZIndex_[zIndex];\n            if (executors === undefined) {\n                executors = {};\n                this.executorsByZIndex_[zIndex] = executors;\n            }\n            var instructionByZindex = allInstructions[zIndex];\n            for (var builderType in instructionByZindex) {\n                var instructions = instructionByZindex[builderType];\n                executors[builderType] = new Executor(this.resolution_, this.pixelRatio_, this.overlaps_, instructions);\n            }\n        }\n    };\n    /**\n     * @param {Array<import(\"../canvas.js\").BuilderType>} executors Executors.\n     * @return {boolean} Has executors of the provided types.\n     */\n    ExecutorGroup.prototype.hasExecutors = function (executors) {\n        for (var zIndex in this.executorsByZIndex_) {\n            var candidates = this.executorsByZIndex_[zIndex];\n            for (var i = 0, ii = executors.length; i < ii; ++i) {\n                if (executors[i] in candidates) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../../Feature.js\").FeatureLike, import(\"../../geom/SimpleGeometry.js\").default, number): T} callback Feature callback.\n     * @param {Array<import(\"../../Feature.js\").FeatureLike>} declutteredFeatures Decluttered features.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    ExecutorGroup.prototype.forEachFeatureAtCoordinate = function (coordinate, resolution, rotation, hitTolerance, callback, declutteredFeatures) {\n        hitTolerance = Math.round(hitTolerance);\n        var contextSize = hitTolerance * 2 + 1;\n        var transform = composeTransform(this.hitDetectionTransform_, hitTolerance + 0.5, hitTolerance + 0.5, 1 / resolution, -1 / resolution, -rotation, -coordinate[0], -coordinate[1]);\n        var newContext = !this.hitDetectionContext_;\n        if (newContext) {\n            this.hitDetectionContext_ = createCanvasContext2D(contextSize, contextSize);\n        }\n        var context = this.hitDetectionContext_;\n        if (context.canvas.width !== contextSize ||\n            context.canvas.height !== contextSize) {\n            context.canvas.width = contextSize;\n            context.canvas.height = contextSize;\n        }\n        else if (!newContext) {\n            context.clearRect(0, 0, contextSize, contextSize);\n        }\n        /**\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        var hitExtent;\n        if (this.renderBuffer_ !== undefined) {\n            hitExtent = createEmpty();\n            extendCoordinate(hitExtent, coordinate);\n            buffer(hitExtent, resolution * (this.renderBuffer_ + hitTolerance), hitExtent);\n        }\n        var indexes = getPixelIndexArray(hitTolerance);\n        var builderType;\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @return {T|undefined} Callback result.\n         */\n        function featureCallback(feature, geometry) {\n            var imageData = context.getImageData(0, 0, contextSize, contextSize).data;\n            for (var i_1 = 0, ii = indexes.length; i_1 < ii; i_1++) {\n                if (imageData[indexes[i_1]] > 0) {\n                    if (!declutteredFeatures ||\n                        (builderType !== 'Image' && builderType !== 'Text') ||\n                        declutteredFeatures.indexOf(feature) !== -1) {\n                        var idx = (indexes[i_1] - 3) / 4;\n                        var x = hitTolerance - (idx % contextSize);\n                        var y = hitTolerance - ((idx / contextSize) | 0);\n                        var result_1 = callback(feature, geometry, x * x + y * y);\n                        if (result_1) {\n                            return result_1;\n                        }\n                    }\n                    context.clearRect(0, 0, contextSize, contextSize);\n                    break;\n                }\n            }\n            return undefined;\n        }\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        var i, j, executors, executor, result;\n        for (i = zs.length - 1; i >= 0; --i) {\n            var zIndexKey = zs[i].toString();\n            executors = this.executorsByZIndex_[zIndexKey];\n            for (j = ORDER.length - 1; j >= 0; --j) {\n                builderType = ORDER[j];\n                executor = executors[builderType];\n                if (executor !== undefined) {\n                    result = executor.executeHitDetection(context, transform, rotation, featureCallback, hitExtent);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        return undefined;\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @return {Array<number>|null} Clip coordinates.\n     */\n    ExecutorGroup.prototype.getClipCoords = function (transform) {\n        var maxExtent = this.maxExtent_;\n        if (!maxExtent) {\n            return null;\n        }\n        var minX = maxExtent[0];\n        var minY = maxExtent[1];\n        var maxX = maxExtent[2];\n        var maxY = maxExtent[3];\n        var flatClipCoords = [minX, minY, minX, maxY, maxX, maxY, maxX, minY];\n        transform2D(flatClipCoords, 0, 8, 2, transform, flatClipCoords);\n        return flatClipCoords;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    ExecutorGroup.prototype.isEmpty = function () {\n        return isEmpty(this.executorsByZIndex_);\n    };\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} contextScale Scale of the context.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {boolean} snapToPixel Snap point symbols and test to integer pixel.\n     * @param {Array<import(\"../canvas.js\").BuilderType>} [opt_builderTypes] Ordered replay types to replay.\n     *     Default is {@link module:ol/render/replay~ORDER}\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    ExecutorGroup.prototype.execute = function (context, contextScale, transform, viewRotation, snapToPixel, opt_builderTypes, opt_declutterTree) {\n        /** @type {Array<number>} */\n        var zs = Object.keys(this.executorsByZIndex_).map(Number);\n        zs.sort(numberSafeCompareFunction);\n        // setup clipping so that the parts of over-simplified geometries are not\n        // visible outside the current extent when panning\n        if (this.maxExtent_) {\n            context.save();\n            this.clip(context, transform);\n        }\n        var builderTypes = opt_builderTypes ? opt_builderTypes : ORDER;\n        var i, ii, j, jj, replays, replay;\n        if (opt_declutterTree) {\n            zs.reverse();\n        }\n        for (i = 0, ii = zs.length; i < ii; ++i) {\n            var zIndexKey = zs[i].toString();\n            replays = this.executorsByZIndex_[zIndexKey];\n            for (j = 0, jj = builderTypes.length; j < jj; ++j) {\n                var builderType = builderTypes[j];\n                replay = replays[builderType];\n                if (replay !== undefined) {\n                    replay.execute(context, contextScale, transform, viewRotation, snapToPixel, opt_declutterTree);\n                }\n            }\n        }\n        if (this.maxExtent_) {\n            context.restore();\n        }\n    };\n    return ExecutorGroup;\n}());\n/**\n * This cache is used to store arrays of indexes for calculated pixel circles\n * to increase performance.\n * It is a static property to allow each Replaygroup to access it.\n * @type {Object<number, Array<number>>}\n */\nvar circlePixelIndexArrayCache = {};\n/**\n * This methods creates an array with indexes of all pixels within a circle,\n * ordered by how close they are to the center.\n * A cache is used to increase performance.\n * @param {number} radius Radius.\n * @return {Array<number>} An array with indexes within a circle.\n */\nexport function getPixelIndexArray(radius) {\n    if (circlePixelIndexArrayCache[radius] !== undefined) {\n        return circlePixelIndexArrayCache[radius];\n    }\n    var size = radius * 2 + 1;\n    var maxDistanceSq = radius * radius;\n    var distances = new Array(maxDistanceSq + 1);\n    for (var i = 0; i <= radius; ++i) {\n        for (var j = 0; j <= radius; ++j) {\n            var distanceSq = i * i + j * j;\n            if (distanceSq > maxDistanceSq) {\n                break;\n            }\n            var distance = distances[distanceSq];\n            if (!distance) {\n                distance = [];\n                distances[distanceSq] = distance;\n            }\n            distance.push(((radius + i) * size + (radius + j)) * 4 + 3);\n            if (i > 0) {\n                distance.push(((radius - i) * size + (radius + j)) * 4 + 3);\n            }\n            if (j > 0) {\n                distance.push(((radius + i) * size + (radius - j)) * 4 + 3);\n                if (i > 0) {\n                    distance.push(((radius - i) * size + (radius - j)) * 4 + 3);\n                }\n            }\n        }\n    }\n    var pixelIndex = [];\n    for (var i = 0, ii = distances.length; i < ii; ++i) {\n        if (distances[i]) {\n            pixelIndex.push.apply(pixelIndex, distances[i]);\n        }\n    }\n    circlePixelIndexArrayCache[radius] = pixelIndex;\n    return pixelIndex;\n}\nexport default ExecutorGroup;\n//# sourceMappingURL=ExecutorGroup.js.map","/**\n * @module ol/layer/VectorTileRenderType\n */\n/**\n * @enum {string}\n * Render mode for vector tiles:\n * @api\n */\nexport default {\n    /**\n     * Vector tiles are rendered as images. Great performance, but\n     * point symbols and texts are always rotated with the view and pixels are\n     * scaled during zoom animations\n     * @api\n     * @deprecated\n     */\n    IMAGE: 'image',\n    /**\n     * Polygon and line elements are rendered as images, so pixels\n     * are scaled during zoom animations. Point symbols and texts are accurately\n     * rendered as vectors and can stay upright on rotated views.\n     * @api\n     */\n    HYBRID: 'hybrid',\n    /**\n     * Everything is rendered as vectors. Use this mode for improved\n     * performance on vector tile layers with only a few rendered features (e.g.\n     * for highlighting a subset of features of another layer with the same\n     * source).\n     * @api\n     */\n    VECTOR: 'vector',\n};\n//# sourceMappingURL=VectorTileRenderType.js.map","/**\n * @module ol/render/canvas/Immediate\n */\n// FIXME test, especially polygons with holes and multipolygons\n// FIXME need to handle large thick features (where pixel size matters)\n// FIXME add offset and end to ol/geom/flat/transform~transform2D?\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport VectorContext from '../VectorContext.js';\nimport { asColorLike } from '../../colorlike.js';\nimport { compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { defaultFillStyle, defaultFont, defaultLineCap, defaultLineDash, defaultLineDashOffset, defaultLineJoin, defaultLineWidth, defaultMiterLimit, defaultStrokeStyle, defaultTextAlign, defaultTextBaseline, } from '../canvas.js';\nimport { equals } from '../../array.js';\nimport { intersects } from '../../extent.js';\nimport { transform2D } from '../../geom/flat/transform.js';\nimport { transformGeom2D } from '../../geom/SimpleGeometry.js';\n/**\n * @classdesc\n * A concrete subclass of {@link module:ol/render/VectorContext~VectorContext VectorContext} that implements\n * direct rendering of features and geometries to an HTML5 Canvas context.\n * Instances of this class are created internally by the library and\n * provided to application code as vectorContext member of the\n * {@link module:ol/render/Event~RenderEvent RenderEvent} object associated with postcompose, precompose and\n * render events emitted by layers and maps.\n */\nvar CanvasImmediateRenderer = /** @class */ (function (_super) {\n    __extends(CanvasImmediateRenderer, _super);\n    /**\n     * @param {CanvasRenderingContext2D} context Context.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../extent.js\").Extent} extent Extent.\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     * @param {number} viewRotation View rotation.\n     * @param {number} [opt_squaredTolerance] Optional squared tolerance for simplification.\n     * @param {import(\"../../proj.js\").TransformFunction} [opt_userTransform] Transform from user to view projection.\n     */\n    function CanvasImmediateRenderer(context, pixelRatio, extent, transform, viewRotation, opt_squaredTolerance, opt_userTransform) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.context_ = context;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ = pixelRatio;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.extent_ = extent;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.transform_ = transform;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.viewRotation_ = viewRotation;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.squaredTolerance_ = opt_squaredTolerance;\n        /**\n         * @private\n         * @type {import(\"../../proj.js\").TransformFunction}\n         */\n        _this.userTransform_ = opt_userTransform;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.contextFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.contextStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.contextTextState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.fillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.strokeState_ = null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n         */\n        _this.image_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageAnchorY_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageHeight_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOpacity_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageOriginY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.imageRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.imageScale_ = [0, 0];\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.imageWidth_ = 0;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.text_ = '';\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetX_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textOffsetY_ = 0;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.textRotateWithView_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.textRotation_ = 0;\n        /**\n         * @private\n         * @type {import(\"../../size.js\").Size}\n         */\n        _this.textScale_ = [0, 0];\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").FillState}\n         */\n        _this.textFillState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").StrokeState}\n         */\n        _this.textStrokeState_ = null;\n        /**\n         * @private\n         * @type {?import(\"../canvas.js\").TextState}\n         */\n        _this.textState_ = null;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.pixelCoordinates_ = [];\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tmpLocalTransform_ = createTransform();\n        return _this;\n    }\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawImages_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.image_) {\n            return;\n        }\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var localTransform = this.tmpLocalTransform_;\n        var alpha = context.globalAlpha;\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha * this.imageOpacity_;\n        }\n        var rotation = this.imageRotation_;\n        if (this.imageRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (var i = 0, ii = pixelCoordinates.length; i < ii; i += 2) {\n            var x = pixelCoordinates[i] - this.imageAnchorX_;\n            var y = pixelCoordinates[i + 1] - this.imageAnchorY_;\n            if (rotation !== 0 ||\n                this.imageScale_[0] != 1 ||\n                this.imageScale_[1] != 1) {\n                var centerX = x + this.imageAnchorX_;\n                var centerY = y + this.imageAnchorY_;\n                composeTransform(localTransform, centerX, centerY, 1, 1, rotation, -centerX, -centerY);\n                context.setTransform.apply(context, localTransform);\n                context.translate(centerX, centerY);\n                context.scale(this.imageScale_[0], this.imageScale_[1]);\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, -this.imageAnchorX_, -this.imageAnchorY_, this.imageWidth_, this.imageHeight_);\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                context.drawImage(this.image_, this.imageOriginX_, this.imageOriginY_, this.imageWidth_, this.imageHeight_, x, y, this.imageWidth_, this.imageHeight_);\n            }\n        }\n        if (this.imageOpacity_ != 1) {\n            context.globalAlpha = alpha;\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.drawText_ = function (flatCoordinates, offset, end, stride) {\n        if (!this.textState_ || this.text_ === '') {\n            return;\n        }\n        if (this.textFillState_) {\n            this.setContextFillState_(this.textFillState_);\n        }\n        if (this.textStrokeState_) {\n            this.setContextStrokeState_(this.textStrokeState_);\n        }\n        this.setContextTextState_(this.textState_);\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        var context = this.context_;\n        var rotation = this.textRotation_;\n        if (this.textRotateWithView_) {\n            rotation += this.viewRotation_;\n        }\n        for (; offset < end; offset += stride) {\n            var x = pixelCoordinates[offset] + this.textOffsetX_;\n            var y = pixelCoordinates[offset + 1] + this.textOffsetY_;\n            if (rotation !== 0 ||\n                this.textScale_[0] != 1 ||\n                this.textScale_[1] != 1) {\n                var localTransform = composeTransform(this.tmpLocalTransform_, x, y, 1, 1, rotation, -x, -y);\n                context.setTransform.apply(context, localTransform);\n                context.translate(x, y);\n                context.scale(this.textScale_[0], this.textScale_[1]);\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, 0, 0);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, 0, 0);\n                }\n                context.setTransform(1, 0, 0, 1, 0, 0);\n            }\n            else {\n                if (this.textStrokeState_) {\n                    context.strokeText(this.text_, x, y);\n                }\n                if (this.textFillState_) {\n                    context.fillText(this.text_, x, y);\n                }\n            }\n        }\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {number} end End.\n     * @param {number} stride Stride.\n     * @param {boolean} close Close.\n     * @private\n     * @return {number} end End.\n     */\n    CanvasImmediateRenderer.prototype.moveToLineTo_ = function (flatCoordinates, offset, end, stride, close) {\n        var context = this.context_;\n        var pixelCoordinates = transform2D(flatCoordinates, offset, end, stride, this.transform_, this.pixelCoordinates_);\n        context.moveTo(pixelCoordinates[0], pixelCoordinates[1]);\n        var length = pixelCoordinates.length;\n        if (close) {\n            length -= 2;\n        }\n        for (var i = 2; i < length; i += 2) {\n            context.lineTo(pixelCoordinates[i], pixelCoordinates[i + 1]);\n        }\n        if (close) {\n            context.closePath();\n        }\n        return end;\n    };\n    /**\n     * @param {Array<number>} flatCoordinates Flat coordinates.\n     * @param {number} offset Offset.\n     * @param {Array<number>} ends Ends.\n     * @param {number} stride Stride.\n     * @private\n     * @return {number} End.\n     */\n    CanvasImmediateRenderer.prototype.drawRings_ = function (flatCoordinates, offset, ends, stride) {\n        for (var i = 0, ii = ends.length; i < ii; ++i) {\n            offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, true);\n        }\n        return offset;\n    };\n    /**\n     * Render a circle geometry into the canvas.  Rendering is immediate and uses\n     * the current fill and stroke styles.\n     *\n     * @param {import(\"../../geom/Circle.js\").default} geometry Circle geometry.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawCircle = function (geometry) {\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.fillState_ || this.strokeState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var pixelCoordinates = transformGeom2D(geometry, this.transform_, this.pixelCoordinates_);\n            var dx = pixelCoordinates[2] - pixelCoordinates[0];\n            var dy = pixelCoordinates[3] - pixelCoordinates[1];\n            var radius = Math.sqrt(dx * dx + dy * dy);\n            var context = this.context_;\n            context.beginPath();\n            context.arc(pixelCoordinates[0], pixelCoordinates[1], radius, 0, 2 * Math.PI);\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            this.drawText_(geometry.getCenter(), 0, 2, 2);\n        }\n    };\n    /**\n     * Set the rendering style.  Note that since this is an immediate rendering API,\n     * any `zIndex` on the provided style will be ignored.\n     *\n     * @param {import(\"../../style/Style.js\").default} style The rendering style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.setStyle = function (style) {\n        this.setFillStrokeStyle(style.getFill(), style.getStroke());\n        this.setImageStyle(style.getImage());\n        this.setTextStyle(style.getText());\n    };\n    /**\n     * @param {import(\"../../transform.js\").Transform} transform Transform.\n     */\n    CanvasImmediateRenderer.prototype.setTransform = function (transform) {\n        this.transform_ = transform;\n    };\n    /**\n     * Render a geometry into the canvas.  Call\n     * {@link module:ol/render/canvas/Immediate~CanvasImmediateRenderer#setStyle renderer.setStyle()} first to set the rendering style.\n     *\n     * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry The geometry to render.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawGeometry = function (geometry) {\n        var type = geometry.getType();\n        switch (type) {\n            case 'Point':\n                this.drawPoint(\n                /** @type {import(\"../../geom/Point.js\").default} */ (geometry));\n                break;\n            case 'LineString':\n                this.drawLineString(\n                /** @type {import(\"../../geom/LineString.js\").default} */ (geometry));\n                break;\n            case 'Polygon':\n                this.drawPolygon(\n                /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry));\n                break;\n            case 'MultiPoint':\n                this.drawMultiPoint(\n                /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry));\n                break;\n            case 'MultiLineString':\n                this.drawMultiLineString(\n                /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry));\n                break;\n            case 'MultiPolygon':\n                this.drawMultiPolygon(\n                /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry));\n                break;\n            case 'GeometryCollection':\n                this.drawGeometryCollection(\n                /** @type {import(\"../../geom/GeometryCollection.js\").default} */ (geometry));\n                break;\n            case 'Circle':\n                this.drawCircle(\n                /** @type {import(\"../../geom/Circle.js\").default} */ (geometry));\n                break;\n            default:\n        }\n    };\n    /**\n     * Render a feature into the canvas.  Note that any `zIndex` on the provided\n     * style will be ignored - features are rendered immediately in the order that\n     * this method is called.  If you need `zIndex` support, you should be using an\n     * {@link module:ol/layer/Vector~VectorLayer VectorLayer} instead.\n     *\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {import(\"../../style/Style.js\").default} style Style.\n     * @api\n     */\n    CanvasImmediateRenderer.prototype.drawFeature = function (feature, style) {\n        var geometry = style.getGeometryFunction()(feature);\n        if (!geometry || !intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        this.setStyle(style);\n        this.drawGeometry(geometry);\n    };\n    /**\n     * Render a GeometryCollection to the canvas.  Rendering is immediate and\n     * uses the current styles appropriate for each geometry in the collection.\n     *\n     * @param {import(\"../../geom/GeometryCollection.js\").default} geometry Geometry collection.\n     */\n    CanvasImmediateRenderer.prototype.drawGeometryCollection = function (geometry) {\n        var geometries = geometry.getGeometriesArray();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            this.drawGeometry(geometries[i]);\n        }\n    };\n    /**\n     * Render a Point geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Point.js\").default|import(\"../Feature.js\").default} geometry Point geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Point.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a MultiPoint geometry  into the canvas.  Rendering is immediate and\n     * uses the current style.\n     *\n     * @param {import(\"../../geom/MultiPoint.js\").default|import(\"../Feature.js\").default} geometry MultiPoint geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPoint = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPoint.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var flatCoordinates = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        if (this.image_) {\n            this.drawImages_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n        if (this.text_ !== '') {\n            this.drawText_(flatCoordinates, 0, flatCoordinates.length, stride);\n        }\n    };\n    /**\n     * Render a LineString into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/LineString.js\").default|import(\"../Feature.js\").default} geometry LineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/LineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            context.beginPath();\n            this.moveToLineTo_(flatCoordinates, 0, flatCoordinates.length, geometry.getStride(), false);\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoint = geometry.getFlatMidpoint();\n            this.drawText_(flatMidpoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render a MultiLineString geometry into the canvas.  Rendering is immediate\n     * and uses the current style.\n     *\n     * @param {import(\"../../geom/MultiLineString.js\").default|import(\"../Feature.js\").default} geometry MultiLineString geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiLineString = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry =\n                /** @type {import(\"../../geom/MultiLineString.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        var geometryExtent = geometry.getExtent();\n        if (!intersects(this.extent_, geometryExtent)) {\n            return;\n        }\n        if (this.strokeState_) {\n            this.setContextStrokeState_(this.strokeState_);\n            var context = this.context_;\n            var flatCoordinates = geometry.getFlatCoordinates();\n            var offset = 0;\n            var ends = /** @type {Array<number>} */ (geometry.getEnds());\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = ends.length; i < ii; ++i) {\n                offset = this.moveToLineTo_(flatCoordinates, offset, ends[i], stride, false);\n            }\n            context.stroke();\n        }\n        if (this.text_ !== '') {\n            var flatMidpoints = geometry.getFlatMidpoints();\n            this.drawText_(flatMidpoints, 0, flatMidpoints.length, 2);\n        }\n    };\n    /**\n     * Render a Polygon geometry into the canvas.  Rendering is immediate and uses\n     * the current style.\n     *\n     * @param {import(\"../../geom/Polygon.js\").default|import(\"../Feature.js\").default} geometry Polygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/Polygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            context.beginPath();\n            this.drawRings_(geometry.getOrientedFlatCoordinates(), 0, \n            /** @type {Array<number>} */ (geometry.getEnds()), geometry.getStride());\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoint = geometry.getFlatInteriorPoint();\n            this.drawText_(flatInteriorPoint, 0, 2, 2);\n        }\n    };\n    /**\n     * Render MultiPolygon geometry into the canvas.  Rendering is immediate and\n     * uses the current style.\n     * @param {import(\"../../geom/MultiPolygon.js\").default} geometry MultiPolygon geometry.\n     */\n    CanvasImmediateRenderer.prototype.drawMultiPolygon = function (geometry) {\n        if (this.squaredTolerance_) {\n            geometry = /** @type {import(\"../../geom/MultiPolygon.js\").default} */ (geometry.simplifyTransformed(this.squaredTolerance_, this.userTransform_));\n        }\n        if (!intersects(this.extent_, geometry.getExtent())) {\n            return;\n        }\n        if (this.strokeState_ || this.fillState_) {\n            if (this.fillState_) {\n                this.setContextFillState_(this.fillState_);\n            }\n            if (this.strokeState_) {\n                this.setContextStrokeState_(this.strokeState_);\n            }\n            var context = this.context_;\n            var flatCoordinates = geometry.getOrientedFlatCoordinates();\n            var offset = 0;\n            var endss = geometry.getEndss();\n            var stride = geometry.getStride();\n            context.beginPath();\n            for (var i = 0, ii = endss.length; i < ii; ++i) {\n                var ends = endss[i];\n                offset = this.drawRings_(flatCoordinates, offset, ends, stride);\n            }\n            if (this.fillState_) {\n                context.fill();\n            }\n            if (this.strokeState_) {\n                context.stroke();\n            }\n        }\n        if (this.text_ !== '') {\n            var flatInteriorPoints = geometry.getFlatInteriorPoints();\n            this.drawText_(flatInteriorPoints, 0, flatInteriorPoints.length, 2);\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").FillState} fillState Fill state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextFillState_ = function (fillState) {\n        var context = this.context_;\n        var contextFillState = this.contextFillState_;\n        if (!contextFillState) {\n            context.fillStyle = fillState.fillStyle;\n            this.contextFillState_ = {\n                fillStyle: fillState.fillStyle,\n            };\n        }\n        else {\n            if (contextFillState.fillStyle != fillState.fillStyle) {\n                contextFillState.fillStyle = fillState.fillStyle;\n                context.fillStyle = fillState.fillStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").StrokeState} strokeState Stroke state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextStrokeState_ = function (strokeState) {\n        var context = this.context_;\n        var contextStrokeState = this.contextStrokeState_;\n        if (!contextStrokeState) {\n            context.lineCap = strokeState.lineCap;\n            if (context.setLineDash) {\n                context.setLineDash(strokeState.lineDash);\n                context.lineDashOffset = strokeState.lineDashOffset;\n            }\n            context.lineJoin = strokeState.lineJoin;\n            context.lineWidth = strokeState.lineWidth;\n            context.miterLimit = strokeState.miterLimit;\n            context.strokeStyle = strokeState.strokeStyle;\n            this.contextStrokeState_ = {\n                lineCap: strokeState.lineCap,\n                lineDash: strokeState.lineDash,\n                lineDashOffset: strokeState.lineDashOffset,\n                lineJoin: strokeState.lineJoin,\n                lineWidth: strokeState.lineWidth,\n                miterLimit: strokeState.miterLimit,\n                strokeStyle: strokeState.strokeStyle,\n            };\n        }\n        else {\n            if (contextStrokeState.lineCap != strokeState.lineCap) {\n                contextStrokeState.lineCap = strokeState.lineCap;\n                context.lineCap = strokeState.lineCap;\n            }\n            if (context.setLineDash) {\n                if (!equals(contextStrokeState.lineDash, strokeState.lineDash)) {\n                    context.setLineDash((contextStrokeState.lineDash = strokeState.lineDash));\n                }\n                if (contextStrokeState.lineDashOffset != strokeState.lineDashOffset) {\n                    contextStrokeState.lineDashOffset = strokeState.lineDashOffset;\n                    context.lineDashOffset = strokeState.lineDashOffset;\n                }\n            }\n            if (contextStrokeState.lineJoin != strokeState.lineJoin) {\n                contextStrokeState.lineJoin = strokeState.lineJoin;\n                context.lineJoin = strokeState.lineJoin;\n            }\n            if (contextStrokeState.lineWidth != strokeState.lineWidth) {\n                contextStrokeState.lineWidth = strokeState.lineWidth;\n                context.lineWidth = strokeState.lineWidth;\n            }\n            if (contextStrokeState.miterLimit != strokeState.miterLimit) {\n                contextStrokeState.miterLimit = strokeState.miterLimit;\n                context.miterLimit = strokeState.miterLimit;\n            }\n            if (contextStrokeState.strokeStyle != strokeState.strokeStyle) {\n                contextStrokeState.strokeStyle = strokeState.strokeStyle;\n                context.strokeStyle = strokeState.strokeStyle;\n            }\n        }\n    };\n    /**\n     * @param {import(\"../canvas.js\").TextState} textState Text state.\n     * @private\n     */\n    CanvasImmediateRenderer.prototype.setContextTextState_ = function (textState) {\n        var context = this.context_;\n        var contextTextState = this.contextTextState_;\n        var textAlign = textState.textAlign\n            ? textState.textAlign\n            : defaultTextAlign;\n        if (!contextTextState) {\n            context.font = textState.font;\n            context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            this.contextTextState_ = {\n                font: textState.font,\n                textAlign: textAlign,\n                textBaseline: textState.textBaseline,\n            };\n        }\n        else {\n            if (contextTextState.font != textState.font) {\n                contextTextState.font = textState.font;\n                context.font = textState.font;\n            }\n            if (contextTextState.textAlign != textAlign) {\n                contextTextState.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n                context.textAlign = /** @type {CanvasTextAlign} */ (textAlign);\n            }\n            if (contextTextState.textBaseline != textState.textBaseline) {\n                contextTextState.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n                context.textBaseline = /** @type {CanvasTextBaseline} */ (textState.textBaseline);\n            }\n        }\n    };\n    /**\n     * Set the fill and stroke style for subsequent draw operations.  To clear\n     * either fill or stroke styles, pass null for the appropriate parameter.\n     *\n     * @param {import(\"../../style/Fill.js\").default} fillStyle Fill style.\n     * @param {import(\"../../style/Stroke.js\").default} strokeStyle Stroke style.\n     */\n    CanvasImmediateRenderer.prototype.setFillStrokeStyle = function (fillStyle, strokeStyle) {\n        var _this = this;\n        if (!fillStyle) {\n            this.fillState_ = null;\n        }\n        else {\n            var fillStyleColor = fillStyle.getColor();\n            this.fillState_ = {\n                fillStyle: asColorLike(fillStyleColor ? fillStyleColor : defaultFillStyle),\n            };\n        }\n        if (!strokeStyle) {\n            this.strokeState_ = null;\n        }\n        else {\n            var strokeStyleColor = strokeStyle.getColor();\n            var strokeStyleLineCap = strokeStyle.getLineCap();\n            var strokeStyleLineDash = strokeStyle.getLineDash();\n            var strokeStyleLineDashOffset = strokeStyle.getLineDashOffset();\n            var strokeStyleLineJoin = strokeStyle.getLineJoin();\n            var strokeStyleWidth = strokeStyle.getWidth();\n            var strokeStyleMiterLimit = strokeStyle.getMiterLimit();\n            var lineDash = strokeStyleLineDash\n                ? strokeStyleLineDash\n                : defaultLineDash;\n            this.strokeState_ = {\n                lineCap: strokeStyleLineCap !== undefined\n                    ? strokeStyleLineCap\n                    : defaultLineCap,\n                lineDash: this.pixelRatio_ === 1\n                    ? lineDash\n                    : lineDash.map(function (n) { return n * _this.pixelRatio_; }),\n                lineDashOffset: (strokeStyleLineDashOffset\n                    ? strokeStyleLineDashOffset\n                    : defaultLineDashOffset) * this.pixelRatio_,\n                lineJoin: strokeStyleLineJoin !== undefined\n                    ? strokeStyleLineJoin\n                    : defaultLineJoin,\n                lineWidth: (strokeStyleWidth !== undefined\n                    ? strokeStyleWidth\n                    : defaultLineWidth) * this.pixelRatio_,\n                miterLimit: strokeStyleMiterLimit !== undefined\n                    ? strokeStyleMiterLimit\n                    : defaultMiterLimit,\n                strokeStyle: asColorLike(strokeStyleColor ? strokeStyleColor : defaultStrokeStyle),\n            };\n        }\n    };\n    /**\n     * Set the image style for subsequent draw operations.  Pass null to remove\n     * the image style.\n     *\n     * @param {import(\"../../style/Image.js\").default} imageStyle Image style.\n     */\n    CanvasImmediateRenderer.prototype.setImageStyle = function (imageStyle) {\n        var imageSize;\n        if (!imageStyle || !(imageSize = imageStyle.getSize())) {\n            this.image_ = null;\n            return;\n        }\n        var imageAnchor = imageStyle.getAnchor();\n        var imageOrigin = imageStyle.getOrigin();\n        this.image_ = imageStyle.getImage(this.pixelRatio_);\n        this.imageAnchorX_ = imageAnchor[0] * this.pixelRatio_;\n        this.imageAnchorY_ = imageAnchor[1] * this.pixelRatio_;\n        this.imageHeight_ = imageSize[1] * this.pixelRatio_;\n        this.imageOpacity_ = imageStyle.getOpacity();\n        this.imageOriginX_ = imageOrigin[0];\n        this.imageOriginY_ = imageOrigin[1];\n        this.imageRotateWithView_ = imageStyle.getRotateWithView();\n        this.imageRotation_ = imageStyle.getRotation();\n        this.imageScale_ = imageStyle.getScaleArray();\n        this.imageWidth_ = imageSize[0] * this.pixelRatio_;\n    };\n    /**\n     * Set the text style for subsequent draw operations.  Pass null to\n     * remove the text style.\n     *\n     * @param {import(\"../../style/Text.js\").default} textStyle Text style.\n     */\n    CanvasImmediateRenderer.prototype.setTextStyle = function (textStyle) {\n        if (!textStyle) {\n            this.text_ = '';\n        }\n        else {\n            var textFillStyle = textStyle.getFill();\n            if (!textFillStyle) {\n                this.textFillState_ = null;\n            }\n            else {\n                var textFillStyleColor = textFillStyle.getColor();\n                this.textFillState_ = {\n                    fillStyle: asColorLike(textFillStyleColor ? textFillStyleColor : defaultFillStyle),\n                };\n            }\n            var textStrokeStyle = textStyle.getStroke();\n            if (!textStrokeStyle) {\n                this.textStrokeState_ = null;\n            }\n            else {\n                var textStrokeStyleColor = textStrokeStyle.getColor();\n                var textStrokeStyleLineCap = textStrokeStyle.getLineCap();\n                var textStrokeStyleLineDash = textStrokeStyle.getLineDash();\n                var textStrokeStyleLineDashOffset = textStrokeStyle.getLineDashOffset();\n                var textStrokeStyleLineJoin = textStrokeStyle.getLineJoin();\n                var textStrokeStyleWidth = textStrokeStyle.getWidth();\n                var textStrokeStyleMiterLimit = textStrokeStyle.getMiterLimit();\n                this.textStrokeState_ = {\n                    lineCap: textStrokeStyleLineCap !== undefined\n                        ? textStrokeStyleLineCap\n                        : defaultLineCap,\n                    lineDash: textStrokeStyleLineDash\n                        ? textStrokeStyleLineDash\n                        : defaultLineDash,\n                    lineDashOffset: textStrokeStyleLineDashOffset\n                        ? textStrokeStyleLineDashOffset\n                        : defaultLineDashOffset,\n                    lineJoin: textStrokeStyleLineJoin !== undefined\n                        ? textStrokeStyleLineJoin\n                        : defaultLineJoin,\n                    lineWidth: textStrokeStyleWidth !== undefined\n                        ? textStrokeStyleWidth\n                        : defaultLineWidth,\n                    miterLimit: textStrokeStyleMiterLimit !== undefined\n                        ? textStrokeStyleMiterLimit\n                        : defaultMiterLimit,\n                    strokeStyle: asColorLike(textStrokeStyleColor ? textStrokeStyleColor : defaultStrokeStyle),\n                };\n            }\n            var textFont = textStyle.getFont();\n            var textOffsetX = textStyle.getOffsetX();\n            var textOffsetY = textStyle.getOffsetY();\n            var textRotateWithView = textStyle.getRotateWithView();\n            var textRotation = textStyle.getRotation();\n            var textScale = textStyle.getScaleArray();\n            var textText = textStyle.getText();\n            var textTextAlign = textStyle.getTextAlign();\n            var textTextBaseline = textStyle.getTextBaseline();\n            this.textState_ = {\n                font: textFont !== undefined ? textFont : defaultFont,\n                textAlign: textTextAlign !== undefined ? textTextAlign : defaultTextAlign,\n                textBaseline: textTextBaseline !== undefined\n                    ? textTextBaseline\n                    : defaultTextBaseline,\n            };\n            this.text_ =\n                textText !== undefined\n                    ? Array.isArray(textText)\n                        ? textText.reduce(function (acc, t, i) { return (acc += i % 2 ? ' ' : t); }, '')\n                        : textText\n                    : '';\n            this.textOffsetX_ =\n                textOffsetX !== undefined ? this.pixelRatio_ * textOffsetX : 0;\n            this.textOffsetY_ =\n                textOffsetY !== undefined ? this.pixelRatio_ * textOffsetY : 0;\n            this.textRotateWithView_ =\n                textRotateWithView !== undefined ? textRotateWithView : false;\n            this.textRotation_ = textRotation !== undefined ? textRotation : 0;\n            this.textScale_ = [\n                this.pixelRatio_ * textScale[0],\n                this.pixelRatio_ * textScale[1],\n            ];\n        }\n    };\n    return CanvasImmediateRenderer;\n}(VectorContext));\nexport default CanvasImmediateRenderer;\n//# sourceMappingURL=Immediate.js.map","/**\n * @module ol/style/IconAnchorUnits\n */\n/**\n * Icon anchor units. One of 'fraction', 'pixels'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Anchor is a fraction\n     * @api\n     */\n    FRACTION: 'fraction',\n    /**\n     * Anchor is in pixels\n     * @api\n     */\n    PIXELS: 'pixels',\n};\n//# sourceMappingURL=IconAnchorUnits.js.map","/**\n * @module ol/style/IconOrigin\n */\n/**\n * Icon origin. One of 'bottom-left', 'bottom-right', 'top-left', 'top-right'.\n * @enum {string}\n */\nexport default {\n    /**\n     * Origin is at bottom left\n     * @api\n     */\n    BOTTOM_LEFT: 'bottom-left',\n    /**\n     * Origin is at bottom right\n     * @api\n     */\n    BOTTOM_RIGHT: 'bottom-right',\n    /**\n     * Origin is at top left\n     * @api\n     */\n    TOP_LEFT: 'top-left',\n    /**\n     * Origin is at top right\n     * @api\n     */\n    TOP_RIGHT: 'top-right',\n};\n//# sourceMappingURL=IconOrigin.js.map","/**\n * @module ol/style/IconImageCache\n */\nimport { asString } from '../color.js';\n/**\n * @classdesc\n * Singleton class. Available through {@link module:ol/style/IconImageCache.shared}.\n */\nvar IconImageCache = /** @class */ (function () {\n    function IconImageCache() {\n        /**\n         * @type {!Object<string, import(\"./IconImage.js\").default>}\n         * @private\n         */\n        this.cache_ = {};\n        /**\n         * @type {number}\n         * @private\n         */\n        this.cacheSize_ = 0;\n        /**\n         * @type {number}\n         * @private\n         */\n        this.maxCacheSize_ = 32;\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.clear = function () {\n        this.cache_ = {};\n        this.cacheSize_ = 0;\n    };\n    /**\n     * @return {boolean} Can expire cache.\n     */\n    IconImageCache.prototype.canExpireCache = function () {\n        return this.cacheSize_ > this.maxCacheSize_;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    IconImageCache.prototype.expire = function () {\n        if (this.canExpireCache()) {\n            var i = 0;\n            for (var key in this.cache_) {\n                var iconImage = this.cache_[key];\n                if ((i++ & 3) === 0 && !iconImage.hasListener()) {\n                    delete this.cache_[key];\n                    --this.cacheSize_;\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @return {import(\"./IconImage.js\").default} Icon image.\n     */\n    IconImageCache.prototype.get = function (src, crossOrigin, color) {\n        var key = getKey(src, crossOrigin, color);\n        return key in this.cache_ ? this.cache_[key] : null;\n    };\n    /**\n     * @param {string} src Src.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../color.js\").Color} color Color.\n     * @param {import(\"./IconImage.js\").default} iconImage Icon image.\n     */\n    IconImageCache.prototype.set = function (src, crossOrigin, color, iconImage) {\n        var key = getKey(src, crossOrigin, color);\n        this.cache_[key] = iconImage;\n        ++this.cacheSize_;\n    };\n    /**\n     * Set the cache size of the icon cache. Default is `32`. Change this value when\n     * your map uses more than 32 different icon images and you are not caching icon\n     * styles on the application level.\n     * @param {number} maxCacheSize Cache max size.\n     * @api\n     */\n    IconImageCache.prototype.setSize = function (maxCacheSize) {\n        this.maxCacheSize_ = maxCacheSize;\n        this.expire();\n    };\n    return IconImageCache;\n}());\n/**\n * @param {string} src Src.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {string} Cache key.\n */\nfunction getKey(src, crossOrigin, color) {\n    var colorString = color ? asString(color) : 'null';\n    return crossOrigin + ':' + src + ':' + colorString;\n}\nexport default IconImageCache;\n/**\n * The {@link module:ol/style/IconImageCache~IconImageCache} for\n * {@link module:ol/style/Icon~Icon} images.\n * @api\n */\nexport var shared = new IconImageCache();\n//# sourceMappingURL=IconImageCache.js.map","/**\n * @module ol/style/IconImage\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventTarget from '../events/Target.js';\nimport EventType from '../events/EventType.js';\nimport ImageState from '../ImageState.js';\nimport { asString } from '../color.js';\nimport { createCanvasContext2D } from '../dom.js';\nimport { shared as iconImageCache } from './IconImageCache.js';\nimport { listenImage } from '../Image.js';\n/**\n * @type {CanvasRenderingContext2D}\n */\nvar taintedTestContext = null;\nvar IconImage = /** @class */ (function (_super) {\n    __extends(IconImage, _super);\n    /**\n     * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n     * @param {string|undefined} src Src.\n     * @param {import(\"../size.js\").Size} size Size.\n     * @param {?string} crossOrigin Cross origin.\n     * @param {import(\"../ImageState.js\").default} imageState Image state.\n     * @param {import(\"../color.js\").Color} color Color.\n     */\n    function IconImage(image, src, size, crossOrigin, imageState, color) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.hitDetectionImage_ = null;\n        /**\n         * @private\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        _this.image_ = !image ? new Image() : image;\n        if (crossOrigin !== null) {\n            /** @type {HTMLImageElement} */ (_this.image_).crossOrigin = crossOrigin;\n        }\n        /**\n         * @private\n         * @type {Object<number, HTMLCanvasElement>}\n         */\n        _this.canvas_ = {};\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = color;\n        /**\n         * @private\n         * @type {?function():void}\n         */\n        _this.unlisten_ = null;\n        /**\n         * @private\n         * @type {import(\"../ImageState.js\").default}\n         */\n        _this.imageState_ = imageState;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = size;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        _this.src_ = src;\n        /**\n         * @private\n         */\n        _this.tainted_;\n        return _this;\n    }\n    /**\n     * @private\n     * @return {boolean} The image canvas is tainted.\n     */\n    IconImage.prototype.isTainted_ = function () {\n        if (this.tainted_ === undefined && this.imageState_ === ImageState.LOADED) {\n            if (!taintedTestContext) {\n                taintedTestContext = createCanvasContext2D(1, 1);\n            }\n            taintedTestContext.drawImage(this.image_, 0, 0);\n            try {\n                taintedTestContext.getImageData(0, 0, 1, 1);\n                this.tainted_ = false;\n            }\n            catch (e) {\n                taintedTestContext = null;\n                this.tainted_ = true;\n            }\n        }\n        return this.tainted_ === true;\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.dispatchChangeEvent_ = function () {\n        this.dispatchEvent(EventType.CHANGE);\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageError_ = function () {\n        this.imageState_ = ImageState.ERROR;\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @private\n     */\n    IconImage.prototype.handleImageLoad_ = function () {\n        this.imageState_ = ImageState.LOADED;\n        if (this.size_) {\n            this.image_.width = this.size_[0];\n            this.image_.height = this.size_[1];\n        }\n        else {\n            this.size_ = [this.image_.width, this.image_.height];\n        }\n        this.unlistenImage_();\n        this.dispatchChangeEvent_();\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     */\n    IconImage.prototype.getImage = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? this.canvas_[pixelRatio] : this.image_;\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Image or Canvas element.\n     */\n    IconImage.prototype.getPixelRatio = function (pixelRatio) {\n        this.replaceColor_(pixelRatio);\n        return this.canvas_[pixelRatio] ? pixelRatio : 1;\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    IconImage.prototype.getImageState = function () {\n        return this.imageState_;\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    IconImage.prototype.getHitDetectionImage = function () {\n        if (!this.hitDetectionImage_) {\n            if (this.isTainted_()) {\n                var width = this.size_[0];\n                var height = this.size_[1];\n                var context = createCanvasContext2D(width, height);\n                context.fillRect(0, 0, width, height);\n                this.hitDetectionImage_ = context.canvas;\n            }\n            else {\n                this.hitDetectionImage_ = this.image_;\n            }\n        }\n        return this.hitDetectionImage_;\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    IconImage.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * @return {string|undefined} Image src.\n     */\n    IconImage.prototype.getSrc = function () {\n        return this.src_;\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    IconImage.prototype.load = function () {\n        if (this.imageState_ == ImageState.IDLE) {\n            this.imageState_ = ImageState.LOADING;\n            try {\n                /** @type {HTMLImageElement} */ (this.image_).src = this.src_;\n            }\n            catch (e) {\n                this.handleImageError_();\n            }\n            this.unlisten_ = listenImage(this.image_, this.handleImageLoad_.bind(this), this.handleImageError_.bind(this));\n        }\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @private\n     */\n    IconImage.prototype.replaceColor_ = function (pixelRatio) {\n        if (!this.color_ ||\n            this.canvas_[pixelRatio] ||\n            this.imageState_ !== ImageState.LOADED) {\n            return;\n        }\n        var canvas = document.createElement('canvas');\n        this.canvas_[pixelRatio] = canvas;\n        canvas.width = Math.ceil(this.image_.width * pixelRatio);\n        canvas.height = Math.ceil(this.image_.height * pixelRatio);\n        var ctx = canvas.getContext('2d');\n        ctx.scale(pixelRatio, pixelRatio);\n        ctx.drawImage(this.image_, 0, 0);\n        ctx.globalCompositeOperation = 'multiply';\n        // Internet Explorer 11 does not support the multiply operation.\n        // If the canvas is tainted in Internet Explorer this still produces\n        // a solid color image with the shape of the icon.\n        if (ctx.globalCompositeOperation === 'multiply' || this.isTainted_()) {\n            ctx.fillStyle = asString(this.color_);\n            ctx.fillRect(0, 0, canvas.width / pixelRatio, canvas.height / pixelRatio);\n            ctx.globalCompositeOperation = 'destination-in';\n            ctx.drawImage(this.image_, 0, 0);\n        }\n        else {\n            var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n            var data = imgData.data;\n            var r = this.color_[0] / 255.0;\n            var g = this.color_[1] / 255.0;\n            var b = this.color_[2] / 255.0;\n            var a = this.color_[3];\n            for (var i = 0, ii = data.length; i < ii; i += 4) {\n                data[i] *= r;\n                data[i + 1] *= g;\n                data[i + 2] *= b;\n                data[i + 3] *= a;\n            }\n            ctx.putImageData(imgData, 0, 0);\n        }\n    };\n    /**\n     * Discards event handlers which listen for load completion or errors.\n     *\n     * @private\n     */\n    IconImage.prototype.unlistenImage_ = function () {\n        if (this.unlisten_) {\n            this.unlisten_();\n            this.unlisten_ = null;\n        }\n    };\n    return IconImage;\n}(EventTarget));\n/**\n * @param {HTMLImageElement|HTMLCanvasElement} image Image.\n * @param {string} src Src.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {?string} crossOrigin Cross origin.\n * @param {import(\"../ImageState.js\").default} imageState Image state.\n * @param {import(\"../color.js\").Color} color Color.\n * @return {IconImage} Icon image.\n */\nexport function get(image, src, size, crossOrigin, imageState, color) {\n    var iconImage = iconImageCache.get(src, crossOrigin, color);\n    if (!iconImage) {\n        iconImage = new IconImage(image, src, size, crossOrigin, imageState, color);\n        iconImageCache.set(src, crossOrigin, color, iconImage);\n    }\n    return iconImage;\n}\nexport default IconImage;\n//# sourceMappingURL=IconImage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/style/Icon\n */\nimport EventType from '../events/EventType.js';\nimport IconAnchorUnits from './IconAnchorUnits.js';\nimport IconOrigin from './IconOrigin.js';\nimport ImageState from '../ImageState.js';\nimport ImageStyle from './Image.js';\nimport { asArray } from '../color.js';\nimport { assert } from '../asserts.js';\nimport { get as getIconImage } from './IconImage.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {Array<number>} [anchor=[0.5, 0.5]] Anchor. Default value is the icon center.\n * @property {import(\"./IconOrigin.js\").default} [anchorOrigin='top-left'] Origin of the anchor: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorXUnits='fraction'] Units in which the anchor x value is\n * specified. A value of `'fraction'` indicates the x value is a fraction of the icon. A value of `'pixels'` indicates\n * the x value in pixels.\n * @property {import(\"./IconAnchorUnits.js\").default} [anchorYUnits='fraction'] Units in which the anchor y value is\n * specified. A value of `'fraction'` indicates the y value is a fraction of the icon. A value of `'pixels'` indicates\n * the y value in pixels.\n * @property {import(\"../color.js\").Color|string} [color] Color to tint the icon. If not specified,\n * the icon will be left as is.\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images. Note that you must provide a\n * `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {HTMLImageElement|HTMLCanvasElement} [img] Image object for the icon. If the `src` option is not provided then the\n * provided image must already be loaded. And in that case, it is required\n * to provide the size of the image, with the `imgSize` option.\n * @property {Array<number>} [offset=[0, 0]] Offset, which, together with the size and the offset origin, define the\n * sub-rectangle to use from the original icon image.\n * @property {Array<number>} [displacement=[0,0]] Displacement of the icon.\n * @property {import(\"./IconOrigin.js\").default} [offsetOrigin='top-left'] Origin of the offset: `bottom-left`, `bottom-right`,\n * `top-left` or `top-right`.\n * @property {number} [opacity=1] Opacity of the icon.\n * @property {number|import(\"../size.js\").Size} [scale=1] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the icon with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {import(\"../size.js\").Size} [size] Icon size in pixel. Can be used together with `offset` to define the\n * sub-rectangle to use from the origin (sprite) icon image.\n * @property {import(\"../size.js\").Size} [imgSize] Image size in pixels. Only required if `img` is set and `src` is not, and\n * for SVG images in Internet Explorer 11. The provided `imgSize` needs to match the actual size of the image.\n * @property {string} [src] Image source URI.\n * @property {\"declutter\"|\"obstacle\"|\"none\"|undefined} [declutterMode] Declutter mode\n */\n/**\n * @classdesc\n * Set icon style for vector features.\n * @api\n */\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Icon(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        /**\n         * @type {number}\n         */\n        var opacity = options.opacity !== undefined ? options.opacity : 1;\n        /**\n         * @type {number}\n         */\n        var rotation = options.rotation !== undefined ? options.rotation : 0;\n        /**\n         * @type {number|import(\"../size.js\").Size}\n         */\n        var scale = options.scale !== undefined ? options.scale : 1;\n        /**\n         * @type {boolean}\n         */\n        var rotateWithView = options.rotateWithView !== undefined ? options.rotateWithView : false;\n        _this = _super.call(this, {\n            opacity: opacity,\n            rotation: rotation,\n            scale: scale,\n            displacement: options.displacement !== undefined ? options.displacement : [0, 0],\n            rotateWithView: rotateWithView,\n            declutterMode: options.declutterMode,\n        }) || this;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.anchor_ = options.anchor !== undefined ? options.anchor : [0.5, 0.5];\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.normalizedAnchor_ = null;\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.anchorOrigin_ =\n            options.anchorOrigin !== undefined\n                ? options.anchorOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorXUnits_ =\n            options.anchorXUnits !== undefined\n                ? options.anchorXUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {import(\"./IconAnchorUnits.js\").default}\n         */\n        _this.anchorYUnits_ =\n            options.anchorYUnits !== undefined\n                ? options.anchorYUnits\n                : IconAnchorUnits.FRACTION;\n        /**\n         * @private\n         * @type {?string}\n         */\n        _this.crossOrigin_ =\n            options.crossOrigin !== undefined ? options.crossOrigin : null;\n        /**\n         * @type {HTMLImageElement|HTMLCanvasElement}\n         */\n        var image = options.img !== undefined ? options.img : null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size|undefined}\n         */\n        _this.imgSize_ = options.imgSize;\n        /**\n         * @type {string|undefined}\n         */\n        var src = options.src;\n        assert(!(src !== undefined && image), 4); // `image` and `src` cannot be provided at the same time\n        assert(!image || (image && _this.imgSize_), 5); // `imgSize` must be set when `image` is provided\n        if ((src === undefined || src.length === 0) && image) {\n            src = /** @type {HTMLImageElement} */ (image).src || getUid(image);\n        }\n        assert(src !== undefined && src.length > 0, 6); // A defined and non-empty `src` or `image` must be provided\n        /**\n         * @type {import(\"../ImageState.js\").default}\n         */\n        var imageState = options.src !== undefined ? ImageState.IDLE : ImageState.LOADED;\n        /**\n         * @private\n         * @type {import(\"../color.js\").Color}\n         */\n        _this.color_ = options.color !== undefined ? asArray(options.color) : null;\n        /**\n         * @private\n         * @type {import(\"./IconImage.js\").default}\n         */\n        _this.iconImage_ = getIconImage(image, \n        /** @type {string} */ (src), _this.imgSize_ !== undefined ? _this.imgSize_ : null, _this.crossOrigin_, imageState, _this.color_);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.offset_ = options.offset !== undefined ? options.offset : [0, 0];\n        /**\n         * @private\n         * @type {import(\"./IconOrigin.js\").default}\n         */\n        _this.offsetOrigin_ =\n            options.offsetOrigin !== undefined\n                ? options.offsetOrigin\n                : IconOrigin.TOP_LEFT;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.origin_ = null;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        _this.size_ = options.size !== undefined ? options.size : null;\n        return _this;\n    }\n    /**\n     * Clones the style. The underlying Image/HTMLCanvasElement is not cloned.\n     * @return {Icon} The cloned style.\n     * @api\n     */\n    Icon.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Icon({\n            anchor: this.anchor_.slice(),\n            anchorOrigin: this.anchorOrigin_,\n            anchorXUnits: this.anchorXUnits_,\n            anchorYUnits: this.anchorYUnits_,\n            color: this.color_ && this.color_.slice\n                ? this.color_.slice()\n                : this.color_ || undefined,\n            crossOrigin: this.crossOrigin_,\n            imgSize: this.imgSize_,\n            offset: this.offset_.slice(),\n            offsetOrigin: this.offsetOrigin_,\n            opacity: this.getOpacity(),\n            rotateWithView: this.getRotateWithView(),\n            rotation: this.getRotation(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            size: this.size_ !== null ? this.size_.slice() : undefined,\n            src: this.getSrc(),\n            displacement: this.getDisplacement().slice(),\n            declutterMode: this.getDeclutterMode(),\n        });\n    };\n    /**\n     * Get the anchor point in pixels. The anchor determines the center point for the\n     * symbolizer.\n     * @return {Array<number>} Anchor.\n     * @api\n     */\n    Icon.prototype.getAnchor = function () {\n        var anchor = this.normalizedAnchor_;\n        if (!anchor) {\n            anchor = this.anchor_;\n            var size = this.getSize();\n            if (this.anchorXUnits_ == IconAnchorUnits.FRACTION ||\n                this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                if (!size) {\n                    return null;\n                }\n                anchor = this.anchor_.slice();\n                if (this.anchorXUnits_ == IconAnchorUnits.FRACTION) {\n                    anchor[0] *= size[0];\n                }\n                if (this.anchorYUnits_ == IconAnchorUnits.FRACTION) {\n                    anchor[1] *= size[1];\n                }\n            }\n            if (this.anchorOrigin_ != IconOrigin.TOP_LEFT) {\n                if (!size) {\n                    return null;\n                }\n                if (anchor === this.anchor_) {\n                    anchor = this.anchor_.slice();\n                }\n                if (this.anchorOrigin_ == IconOrigin.TOP_RIGHT ||\n                    this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                    anchor[0] = -anchor[0] + size[0];\n                }\n                if (this.anchorOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                    this.anchorOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                    anchor[1] = -anchor[1] + size[1];\n                }\n            }\n            this.normalizedAnchor_ = anchor;\n        }\n        var displacement = this.getDisplacement();\n        return [anchor[0] - displacement[0], anchor[1] + displacement[1]];\n    };\n    /**\n     * Set the anchor point. The anchor determines the center point for the\n     * symbolizer.\n     *\n     * @param {Array<number>} anchor Anchor.\n     * @api\n     */\n    Icon.prototype.setAnchor = function (anchor) {\n        this.anchor_ = anchor;\n        this.normalizedAnchor_ = null;\n    };\n    /**\n     * Get the icon color.\n     * @return {import(\"../color.js\").Color} Color.\n     * @api\n     */\n    Icon.prototype.getColor = function () {\n        return this.color_;\n    };\n    /**\n     * Get the image icon.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {HTMLImageElement|HTMLCanvasElement} Image or Canvas element.\n     * @api\n     */\n    Icon.prototype.getImage = function (pixelRatio) {\n        return this.iconImage_.getImage(pixelRatio);\n    };\n    /**\n     * Get the pixel ratio.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} The pixel ratio of the image.\n     * @api\n     */\n    Icon.prototype.getPixelRatio = function (pixelRatio) {\n        return this.iconImage_.getPixelRatio(pixelRatio);\n    };\n    /**\n     * @return {import(\"../size.js\").Size} Image size.\n     */\n    Icon.prototype.getImageSize = function () {\n        return this.iconImage_.getSize();\n    };\n    /**\n     * @return {import(\"../ImageState.js\").default} Image state.\n     */\n    Icon.prototype.getImageState = function () {\n        return this.iconImage_.getImageState();\n    };\n    /**\n     * @return {HTMLImageElement|HTMLCanvasElement} Image element.\n     */\n    Icon.prototype.getHitDetectionImage = function () {\n        return this.iconImage_.getHitDetectionImage();\n    };\n    /**\n     * Get the origin of the symbolizer.\n     * @return {Array<number>} Origin.\n     * @api\n     */\n    Icon.prototype.getOrigin = function () {\n        if (this.origin_) {\n            return this.origin_;\n        }\n        var offset = this.offset_;\n        if (this.offsetOrigin_ != IconOrigin.TOP_LEFT) {\n            var size = this.getSize();\n            var iconImageSize = this.iconImage_.getSize();\n            if (!size || !iconImageSize) {\n                return null;\n            }\n            offset = offset.slice();\n            if (this.offsetOrigin_ == IconOrigin.TOP_RIGHT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[0] = iconImageSize[0] - size[0] - offset[0];\n            }\n            if (this.offsetOrigin_ == IconOrigin.BOTTOM_LEFT ||\n                this.offsetOrigin_ == IconOrigin.BOTTOM_RIGHT) {\n                offset[1] = iconImageSize[1] - size[1] - offset[1];\n            }\n        }\n        this.origin_ = offset;\n        return this.origin_;\n    };\n    /**\n     * Get the image URL.\n     * @return {string|undefined} Image src.\n     * @api\n     */\n    Icon.prototype.getSrc = function () {\n        return this.iconImage_.getSrc();\n    };\n    /**\n     * Get the size of the icon (in pixels).\n     * @return {import(\"../size.js\").Size} Image size.\n     * @api\n     */\n    Icon.prototype.getSize = function () {\n        return !this.size_ ? this.iconImage_.getSize() : this.size_;\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.listenImageChange = function (listener) {\n        this.iconImage_.addEventListener(EventType.CHANGE, listener);\n    };\n    /**\n     * Load not yet loaded URI.\n     * When rendering a feature with an icon style, the vector renderer will\n     * automatically call this method. However, you might want to call this\n     * method yourself for preloading or other purposes.\n     * @api\n     */\n    Icon.prototype.load = function () {\n        this.iconImage_.load();\n    };\n    /**\n     * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n     */\n    Icon.prototype.unlistenImageChange = function (listener) {\n        this.iconImage_.removeEventListener(EventType.CHANGE, listener);\n    };\n    return Icon;\n}(ImageStyle));\nexport default Icon;\n//# sourceMappingURL=Icon.js.map","/**\n * @module ol/render/canvas/hitdetect\n */\nimport CanvasImmediateRenderer from './Immediate.js';\nimport IconAnchorUnits from '../../style/IconAnchorUnits.js';\nimport { Icon } from '../../style.js';\nimport { clamp } from '../../math.js';\nimport { createCanvasContext2D } from '../../dom.js';\nimport { intersects } from '../../extent.js';\nimport { numberSafeCompareFunction } from '../../array.js';\nexport var HIT_DETECT_RESOLUTION = 0.5;\n/**\n * @param {import(\"../../size.js\").Size} size Canvas size in css pixels.\n * @param {Array<import(\"../../transform.js\").Transform>} transforms Transforms\n * for rendering features to all worlds of the viewport, from coordinates to css\n * pixels.\n * @param {Array<import(\"../../Feature.js\").FeatureLike>} features\n * Features to consider for hit detection.\n * @param {import(\"../../style/Style.js\").StyleFunction|undefined} styleFunction\n * Layer style function.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @return {ImageData} Hit detection image data.\n */\nexport function createHitDetectionImageData(size, transforms, features, styleFunction, extent, resolution, rotation) {\n    var width = size[0] * HIT_DETECT_RESOLUTION;\n    var height = size[1] * HIT_DETECT_RESOLUTION;\n    var context = createCanvasContext2D(width, height);\n    context.imageSmoothingEnabled = false;\n    var canvas = context.canvas;\n    var renderer = new CanvasImmediateRenderer(context, HIT_DETECT_RESOLUTION, extent, null, rotation);\n    var featureCount = features.length;\n    // Stretch hit detection index to use the whole available color range\n    var indexFactor = Math.floor((256 * 256 * 256 - 1) / featureCount);\n    var featuresByZIndex = {};\n    for (var i = 1; i <= featureCount; ++i) {\n        var feature = features[i - 1];\n        var featureStyleFunction = feature.getStyleFunction() || styleFunction;\n        if (!styleFunction) {\n            continue;\n        }\n        var styles = featureStyleFunction(feature, resolution);\n        if (!styles) {\n            continue;\n        }\n        if (!Array.isArray(styles)) {\n            styles = [styles];\n        }\n        var index = i * indexFactor;\n        var color = '#' + ('000000' + index.toString(16)).slice(-6);\n        for (var j = 0, jj = styles.length; j < jj; ++j) {\n            var originalStyle = styles[j];\n            var geometry = originalStyle.getGeometryFunction()(feature);\n            if (!geometry || !intersects(extent, geometry.getExtent())) {\n                continue;\n            }\n            var style = originalStyle.clone();\n            var fill = style.getFill();\n            if (fill) {\n                fill.setColor(color);\n            }\n            var stroke = style.getStroke();\n            if (stroke) {\n                stroke.setColor(color);\n                stroke.setLineDash(null);\n            }\n            style.setText(undefined);\n            var image = originalStyle.getImage();\n            if (image && image.getOpacity() !== 0) {\n                var imgSize = image.getImageSize();\n                if (!imgSize) {\n                    continue;\n                }\n                var imgContext = createCanvasContext2D(imgSize[0], imgSize[1], undefined, { alpha: false });\n                var img = imgContext.canvas;\n                imgContext.fillStyle = color;\n                imgContext.fillRect(0, 0, img.width, img.height);\n                style.setImage(new Icon({\n                    img: img,\n                    imgSize: imgSize,\n                    anchor: image.getAnchor(),\n                    anchorXUnits: IconAnchorUnits.PIXELS,\n                    anchorYUnits: IconAnchorUnits.PIXELS,\n                    offset: image.getOrigin(),\n                    opacity: 1,\n                    size: image.getSize(),\n                    scale: image.getScale(),\n                    rotation: image.getRotation(),\n                    rotateWithView: image.getRotateWithView(),\n                }));\n            }\n            var zIndex = style.getZIndex() || 0;\n            var byGeometryType = featuresByZIndex[zIndex];\n            if (!byGeometryType) {\n                byGeometryType = {};\n                featuresByZIndex[zIndex] = byGeometryType;\n                byGeometryType['Polygon'] = [];\n                byGeometryType['Circle'] = [];\n                byGeometryType['LineString'] = [];\n                byGeometryType['Point'] = [];\n            }\n            byGeometryType[geometry.getType().replace('Multi', '')].push(geometry, style);\n        }\n    }\n    var zIndexKeys = Object.keys(featuresByZIndex)\n        .map(Number)\n        .sort(numberSafeCompareFunction);\n    for (var i = 0, ii = zIndexKeys.length; i < ii; ++i) {\n        var byGeometryType = featuresByZIndex[zIndexKeys[i]];\n        for (var type in byGeometryType) {\n            var geomAndStyle = byGeometryType[type];\n            for (var j = 0, jj = geomAndStyle.length; j < jj; j += 2) {\n                renderer.setStyle(geomAndStyle[j + 1]);\n                for (var k = 0, kk = transforms.length; k < kk; ++k) {\n                    renderer.setTransform(transforms[k]);\n                    renderer.drawGeometry(geomAndStyle[j]);\n                }\n            }\n        }\n    }\n    return context.getImageData(0, 0, canvas.width, canvas.height);\n}\n/**\n * @param {import(\"../../pixel\").Pixel} pixel Pixel coordinate on the hit\n * detection canvas in css pixels.\n * @param {Array<import(\"../../Feature\").FeatureLike>} features Features. Has to\n * match the `features` array that was passed to `createHitDetectionImageData()`.\n * @param {ImageData} imageData Hit detection image data generated by\n * `createHitDetectionImageData()`.\n * @return {Array<import(\"../../Feature\").FeatureLike>} features Features.\n */\nexport function hitDetect(pixel, features, imageData) {\n    var resultFeatures = [];\n    if (imageData) {\n        var x = Math.floor(Math.round(pixel[0]) * HIT_DETECT_RESOLUTION);\n        var y = Math.floor(Math.round(pixel[1]) * HIT_DETECT_RESOLUTION);\n        // The pixel coordinate is clamped down to the hit-detect canvas' size to account\n        // for browsers returning coordinates slightly larger than the actual canvas size\n        // due to a non-integer pixel ratio.\n        var index = (clamp(x, 0, imageData.width - 1) +\n            clamp(y, 0, imageData.height - 1) * imageData.width) *\n            4;\n        var r = imageData.data[index];\n        var g = imageData.data[index + 1];\n        var b = imageData.data[index + 2];\n        var i = b + 256 * (g + 256 * r);\n        var indexFactor = Math.floor((256 * 256 * 256 - 1) / features.length);\n        if (i && i % indexFactor === 0) {\n            resultFeatures.push(features[i / indexFactor - 1]);\n        }\n    }\n    return resultFeatures;\n}\n//# sourceMappingURL=hitdetect.js.map","/**\n * @module ol/renderer/vector\n */\nimport ImageState from '../ImageState.js';\nimport { getUid } from '../util.js';\n/**\n * Feature callback. The callback will be called with three arguments. The first\n * argument is one {@link module:ol/Feature~Feature feature} or {@link module:ol/render/Feature~RenderFeature render feature}\n * at the pixel, the second is the {@link module:ol/layer/Layer~Layer layer} of the feature and will be null for\n * unmanaged layers. The third is the {@link module:ol/geom/SimpleGeometry~SimpleGeometry} of the feature. For features\n * with a GeometryCollection geometry, it will be the first detected geometry from the collection.\n * @template T\n * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>, import(\"../geom/SimpleGeometry.js\").default): T} FeatureCallback\n */\n/**\n * Tolerance for geometry simplification in device pixels.\n * @type {number}\n */\nvar SIMPLIFY_TOLERANCE = 0.5;\n/**\n * @const\n * @type {Object<import(\"../geom/Geometry.js\").Type,\n *                function(import(\"../render/canvas/BuilderGroup.js\").default, import(\"../geom/Geometry.js\").default,\n *                         import(\"../style/Style.js\").default, Object): void>}\n */\nvar GEOMETRY_RENDERERS = {\n    'Point': renderPointGeometry,\n    'LineString': renderLineStringGeometry,\n    'Polygon': renderPolygonGeometry,\n    'MultiPoint': renderMultiPointGeometry,\n    'MultiLineString': renderMultiLineStringGeometry,\n    'MultiPolygon': renderMultiPolygonGeometry,\n    'GeometryCollection': renderGeometryCollectionGeometry,\n    'Circle': renderCircleGeometry,\n};\n/**\n * @param {import(\"../Feature.js\").FeatureLike} feature1 Feature 1.\n * @param {import(\"../Feature.js\").FeatureLike} feature2 Feature 2.\n * @return {number} Order.\n */\nexport function defaultOrder(feature1, feature2) {\n    return parseInt(getUid(feature1), 10) - parseInt(getUid(feature2), 10);\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Squared pixel tolerance.\n */\nexport function getSquaredTolerance(resolution, pixelRatio) {\n    var tolerance = getTolerance(resolution, pixelRatio);\n    return tolerance * tolerance;\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Pixel tolerance.\n */\nexport function getTolerance(resolution, pixelRatio) {\n    return (SIMPLIFY_TOLERANCE * resolution) / pixelRatio;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderCircleGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var circleReplay = builderGroup.getBuilder(style.getZIndex(), 'Circle');\n        circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        circleReplay.drawCircle(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {function(import(\"../events/Event.js\").default): void} listener Listener function.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Transform from user to view projection.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n * @return {boolean} `true` if style is loading.\n */\nexport function renderFeature(replayGroup, feature, style, squaredTolerance, listener, opt_transform, opt_declutterBuilderGroup) {\n    var loading = false;\n    var imageStyle = style.getImage();\n    if (imageStyle) {\n        var imageState = imageStyle.getImageState();\n        if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n            imageStyle.unlistenImageChange(listener);\n        }\n        else {\n            if (imageState == ImageState.IDLE) {\n                imageStyle.load();\n            }\n            imageStyle.listenImageChange(listener);\n            loading = true;\n        }\n    }\n    renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup);\n    return loading;\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {import(\"../proj.js\").TransformFunction} [opt_transform] Optional transform function.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderFeatureInternal(replayGroup, feature, style, squaredTolerance, opt_transform, opt_declutterBuilderGroup) {\n    var geometry = style.getGeometryFunction()(feature);\n    if (!geometry) {\n        return;\n    }\n    var simplifiedGeometry = geometry.simplifyTransformed(squaredTolerance, opt_transform);\n    var renderer = style.getRenderer();\n    if (renderer) {\n        renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n    }\n    else {\n        var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n        geometryRenderer(replayGroup, simplifiedGeometry, style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/Geometry.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n */\nfunction renderGeometry(replayGroup, geometry, style, feature) {\n    if (geometry.getType() == 'GeometryCollection') {\n        var geometries = \n        /** @type {import(\"../geom/GeometryCollection.js\").default} */ (geometry).getGeometries();\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            renderGeometry(replayGroup, geometries[i], style, feature);\n        }\n        return;\n    }\n    var replay = replayGroup.getBuilder(style.getZIndex(), 'Default');\n    replay.drawCustom(\n    /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geometry), feature, style.getRenderer(), style.getHitDetectionRenderer());\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} replayGroup Replay group.\n * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderGeometryCollectionGeometry(replayGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var geometries = geometry.getGeometriesArray();\n    var i, ii;\n    for (i = 0, ii = geometries.length; i < ii; ++i) {\n        var geometryRenderer = GEOMETRY_RENDERERS[geometries[i].getType()];\n        geometryRenderer(replayGroup, geometries[i], style, feature, opt_declutterBuilderGroup);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/LineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), 'LineString');\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiLineString.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiLineStringGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var strokeStyle = style.getStroke();\n    if (strokeStyle) {\n        var lineStringReplay = builderGroup.getBuilder(style.getZIndex(), 'LineString');\n        lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n        lineStringReplay.drawMultiLineString(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").default} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (strokeStyle || fillStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), 'Polygon');\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawMultiPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Point.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageBuilderGroup = builderGroup;\n        if (opt_declutterBuilderGroup) {\n            var declutterMode = imageStyle.getDeclutterMode();\n            if (declutterMode !== 'none') {\n                imageBuilderGroup = opt_declutterBuilderGroup;\n                if (declutterMode === 'obstacle') {\n                    // draw in non-declutter group:\n                    var imageReplay_1 = builderGroup.getBuilder(style.getZIndex(), 'Image');\n                    imageReplay_1.setImageStyle(imageStyle, declutterImageWithText);\n                    imageReplay_1.drawPoint(geometry, feature);\n                }\n                else if (textStyle && textStyle.getText()) {\n                    declutterImageWithText = {};\n                }\n            }\n        }\n        var imageReplay = imageBuilderGroup.getBuilder(style.getZIndex(), 'Image');\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textBuilderGroup = builderGroup;\n        if (opt_declutterBuilderGroup) {\n            textBuilderGroup = opt_declutterBuilderGroup;\n        }\n        var textReplay = textBuilderGroup.getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/MultiPoint.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderMultiPointGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var imageStyle = style.getImage();\n    var textStyle = style.getText();\n    /** @type {import(\"../render/canvas.js\").DeclutterImageWithText} */\n    var declutterImageWithText;\n    if (imageStyle) {\n        if (imageStyle.getImageState() != ImageState.LOADED) {\n            return;\n        }\n        var imageBuilderGroup = builderGroup;\n        if (opt_declutterBuilderGroup) {\n            var declutterMode = imageStyle.getDeclutterMode();\n            if (declutterMode !== 'none') {\n                imageBuilderGroup = opt_declutterBuilderGroup;\n                if (declutterMode === 'obstacle') {\n                    // draw in non-declutter group:\n                    var imageReplay_2 = builderGroup.getBuilder(style.getZIndex(), 'Image');\n                    imageReplay_2.setImageStyle(imageStyle, declutterImageWithText);\n                    imageReplay_2.drawMultiPoint(geometry, feature);\n                }\n                else if (textStyle && textStyle.getText()) {\n                    declutterImageWithText = {};\n                }\n            }\n        }\n        var imageReplay = imageBuilderGroup.getBuilder(style.getZIndex(), 'Image');\n        imageReplay.setImageStyle(imageStyle, declutterImageWithText);\n        imageReplay.drawMultiPoint(geometry, feature);\n    }\n    if (textStyle && textStyle.getText()) {\n        var textBuilderGroup = builderGroup;\n        if (opt_declutterBuilderGroup) {\n            textBuilderGroup = opt_declutterBuilderGroup;\n        }\n        var textReplay = textBuilderGroup.getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle, declutterImageWithText);\n        textReplay.drawText(geometry, feature);\n    }\n}\n/**\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n * @param {import(\"../geom/Polygon.js\").default|import(\"../render/Feature.js\").default} geometry Geometry.\n * @param {import(\"../style/Style.js\").default} style Style.\n * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @param {import(\"../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n */\nfunction renderPolygonGeometry(builderGroup, geometry, style, feature, opt_declutterBuilderGroup) {\n    var fillStyle = style.getFill();\n    var strokeStyle = style.getStroke();\n    if (fillStyle || strokeStyle) {\n        var polygonReplay = builderGroup.getBuilder(style.getZIndex(), 'Polygon');\n        polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n        polygonReplay.drawPolygon(geometry, feature);\n    }\n    var textStyle = style.getText();\n    if (textStyle && textStyle.getText()) {\n        var textReplay = (opt_declutterBuilderGroup || builderGroup).getBuilder(style.getZIndex(), 'Text');\n        textReplay.setTextStyle(textStyle);\n        textReplay.drawText(geometry, feature);\n    }\n}\n//# sourceMappingURL=vector.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/VectorTileLayer\n */\nimport CanvasBuilderGroup from '../../render/canvas/BuilderGroup.js';\nimport CanvasExecutorGroup from '../../render/canvas/ExecutorGroup.js';\nimport CanvasTileLayerRenderer from './TileLayer.js';\nimport TileState from '../../TileState.js';\nimport VectorTileRenderType from '../../layer/VectorTileRenderType.js';\nimport ViewHint from '../../ViewHint.js';\nimport { HIT_DETECT_RESOLUTION, createHitDetectionImageData, hitDetect, } from '../../render/canvas/hitdetect.js';\nimport { apply as applyTransform, create as createTransform, multiply, reset as resetTransform, scale, scale as scaleTransform, translate as translateTransform, } from '../../transform.js';\nimport { boundingExtent, buffer, containsExtent, equals, getIntersection, getTopLeft, intersects, } from '../../extent.js';\nimport { getSquaredTolerance as getSquaredRenderTolerance, renderFeature, } from '../vector.js';\nimport { getUid } from '../../util.js';\nimport { toSize } from '../../size.js';\nimport { wrapX } from '../../coordinate.js';\n/**\n * @type {!Object<string, Array<import(\"../../render/canvas.js\").BuilderType>>}\n */\nvar IMAGE_REPLAYS = {\n    'image': ['Polygon', 'Circle', 'LineString', 'Image', 'Text'],\n    'hybrid': ['Polygon', 'LineString'],\n    'vector': [],\n};\n/**\n * @type {!Object<string, Array<import(\"../../render/canvas.js\").BuilderType>>}\n */\nvar VECTOR_REPLAYS = {\n    'hybrid': ['Image', 'Text', 'Default'],\n    'vector': ['Polygon', 'Circle', 'LineString', 'Image', 'Text', 'Default'],\n};\n/**\n * @classdesc\n * Canvas renderer for vector tile layers.\n * @api\n * @extends {CanvasTileLayerRenderer<import(\"../../layer/VectorTile.js\").default>}\n */\nvar CanvasVectorTileLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasVectorTileLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/VectorTile.js\").default} layer VectorTile layer.\n     */\n    function CanvasVectorTileLayerRenderer(layer) {\n        var _this = _super.call(this, layer) || this;\n        /** @private */\n        _this.boundHandleStyleImageChange_ = _this.handleStyleImageChange_.bind(_this);\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedLayerRevision_;\n        /**\n         * @private\n         * @type {import(\"../../transform\").Transform}\n         */\n        _this.renderedPixelToCoordinateTransform_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRotation_;\n        /**\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.tmpTransform_ = createTransform();\n        return _this;\n    }\n    /**\n     * @param {import(\"../../VectorRenderTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection\").default} projection Projection.\n     * @return {boolean|undefined} Tile needs to be rendered.\n     */\n    CanvasVectorTileLayerRenderer.prototype.prepareTile = function (tile, pixelRatio, projection) {\n        var render;\n        var state = tile.getState();\n        if (state === TileState.LOADED || state === TileState.ERROR) {\n            this.updateExecutorGroup_(tile, pixelRatio, projection);\n            if (this.tileImageNeedsRender_(tile)) {\n                render = true;\n            }\n        }\n        return render;\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {!import(\"../../Tile.js\").default} Tile.\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTile = function (z, x, y, frameState) {\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var resolution = viewState.resolution;\n        var projection = viewState.projection;\n        var layer = this.getLayer();\n        var tile = layer.getSource().getTile(z, x, y, pixelRatio, projection);\n        var viewHints = frameState.viewHints;\n        var hifi = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        if (hifi || !tile.wantedResolution) {\n            tile.wantedResolution = resolution;\n        }\n        var render = this.prepareTile(tile, pixelRatio, projection);\n        if (render &&\n            (hifi || Date.now() - frameState.time < 8) &&\n            layer.getRenderMode() !== VectorTileRenderType.VECTOR) {\n            this.renderTileImage_(tile, frameState);\n        }\n        return _super.prototype.getTile.call(this, z, x, y, frameState);\n    };\n    /**\n     * @param {import(\"../../VectorRenderTile.js\").default} tile Tile.\n     * @return {boolean} Tile is drawable.\n     */\n    CanvasVectorTileLayerRenderer.prototype.isDrawableTile = function (tile) {\n        var layer = this.getLayer();\n        return (_super.prototype.isDrawableTile.call(this, tile) &&\n            (layer.getRenderMode() === VectorTileRenderType.VECTOR\n                ? getUid(layer) in tile.executorGroups\n                : tile.hasContext(layer)));\n    };\n    /**\n     * @inheritDoc\n     */\n    CanvasVectorTileLayerRenderer.prototype.getTileImage = function (tile) {\n        return tile.getImage(this.getLayer());\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasVectorTileLayerRenderer.prototype.prepareFrame = function (frameState) {\n        var layerRevision = this.getLayer().getRevision();\n        if (this.renderedLayerRevision_ !== layerRevision) {\n            this.renderedLayerRevision_ = layerRevision;\n            this.renderedTiles.length = 0;\n        }\n        return _super.prototype.prepareFrame.call(this, frameState);\n    };\n    /**\n     * @param {import(\"../../VectorRenderTile.js\").default} tile Tile.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../../proj/Projection.js\").default} projection Projection.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.updateExecutorGroup_ = function (tile, pixelRatio, projection) {\n        var layer = /** @type {import(\"../../layer/VectorTile.js\").default} */ (this.getLayer());\n        var revision = layer.getRevision();\n        var renderOrder = layer.getRenderOrder() || null;\n        var resolution = tile.wantedResolution;\n        var builderState = tile.getReplayState(layer);\n        if (!builderState.dirty &&\n            builderState.renderedResolution === resolution &&\n            builderState.renderedRevision == revision &&\n            builderState.renderedRenderOrder == renderOrder) {\n            return;\n        }\n        var source = layer.getSource();\n        var declutter = layer.getDeclutter();\n        var sourceTileGrid = source.getTileGrid();\n        var tileGrid = source.getTileGridForProjection(projection);\n        var tileExtent = tileGrid.getTileCoordExtent(tile.wrappedTileCoord);\n        var sourceTiles = source.getSourceTiles(pixelRatio, projection, tile);\n        var layerUid = getUid(layer);\n        delete tile.hitDetectionImageData[layerUid];\n        tile.executorGroups[layerUid] = [];\n        if (declutter) {\n            tile.declutterExecutorGroups[layerUid] = [];\n        }\n        builderState.dirty = false;\n        var _loop_1 = function (t, tt) {\n            var sourceTile = sourceTiles[t];\n            if (sourceTile.getState() != TileState.LOADED) {\n                return \"continue\";\n            }\n            var sourceTileCoord = sourceTile.tileCoord;\n            var sourceTileExtent = sourceTileGrid.getTileCoordExtent(sourceTileCoord);\n            var sharedExtent = getIntersection(tileExtent, sourceTileExtent);\n            var builderExtent = buffer(sharedExtent, layer.getRenderBuffer() * resolution, this_1.tmpExtent);\n            var bufferedExtent = equals(sourceTileExtent, sharedExtent)\n                ? null\n                : builderExtent;\n            var builderGroup = new CanvasBuilderGroup(0, builderExtent, resolution, pixelRatio);\n            var declutterBuilderGroup = declutter\n                ? new CanvasBuilderGroup(0, sharedExtent, resolution, pixelRatio)\n                : undefined;\n            var squaredTolerance = getSquaredRenderTolerance(resolution, pixelRatio);\n            /**\n             * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n             * @this {CanvasVectorTileLayerRenderer}\n             */\n            var render = function (feature) {\n                var styles;\n                var styleFunction = feature.getStyleFunction() || layer.getStyleFunction();\n                if (styleFunction) {\n                    styles = styleFunction(feature, resolution);\n                }\n                if (styles) {\n                    var dirty = this.renderFeature(feature, squaredTolerance, styles, builderGroup, declutterBuilderGroup);\n                    builderState.dirty = builderState.dirty || dirty;\n                }\n            };\n            var features = sourceTile.getFeatures();\n            if (renderOrder && renderOrder !== builderState.renderedRenderOrder) {\n                features.sort(renderOrder);\n            }\n            for (var i = 0, ii = features.length; i < ii; ++i) {\n                var feature = features[i];\n                if (!bufferedExtent ||\n                    intersects(bufferedExtent, feature.getGeometry().getExtent())) {\n                    render.call(this_1, feature);\n                }\n            }\n            var executorGroupInstructions = builderGroup.finish();\n            // no need to clip when the render tile is covered by a single source tile\n            var replayExtent = layer.getRenderMode() !== VectorTileRenderType.VECTOR &&\n                declutter &&\n                sourceTiles.length === 1\n                ? null\n                : sharedExtent;\n            var renderingReplayGroup = new CanvasExecutorGroup(replayExtent, resolution, pixelRatio, source.getOverlaps(), executorGroupInstructions, layer.getRenderBuffer());\n            tile.executorGroups[layerUid].push(renderingReplayGroup);\n            if (declutterBuilderGroup) {\n                var declutterExecutorGroup = new CanvasExecutorGroup(null, resolution, pixelRatio, source.getOverlaps(), declutterBuilderGroup.finish(), layer.getRenderBuffer());\n                tile.declutterExecutorGroups[layerUid].push(declutterExecutorGroup);\n            }\n        };\n        var this_1 = this;\n        for (var t = 0, tt = sourceTiles.length; t < tt; ++t) {\n            _loop_1(t, tt);\n        }\n        builderState.renderedRevision = revision;\n        builderState.renderedRenderOrder = renderOrder;\n        builderState.renderedResolution = resolution;\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"../vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"../Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasVectorTileLayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        hitTolerance = hitTolerance == undefined ? 0 : hitTolerance;\n        var layer = this.getLayer();\n        var source = layer.getSource();\n        var tileGrid = source.getTileGridForProjection(frameState.viewState.projection);\n        var hitExtent = boundingExtent([coordinate]);\n        buffer(hitExtent, resolution * hitTolerance, hitExtent);\n        /** @type {!Object<string, import(\"../Map.js\").HitMatch<T>|true>} */\n        var features = {};\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @param {number} distanceSq The squared distance to the click position.\n         * @return {T|undefined} Callback result.\n         */\n        var featureCallback = function (feature, geometry, distanceSq) {\n            var key = feature.getId();\n            if (key === undefined) {\n                key = getUid(feature);\n            }\n            var match = features[key];\n            if (!match) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    return callback(feature, layer, geometry);\n                }\n                matches.push((features[key] = {\n                    feature: feature,\n                    layer: layer,\n                    geometry: geometry,\n                    distanceSq: distanceSq,\n                    callback: callback,\n                }));\n            }\n            else if (match !== true && distanceSq < match.distanceSq) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    matches.splice(matches.lastIndexOf(match), 1);\n                    return callback(feature, layer, geometry);\n                }\n                match.geometry = geometry;\n                match.distanceSq = distanceSq;\n            }\n            return undefined;\n        };\n        var renderedTiles = \n        /** @type {Array<import(\"../../VectorRenderTile.js\").default>} */ (this.renderedTiles);\n        var found;\n        var _loop_2 = function (i, ii) {\n            var tile = renderedTiles[i];\n            var tileExtent = tileGrid.getTileCoordExtent(tile.wrappedTileCoord);\n            if (!intersects(tileExtent, hitExtent)) {\n                return \"continue\";\n            }\n            var layerUid = getUid(layer);\n            var executorGroups = [tile.executorGroups[layerUid]];\n            var declutterExecutorGroups = tile.declutterExecutorGroups[layerUid];\n            if (declutterExecutorGroups) {\n                executorGroups.push(declutterExecutorGroups);\n            }\n            executorGroups.some(function (executorGroups) {\n                var declutteredFeatures = executorGroups === declutterExecutorGroups\n                    ? frameState.declutterTree.all().map(function (item) { return item.value; })\n                    : null;\n                for (var t = 0, tt = executorGroups.length; t < tt; ++t) {\n                    var executorGroup = executorGroups[t];\n                    found = executorGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, featureCallback, declutteredFeatures);\n                    if (found) {\n                        return true;\n                    }\n                }\n            });\n        };\n        for (var i = 0, ii = renderedTiles.length; !found && i < ii; ++i) {\n            _loop_2(i, ii);\n        }\n        return found;\n    };\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../../Feature\").default>>} Promise that resolves with an array of features.\n     */\n    CanvasVectorTileLayerRenderer.prototype.getFeatures = function (pixel) {\n        return new Promise(function (resolve, reject) {\n            var layer = \n            /** @type {import(\"../../layer/VectorTile.js\").default} */ (this.getLayer());\n            var layerUid = getUid(layer);\n            var source = layer.getSource();\n            var projection = this.renderedProjection;\n            var projectionExtent = projection.getExtent();\n            var resolution = this.renderedResolution;\n            var tileGrid = source.getTileGridForProjection(projection);\n            var coordinate = applyTransform(this.renderedPixelToCoordinateTransform_, pixel.slice());\n            var tileCoord = tileGrid.getTileCoordForCoordAndResolution(coordinate, resolution);\n            var tile;\n            for (var i = 0, ii = this.renderedTiles.length; i < ii; ++i) {\n                if (tileCoord.toString() === this.renderedTiles[i].tileCoord.toString()) {\n                    tile = this.renderedTiles[i];\n                    if (tile.getState() === TileState.LOADED) {\n                        var extent_1 = tileGrid.getTileCoordExtent(tile.tileCoord);\n                        if (source.getWrapX() &&\n                            projection.canWrapX() &&\n                            !containsExtent(projectionExtent, extent_1)) {\n                            wrapX(coordinate, projection);\n                        }\n                        break;\n                    }\n                    tile = undefined;\n                }\n            }\n            if (!tile || tile.loadingSourceTiles > 0) {\n                resolve([]);\n                return;\n            }\n            var extent = tileGrid.getTileCoordExtent(tile.wrappedTileCoord);\n            var corner = getTopLeft(extent);\n            var tilePixel = [\n                (coordinate[0] - corner[0]) / resolution,\n                (corner[1] - coordinate[1]) / resolution,\n            ];\n            var features = tile\n                .getSourceTiles()\n                .reduce(function (accumulator, sourceTile) {\n                return accumulator.concat(sourceTile.getFeatures());\n            }, []);\n            var hitDetectionImageData = tile.hitDetectionImageData[layerUid];\n            if (!hitDetectionImageData && !this.animatingOrInteracting_) {\n                var tileSize = toSize(tileGrid.getTileSize(tileGrid.getZForResolution(resolution, source.zDirection)));\n                var rotation = this.renderedRotation_;\n                var transforms = [\n                    this.getRenderTransform(tileGrid.getTileCoordCenter(tile.wrappedTileCoord), resolution, 0, HIT_DETECT_RESOLUTION, tileSize[0] * HIT_DETECT_RESOLUTION, tileSize[1] * HIT_DETECT_RESOLUTION, 0),\n                ];\n                hitDetectionImageData = createHitDetectionImageData(tileSize, transforms, features, layer.getStyleFunction(), tileGrid.getTileCoordExtent(tile.wrappedTileCoord), tile.getReplayState(layer).renderedResolution, rotation);\n                tile.hitDetectionImageData[layerUid] = hitDetectionImageData;\n            }\n            resolve(hitDetect(tilePixel, features, hitDetectionImageData));\n        }.bind(this));\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleFontsChanged = function () {\n        var layer = this.getLayer();\n        if (layer.getVisible() && this.renderedLayerRevision_ !== undefined) {\n            layer.changed();\n        }\n    };\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.handleStyleImageChange_ = function (event) {\n        this.renderIfReadyAndVisible();\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderDeclutter = function (frameState) {\n        var context = this.context;\n        var alpha = context.globalAlpha;\n        context.globalAlpha = this.getLayer().getOpacity();\n        var viewHints = frameState.viewHints;\n        var hifi = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var tiles = \n        /** @type {Array<import(\"../../VectorRenderTile.js\").default>} */ (this.renderedTiles);\n        for (var i = 0, ii = tiles.length; i < ii; ++i) {\n            var tile = tiles[i];\n            var declutterExecutorGroups = tile.declutterExecutorGroups[getUid(this.getLayer())];\n            if (declutterExecutorGroups) {\n                for (var j = declutterExecutorGroups.length - 1; j >= 0; --j) {\n                    declutterExecutorGroups[j].execute(this.context, 1, this.getTileRenderTransform(tile, frameState), frameState.viewState.rotation, hifi, undefined, frameState.declutterTree);\n                }\n            }\n        }\n        context.globalAlpha = alpha;\n    };\n    CanvasVectorTileLayerRenderer.prototype.getTileRenderTransform = function (tile, frameState) {\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var center = viewState.center;\n        var resolution = viewState.resolution;\n        var rotation = viewState.rotation;\n        var size = frameState.size;\n        var width = Math.round(size[0] * pixelRatio);\n        var height = Math.round(size[1] * pixelRatio);\n        var source = this.getLayer().getSource();\n        var tileGrid = source.getTileGridForProjection(frameState.viewState.projection);\n        var tileCoord = tile.tileCoord;\n        var tileExtent = tileGrid.getTileCoordExtent(tile.wrappedTileCoord);\n        var worldOffset = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent)[0] - tileExtent[0];\n        var transform = multiply(scale(this.inversePixelTransform.slice(), 1 / pixelRatio, 1 / pixelRatio), this.getRenderTransform(center, resolution, rotation, pixelRatio, width, height, worldOffset));\n        return transform;\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var viewHints = frameState.viewHints;\n        var hifi = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        _super.prototype.renderFrame.call(this, frameState, target);\n        this.renderedPixelToCoordinateTransform_ =\n            frameState.pixelToCoordinateTransform.slice();\n        this.renderedRotation_ = frameState.viewState.rotation;\n        var layer = /** @type {import(\"../../layer/VectorTile.js\").default} */ (this.getLayer());\n        var renderMode = layer.getRenderMode();\n        var context = this.context;\n        var alpha = context.globalAlpha;\n        context.globalAlpha = layer.getOpacity();\n        var replayTypes = VECTOR_REPLAYS[renderMode];\n        var viewState = frameState.viewState;\n        var rotation = viewState.rotation;\n        var tileSource = layer.getSource();\n        var tileGrid = tileSource.getTileGridForProjection(viewState.projection);\n        var z = tileGrid.getZForResolution(viewState.resolution, tileSource.zDirection);\n        var tiles = this.renderedTiles;\n        var clips = [];\n        var clipZs = [];\n        var ready = true;\n        for (var i = tiles.length - 1; i >= 0; --i) {\n            var tile = /** @type {import(\"../../VectorRenderTile.js\").default} */ (tiles[i]);\n            ready = ready && !tile.getReplayState(layer).dirty;\n            var executorGroups = tile.executorGroups[getUid(layer)].filter(function (group) { return group.hasExecutors(replayTypes); });\n            if (executorGroups.length === 0) {\n                continue;\n            }\n            var transform = this.getTileRenderTransform(tile, frameState);\n            var currentZ = tile.tileCoord[0];\n            var contextSaved = false;\n            // Clip mask for regions in this tile that already filled by a higher z tile\n            var currentClip = executorGroups[0].getClipCoords(transform);\n            if (currentClip) {\n                for (var j = 0, jj = clips.length; j < jj; ++j) {\n                    if (z !== currentZ && currentZ < clipZs[j]) {\n                        var clip = clips[j];\n                        if (intersects([\n                            currentClip[0],\n                            currentClip[3],\n                            currentClip[4],\n                            currentClip[7],\n                        ], [clip[0], clip[3], clip[4], clip[7]])) {\n                            if (!contextSaved) {\n                                context.save();\n                                contextSaved = true;\n                            }\n                            context.beginPath();\n                            // counter-clockwise (outer ring) for current tile\n                            context.moveTo(currentClip[0], currentClip[1]);\n                            context.lineTo(currentClip[2], currentClip[3]);\n                            context.lineTo(currentClip[4], currentClip[5]);\n                            context.lineTo(currentClip[6], currentClip[7]);\n                            // clockwise (inner ring) for higher z tile\n                            context.moveTo(clip[6], clip[7]);\n                            context.lineTo(clip[4], clip[5]);\n                            context.lineTo(clip[2], clip[3]);\n                            context.lineTo(clip[0], clip[1]);\n                            context.clip();\n                        }\n                    }\n                }\n                clips.push(currentClip);\n                clipZs.push(currentZ);\n            }\n            for (var t = 0, tt = executorGroups.length; t < tt; ++t) {\n                var executorGroup = executorGroups[t];\n                executorGroup.execute(context, 1, transform, rotation, hifi, replayTypes);\n            }\n            if (contextSaved) {\n                context.restore();\n            }\n        }\n        context.globalAlpha = alpha;\n        this.ready = ready;\n        return this.container;\n    };\n    /**\n     * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} builderGroup Replay group.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder group for decluttering.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderFeature = function (feature, squaredTolerance, styles, builderGroup, opt_declutterBuilderGroup) {\n        if (!styles) {\n            return false;\n        }\n        var loading = false;\n        if (Array.isArray(styles)) {\n            for (var i = 0, ii = styles.length; i < ii; ++i) {\n                loading =\n                    renderFeature(builderGroup, feature, styles[i], squaredTolerance, this.boundHandleStyleImageChange_, undefined, opt_declutterBuilderGroup) || loading;\n            }\n        }\n        else {\n            loading = renderFeature(builderGroup, feature, styles, squaredTolerance, this.boundHandleStyleImageChange_, undefined, opt_declutterBuilderGroup);\n        }\n        return loading;\n    };\n    /**\n     * @param {import(\"../../VectorRenderTile.js\").default} tile Tile.\n     * @return {boolean} A new tile image was rendered.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.tileImageNeedsRender_ = function (tile) {\n        var layer = /** @type {import(\"../../layer/VectorTile.js\").default} */ (this.getLayer());\n        if (layer.getRenderMode() === VectorTileRenderType.VECTOR) {\n            return false;\n        }\n        var replayState = tile.getReplayState(layer);\n        var revision = layer.getRevision();\n        var resolution = tile.wantedResolution;\n        return (replayState.renderedTileResolution !== resolution ||\n            replayState.renderedTileRevision !== revision);\n    };\n    /**\n     * @param {import(\"../../VectorRenderTile.js\").default} tile Tile.\n     * @param {import(\"../../PluggableMap\").FrameState} frameState Frame state.\n     * @private\n     */\n    CanvasVectorTileLayerRenderer.prototype.renderTileImage_ = function (tile, frameState) {\n        var layer = /** @type {import(\"../../layer/VectorTile.js\").default} */ (this.getLayer());\n        var replayState = tile.getReplayState(layer);\n        var revision = layer.getRevision();\n        var executorGroups = tile.executorGroups[getUid(layer)];\n        replayState.renderedTileRevision = revision;\n        var tileCoord = tile.wrappedTileCoord;\n        var z = tileCoord[0];\n        var source = layer.getSource();\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var tileGrid = source.getTileGridForProjection(projection);\n        var tileResolution = tileGrid.getResolution(tile.tileCoord[0]);\n        var renderPixelRatio = (frameState.pixelRatio / tile.wantedResolution) * tileResolution;\n        var resolution = tileGrid.getResolution(z);\n        var context = tile.getContext(layer);\n        // Increase tile size when overzooming for low pixel ratio, to avoid blurry tiles\n        pixelRatio = Math.round(Math.max(pixelRatio, renderPixelRatio / pixelRatio));\n        var size = source.getTilePixelSize(z, pixelRatio, projection);\n        context.canvas.width = size[0];\n        context.canvas.height = size[1];\n        var renderScale = pixelRatio / renderPixelRatio;\n        if (renderScale !== 1) {\n            var canvasTransform = resetTransform(this.tmpTransform_);\n            scaleTransform(canvasTransform, renderScale, renderScale);\n            context.setTransform.apply(context, canvasTransform);\n        }\n        var tileExtent = tileGrid.getTileCoordExtent(tileCoord, this.tmpExtent);\n        var pixelScale = renderPixelRatio / resolution;\n        var transform = resetTransform(this.tmpTransform_);\n        scaleTransform(transform, pixelScale, -pixelScale);\n        translateTransform(transform, -tileExtent[0], -tileExtent[3]);\n        for (var i = 0, ii = executorGroups.length; i < ii; ++i) {\n            var executorGroup = executorGroups[i];\n            executorGroup.execute(context, renderScale, transform, 0, true, IMAGE_REPLAYS[layer.getRenderMode()]);\n        }\n        replayState.renderedTileResolution = tile.wantedResolution;\n    };\n    return CanvasVectorTileLayerRenderer;\n}(CanvasTileLayerRenderer));\nexport default CanvasVectorTileLayerRenderer;\n//# sourceMappingURL=VectorTileLayer.js.map","/**\n * @module ol/ViewHint\n */\n/**\n * @enum {number}\n */\nexport default {\n    ANIMATING: 0,\n    INTERACTING: 1,\n};\n//# sourceMappingURL=ViewHint.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/VectorTile\n */\nimport BaseVectorLayer from './BaseVector.js';\nimport CanvasVectorTileLayerRenderer from '../renderer/canvas/VectorTileLayer.js';\nimport TileProperty from './TileProperty.js';\nimport VectorTileRenderType from './VectorTileRenderType.js';\nimport { assert } from '../asserts.js';\nimport { assign } from '../obj.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:source'|'change:preload'|'change:useInterimTilesOnError', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../render/EventType\").LayerRenderEventTypes, import(\"../render/Event\").default, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"./Base\").BaseLayerObjectEventTypes|\n *     'change:source'|'change:preload'|'change:useInterimTilesOnError'|import(\"../render/EventType\").LayerRenderEventTypes, Return>} VectorTileLayerOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the tile extent used by the\n * renderer when getting features from the vector tile for the rendering or hit-detection.\n * Recommended value: Vector tiles are usually generated with a buffer, so this value should match\n * the largest possible buffer of the used tiles. It should be at least the size of the largest\n * point symbol or line width.\n * @property {import(\"./VectorTileRenderType.js\").default|string} [renderMode='hybrid'] Render mode for vector tiles:\n *  * `'hybrid'`: Polygon and line elements are rendered as images, so pixels are scaled during zoom\n *    animations. Point symbols and texts are accurately rendered as vectors and can stay upright on\n *    rotated views.\n *  * `'vector'`: Everything is rendered as vectors. Use this mode for improved performance on vector\n *    tile layers with only a few rendered features (e.g. for highlighting a subset of features of\n *    another layer with the same source).\n * @property {import(\"../source/VectorTile.js\").default} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles of all Vector and VectorTile layers that have set this to `true`. The priority\n * is defined by the z-index of the layer, the `zIndex` of the style and the render order of features.\n * Higher z-index means higher priority. Within the same z-index, a feature rendered before another has\n * higher priority.\n *\n * As an optimization decluttered features from layers with the same `className` are rendered above\n * the fill and stroke styles of all of those layers regardless of z-index.  To opt out of this\n * behavior and place declutterd features with their own layer configure the layer with a `className`\n * other than `ol-layer`.\n * @property {import(\"../style/Style.js\").StyleLike|null} [style] Layer style. When set to `null`, only\n * features that have their own style will be rendered. See {@link module:ol/style/Style~Style} for the default style\n * which will be used if this is not set.\n * @property {import(\"./Base.js\").BackgroundColor|false} [background] Background color for the layer. If not specified, no\n * background will be rendered.\n * @property {boolean} [updateWhileAnimating=false] When set to `true`, feature batches will be\n * recreated during animations. This means that no vectors will be shown clipped, but the setting\n * will have a performance impact for large amounts of vector data. When set to `false`, batches\n * will be recreated when no animation is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true`, feature batches will be\n * recreated during interactions. See also `updateWhileAnimating`.\n * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n * means no preloading.\n * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @classdesc\n * Layer for vector tile data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @param {Options} [opt_options] Options.\n * @extends {BaseVectorLayer<import(\"../source/VectorTile.js\").default, CanvasVectorTileLayerRenderer>}\n * @api\n */\nvar VectorTileLayer = /** @class */ (function (_super) {\n    __extends(VectorTileLayer, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function VectorTileLayer(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = /** @type {Object} */ (assign({}, options));\n        delete baseOptions.preload;\n        delete baseOptions.useInterimTilesOnError;\n        _this = _super.call(this, \n        /** @type {import(\"./BaseVector.js\").Options<import(\"../source/VectorTile.js\").default>} */ (baseOptions)) || this;\n        /***\n         * @type {VectorTileLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {VectorTileLayerOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {VectorTileLayerOnSignature<void>}\n         */\n        _this.un;\n        if (options.renderMode === VectorTileRenderType.IMAGE) {\n            //FIXME deprecated - remove this check in v7.\n            //eslint-disable-next-line\n            console.warn('renderMode: \"image\" is deprecated. Option ignored.');\n            options.renderMode = undefined;\n        }\n        var renderMode = options.renderMode || VectorTileRenderType.HYBRID;\n        assert(renderMode == VectorTileRenderType.HYBRID ||\n            renderMode == VectorTileRenderType.VECTOR, 28); // `renderMode` must be `'hybrid'` or `'vector'`.\n        /**\n         * @private\n         * @type {import(\"./VectorTileRenderType.js\").default}\n         */\n        _this.renderMode_ = renderMode;\n        _this.setPreload(options.preload ? options.preload : 0);\n        _this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined\n            ? options.useInterimTilesOnError\n            : true);\n        /**\n         * @return {import(\"./Base.js\").BackgroundColor} Background color.\n         * @function\n         * @api\n         */\n        _this.getBackground;\n        /**\n         * @param {import(\"./Base.js\").BackgroundColor} background Background color.\n         * @function\n         * @api\n         */\n        _this.setBackground;\n        return _this;\n    }\n    VectorTileLayer.prototype.createRenderer = function () {\n        return new CanvasVectorTileLayerRenderer(this);\n    };\n    /**\n     * Get the topmost feature that intersects the given pixel on the viewport. Returns a promise\n     * that resolves with an array of features. The array will either contain the topmost feature\n     * when a hit was detected, or it will be empty.\n     *\n     * The hit detection algorithm used for this method is optimized for performance, but is less\n     * accurate than the one used in {@link import(\"../PluggableMap.js\").default#getFeaturesAtPixel map.getFeaturesAtPixel()}: Text\n     * is not considered, and icons are only represented by their bounding box instead of the exact\n     * image.\n     *\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../Feature\").default>>} Promise that resolves with an array of features.\n     * @api\n     */\n    VectorTileLayer.prototype.getFeatures = function (pixel) {\n        return _super.prototype.getFeatures.call(this, pixel);\n    };\n    /**\n     * @return {import(\"./VectorTileRenderType.js\").default} The render mode.\n     */\n    VectorTileLayer.prototype.getRenderMode = function () {\n        return this.renderMode_;\n    };\n    /**\n     * Return the level as number to which we will preload tiles up to.\n     * @return {number} The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    VectorTileLayer.prototype.getPreload = function () {\n        return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n    };\n    /**\n     * Whether we use interim tiles on error.\n     * @return {boolean} Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    VectorTileLayer.prototype.getUseInterimTilesOnError = function () {\n        return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n    };\n    /**\n     * Set the level as number to which we will preload tiles up to.\n     * @param {number} preload The level to preload tiles up to.\n     * @observable\n     * @api\n     */\n    VectorTileLayer.prototype.setPreload = function (preload) {\n        this.set(TileProperty.PRELOAD, preload);\n    };\n    /**\n     * Set whether we use interim tiles on error.\n     * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n     * @observable\n     * @api\n     */\n    VectorTileLayer.prototype.setUseInterimTilesOnError = function (useInterimTilesOnError) {\n        this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n    };\n    return VectorTileLayer;\n}(BaseVectorLayer));\nexport default VectorTileLayer;\n//# sourceMappingURL=VectorTile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/VectorTile\n */\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nvar VectorTile = /** @class */ (function (_super) {\n    __extends(VectorTile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {string} src Data source url.\n     * @param {import(\"./format/Feature.js\").default} format Feature format.\n     * @param {import(\"./Tile.js\").LoadFunction} tileLoadFunction Tile load function.\n     * @param {import(\"./Tile.js\").Options} [opt_options] Tile options.\n     */\n    function VectorTile(tileCoord, state, src, format, tileLoadFunction, opt_options) {\n        var _this = _super.call(this, tileCoord, state, opt_options) || this;\n        /**\n         * Extent of this tile; set by the source.\n         * @type {import(\"./extent.js\").Extent}\n         */\n        _this.extent = null;\n        /**\n         * @private\n         * @type {import(\"./format/Feature.js\").default}\n         */\n        _this.format_ = format;\n        /**\n         * @private\n         * @type {Array<import(\"./Feature.js\").default>}\n         */\n        _this.features_ = null;\n        /**\n         * @private\n         * @type {import(\"./featureloader.js\").FeatureLoader}\n         */\n        _this.loader_;\n        /**\n         * Feature projection of this tile; set by the source.\n         * @type {import(\"./proj/Projection.js\").default}\n         */\n        _this.projection = null;\n        /**\n         * Resolution of this tile; set by the source.\n         * @type {number}\n         */\n        _this.resolution;\n        /**\n         * @private\n         * @type {import(\"./Tile.js\").LoadFunction}\n         */\n        _this.tileLoadFunction_ = tileLoadFunction;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.url_ = src;\n        _this.key = src;\n        return _this;\n    }\n    /**\n     * Get the feature format assigned for reading this tile's features.\n     * @return {import(\"./format/Feature.js\").default} Feature format.\n     * @api\n     */\n    VectorTile.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * Get the features for this tile. Geometries will be in the view projection.\n     * @return {Array<import(\"./Feature.js\").FeatureLike>} Features.\n     * @api\n     */\n    VectorTile.prototype.getFeatures = function () {\n        return this.features_;\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    VectorTile.prototype.load = function () {\n        if (this.state == TileState.IDLE) {\n            this.setState(TileState.LOADING);\n            this.tileLoadFunction_(this, this.url_);\n            if (this.loader_) {\n                this.loader_(this.extent, this.resolution, this.projection);\n            }\n        }\n    };\n    /**\n     * Handler for successful tile load.\n     * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n     * @param {import(\"./proj/Projection.js\").default} dataProjection Data projection.\n     */\n    VectorTile.prototype.onLoad = function (features, dataProjection) {\n        this.setFeatures(features);\n    };\n    /**\n     * Handler for tile load errors.\n     */\n    VectorTile.prototype.onError = function () {\n        this.setState(TileState.ERROR);\n    };\n    /**\n     * Function for use in an {@link module:ol/source/VectorTile~VectorTile}'s `tileLoadFunction`.\n     * Sets the features for the tile.\n     * @param {Array<import(\"./Feature.js\").default>} features Features.\n     * @api\n     */\n    VectorTile.prototype.setFeatures = function (features) {\n        this.features_ = features;\n        this.setState(TileState.LOADED);\n    };\n    /**\n     * Set the feature loader for reading this tile's features.\n     * @param {import(\"./featureloader.js\").FeatureLoader} loader Feature loader.\n     * @api\n     */\n    VectorTile.prototype.setLoader = function (loader) {\n        this.loader_ = loader;\n    };\n    return VectorTile;\n}(Tile));\nexport default VectorTile;\n//# sourceMappingURL=VectorTile.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/VectorRenderTile\n */\nimport Tile from './Tile.js';\nimport { createCanvasContext2D, releaseCanvas } from './dom.js';\nimport { getUid } from './util.js';\n/**\n * @typedef {Object} ReplayState\n * @property {boolean} dirty Dirty.\n * @property {null|import(\"./render.js\").OrderFunction} renderedRenderOrder RenderedRenderOrder.\n * @property {number} renderedTileRevision RenderedTileRevision.\n * @property {number} renderedResolution RenderedResolution.\n * @property {number} renderedRevision RenderedRevision.\n * @property {number} renderedTileResolution RenderedTileResolution.\n * @property {number} renderedTileZ RenderedTileZ.\n */\n/**\n * @type {Array<HTMLCanvasElement>}\n */\nvar canvasPool = [];\nvar VectorRenderTile = /** @class */ (function (_super) {\n    __extends(VectorRenderTile, _super);\n    /**\n     * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n     * @param {import(\"./TileState.js\").default} state State.\n     * @param {import(\"./tilecoord.js\").TileCoord} urlTileCoord Wrapped tile coordinate for source urls.\n     * @param {function(VectorRenderTile):Array<import(\"./VectorTile\").default>} getSourceTiles Function\n     * to get source tiles for this tile.\n     */\n    function VectorRenderTile(tileCoord, state, urlTileCoord, getSourceTiles) {\n        var _this = _super.call(this, tileCoord, state, { transition: 0 }) || this;\n        /**\n         * @private\n         * @type {!Object<string, CanvasRenderingContext2D>}\n         */\n        _this.context_ = {};\n        /**\n         * Executor groups by layer uid. Entries are read/written by the renderer.\n         * @type {Object<string, Array<import(\"./render/canvas/ExecutorGroup.js\").default>>}\n         */\n        _this.executorGroups = {};\n        /**\n         * Executor groups for decluttering, by layer uid. Entries are read/written by the renderer.\n         * @type {Object<string, Array<import(\"./render/canvas/ExecutorGroup.js\").default>>}\n         */\n        _this.declutterExecutorGroups = {};\n        /**\n         * Number of loading source tiles. Read/written by the source.\n         * @type {number}\n         */\n        _this.loadingSourceTiles = 0;\n        /**\n         * @type {Object<number, ImageData>}\n         */\n        _this.hitDetectionImageData = {};\n        /**\n         * @private\n         * @type {!Object<string, ReplayState>}\n         */\n        _this.replayState_ = {};\n        /**\n         * @type {Array<import(\"./VectorTile.js\").default>}\n         */\n        _this.sourceTiles = [];\n        /**\n         * @type {Object<string, boolean>}\n         */\n        _this.errorTileKeys = {};\n        /**\n         * @type {number}\n         */\n        _this.wantedResolution;\n        /**\n         * @type {!function():Array<import(\"./VectorTile.js\").default>}\n         */\n        _this.getSourceTiles = getSourceTiles.bind(undefined, _this);\n        /**\n         * @type {import(\"./tilecoord.js\").TileCoord}\n         */\n        _this.wrappedTileCoord = urlTileCoord;\n        return _this;\n    }\n    /**\n     * @param {import(\"./layer/Layer.js\").default} layer Layer.\n     * @return {CanvasRenderingContext2D} The rendering context.\n     */\n    VectorRenderTile.prototype.getContext = function (layer) {\n        var key = getUid(layer);\n        if (!(key in this.context_)) {\n            this.context_[key] = createCanvasContext2D(1, 1, canvasPool);\n        }\n        return this.context_[key];\n    };\n    /**\n     * @param {import(\"./layer/Layer.js\").default} layer Layer.\n     * @return {boolean} Tile has a rendering context for the given layer.\n     */\n    VectorRenderTile.prototype.hasContext = function (layer) {\n        return getUid(layer) in this.context_;\n    };\n    /**\n     * Get the Canvas for this tile.\n     * @param {import(\"./layer/Layer.js\").default} layer Layer.\n     * @return {HTMLCanvasElement} Canvas.\n     */\n    VectorRenderTile.prototype.getImage = function (layer) {\n        return this.hasContext(layer) ? this.getContext(layer).canvas : null;\n    };\n    /**\n     * @param {import(\"./layer/Layer.js\").default} layer Layer.\n     * @return {ReplayState} The replay state.\n     */\n    VectorRenderTile.prototype.getReplayState = function (layer) {\n        var key = getUid(layer);\n        if (!(key in this.replayState_)) {\n            this.replayState_[key] = {\n                dirty: false,\n                renderedRenderOrder: null,\n                renderedResolution: NaN,\n                renderedRevision: -1,\n                renderedTileResolution: NaN,\n                renderedTileRevision: -1,\n                renderedTileZ: -1,\n            };\n        }\n        return this.replayState_[key];\n    };\n    /**\n     * Load the tile.\n     */\n    VectorRenderTile.prototype.load = function () {\n        this.getSourceTiles();\n    };\n    /**\n     * Remove from the cache due to expiry\n     */\n    VectorRenderTile.prototype.release = function () {\n        for (var key in this.context_) {\n            var context = this.context_[key];\n            releaseCanvas(context);\n            canvasPool.push(context.canvas);\n            delete this.context_[key];\n        }\n        _super.prototype.release.call(this);\n    };\n    return VectorRenderTile;\n}(Tile));\nexport default VectorRenderTile;\n//# sourceMappingURL=VectorRenderTile.js.map","/**\n * @module ol/featureloader\n */\nimport { VOID } from './functions.js';\n/**\n *\n * @type {boolean}\n * @private\n */\nvar withCredentials = false;\n/**\n * {@link module:ol/source/Vector~VectorSource} sources use a function of this type to\n * load features.\n *\n * This function takes up to 5 arguments. These are an {@link module:ol/extent~Extent} representing\n * the area to be loaded, a `{number}` representing the resolution (map units per pixel), an\n * {@link module:ol/proj/Projection~Projection} for the projection, an optional success callback that should get\n * the loaded features passed as an argument and an optional failure callback with no arguments. If\n * the callbacks are not used, the corresponding vector source will not fire `'featuresloadend'` and\n * `'featuresloaderror'` events. `this` within the function is bound to the\n * {@link module:ol/source/Vector~VectorSource} it's called from.\n *\n * The function is responsible for loading the features and adding them to the\n * source.\n * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default),\n *           import(\"./extent.js\").Extent,\n *           number,\n *           import(\"./proj/Projection.js\").default,\n *           function(Array<import(\"./Feature.js\").default>): void=,\n *           function(): void=): void} FeatureLoader\n * @api\n */\n/**\n * {@link module:ol/source/Vector~VectorSource} sources use a function of this type to\n * get the url to load features from.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area\n * to be loaded, a `{number}` representing the resolution (map units per pixel)\n * and an {@link module:ol/proj/Projection~Projection} for the projection  as\n * arguments and returns a `{string}` representing the URL.\n * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n * @api\n */\n/**\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {import(\"./proj/Projection.js\").default} projection Projection.\n * @param {function(Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default): void} success Success\n *      Function called with the loaded features and optionally with the data projection.\n * @param {function(): void} failure Failure\n *      Function called when loading failed.\n */\nexport function loadFeaturesXhr(url, format, extent, resolution, projection, success, failure) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', typeof url === 'function' ? url(extent, resolution, projection) : url, true);\n    if (format.getType() == 'arraybuffer') {\n        xhr.responseType = 'arraybuffer';\n    }\n    xhr.withCredentials = withCredentials;\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    xhr.onload = function (event) {\n        // status will be 0 for file:// urls\n        if (!xhr.status || (xhr.status >= 200 && xhr.status < 300)) {\n            var type = format.getType();\n            /** @type {Document|Node|Object|string|undefined} */\n            var source = void 0;\n            if (type == 'json' || type == 'text') {\n                source = xhr.responseText;\n            }\n            else if (type == 'xml') {\n                source = xhr.responseXML;\n                if (!source) {\n                    source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n                }\n            }\n            else if (type == 'arraybuffer') {\n                source = /** @type {ArrayBuffer} */ (xhr.response);\n            }\n            if (source) {\n                success(\n                /** @type {Array<import(\"./Feature.js\").default>} */\n                (format.readFeatures(source, {\n                    extent: extent,\n                    featureProjection: projection,\n                })), format.readProjection(source));\n            }\n            else {\n                failure();\n            }\n        }\n        else {\n            failure();\n        }\n    };\n    /**\n     * @private\n     */\n    xhr.onerror = failure;\n    xhr.send();\n}\n/**\n * Create an XHR feature loader for a `url` and `format`. The feature loader\n * loads features (with XHR), parses the features, and adds them to the\n * vector source.\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @return {FeatureLoader} The feature loader.\n * @api\n */\nexport function xhr(url, format) {\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @param {function(Array<import(\"./Feature.js\").default>): void} [success] Success\n     *      Function called when loading succeeded.\n     * @param {function(): void} [failure] Failure\n     *      Function called when loading failed.\n     * @this {import(\"./source/Vector\").default}\n     */\n    return function (extent, resolution, projection, success, failure) {\n        var source = /** @type {import(\"./source/Vector\").default} */ (this);\n        loadFeaturesXhr(url, format, extent, resolution, projection, \n        /**\n         * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n         * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n         * projection.\n         */\n        function (features, dataProjection) {\n            source.addFeatures(features);\n            if (success !== undefined) {\n                success(features);\n            }\n        }, \n        /* FIXME handle error */ failure ? failure : VOID);\n    };\n}\n/**\n * Setter for the withCredentials configuration for the XHR.\n *\n * @param {boolean} xhrWithCredentials The value of withCredentials to set.\n * Compare https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/\n * @api\n */\nexport function setWithCredentials(xhrWithCredentials) {\n    withCredentials = xhrWithCredentials;\n}\n//# sourceMappingURL=featureloader.js.map","/**\n * @module ol/source/VectorTile\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventType from '../events/EventType.js';\nimport Tile from '../VectorTile.js';\nimport TileCache from '../TileCache.js';\nimport TileGrid from '../tilegrid/TileGrid.js';\nimport TileState from '../TileState.js';\nimport UrlTile from './UrlTile.js';\nimport VectorRenderTile from '../VectorRenderTile.js';\nimport { DEFAULT_MAX_ZOOM } from '../tilegrid/common.js';\nimport { buffer as bufferExtent, getIntersection, intersects, } from '../extent.js';\nimport { createXYZ, extentFromProjection } from '../tilegrid.js';\nimport { fromKey, getCacheKeyForTileKey, getKeyZXY } from '../tilecoord.js';\nimport { isEmpty } from '../obj.js';\nimport { loadFeaturesXhr } from '../featureloader.js';\nimport { toSize } from '../size.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [attributionsCollapsible=true] Attributions are collapsible.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least twice the number of tiles in the viewport.\n * @property {import(\"../extent.js\").Extent} [extent] Extent.\n * @property {import(\"../format/Feature.js\").default} [format] Feature format for tiles. Used and required by the default.\n * @property {boolean} [overlaps=true] This source may have overlapping geometries. Setting this\n * to `false` (e.g. for sources with polygons that represent administrative\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n * stroke operations.\n * @property {import(\"../proj.js\").ProjectionLike} [projection='EPSG:3857'] Projection of the tile grid.\n * @property {import(\"./Source.js\").State} [state] Source state.\n * @property {typeof import(\"../VectorTile.js\").default} [tileClass] Class used to instantiate image tiles.\n * Default is {@link module:ol/VectorTile~VectorTile}.\n * @property {number} [maxZoom=22] Optional max zoom level. Not used if `tileGrid` is provided.\n * @property {number} [minZoom] Optional min zoom level. Not used if `tileGrid` is provided.\n * @property {number|import(\"../size.js\").Size} [tileSize=512] Optional tile size. Not used if `tileGrid` is provided.\n * @property {number} [maxResolution] Optional tile grid resolution at level zero. Not used if `tileGrid` is provided.\n * @property {import(\"../tilegrid/TileGrid.js\").default} [tileGrid] Tile grid.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. Could look like this for pbf tiles:\n * ```js\n * function(tile, url) {\n *   tile.setLoader(function(extent, resolution, projection) {\n *     fetch(url).then(function(response) {\n *       response.arrayBuffer().then(function(data) {\n *         const format = tile.getFormat() // ol/format/MVT configured as source format\n *         const features = format.readFeatures(data, {\n *           extent: extent,\n *           featureProjection: projection\n *         });\n *         tile.setFeatures(features);\n *       });\n *     });\n *   });\n * }\n * ```\n * If you do not need extent, resolution and projection to get the features for a tile (e.g.\n * for GeoJSON tiles), your `tileLoadFunction` does not need a `setLoader()` call. Only make sure\n * to call `setFeatures()` on the tile:\n * ```js\n * const format = new GeoJSON({featureProjection: map.getView().getProjection()});\n * async function tileLoadFunction(tile, url) {\n *   const response = await fetch(url);\n *   const data = await response.json();\n *   tile.setFeatures(format.readFeatures(data));\n * }\n * ```\n * @property {import(\"../Tile.js\").UrlFunction} [tileUrlFunction] Optional function to get tile URL given a tile coordinate and the projection.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * A `{?-?}` template pattern, for example `subdomain{a-f}.domain.com`, may be\n * used instead of defining each one separately in the `urls` option.\n * @property {number} [transition] A duration for tile opacity\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\n * @property {Array<string>} [urls] An array of URL templates.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * When set to `false`, only one world\n * will be rendered. When set to `true`, tiles will be wrapped horizontally to\n * render multiple worlds.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=1]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Class for layer sources providing vector data divided into a tile grid, to be\n * used with {@link module:ol/layer/VectorTile~VectorTileLayer}. Although this source receives tiles\n * with vector features from the server, it is not meant for feature editing.\n * Features are optimized for rendering, their geometries are clipped at or near\n * tile boundaries and simplified for a view resolution. See\n * {@link module:ol/source/Vector~VectorSource} for vector sources that are suitable for feature\n * editing.\n *\n * @fires import(\"./Tile.js\").TileSourceEvent\n * @api\n */\nvar VectorTile = /** @class */ (function (_super) {\n    __extends(VectorTile, _super);\n    /**\n     * @param {!Options} options Vector tile options.\n     */\n    function VectorTile(options) {\n        var _this = this;\n        var projection = options.projection || 'EPSG:3857';\n        var extent = options.extent || extentFromProjection(projection);\n        var tileGrid = options.tileGrid ||\n            createXYZ({\n                extent: extent,\n                maxResolution: options.maxResolution,\n                maxZoom: options.maxZoom !== undefined ? options.maxZoom : 22,\n                minZoom: options.minZoom,\n                tileSize: options.tileSize || 512,\n            });\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            attributionsCollapsible: options.attributionsCollapsible,\n            cacheSize: options.cacheSize,\n            interpolate: true,\n            opaque: false,\n            projection: projection,\n            state: options.state,\n            tileGrid: tileGrid,\n            tileLoadFunction: options.tileLoadFunction\n                ? options.tileLoadFunction\n                : defaultLoadFunction,\n            tileUrlFunction: options.tileUrlFunction,\n            url: options.url,\n            urls: options.urls,\n            wrapX: options.wrapX === undefined ? true : options.wrapX,\n            transition: options.transition,\n            zDirection: options.zDirection === undefined ? 1 : options.zDirection,\n        }) || this;\n        /**\n         * @private\n         * @type {import(\"../format/Feature.js\").default|null}\n         */\n        _this.format_ = options.format ? options.format : null;\n        /**\n         * @private\n         * @type {TileCache}\n         */\n        _this.sourceTileCache = new TileCache(_this.tileCache.highWaterMark);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overlaps_ = options.overlaps == undefined ? true : options.overlaps;\n        /**\n         * @protected\n         * @type {typeof import(\"../VectorTile.js\").default}\n         */\n        _this.tileClass = options.tileClass ? options.tileClass : Tile;\n        /**\n         * @private\n         * @type {Object<string, import(\"../tilegrid/TileGrid.js\").default>}\n         */\n        _this.tileGrids_ = {};\n        return _this;\n    }\n    /**\n     * Get features whose bounding box intersects the provided extent. Only features for cached\n     * tiles for the last rendered zoom level are available in the source. So this method is only\n     * suitable for requesting tiles for extents that are currently rendered.\n     *\n     * Features are returned in random tile order and as they are included in the tiles. This means\n     * they can be clipped, duplicated across tiles, and simplified to the render resolution.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<import(\"../Feature.js\").FeatureLike>} Features.\n     * @api\n     */\n    VectorTile.prototype.getFeaturesInExtent = function (extent) {\n        var features = [];\n        var tileCache = this.tileCache;\n        if (tileCache.getCount() === 0) {\n            return features;\n        }\n        var z = fromKey(tileCache.peekFirstKey())[0];\n        var tileGrid = this.tileGrid;\n        tileCache.forEach(function (tile) {\n            if (tile.tileCoord[0] !== z || tile.getState() !== TileState.LOADED) {\n                return;\n            }\n            var sourceTiles = tile.getSourceTiles();\n            for (var i = 0, ii = sourceTiles.length; i < ii; ++i) {\n                var sourceTile = sourceTiles[i];\n                var tileCoord = sourceTile.tileCoord;\n                if (intersects(extent, tileGrid.getTileCoordExtent(tileCoord))) {\n                    var tileFeatures = sourceTile.getFeatures();\n                    if (tileFeatures) {\n                        for (var j = 0, jj = tileFeatures.length; j < jj; ++j) {\n                            var candidate = tileFeatures[j];\n                            var geometry = candidate.getGeometry();\n                            if (intersects(extent, geometry.getExtent())) {\n                                features.push(candidate);\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        return features;\n    };\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorTile.prototype.getOverlaps = function () {\n        return this.overlaps_;\n    };\n    /**\n     * clear {@link module:ol/TileCache~TileCache} and delete all source tiles\n     * @api\n     */\n    VectorTile.prototype.clear = function () {\n        this.tileCache.clear();\n        this.sourceTileCache.clear();\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @param {!Object<string, boolean>} usedTiles Used tiles.\n     */\n    VectorTile.prototype.expireCache = function (projection, usedTiles) {\n        var tileCache = this.getTileCacheForProjection(projection);\n        var usedSourceTiles = Object.keys(usedTiles).reduce(function (acc, key) {\n            var cacheKey = getCacheKeyForTileKey(key);\n            var tile = tileCache.peek(cacheKey);\n            if (tile) {\n                var sourceTiles = tile.sourceTiles;\n                for (var i = 0, ii = sourceTiles.length; i < ii; ++i) {\n                    acc[sourceTiles[i].getKey()] = true;\n                }\n            }\n            return acc;\n        }, {});\n        _super.prototype.expireCache.call(this, projection, usedTiles);\n        this.sourceTileCache.expireCache(usedSourceTiles);\n    };\n    /**\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection\").default} projection Projection.\n     * @param {VectorRenderTile} tile Vector image tile.\n     * @return {Array<import(\"../VectorTile\").default>} Tile keys.\n     */\n    VectorTile.prototype.getSourceTiles = function (pixelRatio, projection, tile) {\n        var _this = this;\n        if (tile.getState() === TileState.IDLE) {\n            tile.setState(TileState.LOADING);\n            var urlTileCoord = tile.wrappedTileCoord;\n            var tileGrid = this.getTileGridForProjection(projection);\n            var extent = tileGrid.getTileCoordExtent(urlTileCoord);\n            var z = urlTileCoord[0];\n            var resolution = tileGrid.getResolution(z);\n            // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\n            bufferExtent(extent, -resolution, extent);\n            var sourceTileGrid_1 = this.tileGrid;\n            var sourceExtent = sourceTileGrid_1.getExtent();\n            if (sourceExtent) {\n                getIntersection(extent, sourceExtent, extent);\n            }\n            var sourceZ = sourceTileGrid_1.getZForResolution(resolution, this.zDirection);\n            sourceTileGrid_1.forEachTileCoord(extent, sourceZ, function (sourceTileCoord) {\n                var tileUrl = _this.tileUrlFunction(sourceTileCoord, pixelRatio, projection);\n                var sourceTile = _this.sourceTileCache.containsKey(tileUrl)\n                    ? _this.sourceTileCache.get(tileUrl)\n                    : new _this.tileClass(sourceTileCoord, tileUrl ? TileState.IDLE : TileState.EMPTY, tileUrl, _this.format_, _this.tileLoadFunction);\n                tile.sourceTiles.push(sourceTile);\n                var sourceTileState = sourceTile.getState();\n                if (sourceTileState < TileState.LOADED) {\n                    var listenChange_1 = function (event) {\n                        _this.handleTileChange(event);\n                        var state = sourceTile.getState();\n                        if (state === TileState.LOADED || state === TileState.ERROR) {\n                            var sourceTileKey = sourceTile.getKey();\n                            if (sourceTileKey in tile.errorTileKeys) {\n                                if (sourceTile.getState() === TileState.LOADED) {\n                                    delete tile.errorTileKeys[sourceTileKey];\n                                }\n                            }\n                            else {\n                                tile.loadingSourceTiles--;\n                            }\n                            if (state === TileState.ERROR) {\n                                tile.errorTileKeys[sourceTileKey] = true;\n                            }\n                            else {\n                                sourceTile.removeEventListener(EventType.CHANGE, listenChange_1);\n                            }\n                            if (tile.loadingSourceTiles === 0) {\n                                tile.setState(isEmpty(tile.errorTileKeys)\n                                    ? TileState.LOADED\n                                    : TileState.ERROR);\n                            }\n                        }\n                    };\n                    sourceTile.addEventListener(EventType.CHANGE, listenChange_1);\n                    tile.loadingSourceTiles++;\n                }\n                if (sourceTileState === TileState.IDLE) {\n                    sourceTile.extent =\n                        sourceTileGrid_1.getTileCoordExtent(sourceTileCoord);\n                    sourceTile.projection = projection;\n                    sourceTile.resolution = sourceTileGrid_1.getResolution(sourceTileCoord[0]);\n                    _this.sourceTileCache.set(tileUrl, sourceTile);\n                    sourceTile.load();\n                }\n            });\n            if (!tile.loadingSourceTiles) {\n                tile.setState(tile.sourceTiles.some(function (sourceTile) { return sourceTile.getState() === TileState.ERROR; })\n                    ? TileState.ERROR\n                    : TileState.LOADED);\n            }\n        }\n        return tile.sourceTiles;\n    };\n    /**\n     * @param {number} z Tile coordinate z.\n     * @param {number} x Tile coordinate x.\n     * @param {number} y Tile coordinate y.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!VectorRenderTile} Tile.\n     */\n    VectorTile.prototype.getTile = function (z, x, y, pixelRatio, projection) {\n        var coordKey = getKeyZXY(z, x, y);\n        var key = this.getKey();\n        var tile;\n        if (this.tileCache.containsKey(coordKey)) {\n            tile = this.tileCache.get(coordKey);\n            if (tile.key === key) {\n                return tile;\n            }\n        }\n        var tileCoord = [z, x, y];\n        var urlTileCoord = this.getTileCoordForTileUrlFunction(tileCoord, projection);\n        var sourceExtent = this.getTileGrid().getExtent();\n        var tileGrid = this.getTileGridForProjection(projection);\n        if (urlTileCoord && sourceExtent) {\n            var tileExtent = tileGrid.getTileCoordExtent(urlTileCoord);\n            // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\n            bufferExtent(tileExtent, -tileGrid.getResolution(z), tileExtent);\n            if (!intersects(sourceExtent, tileExtent)) {\n                urlTileCoord = null;\n            }\n        }\n        var empty = true;\n        if (urlTileCoord !== null) {\n            var sourceTileGrid = this.tileGrid;\n            var resolution = tileGrid.getResolution(z);\n            var sourceZ = sourceTileGrid.getZForResolution(resolution, 1);\n            // make extent 1 pixel smaller so we don't load tiles for < 0.5 pixel render space\n            var extent = tileGrid.getTileCoordExtent(urlTileCoord);\n            bufferExtent(extent, -resolution, extent);\n            sourceTileGrid.forEachTileCoord(extent, sourceZ, function (sourceTileCoord) {\n                empty =\n                    empty &&\n                        !this.tileUrlFunction(sourceTileCoord, pixelRatio, projection);\n            }.bind(this));\n        }\n        var newTile = new VectorRenderTile(tileCoord, empty ? TileState.EMPTY : TileState.IDLE, urlTileCoord, this.getSourceTiles.bind(this, pixelRatio, projection));\n        newTile.key = key;\n        if (tile) {\n            newTile.interimTile = tile;\n            newTile.refreshInterimChain();\n            this.tileCache.replace(coordKey, newTile);\n        }\n        else {\n            this.tileCache.set(coordKey, newTile);\n        }\n        return newTile;\n    };\n    /**\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {!import(\"../tilegrid/TileGrid.js\").default} Tile grid.\n     */\n    VectorTile.prototype.getTileGridForProjection = function (projection) {\n        var code = projection.getCode();\n        var tileGrid = this.tileGrids_[code];\n        if (!tileGrid) {\n            // A tile grid that matches the tile size of the source tile grid is more\n            // likely to have 1:1 relationships between source tiles and rendered tiles.\n            var sourceTileGrid_2 = this.tileGrid;\n            var resolutions = sourceTileGrid_2.getResolutions().slice();\n            var origins = resolutions.map(function (resolution, z) {\n                return sourceTileGrid_2.getOrigin(z);\n            });\n            var tileSizes = resolutions.map(function (resolution, z) {\n                return sourceTileGrid_2.getTileSize(z);\n            });\n            var length_1 = DEFAULT_MAX_ZOOM + 1;\n            for (var z = resolutions.length; z < length_1; ++z) {\n                resolutions.push(resolutions[z - 1] / 2);\n                origins.push(origins[z - 1]);\n                tileSizes.push(tileSizes[z - 1]);\n            }\n            tileGrid = new TileGrid({\n                extent: sourceTileGrid_2.getExtent(),\n                origins: origins,\n                resolutions: resolutions,\n                tileSizes: tileSizes,\n            });\n            this.tileGrids_[code] = tileGrid;\n        }\n        return tileGrid;\n    };\n    /**\n     * Get the tile pixel ratio for this source.\n     * @param {number} pixelRatio Pixel ratio.\n     * @return {number} Tile pixel ratio.\n     */\n    VectorTile.prototype.getTilePixelRatio = function (pixelRatio) {\n        return pixelRatio;\n    };\n    /**\n     * @param {number} z Z.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../size.js\").Size} Tile size.\n     */\n    VectorTile.prototype.getTilePixelSize = function (z, pixelRatio, projection) {\n        var tileGrid = this.getTileGridForProjection(projection);\n        var tileSize = toSize(tileGrid.getTileSize(z), this.tmpSize);\n        return [\n            Math.round(tileSize[0] * pixelRatio),\n            Math.round(tileSize[1] * pixelRatio),\n        ];\n    };\n    /**\n     * Increases the cache size if needed\n     * @param {number} tileCount Minimum number of tiles needed.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorTile.prototype.updateCacheSize = function (tileCount, projection) {\n        _super.prototype.updateCacheSize.call(this, tileCount * 2, projection);\n        this.sourceTileCache.highWaterMark =\n            this.getTileCacheForProjection(projection).highWaterMark;\n    };\n    return VectorTile;\n}(UrlTile));\nexport default VectorTile;\n/**\n * Sets the loader for a tile.\n * @param {import(\"../VectorTile.js\").default} tile Vector tile.\n * @param {string} url URL.\n */\nexport function defaultLoadFunction(tile, url) {\n    tile.setLoader(\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    function (extent, resolution, projection) {\n        loadFeaturesXhr(url, tile.getFormat(), extent, resolution, projection, tile.onLoad.bind(tile), tile.onError.bind(tile));\n    });\n}\n//# sourceMappingURL=VectorTile.js.map","import Map from 'ol/Map';\nimport TopoJSON from 'ol/format/TopoJSON';\nimport VectorTileLayer from 'ol/layer/VectorTile';\nimport VectorTileSource from 'ol/source/VectorTile';\nimport { Fill, Stroke, Style } from 'ol/style';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\nimport Feature from 'ol/Feature';\nimport Geometry from 'ol/geom/Geometry';\nimport RenderFeature from 'ol/render/Feature';\n\nfunction createOLStyle() {\n  let fill = new Fill({ color: '' });\n  let stroke = new Stroke({ color: '', width: 1 });\n  let polygon = new Style({ fill: fill, stroke: stroke });\n  let line = new Style({ stroke: stroke });\n\n  let styles: Style[] = [];\n  return function (feature: Feature<Geometry> | RenderFeature, resolution: number) {\n    //console.log('=============>>> feature', feature,resolution);\n    let length = 0;\n    let layer = feature.get('layer');\n    let kind = feature.get('kind');\n    let geometry = feature.getGeometry();\n    if (geometry) {\n      let geometryType = geometry.getType();\n\n      //console.log(layer, kind, geom);\n\n      //water\n      if (\n        (layer === 'water' && kind === 'water-layer') ||\n        (layer === 'water' && kind === 'river') ||\n        (layer === 'water' && kind === 'stream') ||\n        (layer === 'water' && kind === 'canal')\n      ) {\n        stroke.setColor('#9DD9D2');\n        stroke.setWidth(1.5);\n        styles[length++] = line;\n      } else if (layer === 'water' && kind === 'riverbank') {\n        fill.setColor('#9DD9D2');\n        stroke.setWidth(1.5);\n        styles[length++] = polygon;\n      } else if (\n        (layer === 'water' && kind === 'water_boundary') ||\n        (layer === 'water' && kind === 'ocean_boundary') ||\n        (layer === 'water' && kind === 'riverbank_boundary')\n      ) {\n        stroke.setColor('#93cbc4');\n        stroke.setWidth(0.5);\n        styles[length++] = line;\n      } else if (layer === 'water' || layer === 'ocean' || layer === 'lake') {\n        fill.setColor('#9DD9D2');\n        styles[length++] = polygon;\n      } else if (layer === 'aeroway' && geometryType === 'Polygon') {\n        fill.setColor('#9DD9D2');\n        styles[length++] = polygon;\n      } else if (layer === 'aeroway' && geometryType === 'LineString' && resolution <= 76.43702828517625) {\n        stroke.setColor('#f0ede9');\n        stroke.setWidth(1);\n        styles[length++] = line;\n      }\n\n      //parks\n      else if (\n        (layer === 'landuse' && kind === 'park') ||\n        (layer === 'landuse' && kind === 'national_park') ||\n        (layer === 'landuse' && kind === 'nature_reserve') ||\n        (layer === 'landuse' && kind === 'wood') ||\n        (layer === 'landuse' && kind === 'park') ||\n        (layer === 'landuse' && kind === 'grass') ||\n        (layer === 'landuse' && kind === 'protected_land')\n      ) {\n        fill.setColor('#88D18A');\n        styles[length++] = polygon;\n      }\n\n      //boundaries\n      else if (layer === 'boundaries' && kind === 'country') {\n        stroke.setColor('#ffffff');\n        stroke.setWidth(1.5);\n        styles[length++] = line;\n      } else if (layer === 'boundaries' && (kind === 'region' || kind === 'macroregion')) {\n        stroke.setColor('#aaaaaa');\n        stroke.setWidth(0.5);\n        styles[length++] = line;\n      }\n\n      //roads\n      else if (layer === 'roads' && kind === 'highway') {\n        stroke.setColor('#FA4A48');\n        stroke.setWidth(4);\n        styles[length++] = line;\n      } else if (layer === 'roads' && kind === 'major_road') {\n        stroke.setColor('#999');\n        stroke.setWidth(2);\n        styles[length++] = line;\n      } else if (layer === 'roads' && kind === 'minor_road') {\n        stroke.setColor('#ccc');\n        stroke.setWidth(1);\n        styles[length++] = line;\n      } else if (layer === 'roads') {\n        stroke.setColor('#fff');\n        stroke.setWidth(0.5);\n        styles[length++] = line;\n\n        // transit\n      } else if (layer === 'transit' && kind === 'train') {\n        stroke.setColor('#ffffcc');\n        stroke.setWidth(1);\n        styles[length++] = line;\n      }\n\n      //building\n      else if (resolution < 10 && layer === 'places') {\n        fill.setColor('#cccccc');\n        stroke.setWidth(2);\n        stroke.setColor('#ffffff');\n        styles[length++] = polygon;\n      }\n      //building\n      else if (resolution < 10 && layer === 'buildings') {\n        fill.setColor('#ffffff');\n        stroke.setWidth(2);\n        stroke.setColor('#f2f2f2');\n        styles[length++] = polygon;\n      }\n\n      styles.length = length;\n      return styles;\n    }\n    return new Style();\n  };\n}\n\nexport const nexten: ExtendMapLayerRegistryItem = {\n  id: 'nextzen',\n  name: 'Next Zen map',\n  isBaseMap: true,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions) => ({\n    init: () => {\n      return new VectorTileLayer({\n        source: new VectorTileSource({\n          attributions:\n            '&copy; OpenStreetMap contributors, Whos On First, ' + 'Natural Earth, and openstreetmapdata.com',\n          format: new TopoJSON({\n            layerName: 'layer',\n            layers: ['water', 'transit', 'buildings', 'places', 'pois', 'roads', 'landuse', 'boundaries'],\n          }),\n          maxZoom: 16,\n          url: 'https://tile.nextzen.org/tilezen/vector/v1/all/{z}/{x}/{y}.topojson?api_key=' + options.apiKey,\n        }),\n        style: createOLStyle(),\n      });\n    },\n  }),\n};\n\nexport const nextenLayers = [nexten];\n","/**\n * @module ol/source/OSM\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport XYZ from './XYZ.js';\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nexport var ATTRIBUTION = '&#169; ' +\n    '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> ' +\n    'contributors.';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Initial tile cache size. Will auto-grow to hold at least the number of tiles in the viewport.\n * @property {null|string} [crossOrigin='anonymous'] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {number} [maxZoom=19] Max zoom.\n * @property {boolean} [opaque=true] Whether the layer is opaque.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url='https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png'] URL template.\n * Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n * @api\n */\nvar OSM = /** @class */ (function (_super) {\n    __extends(OSM, _super);\n    /**\n     * @param {Options} [opt_options] Open Street Map options.\n     */\n    function OSM(opt_options) {\n        var options = opt_options || {};\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        var attributions;\n        if (options.attributions !== undefined) {\n            attributions = options.attributions;\n        }\n        else {\n            attributions = [ATTRIBUTION];\n        }\n        var crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous';\n        var url = options.url !== undefined\n            ? options.url\n            : 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png';\n        return _super.call(this, {\n            attributions: attributions,\n            attributionsCollapsible: false,\n            cacheSize: options.cacheSize,\n            crossOrigin: crossOrigin,\n            interpolate: interpolate,\n            maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n            opaque: options.opaque !== undefined ? options.opaque : true,\n            reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n            tileLoadFunction: options.tileLoadFunction,\n            transition: options.transition,\n            url: url,\n            wrapX: options.wrapX,\n            zDirection: options.zDirection,\n        }) || this;\n    }\n    return OSM;\n}(XYZ));\nexport default OSM;\n//# sourceMappingURL=OSM.js.map","import Map from 'ol/Map';\nimport OSM from 'ol/source/OSM';\nimport TileLayer from 'ol/layer/Tile';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\n\nexport const standard: ExtendMapLayerRegistryItem = {\n  id: 'osm-standard',\n  name: 'Open Street Map',\n  isBaseMap: true,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions) => ({\n    init: () => {\n      return new TileLayer({\n        source: new OSM(),\n      });\n    },\n  }),\n};\n\nexport const osmLayers = [standard];\n","import { cartoLayers } from './carto';\nimport { esriLayers } from './esri';\nimport { nextenLayers } from './nextzen';\nimport { genericLayers } from './generic';\nimport { osmLayers } from './osm';\n\n/**\n * Registry for layer handlers\n */\nexport const basemapLayers = [\n  ...osmLayers,\n  ...cartoLayers,\n  ...esriLayers, // keep formatting\n  ...nextenLayers,\n  ...genericLayers,\n];\n","/** @namespace  ol.ext\r\n */\r\n/*global ol*/\r\nif (window.ol && !ol.ext) {\r\n  ol.ext = {};\r\n}\r\n\r\n/** Inherit the prototype methods from one constructor into another.\r\n * replace deprecated ol method\r\n *\r\n * @param {!Function} childCtor Child constructor.\r\n * @param {!Function} parentCtor Parent constructor.\r\n * @function module:ol.inherits\r\n * @api\r\n */\r\nvar ol_ext_inherits = function(child,parent) {\r\n  child.prototype = Object.create(parent.prototype);\r\n  child.prototype.constructor = child;\r\n};\r\n\r\n// Compatibilty with ol > 5 to be removed when v6 is out\r\nif (window.ol) {\r\n  if (!ol.inherits) ol.inherits = ol_ext_inherits;\r\n}\r\n\r\n/* IE Polyfill */\r\n// NodeList.forEach\r\nif (window.NodeList && !NodeList.prototype.forEach) {\r\n  NodeList.prototype.forEach = Array.prototype.forEach;\r\n}\r\n// Element.remove\r\nif (window.Element && !Element.prototype.remove) {\r\n  Element.prototype.remove = function() {\r\n    if (this.parentNode) this.parentNode.removeChild(this);\r\n  }\r\n}\r\n/* End Polyfill */\r\n\r\nexport { ol_ext_inherits }\r\nexport default ol_ext_inherits\r\n","/*\tCopyright (c) 2015 Jean-Marc VIGLINO, \r\n  released under the CeCILL-B license (French BSD license)\r\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\r\n*/\r\n\r\nimport ol_ext_inherits from '../util/ext'\r\nimport ol_style_RegularShape from 'ol/style/RegularShape'\r\nimport ol_style_Image from 'ol/style/Image'\r\nimport {asString as ol_color_asString} from 'ol/color'\r\n\r\n/**\r\n * @classdesc\r\n * A marker style to use with font symbols.\r\n *\r\n * @constructor\r\n * @param {} options Options.\r\n *  @param {string} [options.color] default #000\r\n *  @param {string} options.glyph the glyph name or a char to display as symbol. \r\n *    The name must be added using the {@link ol.style.FontSymbol.addDefs} function.\r\n *  @param {string} [options.text] a text to display as a glyph\r\n *  @param {string} [options.font] font to use with the text option\r\n *  @param {string} options.form \r\n * \t  none|circle|poi|bubble|marker|coma|shield|blazon|bookmark|hexagon|diamond|triangle|sign|ban|lozenge|square\r\n * \t  a form that will enclose the glyph, default none\r\n *  @param {number} options.radius\r\n *  @param {number} options.rotation\r\n *  @param {boolean} options.rotateWithView\r\n *  @param {number} [options.opacity=1]\r\n *  @param {number} [options.fontSize=1] size of the font compare to the radius, fontSize greater than 1 will exceed the symbol extent\r\n *  @param {string} [options.fontStyle] the font style (bold, italic, bold italic, etc), default none\r\n *  @param {boolean} options.gradient true to display a gradient on the symbol\r\n *  @param {Array<number>} [options.displacement] to use with ol > 6\r\n * \t@param {number} [options.offsetX=0] Horizontal offset in pixels, deprecated use displacement with ol>6\r\n * \t@param {number} [options.offsetY=0] Vertical offset in pixels, deprecated use displacement with ol>6\r\n *  @param {_ol_style_Fill_} options.fill\r\n *  @param {_ol_style_Stroke_} options.stroke\r\n * @extends {ol_style_RegularShape}\r\n * @implements {ol.structs.IHasChecksum}\r\n * @api\r\n */\r\nvar ol_style_FontSymbol = function(options) {\r\n  options = options || {};\r\n  var strokeWidth = 0;\r\n  if (options.stroke) {\r\n    strokeWidth = options.stroke.getWidth();\r\n  }\r\n  if (!options.displacement) {\r\n    options.displacement = [options.offsetX || 0, -options.offsetY || 0];\r\n  }\r\n  if (typeof(options.opacity)==\"number\") this.setOpacity(options.opacity);\r\n  this._color = options.color;\r\n  this._fontSize = options.fontSize || 1;\r\n  this._fontStyle = options.fontStyle || '';\r\n  this._stroke = options.stroke;\r\n  this._fill = options.fill;\r\n  this._radius = options.radius -strokeWidth;\r\n  this._form = options.form || \"none\";\r\n  this._gradient = options.gradient;\r\n  this._offset = [options.offsetX ? options.offsetX :0, options.offsetY ? options.offsetY :0];\r\n  \r\n  if (options.glyph) this._glyph = this.getGlyph(options.glyph);\r\n  else this._glyph = this.getTextGlyph(options.text||'', options.font);\r\n  \r\n  ol_style_RegularShape.call (this, { \r\n    radius: options.radius, \r\n    fill: options.fill,\r\n    rotation: options.rotation, \r\n    displacement: options.displacement,\r\n    rotateWithView: options.rotateWithView \r\n  });\r\n  \r\n  if (!this.getDisplacement) this.getImage();\r\n};\r\nol_ext_inherits(ol_style_FontSymbol, ol_style_RegularShape);\r\n\r\n/** Cool stuff to get the image symbol for a style\r\n * @param {number} ratio pixelratio\r\n */\r\nol_style_Image.prototype.getImagePNG = function(ratio) {\r\n  ratio = ratio || window.devicePixelRatio;\r\n  var canvas = this.getImage(ratio);\r\n  if (canvas) {\r\n    try { return canvas.toDataURL(\"image/png\"); }\r\n    catch(e) { return false; }\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n/** Font defs\r\n */\r\nol_style_FontSymbol.prototype.defs = { 'fonts':{}, 'glyphs':{} };\r\n\r\n/** Static function : add new font defs \r\n * @param {String|Object} font the font desciption\r\n * @param {} glyphs a key / value list of glyph definitions. \r\n * \t\tEach key is the name of the glyph, \r\n * \t\tthe value is an object that code the font, the caracter code, \r\n * \t\tthe name and a search string for the glyph.\r\n */\r\nol_style_FontSymbol.addDefs = function(font, glyphs) {\r\n  var thefont = font;\r\n  if (typeof(font) == 'string') thefont = { font:font, name:font, copyright:'' };\r\n  if (!thefont.font || typeof(thefont.font) !== 'string') {\r\n    console.log('bad font def');\r\n    return;\r\n  }\r\n  var fontname = thefont.font;\r\n  ol_style_FontSymbol.prototype.defs.fonts[fontname] = thefont;\r\n  for (var i in glyphs) {\r\n    var g = glyphs[i];\r\n    if (typeof(g) === 'string' && g.length==1) g = { char: g };\r\n    ol_style_FontSymbol.prototype.defs.glyphs[i] = {\r\n      font: thefont.font,\r\n      char: g.char || ''+String.fromCharCode(g.code) || '',\r\n      theme: g.theme || thefont.name,\r\n      name: g.name || i,\r\n      search: g.search || ''\r\n    };\r\n  }\r\n};\r\n\r\n\r\n/** Clones the style. \r\n * @return {ol_style_FontSymbol}\r\n */\r\nol_style_FontSymbol.prototype.clone = function() {\r\n  var g = new ol_style_FontSymbol({\r\n    //glyph: this._glyph,\r\n    text: this._glyph.char,\r\n    font: this._glyph.font,\r\n    color: this._color,\r\n    fontSize: this._fontSize,\r\n    fontStyle: this._fontStyle,\r\n    stroke: this._stroke,\r\n    fill: this._fill,\r\n    radius: this._radius + (this._stroke ? this._stroke.getWidth():0),\r\n    form: this._form,\r\n    gradient: this._gradient,\r\n    offsetX: this._offset[0],\r\n    offsetY: this._offset[1],\r\n    opacity: this.getOpacity(),\r\n    rotation: this.getRotation(),\r\n    rotateWithView: this.getRotateWithView()\r\n  });\r\n  g.setScale(this.getScale());\r\n  return g;\r\n};\r\n\r\n/** Get the fill style for the symbol.\r\n * @return {ol_style_Fill} Fill style.\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getFill = function() {\r\n  return this._fill;\r\n};\r\n\r\n/** Get the stroke style for the symbol.\r\n * @return {_ol_style_Stroke_} Stroke style.\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getStroke = function() {\r\n  return this._stroke;\r\n};\r\n\r\n/** Get the glyph definition for the symbol.\r\n * @param {string|undefined} name a glyph name to get the definition, default return the glyph definition for the style.\r\n * @return {*}\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getGlyph = function(name) {\r\n  if (name) return ol_style_FontSymbol.prototype.defs.glyphs[name] || { font:'sans-serif', char:name.charAt(0), theme:'none', name:'none', search:'' };\r\n  else return this._glyph;\r\n};\r\n\r\n/** Get glyph definition given a text and a font\r\n * @param {string|undefined} text\r\n * @param {string} [font] the font for the text\r\n * @return {*}\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getTextGlyph = function(text, font) {\r\n  return { font: font || 'sans-serif', char:String(text), theme:'none', name:'none', search:'' };\r\n};\r\n\r\n/**\r\n * Get the glyph name.\r\n * @return {string} the name\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getGlyphName = function() {\r\n  for (var i in ol_style_FontSymbol.prototype.defs.glyphs) {\r\n    if (ol_style_FontSymbol.prototype.defs.glyphs[i] === this._glyph) return i;\r\n  }\r\n  return '';\r\n};\r\n\r\n/**\r\n * Get the stroke style for the symbol.\r\n * @return {_ol_style_Stroke_} Stroke style.\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getFontInfo = function(glyph) {\r\n  return ol_style_FontSymbol.prototype.defs.fonts[glyph.font];\r\n}\r\n\r\n/**\r\n * Get the image icon.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @return {HTMLCanvasElement} Image or Canvas element.\r\n * @api\r\n */\r\nol_style_FontSymbol.prototype.getImage = function(pixelratio) {\r\n  pixelratio = pixelratio || 1;\r\n  // get canvas\r\n  var canvas = ol_style_RegularShape.prototype.getImage.call(this, pixelratio);\r\n  \r\n  var strokeStyle;\r\n  var strokeWidth = 0;\r\n\r\n  if (this._stroke) {\r\n    strokeStyle = ol_color_asString(this._stroke.getColor());\r\n    strokeWidth = this._stroke.getWidth();\r\n  }\r\n\r\n  /** @type {ol_style_FontSymbol.RenderOptions} */\r\n  var renderOptions = {\r\n    strokeStyle: strokeStyle,\r\n    strokeWidth: strokeWidth,\r\n    size: canvas.width/pixelratio,\r\n  };\r\n\r\n  // draw the circle on the canvas\r\n  var context = (canvas.getContext('2d'));\r\n  context.clearRect(0, 0, canvas.width, canvas.height);\r\n  this.drawMarker_(renderOptions, context, 0, 0, pixelratio);\r\n\r\n  // Set anchor / displacement\r\n  if (!this.getDisplacement) {\r\n    var a = this.getAnchor();\r\n    a[0] = canvas.width / 2 - this._offset[0];\r\n    a[1] = canvas.width / 2 - this._offset[1];\r\n  }\r\n\r\n  return canvas;\r\n};\r\n\r\n/**\r\n * @private\r\n * @param {ol_style_FontSymbol.RenderOptions} renderOptions\r\n * @param {CanvasRenderingContext2D} context\r\n */\r\nol_style_FontSymbol.prototype.drawPath_ = function(renderOptions, context) {\r\n  var s = 2 * this._radius + renderOptions.strokeWidth;\r\n  var w = renderOptions.strokeWidth/2;\r\n  var c = renderOptions.size / 2;\r\n  // Transfo to place the glyph at the right place\r\n  var transfo = { fac:1, posX: renderOptions.size / 2, posY: renderOptions.size / 2 };\r\n  context.lineJoin = 'round';\r\n  context.lineCap = 'round';\r\n  context.beginPath();\r\n\r\n  // Draw the path with the form\r\n  switch (this._form) {\r\n    case \"none\": {\r\n      transfo.fac=1;  \r\n      break;\r\n    }\r\n    case \"circle\":\r\n    case \"ban\": {\r\n      context.arc ( c, c, s/2, 0, 2 * Math.PI, true);\r\n      break;\r\n    }\r\n    case \"poi\": {\r\n      context.arc ( c, c -0.4*this._radius, 0.6*this._radius, 0.15*Math.PI, 0.85*Math.PI, true);\r\n      context.lineTo ( c-0.89*0.05*s, (0.95+0.45*0.05)*s+w);\r\n      context.arc ( c, 0.95*s+w, 0.05*s, 0.85*Math.PI, 0.15*Math.PI, true);\r\n      transfo = { fac:0.45, posX:c, posY:c -0.35*this._radius };\r\n      break;\r\n    }\r\n    case \"bubble\": {\r\n      context.arc ( c, c -0.2*this._radius, 0.8*this._radius, 0.4*Math.PI, 0.6*Math.PI, true);\r\n      context.lineTo ( 0.5*s+w, s+w);\r\n      transfo = { fac:0.7, posX:c, posY:c -0.2*this._radius };\r\n      break;\r\n    }\r\n    case \"marker\": {\r\n      context.arc ( c, c -0.2*this._radius, 0.8*this._radius, 0.25*Math.PI, 0.75*Math.PI, true);\r\n      context.lineTo ( 0.5*s+w, s+w);\r\n      transfo = { fac:0.7, posX: c, posY: c -0.2*this._radius };\r\n      break;\r\n    }\r\n    case \"coma\": {\r\n      context.moveTo ( c + 0.8*this._radius, c -0.2*this._radius);\r\n      context.quadraticCurveTo ( 0.95*s+w, 0.75*s+w, 0.5*s+w, s+w);\r\n      context.arc ( c, c -0.2*this._radius, 0.8*this._radius, 0.45*Math.PI, 0, false);\r\n      transfo = { fac:0.7, posX: c, posY: c -0.2*this._radius };\r\n      break;\r\n    }\r\n    default: {\r\n      var pts;\r\n      switch (this._form) {\r\n        case \"shield\": {\r\n          pts = [ 0.05,0, 0.95,0, 0.95,0.8, 0.5,1, 0.05,0.8, 0.05,0 ]; \r\n          transfo.posY = 0.45*s+w ;\r\n          break;\r\n        }\r\n        case \"blazon\": {\r\n          pts = [ 0.1,0, 0.9,0, 0.9,0.8, 0.6,0.8, 0.5,1, 0.4,0.8, 0.1,0.8, 0.1,0 ]; \r\n          transfo.fac = 0.8;\r\n          transfo.posY = 0.4*s+w ;\r\n          break;\r\n        }\r\n        case \"bookmark\": {\r\n          pts = [ 0.05,0, 0.95,0, 0.95,1, 0.5,0.8, 0.05,1, 0.05,0 ]; \r\n          transfo.fac = 0.9;\r\n          transfo.posY = 0.4*s+w ;\r\n          break;\r\n        }\r\n        case \"hexagon\": {\r\n          pts = [ 0.05,0.2, 0.5,0, 0.95,0.2, 0.95,0.8, 0.5,1, 0.05,0.8, 0.05,0.2 ]; \r\n          transfo.fac = 0.9;\r\n          transfo.posY = 0.5*s+w ;\r\n          break;\r\n        }\r\n        case \"diamond\": {\r\n          pts = [ 0.25,0, 0.75,0, 1,0.2, 1,0.4, 0.5,1, 0,0.4, 0,0.2, 0.25,0 ]; \r\n          transfo.fac = 0.75 ;\r\n          transfo.posY = 0.35*s+w ;\r\n          break;\r\n        }\r\n        case \"triangle\": {\r\n          pts = [ 0,0, 1,0, 0.5,1, 0,0 ]; \r\n          transfo.fac = 0.6 ;\r\n          transfo.posY = 0.3*s+w ;\r\n          break;\r\n        }\r\n        case \"sign\": {\r\n          pts = [ 0.5,0.05, 1,0.95, 0,0.95, 0.5,0.05 ]; \r\n          transfo.fac = 0.7 ;\r\n          transfo.posY = 0.65*s+w ;\r\n          break;\r\n        }\r\n        case \"lozenge\": {\r\n          pts = [ 0.5,0, 1,0.5, 0.5,1, 0,0.5, 0.5,0 ]; \r\n          transfo.fac = 0.7;\r\n          break;\r\n        }\r\n        case \"square\": \r\n        default: {\r\n          pts = [ 0,0, 1,0, 1,1, 0,1, 0,0 ]; \r\n          break;\r\n        }\r\n      }\r\n      for (var i=0; i<pts.length; i+=2) context.lineTo ( pts[i]*s+w, pts[i+1]*s+w);\r\n    }\r\n  }\r\n\r\n  context.closePath();\r\n  return transfo;\r\n}\r\n\r\n/**\r\n * @private\r\n * @param {ol_style_FontSymbol.RenderOptions} renderOptions\r\n * @param {CanvasRenderingContext2D} context\r\n * @param {number} x The origin for the symbol (x).\r\n * @param {number} y The origin for the symbol (y).\r\n */\r\nol_style_FontSymbol.prototype.drawMarker_ = function(renderOptions, context, x, y, pixelratio) {\r\n  var fcolor = this._fill ? this._fill.getColor() : \"#000\";\r\n  var scolor = this._stroke ? this._stroke.getColor() : \"#000\";\r\n  if (this._form == \"none\" && this._stroke && this._fill) {\r\n    scolor = this._fill.getColor();\r\n    fcolor = this._stroke.getColor();\r\n  }\r\n  // reset transform\r\n  context.setTransform(pixelratio, 0, 0, pixelratio, 0, 0);\r\n\r\n  // then move to (x, y)\r\n  context.translate(x, y);\r\n\r\n  var tr = this.drawPath_(renderOptions, context, pixelratio);\r\n\r\n  if (this._fill) {\r\n    if (this._gradient && this._form!=\"none\") {\r\n      var grd = context.createLinearGradient(0,0,renderOptions.size/2,renderOptions.size);\r\n      grd.addColorStop (1, ol_color_asString(fcolor));\r\n      grd.addColorStop (0, ol_color_asString(scolor));\r\n      context.fillStyle = grd;\r\n    } else {\r\n      context.fillStyle = ol_color_asString(fcolor);\r\n    }\r\n    context.fill();\r\n  }\r\n  if (this._stroke && renderOptions.strokeWidth) {\r\n    context.strokeStyle = renderOptions.strokeStyle;\r\n    context.lineWidth = renderOptions.strokeWidth;\r\n    context.stroke();\r\n  }\r\n\r\n  // Draw the symbol\r\n  if (this._glyph.char) {\r\n    context.font = this._fontStyle +' '\r\n      + (2*tr.fac*(this._radius)*this._fontSize)+\"px \"\r\n      + this._glyph.font;\r\n    context.strokeStyle = context.fillStyle;\r\n    context.lineWidth = renderOptions.strokeWidth * (this._form == \"none\" ? 2:1);\r\n    context.fillStyle = ol_color_asString(this._color || scolor);\r\n    context.textAlign = \"center\";\r\n    context.textBaseline = \"middle\";\r\n    var t = this._glyph.char;\r\n    if (renderOptions.strokeWidth && scolor!=\"transparent\") context.strokeText(t, tr.posX, tr.posY);\r\n    context.fillText(t, tr.posX, tr.posY);\r\n  }\r\n\r\n  if (this._form==\"ban\" && this._stroke && renderOptions.strokeWidth) {\r\n    context.strokeStyle = renderOptions.strokeStyle;\r\n    context.lineWidth = renderOptions.strokeWidth;\r\n    var r = this._radius + renderOptions.strokeWidth;\r\n    var d = this._radius * Math.cos(Math.PI/4);\r\n    context.moveTo(r + d, r - d);\r\n    context.lineTo(r - d, r + d);\r\n    context.stroke();\r\n  }\r\n};\r\n\r\n/**\r\n * @inheritDoc\r\n */\r\nol_style_FontSymbol.prototype.getChecksum = function() {\r\n  var strokeChecksum = (this._stroke!==null) ? this._stroke.getChecksum() : '-';\r\n  var fillChecksum = (this._fill!==null) ? this._fill.getChecksum() : '-';\r\n\r\n  var recalculate = (this.checksums_===null)\r\n    || (strokeChecksum != this.checksums_[1] \r\n    || fillChecksum != this.checksums_[2] \r\n    || this._radius != this.checksums_[3] \r\n    || this._form+\"-\"+this.glyphs_ != this.checksums_[4]\r\n  );\r\n\r\n  if (recalculate) {\r\n    var checksum = 'c' + strokeChecksum + fillChecksum \r\n      + ((this._radius !== void 0) ? this._radius.toString() : '-')\r\n      + this._form+\"-\"+this.glyphs_;\r\n    this.checksums_ = [checksum, strokeChecksum, fillChecksum, this._radius, this._form+\"-\"+this.glyphs_];\r\n  }\r\n\r\n  return this.checksums_[0];\r\n};\r\n\r\nexport default ol_style_FontSymbol\r\n","/*\tCopyright (c) 2015 Jean-Marc VIGLINO, \r\n  released under the CeCILL-B license (French BSD license)\r\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\r\n*\r\n*  Shadow image style for point vector features\r\n*/\r\n\r\nimport ol_ext_inherits from '../util/ext'\r\nimport ol_style_Fill from 'ol/style/Fill'\r\nimport ol_style_RegularShape from 'ol/style/RegularShape'\r\n\r\n/**\r\n * @classdesc\r\n * Set Shadow style for point vector features.\r\n *\r\n * @constructor\r\n * @param {} options Options.\r\n *  @param {ol.style.Fill | undefined} options.fill fill style, default rgba(0,0,0,0.5)\r\n *  @param {number} options.radius point radius\r\n * \t@param {number} options.blur lur radius, default radius/3\r\n *  @param {Array<number>} [options.displacement] to use with ol > 6\r\n * \t@param {number} [options.offsetX=0] Horizontal offset in pixels, deprecated use displacement with ol>6\r\n * \t@param {number} [options.offsetY=0] Vertical offset in pixels, deprecated use displacement with ol>6\r\n * @extends {ol_style_RegularShape}\r\n * @api\r\n */\r\nvar ol_style_Shadow = function(options) {\r\n  options = options || {};\r\n  this._fill = options.fill || new ol_style_Fill({ color: \"rgba(0,0,0,0.5)\" });\r\n  this._radius = options.radius;\r\n  this._blur = options.blur===0 ? 0 : options.blur || options.radius/3;\r\n  this._offset = [options.offsetX ? options.offsetX : 0, options.offsetY ? options.offsetY : 0];\r\n  if (!options.displacement) options.displacement = [options.offsetX || 0, -options.offsetY || 0];\r\n\r\n  ol_style_RegularShape.call (this, { \r\n    radius: options.radius, \r\n    fill: options.fill,\r\n    displacement: options.displacement\r\n  });\r\n\r\n  // ol < 6\r\n  if (!this.setDisplacement) this.getImage();\r\n};\r\nol_ext_inherits(ol_style_Shadow, ol_style_RegularShape);\r\n\r\n/**\r\n * Clones the style. \r\n * @return {ol_style_Shadow}\r\n */\r\nol_style_Shadow.prototype.clone = function() {\r\n  var s = new ol_style_Shadow({\r\n    fill: this._fill,\r\n    radius: this._radius,\r\n    blur: this._blur,\r\n    offsetX: this._offset[0],\r\n    offsetY: this._offset[1]\r\n  });\r\n  s.setScale(this.getScale());\r\n  s.setOpacity(this.getOpacity());\r\n  return s;\r\n};\r\n\r\n/**\r\n * Get the image icon.\r\n * @param {number} pixelRatio Pixel ratio.\r\n * @return {HTMLCanvasElement} Image or Canvas element.\r\n * @api\r\n */\r\nol_style_Shadow.prototype.getImage = function(pixelratio) {\r\n  pixelratio = pixelratio || 1;\r\n\r\n  var radius = this._radius;\r\n  \r\n  var canvas = ol_style_RegularShape.prototype.getImage.call(this, pixelratio);\r\n\r\n  // Remove the circle on the canvas\r\n  var context = (canvas.getContext('2d'));\r\n\r\n  context.save();\r\n    context.resetTransform();\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n    context.beginPath();\r\n      context.setTransform(pixelratio, 0, 0, pixelratio, 0, 0);\r\n\r\n      context.scale(1,0.5);\r\n      context.arc(radius, -radius, radius - this._blur, 0, 2 * Math.PI, false);\r\n      context.fillStyle = '#000';\r\n\r\n      context.shadowColor = this._fill.getColor();\r\n      context.shadowBlur = 0.7 * this._blur * pixelratio;\r\n      context.shadowOffsetX = 0;\r\n      context.shadowOffsetY = 1.5 * radius * pixelratio;\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    context.shadowColor = 'transparent';\r\n  context.restore();\r\n    \r\n  // Set anchor\r\n  if (!this.getDisplacement) {\r\n    var a = this.getAnchor();\r\n    a[0] = canvas.width /2 - this._offset[0];\r\n    a[1] = canvas.height /2 - this._offset[1];\r\n  }\r\n\r\n  return canvas;\r\n}\r\n\r\nexport default ol_style_Shadow\r\n","import ol_style_FontSymbol from './FontSymbol'\r\n\r\nol_style_FontSymbol.addDefs(\r\n{\t\"font\":\"FontAwesome\",\r\n\t\"name\":\"FontAwesome\",\r\n\t\"copyright\":\"SIL OFL 1.1\",\r\n\t\"prefix\": \"fa\"\r\n},\r\n{\t\"fa-glass\": \"\\uf000\",\r\n\t\"fa-music\": \"\\uf001\",\r\n\t\"fa-search\": \"\\uf002\",\r\n\t\"fa-envelope-o\": \"\\uf003\",\r\n\t\"fa-heart\": \"\\uf004\",\r\n\t\"fa-star\": \"\\uf005\",\r\n\t\"fa-star-o\": \"\\uf006\",\r\n\t\"fa-user\": \"\\uf007\",\r\n\t\"fa-film\": \"\\uf008\",\r\n\t\"fa-th-large\": \"\\uf009\",\r\n\t\"fa-th\": \"\\uf00a\",\r\n\t\"fa-th-list\": \"\\uf00b\",\r\n\t\"fa-check\": \"\\uf00c\",\r\n\t\"fa-remove\":\"\\uf00d\",\r\n\t\"fa-close\":\"\\uf00d\",\r\n\t\"fa-times\": \"\\uf00d\",\r\n\t\"fa-search-plus\": \"\\uf00e\",\r\n\t\"fa-search-minus\": \"\\uf010\",\r\n\t\"fa-power-off\": \"\\uf011\",\r\n\t\"fa-signal\": \"\\uf012\",\r\n\t\"fa-gear\": \"\\uf013\",\r\n\t\"fa-cog\": \"\\uf013\",\r\n\t\"fa-trash-o\": \"\\uf014\",\r\n\t\"fa-home\": \"\\uf015\",\r\n\t\"fa-file-o\": \"\\uf016\",\r\n\t\"fa-clock-o\": \"\\uf017\",\r\n\t\"fa-road\": \"\\uf018\",\r\n\t\"fa-download\": \"\\uf019\",\r\n\t\"fa-arrow-circle-o-down\": \"\\uf01a\",\r\n\t\"fa-arrow-circle-o-up\": \"\\uf01b\",\r\n\t\"fa-inbox\": \"\\uf01c\",\r\n\t\"fa-play-circle-o\": \"\\uf01d\",\r\n\t\"fa-rotate-right\": \"\\uf01e\",\r\n\t\"fa-repeat\": \"\\uf01e\",\r\n\t\"fa-refresh\": \"\\uf021\",\r\n\t\"fa-list-alt\": \"\\uf022\",\r\n\t\"fa-lock\": \"\\uf023\",\r\n\t\"fa-flag\": \"\\uf024\",\r\n\t\"fa-headphones\": \"\\uf025\",\r\n\t\"fa-volume-off\": \"\\uf026\",\r\n\t\"fa-volume-down\": \"\\uf027\",\r\n\t\"fa-volume-up\": \"\\uf028\",\r\n\t\"fa-qrcode\": \"\\uf029\",\r\n\t\"fa-barcode\": \"\\uf02a\",\r\n\t\"fa-tag\": \"\\uf02b\",\r\n\t\"fa-tags\": \"\\uf02c\",\r\n\t\"fa-book\": \"\\uf02d\",\r\n\t\"fa-bookmark\": \"\\uf02e\",\r\n\t\"fa-print\": \"\\uf02f\",\r\n\t\"fa-camera\": \"\\uf030\",\r\n\t\"fa-font\": \"\\uf031\",\r\n\t\"fa-bold\": \"\\uf032\",\r\n\t\"fa-italic\": \"\\uf033\",\r\n\t\"fa-text-height\": \"\\uf034\",\r\n\t\"fa-text-width\": \"\\uf035\",\r\n\t\"fa-align-left\": \"\\uf036\",\r\n\t\"fa-align-center\": \"\\uf037\",\r\n\t\"fa-align-right\": \"\\uf038\",\r\n\t\"fa-align-justify\": \"\\uf039\",\r\n\t\"fa-list\": \"\\uf03a\",\r\n\t\"fa-dedent\": \"\\uf03b\",\r\n\t\"fa-outdent\": \"\\uf03b\",\r\n\t\"fa-indent\": \"\\uf03c\",\r\n\t\"fa-video-camera\": \"\\uf03d\",\r\n\t\"fa-photo\": \"\\uf03e\",\r\n\t\"fa-image\": \"\\uf03e\",\r\n\t\"fa-picture-o\": \"\\uf03e\",\r\n\t\"fa-pencil\": \"\\uf040\",\r\n\t\"fa-map-marker\": \"\\uf041\",\r\n\t\"fa-adjust\": \"\\uf042\",\r\n\t\"fa-tint\": \"\\uf043\",\r\n\t\"fa-edit\": \"\\uf044\",\r\n\t\"fa-pencil-square-o\": \"\\uf044\",\r\n\t\"fa-share-square-o\": \"\\uf045\",\r\n\t\"fa-check-square-o\": \"\\uf046\",\r\n\t\"fa-arrows\": \"\\uf047\",\r\n\t\"fa-step-backward\": \"\\uf048\",\r\n\t\"fa-fast-backward\": \"\\uf049\",\r\n\t\"fa-backward\": \"\\uf04a\",\r\n\t\"fa-play\": \"\\uf04b\",\r\n\t\"fa-pause\": \"\\uf04c\",\r\n\t\"fa-stop\": \"\\uf04d\",\r\n\t\"fa-forward\": \"\\uf04e\",\r\n\t\"fa-fast-forward\": \"\\uf050\",\r\n\t\"fa-step-forward\": \"\\uf051\",\r\n\t\"fa-eject\": \"\\uf052\",\r\n\t\"fa-chevron-left\": \"\\uf053\",\r\n\t\"fa-chevron-right\": \"\\uf054\",\r\n\t\"fa-plus-circle\": \"\\uf055\",\r\n\t\"fa-minus-circle\": \"\\uf056\",\r\n\t\"fa-times-circle\": \"\\uf057\",\r\n\t\"fa-check-circle\": \"\\uf058\",\r\n\t\"fa-question-circle\": \"\\uf059\",\r\n\t\"fa-info-circle\": \"\\uf05a\",\r\n\t\"fa-crosshairs\": \"\\uf05b\",\r\n\t\"fa-times-circle-o\": \"\\uf05c\",\r\n\t\"fa-check-circle-o\": \"\\uf05d\",\r\n\t\"fa-ban\": \"\\uf05e\",\r\n\t\"fa-arrow-left\": \"\\uf060\",\r\n\t\"fa-arrow-right\": \"\\uf061\",\r\n\t\"fa-arrow-up\": \"\\uf062\",\r\n\t\"fa-arrow-down\": \"\\uf063\",\r\n\t\"fa-mail-forward\": \"\\uf064\",\r\n\t\"fa-share\": \"\\uf064\",\r\n\t\"fa-expand\": \"\\uf065\",\r\n\t\"fa-compress\": \"\\uf066\",\r\n\t\"fa-plus\": \"\\uf067\",\r\n\t\"fa-minus\": \"\\uf068\",\r\n\t\"fa-asterisk\": \"\\uf069\",\r\n\t\"fa-exclamation-circle\": \"\\uf06a\",\r\n\t\"fa-gift\": \"\\uf06b\",\r\n\t\"fa-leaf\": \"\\uf06c\",\r\n\t\"fa-fire\": \"\\uf06d\",\r\n\t\"fa-eye\": \"\\uf06e\",\r\n\t\"fa-eye-slash\": \"\\uf070\",\r\n\t\"fa-warning\": \"\\uf071\",\r\n\t\"fa-exclamation-triangle\": \"\\uf071\",\r\n\t\"fa-plane\": \"\\uf072\",\r\n\t\"fa-calendar\": \"\\uf073\",\r\n\t\"fa-random\": \"\\uf074\",\r\n\t\"fa-comment\": \"\\uf075\",\r\n\t\"fa-magnet\": \"\\uf076\",\r\n\t\"fa-chevron-up\": \"\\uf077\",\r\n\t\"fa-chevron-down\": \"\\uf078\",\r\n\t\"fa-retweet\": \"\\uf079\",\r\n\t\"fa-shopping-cart\": \"\\uf07a\",\r\n\t\"fa-folder\": \"\\uf07b\",\r\n\t\"fa-folder-open\": \"\\uf07c\",\r\n\t\"fa-arrows-v\": \"\\uf07d\",\r\n\t\"fa-arrows-h\": \"\\uf07e\",\r\n\t\"fa-bar-t-o\": \"\\uf080\",\r\n\t\"fa-bar-t\": \"\\uf080\",\r\n\t\"fa-twitter-square\": \"\\uf081\",\r\n\t\"fa-facebook-square\": \"\\uf082\",\r\n\t\"fa-camera-retro\": \"\\uf083\",\r\n\t\"fa-key\": \"\\uf084\",\r\n\t\"fa-gears\": \"\\uf085\",\r\n\t\"fa-cogs\": \"\\uf085\",\r\n\t\"fa-comments\": \"\\uf086\",\r\n\t\"fa-thumbs-o-up\": \"\\uf087\",\r\n\t\"fa-thumbs-o-down\": \"\\uf088\",\r\n\t\"fa-star-half\": \"\\uf089\",\r\n\t\"fa-heart-o\": \"\\uf08a\",\r\n\t\"fa-sign-out\": \"\\uf08b\",\r\n\t\"fa-linkedin-square\": \"\\uf08c\",\r\n\t\"fa-thumb-tack\": \"\\uf08d\",\r\n\t\"fa-external-link\": \"\\uf08e\",\r\n\t\"fa-sign-in\": \"\\uf090\",\r\n\t\"fa-trophy\": \"\\uf091\",\r\n\t\"fa-github-square\": \"\\uf092\",\r\n\t\"fa-upload\": \"\\uf093\",\r\n\t\"fa-lemon-o\": \"\\uf094\",\r\n\t\"fa-phone\": \"\\uf095\",\r\n\t\"fa-square-o\": \"\\uf096\",\r\n\t\"fa-bookmark-o\": \"\\uf097\",\r\n\t\"fa-phone-square\": \"\\uf098\",\r\n\t\"fa-twitter\": \"\\uf099\",\r\n\t\"fa-facebook-f\": \"\\uf09a\",\r\n\t\"fa-facebook\": \"\\uf09a\",\r\n\t\"fa-github\": \"\\uf09b\",\r\n\t\"fa-unlock\": \"\\uf09c\",\r\n\t\"fa-credit-card\": \"\\uf09d\",\r\n\t\"fa-feed\": \"\\uf09e\",\r\n\t\"fa-rss\": \"\\uf09e\",\r\n\t\"fa-hdd-o\": \"\\uf0a0\",\r\n\t\"fa-bullhorn\": \"\\uf0a1\",\r\n\t\"fa-bell\": \"\\uf0f3\",\r\n\t\"fa-certificate\": \"\\uf0a3\",\r\n\t\"fa-hand-o-right\": \"\\uf0a4\",\r\n\t\"fa-hand-o-left\": \"\\uf0a5\",\r\n\t\"fa-hand-o-up\": \"\\uf0a6\",\r\n\t\"fa-hand-o-down\": \"\\uf0a7\",\r\n\t\"fa-arrow-circle-left\": \"\\uf0a8\",\r\n\t\"fa-arrow-circle-right\": \"\\uf0a9\",\r\n\t\"fa-arrow-circle-up\": \"\\uf0aa\",\r\n\t\"fa-arrow-circle-down\": \"\\uf0ab\",\r\n\t\"fa-globe\": \"\\uf0ac\",\r\n\t\"fa-wrench\": \"\\uf0ad\",\r\n\t\"fa-tasks\": \"\\uf0ae\",\r\n\t\"fa-filter\": \"\\uf0b0\",\r\n\t\"fa-briefcase\": \"\\uf0b1\",\r\n\t\"fa-arrows-alt\": \"\\uf0b2\",\r\n\t\"fa-group\": \"\\uf0c0\",\r\n\t\"fa-users\": \"\\uf0c0\",\r\n\t\"fa-chain\": \"\\uf0c1\",\r\n\t\"fa-link\": \"\\uf0c1\",\r\n\t\"fa-cloud\": \"\\uf0c2\",\r\n\t\"fa-flask\": \"\\uf0c3\",\r\n\t\"fa-cut\": \"\\uf0c4\",\r\n\t\"fa-scissors\": \"\\uf0c4\",\r\n\t\"fa-copy\": \"\\uf0c5\",\r\n\t\"fa-files-o\": \"\\uf0c5\",\r\n\t\"fa-paperclip\": \"\\uf0c6\",\r\n\t\"fa-save\": \"\\uf0c7\",\r\n\t\"fa-floppy-o\": \"\\uf0c7\",\r\n\t\"fa-square\": \"\\uf0c8\",\r\n\t\"fa-navicon\": \"\\uf0c9\",\r\n\t\"fa-reorder\": \"\\uf0c9\",\r\n\t\"fa-bars\": \"\\uf0c9\",\r\n\t\"fa-list-ul\": \"\\uf0ca\",\r\n\t\"fa-list-ol\": \"\\uf0cb\",\r\n\t\"fa-strikethrough\": \"\\uf0cc\",\r\n\t\"fa-underline\": \"\\uf0cd\",\r\n\t\"fa-table\": \"\\uf0ce\",\r\n\t\"fa-magic\": \"\\uf0d0\",\r\n\t\"fa-truck\": \"\\uf0d1\",\r\n\t\"fa-pinterest\": \"\\uf0d2\",\r\n\t\"fa-pinterest-square\": \"\\uf0d3\",\r\n\t\"fa-google-plus-square\": \"\\uf0d4\",\r\n\t\"fa-google-plus\": \"\\uf0d5\",\r\n\t\"fa-money\": \"\\uf0d6\",\r\n\t\"fa-caret-down\": \"\\uf0d7\",\r\n\t\"fa-caret-up\": \"\\uf0d8\",\r\n\t\"fa-caret-left\": \"\\uf0d9\",\r\n\t\"fa-caret-right\": \"\\uf0da\",\r\n\t\"fa-columns\": \"\\uf0db\",\r\n\t\"fa-unsorted\": \"\\uf0dc\",\r\n\t\"fa-sort\": \"\\uf0dc\",\r\n\t\"fa-sort-down\":  \"\\uf0dd\",\r\n\t\"fa-sort-desc\": \"\\uf0dd\",\r\n\t\"fa-sort-up\": \"\\uf0de\",\r\n\t\"fa-sort-asc\": \"\\uf0de\",\r\n\t\"fa-envelope\": \"\\uf0e0\",\r\n\t\"fa-linkedin\": \"\\uf0e1\",\r\n\t\"fa-rotate-left\": \"\\uf0e2\",\r\n\t\"fa-undo\": \"\\uf0e2\",\r\n\t\"fa-legal\": \"\\uf0e3\",\r\n\t\"fa-gavel\": \"\\uf0e3\",\r\n\t\"fa-dashboard\": \"\\uf0e4\",\r\n\t\"fa-tachometer\": \"\\uf0e4\",\r\n\t\"fa-comment-o\": \"\\uf0e5\",\r\n\t\"fa-comments-o\": \"\\uf0e6\",\r\n\t\"fa-flash\": \"\\uf0e7\",\r\n\t\"fa-bolt\": \"\\uf0e7\",\r\n\t\"fa-sitemap\": \"\\uf0e8\",\r\n\t\"fa-umbrella\": \"\\uf0e9\",\r\n\t\"fa-paste\": \"\\uf0ea\",\r\n\t\"fa-clipboard\": \"\\uf0ea\",\r\n\t\"fa-lightbulb-o\": \"\\uf0eb\",\r\n\t\"fa-exchange\": \"\\uf0ec\",\r\n\t\"fa-cloud-download\": \"\\uf0ed\",\r\n\t\"fa-cloud-upload\": \"\\uf0ee\",\r\n\t\"fa-user-md\": \"\\uf0f0\",\r\n\t\"fa-stethoscope\": \"\\uf0f1\",\r\n\t\"fa-suitcase\": \"\\uf0f2\",\r\n\t\"fa-bell-o\": \"\\uf0a2\",\r\n\t\"fa-coffee\": \"\\uf0f4\",\r\n\t\"fa-cutlery\": \"\\uf0f5\",\r\n\t\"fa-file-text-o\": \"\\uf0f6\",\r\n\t\"fa-building-o\": \"\\uf0f7\",\r\n\t\"fa-hospital-o\": \"\\uf0f8\",\r\n\t\"fa-ambulance\": \"\\uf0f9\",\r\n\t\"fa-medkit\": \"\\uf0fa\",\r\n\t\"fa-fighter-jet\": \"\\uf0fb\",\r\n\t\"fa-beer\": \"\\uf0fc\",\r\n\t\"fa-h-square\": \"\\uf0fd\",\r\n\t\"fa-plus-square\": \"\\uf0fe\",\r\n\t\"fa-angle-double-left\": \"\\uf100\",\r\n\t\"fa-angle-double-right\": \"\\uf101\",\r\n\t\"fa-angle-double-up\": \"\\uf102\",\r\n\t\"fa-angle-double-down\": \"\\uf103\",\r\n\t\"fa-angle-left\": \"\\uf104\",\r\n\t\"fa-angle-right\": \"\\uf105\",\r\n\t\"fa-angle-up\": \"\\uf106\",\r\n\t\"fa-angle-down\": \"\\uf107\",\r\n\t\"fa-desktop\": \"\\uf108\",\r\n\t\"fa-laptop\": \"\\uf109\",\r\n\t\"fa-tablet\": \"\\uf10a\",\r\n\t\"fa-mobile-phone\": \"\\uf10b\",\r\n\t\"fa-mobile\": \"\\uf10b\",\r\n\t\"fa-circle-o\": \"\\uf10c\",\r\n\t\"fa-quote-left\": \"\\uf10d\",\r\n\t\"fa-quote-right\": \"\\uf10e\",\r\n\t\"fa-spinner\": \"\\uf110\",\r\n\t\"fa-circle\": \"\\uf111\",\r\n\t\"fa-mail-reply\": \"\\uf112\",\r\n\t\"fa-reply\": \"\\uf112\",\r\n\t\"fa-github-alt\": \"\\uf113\",\r\n\t\"fa-folder-o\": \"\\uf114\",\r\n\t\"fa-folder-open-o\": \"\\uf115\",\r\n\t\"fa-smile-o\": \"\\uf118\",\r\n\t\"fa-frown-o\": \"\\uf119\",\r\n\t\"fa-meh-o\": \"\\uf11a\",\r\n\t\"fa-gamepad\": \"\\uf11b\",\r\n\t\"fa-keyboard-o\": \"\\uf11c\",\r\n\t\"fa-flag-o\": \"\\uf11d\",\r\n\t\"fa-flag-checkered\": \"\\uf11e\",\r\n\t\"fa-terminal\": \"\\uf120\",\r\n\t\"fa-code\": \"\\uf121\",\r\n\t\"fa-mail-reply-all\": \"\\uf122\",\r\n\t\"fa-reply-all\": \"\\uf122\",\r\n\t\"fa-star-half-empty\": \"\\uf123\",\r\n\t\"fa-star-half-full\": \"\\uf123\",\r\n\t\"fa-star-half-o\": \"\\uf123\",\r\n\t\"fa-location-arrow\": \"\\uf124\",\r\n\t\"fa-crop\": \"\\uf125\",\r\n\t\"fa-code-fork\": \"\\uf126\",\r\n\t\"fa-unlink\": \"\\uf127\",\r\n\t\"fa-chain-broken\": \"\\uf127\",\r\n\t\"fa-question\": \"\\uf128\",\r\n\t\"fa-info\": \"\\uf129\",\r\n\t\"fa-exclamation\": \"\\uf12a\",\r\n\t\"fa-superscript\": \"\\uf12b\",\r\n\t\"fa-subscript\": \"\\uf12c\",\r\n\t\"fa-eraser\": \"\\uf12d\",\r\n\t\"fa-puzzle-piece\": \"\\uf12e\",\r\n\t\"fa-microphone\": \"\\uf130\",\r\n\t\"fa-microphone-slash\": \"\\uf131\",\r\n\t\"fa-shield\": \"\\uf132\",\r\n\t\"fa-calendar-o\": \"\\uf133\",\r\n\t\"fa-fire-extinguisher\": \"\\uf134\",\r\n\t\"fa-rocket\": \"\\uf135\",\r\n\t\"fa-maxcdn\": \"\\uf136\",\r\n\t\"fa-chevron-circle-left\": \"\\uf137\",\r\n\t\"fa-chevron-circle-right\": \"\\uf138\",\r\n\t\"fa-chevron-circle-up\": \"\\uf139\",\r\n\t\"fa-chevron-circle-down\": \"\\uf13a\",\r\n\t\"fa-html5\": \"\\uf13b\",\r\n\t\"fa-css3\": \"\\uf13c\",\r\n\t\"fa-anchor\": \"\\uf13d\",\r\n\t\"fa-unlock-alt\": \"\\uf13e\",\r\n\t\"fa-bullseye\": \"\\uf140\",\r\n\t\"fa-ellipsis-h\": \"\\uf141\",\r\n\t\"fa-ellipsis-v\": \"\\uf142\",\r\n\t\"fa-rss-square\": \"\\uf143\",\r\n\t\"fa-play-circle\": \"\\uf144\",\r\n\t\"fa-ticket\": \"\\uf145\",\r\n\t\"fa-minus-square\": \"\\uf146\",\r\n\t\"fa-minus-square-o\": \"\\uf147\",\r\n\t\"fa-level-up\": \"\\uf148\",\r\n\t\"fa-level-down\": \"\\uf149\",\r\n\t\"fa-check-square\": \"\\uf14a\",\r\n\t\"fa-pencil-square\": \"\\uf14b\",\r\n\t\"fa-external-link-square\": \"\\uf14c\",\r\n\t\"fa-share-square\": \"\\uf14d\",\r\n\t\"fa-compass\": \"\\uf14e\",\r\n\t\"fa-toggle-down\": \"\\uf150\",\r\n\t\"fa-caret-square-o-down\": \"\\uf150\",\r\n\t\"fa-toggle-up\": \"\\uf151\",\r\n\t\"fa-caret-square-o-up\": \"\\uf151\",\r\n\t\"fa-toggle-right\": \"\\uf152\",\r\n\t\"fa-caret-square-o-right\": \"\\uf152\",\r\n\t\"fa-euro\": \"\\uf153\",\r\n\t\"fa-eur\": \"\\uf153\",\r\n\t\"fa-gbp\": \"\\uf154\",\r\n\t\"fa-dollar\": \"\\uf155\",\r\n\t\"fa-usd\": \"\\uf155\",\r\n\t\"fa-rupee\": \"\\uf156\",\r\n\t\"fa-inr\": \"\\uf156\",\r\n\t\"fa-cny\": \"\\uf157\",\r\n\t\"fa-rmb\": \"\\uf157\",\r\n\t\"fa-yen\": \"\\uf157\",\r\n\t\"fa-jpy\": \"\\uf157\",\r\n\t\"fa-ruble\": \"\\uf158\",\r\n\t\"fa-rouble\": \"\\uf158\",\r\n\t\"fa-rub\": \"\\uf158\",\r\n\t\"fa-won\": \"\\uf159\",\r\n\t\"fa-krw\": \"\\uf159\",\r\n\t\"fa-bitcoin\": \"\\uf15a\",\r\n\t\"fa-btc\": \"\\uf15a\",\r\n\t\"fa-file\": \"\\uf15b\",\r\n\t\"fa-file-text\": \"\\uf15c\",\r\n\t\"fa-sort-alpha-asc\": \"\\uf15d\",\r\n\t\"fa-sort-alpha-desc\": \"\\uf15e\",\r\n\t\"fa-sort-amount-asc\": \"\\uf160\",\r\n\t\"fa-sort-amount-desc\": \"\\uf161\",\r\n\t\"fa-sort-numeric-asc\": \"\\uf162\",\r\n\t\"fa-sort-numeric-desc\": \"\\uf163\",\r\n\t\"fa-thumbs-up\": \"\\uf164\",\r\n\t\"fa-thumbs-down\": \"\\uf165\",\r\n\t\"fa-youtube-square\": \"\\uf166\",\r\n\t\"fa-youtube\": \"\\uf167\",\r\n\t\"fa-xing\": \"\\uf168\",\r\n\t\"fa-xing-square\": \"\\uf169\",\r\n\t\"fa-youtube-play\": \"\\uf16a\",\r\n\t\"fa-dropbox\": \"\\uf16b\",\r\n\t\"fa-stack-overflow\": \"\\uf16c\",\r\n\t\"fa-instagram\": \"\\uf16d\",\r\n\t\"fa-flickr\": \"\\uf16e\",\r\n\t\"fa-adn\": \"\\uf170\",\r\n\t\"fa-bitbucket\": \"\\uf171\",\r\n\t\"fa-bitbucket-square\": \"\\uf172\",\r\n\t\"fa-tumblr\": \"\\uf173\",\r\n\t\"fa-tumblr-square\": \"\\uf174\",\r\n\t\"fa-long-arrow-down\": \"\\uf175\",\r\n\t\"fa-long-arrow-up\": \"\\uf176\",\r\n\t\"fa-long-arrow-left\": \"\\uf177\",\r\n\t\"fa-long-arrow-right\": \"\\uf178\",\r\n\t\"fa-apple\": \"\\uf179\",\r\n\t\"fa-windows\": \"\\uf17a\",\r\n\t\"fa-android\": \"\\uf17b\",\r\n\t\"fa-linux\": \"\\uf17c\",\r\n\t\"fa-dribbble\": \"\\uf17d\",\r\n\t\"fa-skype\": \"\\uf17e\",\r\n\t\"fa-foursquare\": \"\\uf180\",\r\n\t\"fa-trello\": \"\\uf181\",\r\n\t\"fa-female\": \"\\uf182\",\r\n\t\"fa-male\": \"\\uf183\",\r\n\t\"fa-gittip\": \"\\uf184\",\r\n\t\"fa-gratipay\": \"\\uf184\",\r\n\t\"fa-sun-o\": \"\\uf185\",\r\n\t\"fa-moon-o\": \"\\uf186\",\r\n\t\"fa-archive\": \"\\uf187\",\r\n\t\"fa-bug\": \"\\uf188\",\r\n\t\"fa-vk\": \"\\uf189\",\r\n\t\"fa-weibo\": \"\\uf18a\",\r\n\t\"fa-renren\": \"\\uf18b\",\r\n\t\"fa-pagelines\": \"\\uf18c\",\r\n\t\"fa-stack-exchange\": \"\\uf18d\",\r\n\t\"fa-arrow-circle-o-right\": \"\\uf18e\",\r\n\t\"fa-arrow-circle-o-left\": \"\\uf190\",\r\n\t\"fa-toggle-left\": \"\\uf191\",\r\n\t\"fa-caret-square-o-left\": \"\\uf191\",\r\n\t\"fa-dot-circle-o\": \"\\uf192\",\r\n\t\"fa-wheelchair\": \"\\uf193\",\r\n\t\"fa-vimeo-square\": \"\\uf194\",\r\n\t\"fa-turkish-lira\": \"\\uf195\",\r\n\t\"fa-try\": \"\\uf195\",\r\n\t\"fa-plus-square-o\": \"\\uf196\",\r\n\t\"fa-space-shuttle\": \"\\uf197\",\r\n\t\"fa-slack\": \"\\uf198\",\r\n\t\"fa-envelope-square\": \"\\uf199\",\r\n\t\"fa-wordpress\": \"\\uf19a\",\r\n\t\"fa-openid\": \"\\uf19b\",\r\n\t\"fa-institution\": \"\\uf19c\",\r\n\t\"fa-bank\": \"\\uf19c\",\r\n\t\"fa-university\": \"\\uf19c\",\r\n\t\"fa-mortar-board\": \"\\uf19d\",\r\n\t\"fa-graduation-cap\": \"\\uf19d\",\r\n\t\"fa-yahoo\": \"\\uf19e\",\r\n\t\"fa-google\": \"\\uf1a0\",\r\n\t\"fa-reddit\": \"\\uf1a1\",\r\n\t\"fa-reddit-square\": \"\\uf1a2\",\r\n\t\"fa-stumbleupon-circle\": \"\\uf1a3\",\r\n\t\"fa-stumbleupon\": \"\\uf1a4\",\r\n\t\"fa-delicious\": \"\\uf1a5\",\r\n\t\"fa-digg\": \"\\uf1a6\",\r\n\t\"fa-pied-piper\": \"\\uf1a7\",\r\n\t\"fa-pied-piper-alt\": \"\\uf1a8\",\r\n\t\"fa-drupal\": \"\\uf1a9\",\r\n\t\"fa-joomla\": \"\\uf1aa\",\r\n\t\"fa-language\": \"\\uf1ab\",\r\n\t\"fa-fax\": \"\\uf1ac\",\r\n\t\"fa-building\": \"\\uf1ad\",\r\n\t\"fa-child\": \"\\uf1ae\",\r\n\t\"fa-paw\": \"\\uf1b0\",\r\n\t\"fa-spoon\": \"\\uf1b1\",\r\n\t\"fa-cube\": \"\\uf1b2\",\r\n\t\"fa-cubes\": \"\\uf1b3\",\r\n\t\"fa-behance\": \"\\uf1b4\",\r\n\t\"fa-behance-square\": \"\\uf1b5\",\r\n\t\"fa-steam\": \"\\uf1b6\",\r\n\t\"fa-steam-square\": \"\\uf1b7\",\r\n\t\"fa-recycle\": \"\\uf1b8\",\r\n\t\"fa-automobile\": \"\\uf1b9\",\r\n\t\"fa-car\": \"\\uf1b9\",\r\n\t\"fa-cab\": \"\\uf1ba\",\r\n\t\"fa-taxi\": \"\\uf1ba\",\r\n\t\"fa-tree\": \"\\uf1bb\",\r\n\t\"fa-spotify\": \"\\uf1bc\",\r\n\t\"fa-deviantart\": \"\\uf1bd\",\r\n\t\"fa-soundcloud\": \"\\uf1be\",\r\n\t\"fa-database\": \"\\uf1c0\",\r\n\t\"fa-file-pdf-o\": \"\\uf1c1\",\r\n\t\"fa-file-word-o\": \"\\uf1c2\",\r\n\t\"fa-file-excel-o\": \"\\uf1c3\",\r\n\t\"fa-file-powerpoint-o\": \"\\uf1c4\",\r\n\t\"fa-file-photo-o\": \"\\uf1c5\",\r\n\t\"fa-file-picture-o\": \"\\uf1c5\",\r\n\t\"fa-file-image-o\": \"\\uf1c5\",\r\n\t\"fa-file-zip-o\": \"\\uf1c6\",\r\n\t\"fa-file-archive-o\": \"\\uf1c6\",\r\n\t\"fa-file-sound-o\": \"\\uf1c7\",\r\n\t\"fa-file-audio-o\": \"\\uf1c7\",\r\n\t\"fa-file-movie-o\": \"\\uf1c8\",\r\n\t\"fa-file-video-o\": \"\\uf1c8\",\r\n\t\"fa-file-code-o\": \"\\uf1c9\",\r\n\t\"fa-vine\": \"\\uf1ca\",\r\n\t\"fa-codepen\": \"\\uf1cb\",\r\n\t\"fa-jsfiddle\": \"\\uf1cc\",\r\n\t\"fa-life-bouy\": \"\\uf1cd\",\r\n\t\"fa-life-buoy\": \"\\uf1cd\",\r\n\t\"fa-life-saver\": \"\\uf1cd\",\r\n\t\"fa-support\": \"\\uf1cd\",\r\n\t\"fa-life-ring\": \"\\uf1cd\",\r\n\t\"fa-circle-o-notch\": \"\\uf1ce\",\r\n\t\"fa-ra\": \"\\uf1d0\",\r\n\t\"fa-rebel\": \"\\uf1d0\",\r\n\t\"fa-ge\": \"\\uf1d1\",\r\n\t\"fa-empire\": \"\\uf1d1\",\r\n\t\"fa-git-square\": \"\\uf1d2\",\r\n\t\"fa-git\": \"\\uf1d3\",\r\n\t\"fa-y-combinator-square\": \"\\uf1d4\",\r\n\t\"fa-yc-square\": \"\\uf1d4\",\r\n\t\"fa-hacker-news\": \"\\uf1d4\",\r\n\t\"fa-tencent-weibo\": \"\\uf1d5\",\r\n\t\"fa-qq\": \"\\uf1d6\",\r\n\t\"fa-wechat\": \"\\uf1d7\",\r\n\t\"fa-weixin\": \"\\uf1d7\",\r\n\t\"fa-send\": \"\\uf1d8\",\r\n\t\"fa-paper-plane\": \"\\uf1d8\",\r\n\t\"fa-send-o\": \"\\uf1d9\",\r\n\t\"fa-paper-plane-o\": \"\\uf1d9\",\r\n\t\"fa-history\": \"\\uf1da\",\r\n\t\"fa-circle-thin\": \"\\uf1db\",\r\n\t\"fa-header\": \"\\uf1dc\",\r\n\t\"fa-paragraph\": \"\\uf1dd\",\r\n\t\"fa-sliders\": \"\\uf1de\",\r\n\t\"fa-share-alt\": \"\\uf1e0\",\r\n\t\"fa-share-alt-square\": \"\\uf1e1\",\r\n\t\"fa-bomb\": \"\\uf1e2\",\r\n\t\"fa-soccer-ball-o\": \"\\uf1e3\",\r\n\t\"fa-futbol-o\": \"\\uf1e3\",\r\n\t\"fa-tty\": \"\\uf1e4\",\r\n\t\"fa-binoculars\": \"\\uf1e5\",\r\n\t\"fa-plug\": \"\\uf1e6\",\r\n\t\"fa-slideshare\": \"\\uf1e7\",\r\n\t\"fa-twitch\": \"\\uf1e8\",\r\n\t\"fa-yelp\": \"\\uf1e9\",\r\n\t\"fa-newspaper-o\": \"\\uf1ea\",\r\n\t\"fa-wifi\": \"\\uf1eb\",\r\n\t\"fa-calculator\": \"\\uf1ec\",\r\n\t\"fa-paypal\": \"\\uf1ed\",\r\n\t\"fa-google-wallet\": \"\\uf1ee\",\r\n\t\"fa-cc-visa\": \"\\uf1f0\",\r\n\t\"fa-cc-mastercard\": \"\\uf1f1\",\r\n\t\"fa-cc-discover\": \"\\uf1f2\",\r\n\t\"fa-cc-amex\": \"\\uf1f3\",\r\n\t\"fa-cc-paypal\": \"\\uf1f4\",\r\n\t\"fa-cc-stripe\": \"\\uf1f5\",\r\n\t\"fa-bell-slash\": \"\\uf1f6\",\r\n\t\"fa-bell-slash-o\": \"\\uf1f7\",\r\n\t\"fa-trash\": \"\\uf1f8\",\r\n\t\"fa-copyright\": \"\\uf1f9\",\r\n\t\"fa-at\": \"\\uf1fa\",\r\n\t\"fa-eyedropper\": \"\\uf1fb\",\r\n\t\"fa-paint-brush\": \"\\uf1fc\",\r\n\t\"fa-birthday-cake\": \"\\uf1fd\",\r\n\t\"fa-area-t\": \"\\uf1fe\",\r\n\t\"fa-pie-t\": \"\\uf200\",\r\n\t\"fa-line-t\": \"\\uf201\",\r\n\t\"fa-lastfm\": \"\\uf202\",\r\n\t\"fa-lastfm-square\": \"\\uf203\",\r\n\t\"fa-toggle-off\": \"\\uf204\",\r\n\t\"fa-toggle-on\": \"\\uf205\",\r\n\t\"fa-bicycle\": \"\\uf206\",\r\n\t\"fa-bus\": \"\\uf207\",\r\n\t\"fa-ioxhost\": \"\\uf208\",\r\n\t\"fa-angellist\": \"\\uf209\",\r\n\t\"fa-cc\": \"\\uf20a\",\r\n\t\"fa-shekel\": \"\\uf20b\",\r\n\t\"fa-sheqel\": \"\\uf20b\",\r\n\t\"fa-ils\": \"\\uf20b\",\r\n\t\"fa-meanpath\": \"\\uf20c\",\r\n\t\"fa-buysellads\": \"\\uf20d\",\r\n\t\"fa-connectdevelop\": \"\\uf20e\",\r\n\t\"fa-dashcube\": \"\\uf210\",\r\n\t\"fa-forumbee\": \"\\uf211\",\r\n\t\"fa-leanpub\": \"\\uf212\",\r\n\t\"fa-sellsy\": \"\\uf213\",\r\n\t\"fa-shirtsinbulk\": \"\\uf214\",\r\n\t\"fa-simplybuilt\": \"\\uf215\",\r\n\t\"fa-skyatlas\": \"\\uf216\",\r\n\t\"fa-cart-plus\": \"\\uf217\",\r\n\t\"fa-cart-arrow-down\": \"\\uf218\",\r\n\t\"fa-diamond\": \"\\uf219\",\r\n\t\"fa-ship\": \"\\uf21a\",\r\n\t\"fa-user-secret\": \"\\uf21b\",\r\n\t\"fa-motorcycle\": \"\\uf21c\",\r\n\t\"fa-street-view\": \"\\uf21d\",\r\n\t\"fa-heartbeat\": \"\\uf21e\",\r\n\t\"fa-venus\": \"\\uf221\",\r\n\t\"fa-mars\": \"\\uf222\",\r\n\t\"fa-mercury\": \"\\uf223\",\r\n\t\"fa-intersex\": \"\\uf224\",\r\n\t\"fa-transgender\": \"\\uf224\",\r\n\t\"fa-transgender-alt\": \"\\uf225\",\r\n\t\"fa-venus-double\": \"\\uf226\",\r\n\t\"fa-mars-double\": \"\\uf227\",\r\n\t\"fa-venus-mars\": \"\\uf228\",\r\n\t\"fa-mars-stroke\": \"\\uf229\",\r\n\t\"fa-mars-stroke-v\": \"\\uf22a\",\r\n\t\"fa-mars-stroke-h\": \"\\uf22b\",\r\n\t\"fa-neuter\": \"\\uf22c\",\r\n\t\"fa-genderless\": \"\\uf22d\",\r\n\t\"fa-facebook-official\": \"\\uf230\",\r\n\t\"fa-pinterest-p\": \"\\uf231\",\r\n\t\"fa-whatsapp\": \"\\uf232\",\r\n\t\"fa-server\": \"\\uf233\",\r\n\t\"fa-user-plus\": \"\\uf234\",\r\n\t\"fa-user-times\": \"\\uf235\",\r\n\t\"fa-hotel\": \"\\uf236\",\r\n\t\"fa-bed\": \"\\uf236\",\r\n\t\"fa-viacoin\": \"\\uf237\",\r\n\t\"fa-train\": \"\\uf238\",\r\n\t\"fa-subway\": \"\\uf239\",\r\n\t\"fa-medium\": \"\\uf23a\",\r\n\t\"fa-yc\": \"\\uf23b\",\r\n\t\"fa-y-combinator\": \"\\uf23b\",\r\n\t\"fa-optin-monster\": \"\\uf23c\",\r\n\t\"fa-opencart\": \"\\uf23d\",\r\n\t\"fa-expeditedssl\": \"\\uf23e\",\r\n\t\"fa-battery-4\": \"\\uf240\",\r\n\t\"fa-battery-full\": \"\\uf240\",\r\n\t\"fa-battery-3\": \"\\uf241\",\r\n\t\"fa-battery-three-quarters\": \"\\uf241\",\r\n\t\"fa-battery-2\": \"\\uf242\",\r\n\t\"fa-battery-half\": \"\\uf242\",\r\n\t\"fa-battery-1\": \"\\uf243\",\r\n\t\"fa-battery-quarter\": \"\\uf243\",\r\n\t\"fa-battery-0\": \"\\uf244\",\r\n\t\"fa-battery-empty\": \"\\uf244\",\r\n\t\"fa-mouse-pointer\": \"\\uf245\",\r\n\t\"fa-i-cursor\": \"\\uf246\",\r\n\t\"fa-object-group\": \"\\uf247\",\r\n\t\"fa-object-ungroup\": \"\\uf248\",\r\n\t\"fa-sticky-note\": \"\\uf249\",\r\n\t\"fa-sticky-note-o\": \"\\uf24a\",\r\n\t\"fa-cc-jcb\": \"\\uf24b\",\r\n\t\"fa-cc-diners-club\": \"\\uf24c\",\r\n\t\"fa-clone\": \"\\uf24d\",\r\n\t\"fa-balance-scale\": \"\\uf24e\",\r\n\t\"fa-hourglass-o\": \"\\uf250\",\r\n\t\"fa-hourglass-1\": \"\\uf251\",\r\n\t\"fa-hourglass-start\": \"\\uf251\",\r\n\t\"fa-hourglass-2\": \"\\uf252\",\r\n\t\"fa-hourglass-half\": \"\\uf252\",\r\n\t\"fa-hourglass-3\": \"\\uf253\",\r\n\t\"fa-hourglass-end\": \"\\uf253\",\r\n\t\"fa-hourglass\": \"\\uf254\",\r\n\t\"fa-hand-grab-o\": \"\\uf255\",\r\n\t\"fa-hand-rock-o\": \"\\uf255\",\r\n\t\"fa-hand-stop-o\": \"\\uf256\",\r\n\t\"fa-hand-paper-o\": \"\\uf256\",\r\n\t\"fa-hand-scissors-o\": \"\\uf257\",\r\n\t\"fa-hand-lizard-o\": \"\\uf258\",\r\n\t\"fa-hand-spock-o\": \"\\uf259\",\r\n\t\"fa-hand-pointer-o\": \"\\uf25a\",\r\n\t\"fa-hand-peace-o\": \"\\uf25b\",\r\n\t\"fa-trademark\": \"\\uf25c\",\r\n\t\"fa-registered\": \"\\uf25d\",\r\n\t\"fa-creative-commons\": \"\\uf25e\",\r\n\t\"fa-gg\": \"\\uf260\",\r\n\t\"fa-gg-circle\": \"\\uf261\",\r\n\t\"fa-tripadvisor\": \"\\uf262\",\r\n\t\"fa-odnoklassniki\": \"\\uf263\",\r\n\t\"fa-odnoklassniki-square\": \"\\uf264\",\r\n\t\"fa-get-pocket\": \"\\uf265\",\r\n\t\"fa-wikipedia-w\": \"\\uf266\",\r\n\t\"fa-safari\": \"\\uf267\",\r\n\t\"fa-chrome\": \"\\uf268\",\r\n\t\"fa-firefox\": \"\\uf269\",\r\n\t\"fa-opera\": \"\\uf26a\",\r\n\t\"fa-internet-explorer\": \"\\uf26b\",\r\n\t\"fa-tv\": \"\\uf26c\",\r\n\t\"fa-television\": \"\\uf26c\",\r\n\t\"fa-contao\": \"\\uf26d\",\r\n\t\"fa-500px\": \"\\uf26e\",\r\n\t\"fa-amazon\": \"\\uf270\",\r\n\t\"fa-calendar-plus-o\": \"\\uf271\",\r\n\t\"fa-calendar-minus-o\": \"\\uf272\",\r\n\t\"fa-calendar-times-o\": \"\\uf273\",\r\n\t\"fa-calendar-check-o\": \"\\uf274\",\r\n\t\"fa-industry\": \"\\uf275\",\r\n\t\"fa-map-pin\": \"\\uf276\",\r\n\t\"fa-map-signs\": \"\\uf277\",\r\n\t\"fa-map-o\": \"\\uf278\",\r\n\t\"fa-map\": \"\\uf279\",\r\n\t\"fa-commenting\": \"\\uf27a\",\r\n\t\"fa-commenting-o\": \"\\uf27b\",\r\n\t\"fa-houzz\": \"\\uf27c\",\r\n\t\"fa-vimeo\": \"\\uf27d\",\r\n\t\"fa-black-tie\": \"\\uf27e\",\r\n\t\"fa-fonticons\": \"\\uf280\"\r\n});\r\n\r\nexport default ol_style_FontSymbol","/* Copyright CC0 - MapBox - https://www.mapbox.com/maki/ - fontmaki2\r\n*\r\n* Font definiton to use with fontsymbols\r\n*/\r\nimport ol_style_FontSymbol from './FontSymbol'\r\n\r\nol_style_FontSymbol.addDefs ({\r\n  \"font\": \"fontmaki2\",\r\n  \"name\": \"Maki2\",\r\n  \"copyright\": \"CC0 - MapBox - https://www.mapbox.com/maki/\",\r\n  \"prefix\": \"maki2\"\r\n},\r\n{\t\"maki2-aerialway\": {\"font\": \"fontmaki2\",\"code\": 59392,\"name\": \"aerialway\",\"search\": \"telepherique,ski,neige\",\"theme\": \"transport\"},\r\n  \"maki2-airfield\": {\"font\": \"fontmaki2\",\"code\": 59393,\"name\": \"airfield\",\"search\": \"aerodrome,avion\",\"theme\": \"transport\"},\r\n  \"maki2-airport\": {\"font\": \"fontmaki2\",\"code\": 59394,\"name\": \"airport\",\"search\": \"aeroport,avion\",\"theme\": \"transport\"},\r\n  \"maki2-alcohol-shop\": {\"font\": \"fontmaki2\",\"code\": 59395,\"theme\": \"commerce\",\"name\": \"shop\",\"search\": \"boisson,alcool,vin,verre\"},\r\n  \"maki2-america-football\": {\"font\": \"fontmaki2\",\"code\": 59396,\"theme\": \"sport\",\"name\": \"football\",\"search\": \"fooball,rugby\"},\r\n  \"maki2-amusement-park\": {\"font\": \"fontmaki2\",\"code\": 59397,\"theme\": \"loisir\",\"name\": \"park\",\"search\": \"pac,roue,attraction\"},\r\n  \"maki2-aquarium\": {\"font\": \"fontmaki2\",\"code\": 59398,\"name\": \"aquarium\",\"search\": \"aquarium,poison,mer,animal\",\"theme\": \"loisir\"},\r\n  \"maki2-art-gallery\": {\"font\": \"fontmaki2\",\"code\": 59399,\"theme\": \"loisir\",\"name\": \"gallery\",\"search\": \"art,gallerie,peinture\"},\r\n  \"maki2-attraction\": {\"font\": \"fontmaki2\",\"code\": 59400,\"name\": \"attraction\",\"search\": \"photo,attraction,camera\",\"theme\": \"tourisme\"},\r\n  \"maki2-bakery\": {\"font\": \"fontmaki2\",\"code\": 59401,\"name\": \"bakery\",\"search\": \"boulangerie,croissant\",\"theme\": \"commerce\"},\r\n  \"maki2-bank\": {\"font\": \"fontmaki2\",\"code\": 59402,\"name\": \"bank\",\"search\": \"banque,carte,paiment\",\"theme\": \"service\"},\r\n  \"maki2-bar\": {\"font\": \"fontmaki2\",\"code\": 59403,\"name\": \"bar\",\"search\": \"bar,coupe,verre,boisson\",\"theme\": \"commerce\"},\r\n  \"maki2-barrier\": {\"font\": \"fontmaki2\",\"code\": 59404,\"name\": \"barrier\",\"search\": \"barriere,travaux\",\"theme\": \"service\"},\r\n  \"maki2-baseball\": {\"font\": \"fontmaki2\",\"code\": 59405,\"name\": \"baseball\",\"search\": \"baseball\",\"theme\": \"sport\"},\r\n  \"maki2-basketball\": {\"font\": \"fontmaki2\",\"code\": 59406,\"name\": \"basketball\",\"search\": \"basketball,ballon\",\"theme\": \"sport\"},\r\n  \"maki2-bbq\": {\"font\": \"fontmaki2\",\"code\": 59407,\"name\": \"bbq\",\"search\": \"bbq,barbecue,camping\",\"theme\": \"loisir\"},\r\n  \"maki2-beer\": {\"font\": \"fontmaki2\",\"code\": 59408,\"name\": \"beer\",\"search\": \"biere,boisson,cafe\",\"theme\": \"commerce\"},\r\n  \"maki2-bicycle\": {\"font\": \"fontmaki2\",\"code\": 59409,\"name\": \"bicycle\",\"search\": \"velo,cycle,bicyclette\",\"theme\": \"transport\"},\r\n  \"maki2-bicycle-share\": {\"font\": \"fontmaki2\",\"code\": 59410,\"theme\": \"transport\",\"name\": \"share\",\"search\": \"velo,cycle,bicyclette\"},\r\n  \"maki2-blood-bank\": {\"font\": \"fontmaki2\",\"code\": 59411,\"theme\": \"service\",\"name\": \"bank\",\"search\": \"sant,sang,don\"},\r\n  \"maki2-buddhism\": {\"font\": \"fontmaki2\",\"code\": 59412,\"name\": \"buddhism\",\"search\": \"bouddhisme\",\"theme\": \"religion\"},\r\n  \"maki2-building\": {\"font\": \"fontmaki2\",\"code\": 59413,\"name\": \"building\",\"search\": \"maison,batiment\",\"theme\": \"construction\"},\r\n  \"maki2-building-alt1\": {\"font\": \"fontmaki2\",\"code\": 59414,\"theme\": \"construction\",\"name\": \"alt1\",\"search\": \"building,tour,immeuble\"},\r\n  \"maki2-bus\": {\"font\": \"fontmaki2\",\"code\": 59415,\"name\": \"bus\",\"search\": \"bus\",\"theme\": \"transport\"},\r\n  \"maki2-cafe\": {\"font\": \"fontmaki2\",\"code\": 59416,\"name\": \"cafe\",\"search\": \"cafe,bar\",\"theme\": \"commerce\"},\r\n  \"maki2-campsite\": {\"font\": \"fontmaki2\",\"code\": 59417,\"name\": \"campsite\",\"search\": \"camping,tente\",\"theme\": \"tourisme\"},\r\n  \"maki2-car\": {\"font\": \"fontmaki2\",\"code\": 59418,\"name\": \"car\",\"search\": \"voiture\",\"theme\": \"transport\"},\r\n  \"maki2-car-rental\": {\"font\": \"fontmaki2\",\"code\": 59419,\"theme\": \"service\",\"name\": \"rental\",\"search\": \"voiture,location,parking\"},\r\n  \"maki2-car-repair\": {\"font\": \"fontmaki2\",\"code\": 59420,\"theme\": \"service\",\"name\": \"repair\",\"search\": \"voiture,reparation,mecanique\"},\r\n  \"maki2-casino\": {\"font\": \"fontmaki2\",\"code\": 59421,\"name\": \"casino\",\"search\": \"casino,carte,pique\",\"theme\": \"loisir\"},\r\n  \"maki2-castle\": {\"font\": \"fontmaki2\",\"code\": 59422,\"name\": \"castle\",\"search\": \"chateau,tour\",\"theme\": \"loisir\"},\r\n  \"maki2-cemetery\": {\"font\": \"fontmaki2\",\"code\": 59423,\"name\": \"cemetery\",\"search\": \"cimetiere,tombe\",\"theme\": \"religion\"},\r\n  \"maki2-charging-station\": {\"font\": \"fontmaki2\",\"code\": 59424,\"theme\": \"transport\",\"name\": \"station\",\"search\": \"voiture,chargement,electrique,station\"},\r\n  \"maki2-cinema\": {\"font\": \"fontmaki2\",\"code\": 59425,\"name\": \"cinema\",\"search\": \"cinema,film\",\"theme\": \"tourisme\"},\r\n  \"maki2-circle\": {\"font\": \"fontmaki2\",\"code\": 59426,\"name\": \"circle\",\"search\": \"cercle\",\"theme\": \"forme\"},\r\n  \"maki2-circle-stroked\": {\"font\": \"fontmaki2\",\"code\": 59427,\"theme\": \"forme\",\"name\": \"stroked\",\"search\": \"cercle,rond\"},\r\n  \"maki2-city\": {\"font\": \"fontmaki2\",\"code\": 59428,\"name\": \"city\",\"search\": \"ville,batiment,hlm\",\"theme\": \"construction\"},\r\n  \"maki2-clothing-store\": {\"font\": \"fontmaki2\",\"code\": 59429,\"theme\": \"commerce\",\"name\": \"store\",\"search\": \"vetement,magasin\"},\r\n  \"maki2-college\": {\"font\": \"fontmaki2\",\"code\": 59430,\"name\": \"college\",\"search\": \"college,universite\",\"theme\": \"education\"},\r\n  \"maki2-commercial\": {\"font\": \"fontmaki2\",\"code\": 59431,\"name\": \"commercial\",\"search\": \"commercial,tour\",\"theme\": \"construction\"},\r\n  \"maki2-cricket\": {\"font\": \"fontmaki2\",\"code\": 59432,\"name\": \"cricket\",\"search\": \"cricket\",\"theme\": \"sport\"},\r\n  \"maki2-cross\": {\"font\": \"fontmaki2\",\"code\": 59433,\"name\": \"cross\",\"search\": \"croix\",\"theme\": \"forme\"},\r\n  \"maki2-dam\": {\"font\": \"fontmaki2\",\"code\": 59434,\"name\": \"dam\",\"search\": \"barrage,eau\",\"theme\": \"industrie\"},\r\n  \"maki2-danger\": {\"font\": \"fontmaki2\",\"code\": 59435,\"name\": \"danger\",\"search\": \"danger,mort,tete\",\"theme\": \"panneau\"},\r\n  \"maki2-defibrillator\": {\"font\": \"fontmaki2\",\"code\": 59436,\"name\": \"defibrillator\",\"search\": \"defibrillateur,medecin,sante\",\"theme\": \"service\"},\r\n  \"maki2-dentist\": {\"font\": \"fontmaki2\",\"code\": 59437,\"name\": \"dentist\",\"search\": \"dentiste,sante\",\"theme\": \"service\"},\r\n  \"maki2-doctor\": {\"font\": \"fontmaki2\",\"code\": 59438,\"name\": \"doctor\",\"search\": \"docteur,medecin,stetoscope\",\"theme\": \"service\"},\r\n  \"maki2-dog-park\": {\"font\": \"fontmaki2\",\"code\": 59439,\"theme\": \"service\",\"name\": \"park\",\"search\": \"chien,parc\"},\r\n  \"maki2-drinking-water\": {\"font\": \"fontmaki2\",\"code\": 59440,\"theme\": \"service\",\"name\": \"water\",\"search\": \"eau,ba,boison,robinet\"},\r\n  \"maki2-embassy\": {\"font\": \"fontmaki2\",\"code\": 59441,\"name\": \"embassy\",\"search\": \"ambassade\",\"theme\": \"service\"},\r\n  \"maki2-emergency-phone\": {\"font\": \"fontmaki2\",\"code\": 59442,\"theme\": \"service\",\"name\": \"phone\",\"search\": \"urgence,sante,telephone\"},\r\n  \"maki2-entrance\": {\"font\": \"fontmaki2\",\"code\": 59443,\"name\": \"entrance\",\"search\": \"entree\",\"theme\": \"construction\"},\r\n  \"maki2-entrance-alt1\": {\"font\": \"fontmaki2\",\"code\": 59444,\"theme\": \"service\",\"name\": \"alt1\",\"search\": \"sortie,secours\"},\r\n  \"maki2-farm\": {\"font\": \"fontmaki2\",\"code\": 59445,\"name\": \"farm\",\"search\": \"ferme,batiment\",\"theme\": \"construction\"},\r\n  \"maki2-fast-food\": {\"font\": \"fontmaki2\",\"code\": 59446,\"theme\": \"commerce\",\"name\": \"food\",\"search\": \"fast food,retaurant,hamburger\"},\r\n  \"maki2-fence\": {\"font\": \"fontmaki2\",\"code\": 59447,\"name\": \"fence\",\"search\": \"herse,barriere\",\"theme\": \"panneau\"},\r\n  \"maki2-ferry\": {\"font\": \"fontmaki2\",\"code\": 59448,\"name\": \"ferry\",\"search\": \"ferry,bac,bateau\",\"theme\": \"transport\"},\r\n  \"maki2-fire-station\": {\"font\": \"fontmaki2\",\"code\": 59449,\"theme\": \"service\",\"name\": \"station\",\"search\": \"pompier,feu,station\"},\r\n  \"maki2-florist\": {\"font\": \"fontmaki2\",\"code\": 59450,\"name\": \"florist\",\"search\": \"fleur,fleuriste,nature\",\"theme\": \"commerce\"},\r\n  \"maki2-fuel\": {\"font\": \"fontmaki2\",\"code\": 59451,\"name\": \"fuel\",\"search\": \"pompe,essence\",\"theme\": \"commerce\"},\r\n  \"maki2-furniture\": {\"font\": \"fontmaki2\",\"code\": 59452,\"name\": \"furniture\",\"search\": \"meuble,lampe,magazin\",\"theme\": \"commerce\"},\r\n  \"maki2-gaming\": {\"font\": \"fontmaki2\",\"code\": 59453,\"name\": \"gaming\",\"search\": \"gaming,jeu,manette,console\",\"theme\": \"commerce\"},\r\n  \"maki2-garden\": {\"font\": \"fontmaki2\",\"code\": 59454,\"name\": \"garden\",\"search\": \"jardin,fleur\",\"theme\": \"loisir\"},\r\n  \"maki2-garden-center\": {\"font\": \"fontmaki2\",\"code\": 59455,\"theme\": \"loisir\",\"name\": \"center\",\"search\": \"jardin,arrosoir,fleur\"},\r\n  \"maki2-gift\": {\"font\": \"fontmaki2\",\"code\": 59456,\"name\": \"gift\",\"search\": \"cadeau,achat\",\"theme\": \"commerce\"},\r\n  \"maki2-globe\": {\"font\": \"fontmaki2\",\"code\": 59457,\"name\": \"globe\",\"search\": \"globe,terre\",\"theme\": \"divers\"},\r\n  \"maki2-golf\": {\"font\": \"fontmaki2\",\"code\": 59458,\"name\": \"golf\",\"search\": \"golf\",\"theme\": \"sport\"},\r\n  \"maki2-grocery\": {\"font\": \"fontmaki2\",\"code\": 59459,\"name\": \"grocery\",\"search\": \"caddy,super,marche\",\"theme\": \"commerce\"},\r\n  \"maki2-hairdresser\": {\"font\": \"fontmaki2\",\"code\": 59460,\"name\": \"hairdresser\",\"search\": \"coiffeur\",\"theme\": \"commerce\"},\r\n  \"maki2-harbor\": {\"font\": \"fontmaki2\",\"code\": 59461,\"name\": \"harbor\",\"search\": \"port,bateau,ancre\",\"theme\": \"transport\"},\r\n  \"maki2-hardware\": {\"font\": \"fontmaki2\",\"code\": 59462,\"name\": \"hardware\",\"search\": \"mecanicien,outil\",\"theme\": \"service\"},\r\n  \"maki2-heart\": {\"font\": \"fontmaki2\",\"code\": 59463,\"name\": \"heart\",\"search\": \"coeur,amour\",\"theme\": \"forme\"},\r\n  \"maki2-heliport\": {\"font\": \"fontmaki2\",\"code\": 59464,\"name\": \"heliport\",\"search\": \"heliport,helicoptere\",\"theme\": \"transport\"},\r\n  \"maki2-home\": {\"font\": \"fontmaki2\",\"code\": 59465,\"name\": \"home\",\"search\": \"maison,bati\",\"theme\": \"construction\"},\r\n  \"maki2-horse-riding\": {\"font\": \"fontmaki2\",\"code\": 59466,\"theme\": \"sport\",\"name\": \"riding\",\"search\": \"animal,cavalier,cheval\"},\r\n  \"maki2-hospital\": {\"font\": \"fontmaki2\",\"code\": 59467,\"name\": \"hospital\",\"search\": \"hopital,croix\",\"theme\": \"service\"},\r\n  \"maki2-ice-cream\": {\"font\": \"fontmaki2\",\"code\": 59468,\"theme\": \"loisir\",\"name\": \"cream\",\"search\": \"glace,cornet,enfant\"},\r\n  \"maki2-industry\": {\"font\": \"fontmaki2\",\"code\": 59469,\"name\": \"industry\",\"search\": \"industrie,usine,cheminee\",\"theme\": \"industrie\"},\r\n  \"maki2-information\": {\"font\": \"fontmaki2\",\"code\": 59470,\"name\": \"information\",\"search\": \"information,i\",\"theme\": \"tourisme\"},\r\n  \"maki2-jewelry\": {\"font\": \"fontmaki2\",\"code\": 59471,\"name\": \"jewelry\",\"search\": \"bijoutier,bague,or\",\"theme\": \"commerce\"},\r\n  \"maki2-karaoke\": {\"font\": \"fontmaki2\",\"code\": 59472,\"name\": \"karaoke\",\"search\": \"karaoke,micro,chant\",\"theme\": \"commerce\"},\r\n  \"maki2-landmark\": {\"font\": \"fontmaki2\",\"code\": 59473,\"name\": \"landmark\",\"search\": \"manege,info\",\"theme\": \"service\"},\r\n  \"maki2-landuse\": {\"font\": \"fontmaki2\",\"code\": 59474,\"name\": \"landuse\",\"search\": \"paysage,maison\",\"theme\": \"paysage\"},\r\n  \"maki2-laundry\": {\"font\": \"fontmaki2\",\"code\": 59475,\"name\": \"laundry\",\"search\": \"machine,laver,blanchisserie\",\"theme\": \"commerce\"},\r\n  \"maki2-library\": {\"font\": \"fontmaki2\",\"code\": 59476,\"name\": \"library\",\"search\": \"livre,bibliotheque\",\"theme\": \"service\"},\r\n  \"maki2-lighthouse\": {\"font\": \"fontmaki2\",\"code\": 59477,\"name\": \"lighthouse\",\"search\": \"phare,lumiere\",\"theme\": \"transport\"},\r\n  \"maki2-lodging\": {\"font\": \"fontmaki2\",\"code\": 59478,\"name\": \"lodging\",\"search\": \"lit,hotel\",\"theme\": \"hebergement\"},\r\n  \"maki2-logging\": {\"font\": \"fontmaki2\",\"code\": 59479,\"name\": \"logging\",\"search\": \"enregistrement\",\"theme\": \"hebergement\"},\r\n  \"maki2-marker\": {\"font\": \"fontmaki2\",\"code\": 59480,\"name\": \"marker\",\"search\": \"marker,poi\",\"theme\": \"forme\"},\r\n  \"maki2-marker-stroked\": {\"font\": \"fontmaki2\",\"code\": 59481,\"theme\": \"forme\",\"name\": \"stroked\",\"search\": \"marker,poi\"},\r\n  \"maki2-mobile-phone\": {\"font\": \"fontmaki2\",\"code\": 59482,\"theme\": \"divers\",\"name\": \"phone\",\"search\": \"mobile,telephone\"},\r\n  \"maki2-monument\": {\"font\": \"fontmaki2\",\"code\": 59483,\"name\": \"monument\",\"search\": \"monument,obelix,tour\",\"theme\": \"construction\"},\r\n  \"maki2-mountain\": {\"font\": \"fontmaki2\",\"code\": 59484,\"name\": \"mountain\",\"search\": \"montagne,mont,neige\",\"theme\": \"paysage\"},\r\n  \"maki2-museum\": {\"font\": \"fontmaki2\",\"code\": 59485,\"name\": \"museum\",\"search\": \"musee,maison\",\"theme\": \"tourisme\"},\r\n  \"maki2-music\": {\"font\": \"fontmaki2\",\"code\": 59486,\"name\": \"music\",\"search\": \"musique,note\",\"theme\": \"loisir\"},\r\n  \"maki2-natural\": {\"font\": \"fontmaki2\",\"code\": 59487,\"name\": \"natural\",\"search\": \"naturel,arbre\",\"theme\": \"paysage\"},\r\n  \"maki2-optician\": {\"font\": \"fontmaki2\",\"code\": 59488,\"name\": \"optician\",\"search\": \"lunette,opticien\",\"theme\": \"commerce\"},\r\n  \"maki2-paint\": {\"font\": \"fontmaki2\",\"code\": 59489,\"name\": \"paint\",\"search\": \"peintre,peinture,rouleau\",\"theme\": \"commerce\"},\r\n  \"maki2-park\": {\"font\": \"fontmaki2\",\"code\": 59490,\"name\": \"park\",\"search\": \"parc,arbre,feuille\",\"theme\": \"paysage\"},\r\n  \"maki2-park-alt1\": {\"font\": \"fontmaki2\",\"code\": 59491,\"theme\": \"paysage\",\"name\": \"alt1\",\"search\": \"parc,arbre,sapin\"},\r\n  \"maki2-parking\": {\"font\": \"fontmaki2\",\"code\": 59492,\"name\": \"parking\",\"search\": \"parking,p\",\"theme\": \"transport\"},\r\n  \"maki2-parking-garage\": {\"font\": \"fontmaki2\",\"code\": 59493,\"theme\": \"transport\",\"name\": \"garage\",\"search\": \"parking,garage\"},\r\n  \"maki2-pharmacy\": {\"font\": \"fontmaki2\",\"code\": 59494,\"name\": \"pharmacy\",\"search\": \"pharmacie,medicament\",\"theme\": \"service\"},\r\n  \"maki2-picnic-site\": {\"font\": \"fontmaki2\",\"code\": 59495,\"theme\": \"loisir\",\"name\": \"site\",\"search\": \"picnic,site,halte,aire\"},\r\n  \"maki2-pitch\": {\"font\": \"fontmaki2\",\"code\": 59496,\"name\": \"pitch\",\"search\": \"saut,course\",\"theme\": \"sport\"},\r\n  \"maki2-place-of-worship\": {\"font\": \"fontmaki2\",\"code\": 59497,\"theme\": \"construction\",\"name\": \"of\",\"search\": \"place,immeuble,chateau\"},\r\n  \"maki2-playground\": {\"font\": \"fontmaki2\",\"code\": 59498,\"name\": \"playground\",\"search\": \"balancoire,enfant,jardin\",\"theme\": \"loisir\"},\r\n  \"maki2-police\": {\"font\": \"fontmaki2\",\"code\": 59499,\"name\": \"police\",\"search\": \"police,kepi\",\"theme\": \"service\"},\r\n  \"maki2-post\": {\"font\": \"fontmaki2\",\"code\": 59500,\"name\": \"post\",\"search\": \"poste,lettre\",\"theme\": \"service\"},\r\n  \"maki2-prison\": {\"font\": \"fontmaki2\",\"code\": 59501,\"name\": \"prison\",\"search\": \"prison,herse,barriere\",\"theme\": \"service\"},\r\n  \"maki2-rail\": {\"font\": \"fontmaki2\",\"code\": 59502,\"name\": \"rail\",\"search\": \"rail,fer\",\"theme\": \"transport\"},\r\n  \"maki2-rail-light\": {\"font\": \"fontmaki2\",\"code\": 59503,\"theme\": \"transport\",\"name\": \"light\",\"search\": \"transport,train,sncf,rail\"},\r\n  \"maki2-rail-metro\": {\"font\": \"fontmaki2\",\"code\": 59504,\"theme\": \"transport\",\"name\": \"metro\",\"search\": \"transport,train,sncf,rail\"},\r\n  \"maki2-ranger-station\": {\"font\": \"fontmaki2\",\"code\": 59505,\"theme\": \"construction\",\"name\": \"station\",\"search\": \"station,maison,ranger\"},\r\n  \"maki2-recycling\": {\"font\": \"fontmaki2\",\"code\": 59506,\"name\": \"recycling\",\"search\": \"recyclable,fleche\",\"theme\": \"service\"},\r\n  \"maki2-religious-christian\": {\"font\": \"fontmaki2\",\"code\": 59507,\"theme\": \"religion\",\"name\": \"christian\",\"search\": \"religion,chretien,coix\"},\r\n  \"maki2-religious-jewish\": {\"font\": \"fontmaki2\",\"code\": 59508,\"theme\": \"religion\",\"name\": \"jewish\",\"search\": \"religion,juif,etoile\"},\r\n  \"maki2-religious-muslim\": {\"font\": \"fontmaki2\",\"code\": 59509,\"theme\": \"religion\",\"name\": \"muslim\",\"search\": \"religion,musulman,etoile\"},\r\n  \"maki2-residential-community\": {\"font\": \"fontmaki2\",\"code\": 59510,\"theme\": \"construction\",\"name\": \"community\",\"search\": \"residentiel,immeuble,tour\"},\r\n  \"maki2-restaurant\": {\"font\": \"fontmaki2\",\"code\": 59511,\"name\": \"restaurant\",\"search\": \"restaurant,fourchette,couteau\",\"theme\": \"commerce\"},\r\n  \"maki2-roadblock\": {\"font\": \"fontmaki2\",\"code\": 59512,\"name\": \"roadblock\",\"search\": \"sens,interdit,panneau\",\"theme\": \"transport\"},\r\n  \"maki2-rocket\": {\"font\": \"fontmaki2\",\"code\": 59513,\"name\": \"rocket\",\"search\": \"fusee\",\"theme\": \"transport\"},\r\n  \"maki2-school\": {\"font\": \"fontmaki2\",\"code\": 59514,\"name\": \"school\",\"search\": \"education,ecole,enfant,primaire\",\"theme\": \"education\"},\r\n  \"maki2-scooter\": {\"font\": \"fontmaki2\",\"code\": 59515,\"name\": \"scooter\",\"search\": \"scooter,velo\",\"theme\": \"transport\"},\r\n  \"maki2-shelter\": {\"font\": \"fontmaki2\",\"code\": 59516,\"name\": \"shelter\",\"search\": \"barriere,pont\",\"theme\": \"transport\"},\r\n  \"maki2-shoe\": {\"font\": \"fontmaki2\",\"code\": 59517,\"name\": \"shoe\",\"search\": \"chaussure,cordonnier\",\"theme\": \"commerce\"},\r\n  \"maki2-shop\": {\"font\": \"fontmaki2\",\"code\": 59518,\"name\": \"shop\",\"search\": \"boutique,sac\",\"theme\": \"commerce\"},\r\n  \"maki2-skiing\": {\"font\": \"fontmaki2\",\"code\": 59519,\"name\": \"skiing\",\"search\": \"ski,descente,montagne\",\"theme\": \"sport\"},\r\n  \"maki2-slaughterhouse\": {\"font\": \"fontmaki2\",\"code\": 59520,\"name\": \"slaughterhouse\",\"search\": \"vache,animal,ferme,abatoire\",\"theme\": \"industrie\"},\r\n  \"maki2-snowmobile\": {\"font\": \"fontmaki2\",\"code\": 59521,\"name\": \"snowmobile\",\"search\": \"neige,ski,skido,moto\",\"theme\": \"transport\"},\r\n  \"maki2-soccer\": {\"font\": \"fontmaki2\",\"code\": 59522,\"name\": \"soccer\",\"search\": \"foot,ballon\",\"theme\": \"sport\"},\r\n  \"maki2-square\": {\"font\": \"fontmaki2\",\"code\": 59523,\"name\": \"square\",\"search\": \"carre\",\"theme\": \"forme\"},\r\n  \"maki2-square-stroked\": {\"font\": \"fontmaki2\",\"code\": 59524,\"theme\": \"forme\",\"name\": \"stroked\",\"search\": \"carre\"},\r\n  \"maki2-stadium\": {\"font\": \"fontmaki2\",\"code\": 59525,\"name\": \"stadium\",\"search\": \"stade,drapeau,chapiteau\",\"theme\": \"construction\"},\r\n  \"maki2-star\": {\"font\": \"fontmaki2\",\"code\": 59526,\"name\": \"star\",\"search\": \"etoile\",\"theme\": \"forme\"},\r\n  \"maki2-star-stroked\": {\"font\": \"fontmaki2\",\"code\": 59527,\"theme\": \"forme\",\"name\": \"stroked\",\"search\": \"etoile\"},\r\n  \"maki2-suitcase\": {\"font\": \"fontmaki2\",\"code\": 59528,\"name\": \"suitcase\",\"search\": \"valise,voyage\",\"theme\": \"transport\"},\r\n  \"maki2-sushi\": {\"font\": \"fontmaki2\",\"code\": 59529,\"name\": \"sushi\",\"search\": \"sushi,restaurant,poison\",\"theme\": \"commerce\"},\r\n  \"maki2-swimming\": {\"font\": \"fontmaki2\",\"code\": 59530,\"name\": \"swimming\",\"search\": \"eau,nage,piscine\",\"theme\": \"sport\"},\r\n  \"maki2-teahouse\": {\"font\": \"fontmaki2\",\"code\": 59531,\"name\": \"teahouse\",\"search\": \"the,salon,tasse\",\"theme\": \"commerce\"},\r\n  \"maki2-telephone\": {\"font\": \"fontmaki2\",\"code\": 59532,\"name\": \"telephone\",\"search\": \"telephone,urgence\",\"theme\": \"service\"},\r\n  \"maki2-tennis\": {\"font\": \"fontmaki2\",\"code\": 59533,\"name\": \"tennis\",\"search\": \"tennis,balle,raquette\",\"theme\": \"sport\"},\r\n  \"maki2-theatre\": {\"font\": \"fontmaki2\",\"code\": 59534,\"name\": \"theatre\",\"search\": \"theatre,culture\",\"theme\": \"tourisme\"},\r\n  \"maki2-toilet\": {\"font\": \"fontmaki2\",\"code\": 59535,\"name\": \"toilet\",\"search\": \"toilettte,wc\",\"theme\": \"service\"},\r\n  \"maki2-town\": {\"font\": \"fontmaki2\",\"code\": 59536,\"name\": \"town\",\"search\": \"ville,maisons\",\"theme\": \"construction\"},\r\n  \"maki2-town-hall\": {\"font\": \"fontmaki2\",\"code\": 59537,\"theme\": \"construction\",\"name\": \"hall\",\"search\": \"batiment,institution\"},\r\n  \"maki2-triangle\": {\"font\": \"fontmaki2\",\"code\": 59538,\"name\": \"triangle\",\"search\": \"triangle\",\"theme\": \"forme\"},\r\n  \"maki2-triangle-stroked\": {\"font\": \"fontmaki2\",\"code\": 59539,\"theme\": \"forme\",\"name\": \"stroked\",\"search\": \"triangle\"},\r\n  \"maki2-veterinary\": {\"font\": \"fontmaki2\",\"code\": 59540,\"name\": \"veterinary\",\"search\": \"animal,veterinaire,patte,empreinte\",\"theme\": \"commerce\"},\r\n  \"maki2-village\": {\"font\": \"fontmaki2\",\"code\": 59541,\"name\": \"village\",\"search\": \"village,maison\",\"theme\": \"construction\"},\r\n  \"maki2-volcano\": {\"font\": \"fontmaki2\",\"code\": 59542,\"name\": \"volcano\",\"search\": \"volcan,mont,feu\",\"theme\": \"paysage\"},\r\n  \"maki2-warehouse\": {\"font\": \"fontmaki2\",\"code\": 59543,\"name\": \"warehouse\",\"search\": \"gite\",\"theme\": \"construction\"},\r\n  \"maki2-waste-basket\": {\"font\": \"fontmaki2\",\"code\": 59544,\"theme\": \"service\",\"name\": \"basket\",\"search\": \"poubelle,recyclage\"},\r\n  \"maki2-watch\": {\"font\": \"fontmaki2\",\"code\": 59545,\"name\": \"watch\",\"search\": \"montre,bijouterie,heure\",\"theme\": \"commerce\"},\r\n  \"maki2-water\": {\"font\": \"fontmaki2\",\"code\": 59546,\"name\": \"water\",\"search\": \"eau,goutte\",\"theme\": \"forme\"},\r\n  \"maki2-watermill\": {\"font\": \"fontmaki2\",\"code\": 59547,\"name\": \"watermill\",\"search\": \"moulin,eau\",\"theme\": \"construction\"},\r\n  \"maki2-wetland\": {\"font\": \"fontmaki2\",\"code\": 59548,\"name\": \"wetland\",\"search\": \"humide,riziere,marecage\",\"theme\": \"paysage\"},\r\n  \"maki2-wheelchair\": {\"font\": \"fontmaki2\",\"code\": 59549,\"name\": \"wheelchair\",\"search\": \"handicape,roue,fauteuil,sante\",\"theme\": \"service\"},\r\n  \"maki2-windmill\": {\"font\": \"fontmaki2\",\"code\": 59550,\"name\": \"windmill\",\"search\": \"moulin,vent\",\"theme\": \"construction\"},\r\n  \"maki2-zoo\": {\"font\": \"fontmaki2\",\"code\": 59551,\"name\": \"zoo\",\"search\": \"zoo,girafe,animal\",\"theme\": \"loisir\"}\r\n});","/* Copyright (c) 2014 by Jean-Marc.Viglino [at]ign.fr\r\n* Dual-licensed under the CeCILL-B Licence (http://www.cecill.info/)\r\n* and the Beerware license (http://en.wikipedia.org/wiki/Beerware), \r\n*\r\n* Font definiton to use with fontsymbols\r\n*/\r\n\r\nimport ol_style_FontSymbol from './FontSymbol'\r\n\r\nol_style_FontSymbol.addDefs ({\r\n  \"font\":\"fontmaki\",\r\n  \"name\":\"Maki\",\r\n  \"copyright\":\"CC0 - MapBox - https://www.mapbox.com/maki/\",\r\n  \"prefix\":\"maki\"\r\n},\r\n{\t\"maki-bicycle\": {\"font\":\"fontmaki\",\"code\":59392,\"name\":\"bicycle\",\"search\":\"bicycle\"},\r\n  \"maki-building\": {\"font\":\"fontmaki\",\"code\":59393,\"name\":\"building\",\"search\":\"building\"},\r\n  \"maki-bus\": {\"font\":\"fontmaki\",\"code\":59394,\"name\":\"bus\",\"search\":\"bus\"},\r\n  \"maki-cafe\": {\"font\":\"fontmaki\",\"code\":59395,\"name\":\"cafe\",\"search\":\"cafe\"},\r\n  \"maki-camera\": {\"font\":\"fontmaki\",\"code\":59396,\"name\":\"camera\",\"search\":\"camera\"},\r\n  \"maki-campsite\": {\"font\":\"fontmaki\",\"code\":59397,\"name\":\"campsite\",\"search\":\"campsite\"},\r\n  \"maki-car\": {\"font\":\"fontmaki\",\"code\":59398,\"name\":\"car\",\"search\":\"car\"},\r\n  \"maki-cemetery\": {\"font\":\"fontmaki\",\"code\":59399,\"name\":\"cemetery\",\"search\":\"cemetery\"},\r\n  \"maki-chemist\": {\"font\":\"fontmaki\",\"code\":59400,\"name\":\"chemist\",\"search\":\"chemist\"},\r\n  \"maki-cinema\": {\"font\":\"fontmaki\",\"code\":59401,\"name\":\"cinema\",\"search\":\"cinema\"},\r\n  \"maki-circle\": {\"font\":\"fontmaki\",\"code\":59402,\"name\":\"circle\",\"search\":\"circle\"},\r\n  \"maki-circle_stroked\": {\"font\":\"fontmaki\",\"code\":59403,\"name\":\"circle_stroked\",\"search\":\"circle_stroked\"},\r\n  \"maki-city\": {\"font\":\"fontmaki\",\"code\":59404,\"name\":\"city\",\"search\":\"city\"},\r\n  \"maki-clothing_store\": {\"font\":\"fontmaki\",\"code\":59405,\"name\":\"clothing_store\",\"search\":\"clothing_store\"},\r\n  \"maki-college\": {\"font\":\"fontmaki\",\"code\":59406,\"name\":\"college\",\"search\":\"college\"},\r\n  \"maki-commercial\": {\"font\":\"fontmaki\",\"code\":59407,\"name\":\"commercial\",\"search\":\"commercial\"},\r\n  \"maki-cricket\": {\"font\":\"fontmaki\",\"code\":59408,\"name\":\"cricket\",\"search\":\"cricket\"},\r\n  \"maki-cross\": {\"font\":\"fontmaki\",\"code\":59409,\"name\":\"cross\",\"search\":\"cross\"},\r\n  \"maki-dam\": {\"font\":\"fontmaki\",\"code\":59410,\"name\":\"dam\",\"search\":\"dam\"},\r\n  \"maki-danger\": {\"font\":\"fontmaki\",\"code\":59411,\"name\":\"danger\",\"search\":\"danger\"},\r\n  \"maki-dentist\": {\"font\":\"fontmaki\",\"code\":59412,\"name\":\"dentist\",\"search\":\"dentist\"},\r\n  \"maki-disability\": {\"font\":\"fontmaki\",\"code\":59413,\"name\":\"disability\",\"search\":\"disability\"},\r\n  \"maki-dog_park\": {\"font\":\"fontmaki\",\"code\":59414,\"name\":\"dog_park\",\"search\":\"dog_park\"},\r\n  \"maki-embassy\": {\"font\":\"fontmaki\",\"code\":59415,\"name\":\"embassy\",\"search\":\"embassy\"},\r\n  \"maki-emergency_telephone\": {\"font\":\"fontmaki\",\"code\":59416,\"name\":\"emergency_telephone\",\"search\":\"emergency_telephone\"},\r\n  \"maki-entrance\": {\"font\":\"fontmaki\",\"code\":59417,\"name\":\"entrance\",\"search\":\"entrance\"},\r\n  \"maki-farm\": {\"font\":\"fontmaki\",\"code\":59418,\"name\":\"farm\",\"search\":\"farm\"},\r\n  \"maki-fast_food\": {\"font\":\"fontmaki\",\"code\":59419,\"name\":\"fast_food\",\"search\":\"fast_food\"},\r\n  \"maki-ferry\": {\"font\":\"fontmaki\",\"code\":59420,\"name\":\"ferry\",\"search\":\"ferry\"},\r\n  \"maki-fire_station\": {\"font\":\"fontmaki\",\"code\":59421,\"name\":\"fire_station\",\"search\":\"fire_station\"},\r\n  \"maki-fuel\": {\"font\":\"fontmaki\",\"code\":59422,\"name\":\"fuel\",\"search\":\"fuel\"},\r\n  \"maki-garden\": {\"font\":\"fontmaki\",\"code\":59423,\"name\":\"garden\",\"search\":\"garden\"},\r\n  \"maki-gift\": {\"font\":\"fontmaki\",\"code\":59424,\"name\":\"gift\",\"search\":\"gift\"},\r\n  \"maki-golf\": {\"font\":\"fontmaki\",\"code\":59425,\"name\":\"golf\",\"search\":\"golf\"},\r\n  \"maki-grocery\": {\"font\":\"fontmaki\",\"code\":59426,\"name\":\"grocery\",\"search\":\"grocery\"},\r\n  \"maki-hairdresser\": {\"font\":\"fontmaki\",\"code\":59427,\"name\":\"hairdresser\",\"search\":\"hairdresser\"},\r\n  \"maki-harbor\": {\"font\":\"fontmaki\",\"code\":59428,\"name\":\"harbor\",\"search\":\"harbor\"},\r\n  \"maki-heart\": {\"font\":\"fontmaki\",\"code\":59429,\"name\":\"heart\",\"search\":\"heart\"},\r\n  \"maki-heliport\": {\"font\":\"fontmaki\",\"code\":59430,\"name\":\"heliport\",\"search\":\"heliport\"},\r\n  \"maki-hospital\": {\"font\":\"fontmaki\",\"code\":59431,\"name\":\"hospital\",\"search\":\"hospital\"},\r\n  \"maki-ice_cream\": {\"font\":\"fontmaki\",\"code\":59432,\"name\":\"ice_cream\",\"search\":\"ice_cream\"},\r\n  \"maki-industrial\": {\"font\":\"fontmaki\",\"code\":59433,\"name\":\"industrial\",\"search\":\"industrial\"},\r\n  \"maki-land_use\": {\"font\":\"fontmaki\",\"code\":59434,\"name\":\"land_use\",\"search\":\"land_use\"},\r\n  \"maki-laundry\": {\"font\":\"fontmaki\",\"code\":59435,\"name\":\"laundry\",\"search\":\"laundry\"},\r\n  \"maki-library\": {\"font\":\"fontmaki\",\"code\":59436,\"name\":\"library\",\"search\":\"library\"},\r\n  \"maki-lighthouse\": {\"font\":\"fontmaki\",\"code\":59437,\"name\":\"lighthouse\",\"search\":\"lighthouse\"},\r\n  \"maki-lodging\": {\"font\":\"fontmaki\",\"code\":59438,\"name\":\"lodging\",\"search\":\"lodging\"},\r\n  \"maki-logging\": {\"font\":\"fontmaki\",\"code\":59439,\"name\":\"logging\",\"search\":\"logging\"},\r\n  \"maki-london_underground\": {\"font\":\"fontmaki\",\"code\":59440,\"name\":\"london_underground\",\"search\":\"london_underground\"},\r\n  \"maki-marker\": {\"font\":\"fontmaki\",\"code\":59441,\"name\":\"marker\",\"search\":\"marker\"},\r\n  \"maki-minefield\": {\"font\":\"fontmaki\",\"code\":59442,\"name\":\"minefield\",\"search\":\"minefield\"},\r\n  \"maki-marker_stroked\": {\"font\":\"fontmaki\",\"code\":59443,\"name\":\"marker_stroked\",\"search\":\"marker_stroked\"},\r\n  \"maki-mobilephone\": {\"font\":\"fontmaki\",\"code\":59444,\"name\":\"mobilephone\",\"search\":\"mobilephone\"},\r\n  \"maki-monument\": {\"font\":\"fontmaki\",\"code\":59445,\"name\":\"monument\",\"search\":\"monument\"},\r\n  \"maki-museum\": {\"font\":\"fontmaki\",\"code\":59446,\"name\":\"museum\",\"search\":\"museum\"},\r\n  \"maki-music\": {\"font\":\"fontmaki\",\"code\":59447,\"name\":\"music\",\"search\":\"music\"},\r\n  \"maki-oil_well\": {\"font\":\"fontmaki\",\"code\":59448,\"name\":\"oil_well\",\"search\":\"oil_well\"},\r\n  \"maki-park\": {\"font\":\"fontmaki\",\"code\":59449,\"name\":\"park\",\"search\":\"park\"},\r\n  \"maki-park2\": {\"font\":\"fontmaki\",\"code\":59450,\"name\":\"park2\",\"search\":\"park2\"},\r\n  \"maki-parking\": {\"font\":\"fontmaki\",\"code\":59451,\"name\":\"parking\",\"search\":\"parking\"},\r\n  \"maki-parking_garage\": {\"font\":\"fontmaki\",\"code\":59452,\"name\":\"parking_garage\",\"search\":\"parking_garage\"},\r\n  \"maki-pharmacy\": {\"font\":\"fontmaki\",\"code\":59453,\"name\":\"pharmacy\",\"search\":\"pharmacy\"},\r\n  \"maki-pitch\": {\"font\":\"fontmaki\",\"code\":59454,\"name\":\"pitch\",\"search\":\"pitch\"},\r\n  \"maki-playground\": {\"font\":\"fontmaki\",\"code\":59455,\"name\":\"playground\",\"search\":\"playground\"},\r\n  \"maki-police\": {\"font\":\"fontmaki\",\"code\":59456,\"name\":\"police\",\"search\":\"police\"},\r\n  \"maki-polling_place\": {\"font\":\"fontmaki\",\"code\":59457,\"name\":\"polling_place\",\"search\":\"polling_place\"},\r\n  \"maki-post\": {\"font\":\"fontmaki\",\"code\":59458,\"name\":\"post\",\"search\":\"post\"},\r\n  \"maki-prison\": {\"font\":\"fontmaki\",\"code\":59459,\"name\":\"prison\",\"search\":\"prison\"},\r\n  \"maki-rail\": {\"font\":\"fontmaki\",\"code\":59460,\"name\":\"rail\",\"search\":\"rail\"},\r\n  \"maki-rail_above\": {\"font\":\"fontmaki\",\"code\":59461,\"name\":\"rail_above\",\"search\":\"rail_above\"},\r\n  \"maki-rail_light\": {\"font\":\"fontmaki\",\"code\":59462,\"name\":\"rail_light\",\"search\":\"rail_light\"},\r\n  \"maki-rail_metro\": {\"font\":\"fontmaki\",\"code\":59463,\"name\":\"rail_metro\",\"search\":\"rail_metro\"},\r\n  \"maki-rail_underground\": {\"font\":\"fontmaki\",\"code\":59464,\"name\":\"rail_underground\",\"search\":\"rail_underground\"},\r\n  \"maki-religious-christian\": {\"font\":\"fontmaki\",\"code\":59465,\"theme\":\"religious\",\"name\":\"christian\",\"search\":\"religious,christian\"},\r\n  \"maki-religious-jewish\": {\"font\":\"fontmaki\",\"code\":59466,\"theme\":\"religious\",\"name\":\"jewish\",\"search\":\"religious,jewish\"},\r\n  \"maki-religious-muslim\": {\"font\":\"fontmaki\",\"code\":59467,\"theme\":\"religious\",\"name\":\"muslim\",\"search\":\"religious,muslim\"},\r\n  \"maki-religious-place_of_worship\": {\"font\":\"fontmaki\",\"code\":59468,\"theme\":\"religious\",\"name\":\"place_of_worship\",\"search\":\"religious,place_of_worship\"},\r\n  \"maki-restaurant\": {\"font\":\"fontmaki\",\"code\":59469,\"name\":\"restaurant\",\"search\":\"restaurant\"},\r\n  \"maki-roadblock\": {\"font\":\"fontmaki\",\"code\":59470,\"name\":\"roadblock\",\"search\":\"roadblock\"},\r\n  \"maki-rocket\": {\"font\":\"fontmaki\",\"code\":59471,\"name\":\"rocket\",\"search\":\"rocket\"},\r\n  \"maki-school\": {\"font\":\"fontmaki\",\"code\":59472,\"name\":\"school\",\"search\":\"school\"},\r\n  \"maki-scooter\": {\"font\":\"fontmaki\",\"code\":59473,\"name\":\"scooter\",\"search\":\"scooter\"},\r\n  \"maki-shop\": {\"font\":\"fontmaki\",\"code\":59474,\"name\":\"shop\",\"search\":\"shop\"},\r\n  \"maki-skiing\": {\"font\":\"fontmaki\",\"code\":59475,\"name\":\"skiing\",\"search\":\"skiing\"},\r\n  \"maki-slaughterhouse\": {\"font\":\"fontmaki\",\"code\":59476,\"name\":\"slaughterhouse\",\"search\":\"slaughterhouse\"},\r\n  \"maki-soccer\": {\"font\":\"fontmaki\",\"code\":59477,\"name\":\"soccer\",\"search\":\"soccer\"},\r\n  \"maki-square\": {\"font\":\"fontmaki\",\"code\":59478,\"name\":\"square\",\"search\":\"square\"},\r\n  \"maki-square_stroked\": {\"font\":\"fontmaki\",\"code\":59479,\"name\":\"square_stroked\",\"search\":\"square_stroked\"},\r\n  \"maki-star\": {\"font\":\"fontmaki\",\"code\":59480,\"name\":\"star\",\"search\":\"star\"},\r\n  \"maki-star_stroked\": {\"font\":\"fontmaki\",\"code\":59481,\"name\":\"star_stroked\",\"search\":\"star_stroked\"},\r\n  \"maki-suitcase\": {\"font\":\"fontmaki\",\"code\":59482,\"name\":\"suitcase\",\"search\":\"suitcase\"},\r\n  \"maki-swimming\": {\"font\":\"fontmaki\",\"code\":59483,\"name\":\"swimming\",\"search\":\"swimming\"},\r\n  \"maki-telephone\": {\"font\":\"fontmaki\",\"code\":59484,\"name\":\"telephone\",\"search\":\"telephone\"},\r\n  \"maki-tennis\": {\"font\":\"fontmaki\",\"code\":59485,\"name\":\"tennis\",\"search\":\"tennis\"},\r\n  \"maki-theatre\": {\"font\":\"fontmaki\",\"code\":59486,\"name\":\"theatre\",\"search\":\"theatre\"},\r\n  \"maki-toilets\": {\"font\":\"fontmaki\",\"code\":59487,\"name\":\"toilets\",\"search\":\"toilets\"},\r\n  \"maki-town\": {\"font\":\"fontmaki\",\"code\":59488,\"name\":\"town\",\"search\":\"town\"},\r\n  \"maki-town_hall\": {\"font\":\"fontmaki\",\"code\":59489,\"name\":\"town_hall\",\"search\":\"town_hall\"},\r\n  \"maki-triangle\": {\"font\":\"fontmaki\",\"code\":59490,\"name\":\"triangle\",\"search\":\"triangle\"},\r\n  \"maki-triangle_stroked\": {\"font\":\"fontmaki\",\"code\":59491,\"name\":\"triangle_stroked\",\"search\":\"triangle_stroked\"},\r\n  \"maki-village\": {\"font\":\"fontmaki\",\"code\":59492,\"name\":\"village\",\"search\":\"village\"},\r\n  \"maki-warehouse\": {\"font\":\"fontmaki\",\"code\":59493,\"name\":\"warehouse\",\"search\":\"warehouse\"},\r\n  \"maki-waste_basket\": {\"font\":\"fontmaki\",\"code\":59494,\"name\":\"waste_basket\",\"search\":\"waste_basket\"},\r\n  \"maki-water\": {\"font\":\"fontmaki\",\"code\":59495,\"name\":\"water\",\"search\":\"water\"},\r\n  \"maki-wetland\": {\"font\":\"fontmaki\",\"code\":59496,\"name\":\"wetland\",\"search\":\"wetland\"},\r\n  \"maki-zoo\": {\"font\":\"fontmaki\",\"code\":59497,\"name\":\"zoo\",\"search\":\"zoo\"},\r\n  \"maki-aerialway\": {\"font\":\"fontmaki\",\"code\":59498,\"name\":\"aerialway\",\"search\":\"aerialway\"},\r\n  \"maki-airfield\": {\"font\":\"fontmaki\",\"code\":59499,\"name\":\"airfield\",\"search\":\"airfield\"},\r\n  \"maki-airport\": {\"font\":\"fontmaki\",\"code\":59500,\"name\":\"airport\",\"search\":\"airport\"},\r\n  \"maki-alcohol_shop\": {\"font\":\"fontmaki\",\"code\":59501,\"name\":\"alcohol_shop\",\"search\":\"alcohol_shop\"},\r\n  \"maki-america_football\": {\"font\":\"fontmaki\",\"code\":59502,\"name\":\"america_football\",\"search\":\"america_football\"},\r\n  \"maki-art_gallery\": {\"font\":\"fontmaki\",\"code\":59503,\"name\":\"art_gallery\",\"search\":\"art_gallery\"},\r\n  \"maki-bakery\": {\"font\":\"fontmaki\",\"code\":59504,\"name\":\"bakery\",\"search\":\"bakery\"},\r\n  \"maki-bank\": {\"font\":\"fontmaki\",\"code\":59505,\"name\":\"bank\",\"search\":\"bank\"},\r\n  \"maki-bar\": {\"font\":\"fontmaki\",\"code\":59506,\"name\":\"bar\",\"search\":\"bar\"},\r\n  \"maki-baseball\": {\"font\":\"fontmaki\",\"code\":59507,\"name\":\"baseball\",\"search\":\"baseball\"},\r\n  \"maki-basketball\": {\"font\":\"fontmaki\",\"code\":59508,\"name\":\"basketball\",\"search\":\"basketball\"},\r\n  \"maki-beer\": {\"font\":\"fontmaki\",\"code\":59509,\"name\":\"beer\",\"search\":\"beer\"},\r\n});\r\n\r\nexport default ol_style_FontSymbol","/**\n * @module ol/structs/RBush\n */\nimport RBush_ from 'rbush';\nimport { createOrUpdate, equals } from '../extent.js';\nimport { getUid } from '../util.js';\nimport { isEmpty } from '../obj.js';\n/**\n * @typedef {Object} Entry\n * @property {number} minX MinX.\n * @property {number} minY MinY.\n * @property {number} maxX MaxX.\n * @property {number} maxY MaxY.\n * @property {Object} [value] Value.\n */\n/**\n * @classdesc\n * Wrapper around the RBush by Vladimir Agafonkin.\n * See https://github.com/mourner/rbush.\n *\n * @template T\n */\nvar RBush = /** @class */ (function () {\n    /**\n     * @param {number} [opt_maxEntries] Max entries.\n     */\n    function RBush(opt_maxEntries) {\n        /**\n         * @private\n         */\n        this.rbush_ = new RBush_(opt_maxEntries);\n        /**\n         * A mapping between the objects added to this rbush wrapper\n         * and the objects that are actually added to the internal rbush.\n         * @private\n         * @type {Object<string, Entry>}\n         */\n        this.items_ = {};\n    }\n    /**\n     * Insert a value into the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.insert = function (extent, value) {\n        /** @type {Entry} */\n        var item = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n            value: value,\n        };\n        this.rbush_.insert(item);\n        this.items_[getUid(value)] = item;\n    };\n    /**\n     * Bulk-insert values into the RBush.\n     * @param {Array<import(\"../extent.js\").Extent>} extents Extents.\n     * @param {Array<T>} values Values.\n     */\n    RBush.prototype.load = function (extents, values) {\n        var items = new Array(values.length);\n        for (var i = 0, l = values.length; i < l; i++) {\n            var extent = extents[i];\n            var value = values[i];\n            /** @type {Entry} */\n            var item = {\n                minX: extent[0],\n                minY: extent[1],\n                maxX: extent[2],\n                maxY: extent[3],\n                value: value,\n            };\n            items[i] = item;\n            this.items_[getUid(value)] = item;\n        }\n        this.rbush_.load(items);\n    };\n    /**\n     * Remove a value from the RBush.\n     * @param {T} value Value.\n     * @return {boolean} Removed.\n     */\n    RBush.prototype.remove = function (value) {\n        var uid = getUid(value);\n        // get the object in which the value was wrapped when adding to the\n        // internal rbush. then use that object to do the removal.\n        var item = this.items_[uid];\n        delete this.items_[uid];\n        return this.rbush_.remove(item) !== null;\n    };\n    /**\n     * Update the extent of a value in the RBush.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {T} value Value.\n     */\n    RBush.prototype.update = function (extent, value) {\n        var item = this.items_[getUid(value)];\n        var bbox = [item.minX, item.minY, item.maxX, item.maxY];\n        if (!equals(bbox, extent)) {\n            this.remove(value);\n            this.insert(extent, value);\n        }\n    };\n    /**\n     * Return all values in the RBush.\n     * @return {Array<T>} All.\n     */\n    RBush.prototype.getAll = function () {\n        var items = this.rbush_.all();\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Return all values in the given extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {Array<T>} All in extent.\n     */\n    RBush.prototype.getInExtent = function (extent) {\n        /** @type {Entry} */\n        var bbox = {\n            minX: extent[0],\n            minY: extent[1],\n            maxX: extent[2],\n            maxY: extent[3],\n        };\n        var items = this.rbush_.search(bbox);\n        return items.map(function (item) {\n            return item.value;\n        });\n    };\n    /**\n     * Calls a callback function with each value in the tree.\n     * If the callback returns a truthy value, this value is returned without\n     * checking the rest of the tree.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach = function (callback) {\n        return this.forEach_(this.getAll(), callback);\n    };\n    /**\n     * Calls a callback function with each value in the provided extent.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(T): *} callback Callback.\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEachInExtent = function (extent, callback) {\n        return this.forEach_(this.getInExtent(extent), callback);\n    };\n    /**\n     * @param {Array<T>} values Values.\n     * @param {function(T): *} callback Callback.\n     * @private\n     * @return {*} Callback return value.\n     */\n    RBush.prototype.forEach_ = function (values, callback) {\n        var result;\n        for (var i = 0, l = values.length; i < l; i++) {\n            result = callback(values[i]);\n            if (result) {\n                return result;\n            }\n        }\n        return result;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    RBush.prototype.isEmpty = function () {\n        return isEmpty(this.items_);\n    };\n    /**\n     * Remove all values from the RBush.\n     */\n    RBush.prototype.clear = function () {\n        this.rbush_.clear();\n        this.items_ = {};\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Extent.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     */\n    RBush.prototype.getExtent = function (opt_extent) {\n        var data = this.rbush_.toJSON();\n        return createOrUpdate(data.minX, data.minY, data.maxX, data.maxY, opt_extent);\n    };\n    /**\n     * @param {RBush} rbush R-Tree.\n     */\n    RBush.prototype.concat = function (rbush) {\n        this.rbush_.load(rbush.rbush_.all());\n        for (var i in rbush.items_) {\n            this.items_[i] = rbush.items_[i];\n        }\n    };\n    return RBush;\n}());\nexport default RBush;\n//# sourceMappingURL=RBush.js.map","/**\n * @module ol/source/VectorEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    /**\n     * Triggered when a feature is added to the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#addfeature\n     * @api\n     */\n    ADDFEATURE: 'addfeature',\n    /**\n     * Triggered when a feature is updated.\n     * @event module:ol/source/Vector.VectorSourceEvent#changefeature\n     * @api\n     */\n    CHANGEFEATURE: 'changefeature',\n    /**\n     * Triggered when the clear method is called on the source.\n     * @event module:ol/source/Vector.VectorSourceEvent#clear\n     * @api\n     */\n    CLEAR: 'clear',\n    /**\n     * Triggered when a feature is removed from the source.\n     * See {@link module:ol/source/Vector~VectorSource#clear source.clear()} for exceptions.\n     * @event module:ol/source/Vector.VectorSourceEvent#removefeature\n     * @api\n     */\n    REMOVEFEATURE: 'removefeature',\n    /**\n     * Triggered when features starts loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadstart\n     * @api\n     */\n    FEATURESLOADSTART: 'featuresloadstart',\n    /**\n     * Triggered when features finishes loading.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloadend\n     * @api\n     */\n    FEATURESLOADEND: 'featuresloadend',\n    /**\n     * Triggered if feature loading results in an error.\n     * @event module:ol/source/Vector.VectorSourceEvent#featuresloaderror\n     * @api\n     */\n    FEATURESLOADERROR: 'featuresloaderror',\n};\n/**\n * @typedef {'addfeature'|'changefeature'|'clear'|'removefeature'|'featuresloadstart'|'featuresloadend'|'featuresloaderror'} VectorSourceEventTypes\n */\n//# sourceMappingURL=VectorEventType.js.map","/**\n * @module ol/loadingstrategy\n */\nimport { fromUserExtent, fromUserResolution, toUserExtent } from './proj.js';\n/**\n * Strategy function for loading all features with a single request.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function all(extent, resolution) {\n    return [[-Infinity, -Infinity, Infinity, Infinity]];\n}\n/**\n * Strategy function for loading features based on the view's extent and\n * resolution.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function bbox(extent, resolution) {\n    return [extent];\n}\n/**\n * Creates a strategy function for loading features based on a tile grid.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {function(import(\"./extent.js\").Extent, number, import(\"./proj.js\").Projection): Array<import(\"./extent.js\").Extent>} Loading strategy.\n * @api\n */\nexport function tile(tileGrid) {\n    return (\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj.js\").Projection} projection Projection.\n     * @return {Array<import(\"./extent.js\").Extent>} Extents.\n     */\n    function (extent, resolution, projection) {\n        var z = tileGrid.getZForResolution(fromUserResolution(resolution, projection));\n        var tileRange = tileGrid.getTileRangeForExtentAndZ(fromUserExtent(extent, projection), z);\n        /** @type {Array<import(\"./extent.js\").Extent>} */\n        var extents = [];\n        /** @type {import(\"./tilecoord.js\").TileCoord} */\n        var tileCoord = [z, 0, 0];\n        for (tileCoord[1] = tileRange.minX; tileCoord[1] <= tileRange.maxX; ++tileCoord[1]) {\n            for (tileCoord[2] = tileRange.minY; tileCoord[2] <= tileRange.maxY; ++tileCoord[2]) {\n                extents.push(toUserExtent(tileGrid.getTileCoordExtent(tileCoord), projection));\n            }\n        }\n        return extents;\n    });\n}\n//# sourceMappingURL=loadingstrategy.js.map","/**\n * @module ol/source/Vector\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport Event from '../events/Event.js';\nimport EventType from '../events/EventType.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RBush from '../structs/RBush.js';\nimport Source from './Source.js';\nimport VectorEventType from './VectorEventType.js';\nimport { TRUE, VOID } from '../functions.js';\nimport { all as allStrategy } from '../loadingstrategy.js';\nimport { assert } from '../asserts.js';\nimport { containsExtent, equals, wrapAndSliceX } from '../extent.js';\nimport { extend } from '../array.js';\nimport { getUid } from '../util.js';\nimport { getValues, isEmpty } from '../obj.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { xhr } from '../featureloader.js';\n/**\n * A function that takes an {@link module:ol/extent~Extent} and a resolution as arguments, and\n * returns an array of {@link module:ol/extent~Extent} with the extents to load. Usually this\n * is one of the standard {@link module:ol/loadingstrategy} strategies.\n *\n * @typedef {function(import(\"../extent.js\").Extent, number, import(\"../proj/Projection.js\").default): Array<import(\"../extent.js\").Extent>} LoadingStrategy\n * @api\n */\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Vector~VectorSource} instances are instances of this\n * type.\n * @template {import(\"../geom/Geometry.js\").default} [Geometry=import(\"../geom/Geometry.js\").default]\n */\nvar VectorSourceEvent = /** @class */ (function (_super) {\n    __extends(VectorSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Feature.js\").default<Geometry>} [opt_feature] Feature.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} [opt_features] Features.\n     */\n    function VectorSourceEvent(type, opt_feature, opt_features) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The added or removed feature for the `ADDFEATURE` and `REMOVEFEATURE` events, `undefined` otherwise.\n         * @type {import(\"../Feature.js\").default<Geometry>|undefined}\n         * @api\n         */\n        _this.feature = opt_feature;\n        /**\n         * The loaded features for the `FEATURESLOADED` event, `undefined` otherwise.\n         * @type {Array<import(\"../Feature.js\").default<Geometry>>|undefined}\n         * @api\n         */\n        _this.features = opt_features;\n        return _this;\n    }\n    return VectorSourceEvent;\n}(Event));\nexport { VectorSourceEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<import(\"./VectorEventType\").VectorSourceEventTypes, VectorSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     import(\"./VectorEventType\").VectorSourceEventTypes, Return>} VectorSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {Array<import(\"../Feature.js\").default>|Collection<import(\"../Feature.js\").default>} [features]\n * Features. If provided as {@link module:ol/Collection~Collection}, the features in the source\n * and the collection will stay in sync.\n * @property {import(\"../format/Feature.js\").default} [format] The feature format used by the XHR\n * feature loader when `url` is set. Required if `url` is set, otherwise ignored.\n * @property {import(\"../featureloader.js\").FeatureLoader} [loader]\n * The loader function used to load features, from a remote source for example.\n * If this is not set and `url` is set, the source will create and use an XHR\n * feature loader. The `'featuresloadend'` and `'featuresloaderror'` events\n * will only fire if the `success` and `failure` callbacks are used.\n *\n * Example:\n *\n * ```js\n * import {Vector} from 'ol/source';\n * import {GeoJSON} from 'ol/format';\n * import {bbox} from 'ol/loadingstrategy';\n *\n * var vectorSource = new Vector({\n *   format: new GeoJSON(),\n *   loader: function(extent, resolution, projection, success, failure) {\n *      var proj = projection.getCode();\n *      var url = 'https://ahocevar.com/geoserver/wfs?service=WFS&' +\n *          'version=1.1.0&request=GetFeature&typename=osm:water_areas&' +\n *          'outputFormat=application/json&srsname=' + proj + '&' +\n *          'bbox=' + extent.join(',') + ',' + proj;\n *      var xhr = new XMLHttpRequest();\n *      xhr.open('GET', url);\n *      var onError = function() {\n *        vectorSource.removeLoadedExtent(extent);\n *        failure();\n *      }\n *      xhr.onerror = onError;\n *      xhr.onload = function() {\n *        if (xhr.status == 200) {\n *          var features = vectorSource.getFormat().readFeatures(xhr.responseText);\n *          vectorSource.addFeatures(features);\n *          success(features);\n *        } else {\n *          onError();\n *        }\n *      }\n *      xhr.send();\n *    },\n *    strategy: bbox\n *  });\n * ```\n * @property {boolean} [overlaps=true] This source may have overlapping geometries.\n * Setting this to `false` (e.g. for sources with polygons that represent administrative\n * boundaries or TopoJSON sources) allows the renderer to optimise fill and\n * stroke operations.\n * @property {LoadingStrategy} [strategy] The loading strategy to use.\n * By default an {@link module:ol/loadingstrategy.all}\n * strategy is used, a one-off strategy which loads all features at once.\n * @property {string|import(\"../featureloader.js\").FeatureUrlFunction} [url]\n * Setting this option instructs the source to load features using an XHR loader\n * (see {@link module:ol/featureloader.xhr}). Use a `string` and an\n * {@link module:ol/loadingstrategy.all} for a one-off download of all features from\n * the given URL. Use a {@link module:ol/featureloader~FeatureUrlFunction} to generate the url with\n * other loading strategies.\n * Requires `format` to be set as well.\n * When default XHR feature loader is provided, the features will\n * be transformed from the data projection to the view projection\n * during parsing. If your remote data source does not advertise its projection\n * properly, this transformation will be incorrect. For some formats, the\n * default projection (usually EPSG:4326) can be overridden by setting the\n * dataProjection constructor option on the format.\n * Note that if a source contains non-feature data, such as a GeoJSON geometry\n * or a KML NetworkLink, these will be ignored. Use a custom loader to load these.\n * @property {boolean} [useSpatialIndex=true]\n * By default, an RTree is used as spatial index. When features are removed and\n * added frequently, and the total number of features is low, setting this to\n * `false` may improve performance.\n *\n * Note that\n * {@link module:ol/source/Vector~VectorSource#getFeaturesInExtent},\n * {@link module:ol/source/Vector~VectorSource#getClosestFeatureToCoordinate} and\n * {@link module:ol/source/Vector~VectorSource#getExtent} cannot be used when `useSpatialIndex` is\n * set to `false`, and {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent} will loop\n * through all features.\n *\n * When set to `false`, the features will be maintained in an\n * {@link module:ol/Collection~Collection}, which can be retrieved through\n * {@link module:ol/source/Vector~VectorSource#getFeaturesCollection}.\n * @property {boolean} [wrapX=true] Wrap the world horizontally. For vector editing across the\n * -180 and 180 meridians to work properly, this should be set to `false`. The\n * resulting geometry coordinates will then exceed the world bounds.\n */\n/**\n * @classdesc\n * Provides a source of features for vector layers. Vector features provided\n * by this source are suitable for editing. See {@link module:ol/source/VectorTile~VectorTile} for\n * vector data that is optimized for rendering.\n *\n * @fires VectorSourceEvent\n * @api\n * @template {import(\"../geom/Geometry.js\").default} [Geometry=import(\"../geom/Geometry.js\").default]\n */\nvar VectorSource = /** @class */ (function (_super) {\n    __extends(VectorSource, _super);\n    /**\n     * @param {Options} [opt_options] Vector source options.\n     */\n    function VectorSource(opt_options) {\n        var _this = this;\n        var options = opt_options || {};\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            interpolate: true,\n            projection: undefined,\n            state: 'ready',\n            wrapX: options.wrapX !== undefined ? options.wrapX : true,\n        }) || this;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {VectorSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {VectorSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {import(\"../featureloader.js\").FeatureLoader}\n         */\n        _this.loader_ = VOID;\n        /**\n         * @private\n         * @type {import(\"../format/Feature.js\").default|undefined}\n         */\n        _this.format_ = options.format;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overlaps_ = options.overlaps === undefined ? true : options.overlaps;\n        /**\n         * @private\n         * @type {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined}\n         */\n        _this.url_ = options.url;\n        if (options.loader !== undefined) {\n            _this.loader_ = options.loader;\n        }\n        else if (_this.url_ !== undefined) {\n            assert(_this.format_, 7); // `format` must be set when `url` is set\n            // create a XHR feature loader for \"url\" and \"format\"\n            _this.loader_ = xhr(_this.url_, \n            /** @type {import(\"../format/Feature.js\").default} */ (_this.format_));\n        }\n        /**\n         * @private\n         * @type {LoadingStrategy}\n         */\n        _this.strategy_ =\n            options.strategy !== undefined ? options.strategy : allStrategy;\n        var useSpatialIndex = options.useSpatialIndex !== undefined ? options.useSpatialIndex : true;\n        /**\n         * @private\n         * @type {RBush<import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.featuresRtree_ = useSpatialIndex ? new RBush() : null;\n        /**\n         * @private\n         * @type {RBush<{extent: import(\"../extent.js\").Extent}>}\n         */\n        _this.loadedExtentsRtree_ = new RBush();\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.loadingExtentsCount_ = 0;\n        /**\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.nullGeometryFeatures_ = {};\n        /**\n         * A lookup of features by id (the return from feature.getId()).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.idIndex_ = {};\n        /**\n         * A lookup of features by uid (using getUid(feature)).\n         * @private\n         * @type {!Object<string, import(\"../Feature.js\").default<Geometry>>}\n         */\n        _this.uidIndex_ = {};\n        /**\n         * @private\n         * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n         */\n        _this.featureChangeKeys_ = {};\n        /**\n         * @private\n         * @type {Collection<import(\"../Feature.js\").default<Geometry>>|null}\n         */\n        _this.featuresCollection_ = null;\n        var collection, features;\n        if (Array.isArray(options.features)) {\n            features =\n                /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (options.features);\n        }\n        else if (options.features) {\n            collection =\n                /** @type {Collection<import(\"../Feature.js\").default<Geometry>>} */ (options.features);\n            features = collection.getArray();\n        }\n        if (!useSpatialIndex && collection === undefined) {\n            collection = new Collection(features);\n        }\n        if (features !== undefined) {\n            _this.addFeaturesInternal(features);\n        }\n        if (collection !== undefined) {\n            _this.bindFeaturesCollection_(collection);\n        }\n        return _this;\n    }\n    /**\n     * Add a single feature to the source.  If you want to add a batch of features\n     * at once, call {@link module:ol/source/Vector~VectorSource#addFeatures #addFeatures()}\n     * instead. A feature will not be added to the source if feature with\n     * the same id is already there. The reason for this behavior is to avoid\n     * feature duplication when using bbox or tile loading strategies.\n     * Note: this also applies if an {@link module:ol/Collection~Collection} is used for features,\n     * meaning that if a feature with a duplicate id is added in the collection, it will\n     * be removed from it right away.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to add.\n     * @api\n     */\n    VectorSource.prototype.addFeature = function (feature) {\n        this.addFeatureInternal(feature);\n        this.changed();\n    };\n    /**\n     * Add a feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @protected\n     */\n    VectorSource.prototype.addFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        if (!this.addToIndex_(featureKey, feature)) {\n            if (this.featuresCollection_) {\n                this.featuresCollection_.remove(feature);\n            }\n            return;\n        }\n        this.setupChangeEvents_(featureKey, feature);\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            var extent = geometry.getExtent();\n            if (this.featuresRtree_) {\n                this.featuresRtree_.insert(extent, feature);\n            }\n        }\n        else {\n            this.nullGeometryFeatures_[featureKey] = feature;\n        }\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, feature));\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @private\n     */\n    VectorSource.prototype.setupChangeEvents_ = function (featureKey, feature) {\n        this.featureChangeKeys_[featureKey] = [\n            listen(feature, EventType.CHANGE, this.handleFeatureChange_, this),\n            listen(feature, ObjectEventType.PROPERTYCHANGE, this.handleFeatureChange_, this),\n        ];\n    };\n    /**\n     * @param {string} featureKey Unique identifier for the feature.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} The feature is \"valid\", in the sense that it is also a\n     *     candidate for insertion into the Rtree.\n     * @private\n     */\n    VectorSource.prototype.addToIndex_ = function (featureKey, feature) {\n        var valid = true;\n        var id = feature.getId();\n        if (id !== undefined) {\n            if (!(id.toString() in this.idIndex_)) {\n                this.idIndex_[id.toString()] = feature;\n            }\n            else {\n                valid = false;\n            }\n        }\n        if (valid) {\n            assert(!(featureKey in this.uidIndex_), 30); // The passed `feature` was already added to the source\n            this.uidIndex_[featureKey] = feature;\n        }\n        return valid;\n    };\n    /**\n     * Add a batch of features to the source.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features to add.\n     * @api\n     */\n    VectorSource.prototype.addFeatures = function (features) {\n        this.addFeaturesInternal(features);\n        this.changed();\n    };\n    /**\n     * Add features without firing a `change` event.\n     * @param {Array<import(\"../Feature.js\").default<Geometry>>} features Features.\n     * @protected\n     */\n    VectorSource.prototype.addFeaturesInternal = function (features) {\n        var extents = [];\n        var newFeatures = [];\n        var geometryFeatures = [];\n        for (var i = 0, length_1 = features.length; i < length_1; i++) {\n            var feature = features[i];\n            var featureKey = getUid(feature);\n            if (this.addToIndex_(featureKey, feature)) {\n                newFeatures.push(feature);\n            }\n        }\n        for (var i = 0, length_2 = newFeatures.length; i < length_2; i++) {\n            var feature = newFeatures[i];\n            var featureKey = getUid(feature);\n            this.setupChangeEvents_(featureKey, feature);\n            var geometry = feature.getGeometry();\n            if (geometry) {\n                var extent = geometry.getExtent();\n                extents.push(extent);\n                geometryFeatures.push(feature);\n            }\n            else {\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.load(extents, geometryFeatures);\n        }\n        if (this.hasListener(VectorEventType.ADDFEATURE)) {\n            for (var i = 0, length_3 = newFeatures.length; i < length_3; i++) {\n                this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE, newFeatures[i]));\n            }\n        }\n    };\n    /**\n     * @param {!Collection<import(\"../Feature.js\").default<Geometry>>} collection Collection.\n     * @private\n     */\n    VectorSource.prototype.bindFeaturesCollection_ = function (collection) {\n        var modifyingCollection = false;\n        this.addEventListener(VectorEventType.ADDFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.push(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        this.addEventListener(VectorEventType.REMOVEFEATURE, \n        /**\n         * @param {VectorSourceEvent<Geometry>} evt The vector source event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                collection.remove(evt.feature);\n                modifyingCollection = false;\n            }\n        });\n        collection.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.addFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        collection.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"../Collection.js\").CollectionEvent} evt The collection event\n         */\n        function (evt) {\n            if (!modifyingCollection) {\n                modifyingCollection = true;\n                this.removeFeature(\n                /** @type {import(\"../Feature.js\").default<Geometry>} */ (evt.element));\n                modifyingCollection = false;\n            }\n        }.bind(this));\n        this.featuresCollection_ = collection;\n    };\n    /**\n     * Remove all features from the source.\n     * @param {boolean} [opt_fast] Skip dispatching of {@link module:ol/source/Vector.VectorSourceEvent#event:removefeature removefeature} events.\n     * @api\n     */\n    VectorSource.prototype.clear = function (opt_fast) {\n        if (opt_fast) {\n            for (var featureId in this.featureChangeKeys_) {\n                var keys = this.featureChangeKeys_[featureId];\n                keys.forEach(unlistenByKey);\n            }\n            if (!this.featuresCollection_) {\n                this.featureChangeKeys_ = {};\n                this.idIndex_ = {};\n                this.uidIndex_ = {};\n            }\n        }\n        else {\n            if (this.featuresRtree_) {\n                var removeAndIgnoreReturn = function (feature) {\n                    this.removeFeatureInternal(feature);\n                }.bind(this);\n                this.featuresRtree_.forEach(removeAndIgnoreReturn);\n                for (var id in this.nullGeometryFeatures_) {\n                    this.removeFeatureInternal(this.nullGeometryFeatures_[id]);\n                }\n            }\n        }\n        if (this.featuresCollection_) {\n            this.featuresCollection_.clear();\n        }\n        if (this.featuresRtree_) {\n            this.featuresRtree_.clear();\n        }\n        this.nullGeometryFeatures_ = {};\n        var clearEvent = new VectorSourceEvent(VectorEventType.CLEAR);\n        this.dispatchEvent(clearEvent);\n        this.changed();\n    };\n    /**\n     * Iterate through all features on the source, calling the provided callback\n     * with each one.  If the callback returns any \"truthy\" value, iteration will\n     * stop and the function will return the same value.\n     * Note: this function only iterate through the feature that have a defined geometry.\n     *\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     on the source.  Return a truthy value to stop iteration.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeature = function (callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEach(callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometries contain the provided\n     * coordinate, calling the callback with each feature.  If the callback returns\n     * a \"truthy\" value, iteration will stop and the function will return the same\n     * value.\n     *\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose goemetry contains the provided coordinate.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     */\n    VectorSource.prototype.forEachFeatureAtCoordinateDirect = function (coordinate, callback) {\n        var extent = [coordinate[0], coordinate[1], coordinate[0], coordinate[1]];\n        return this.forEachFeatureInExtent(extent, function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsCoordinate(coordinate)) {\n                return callback(feature);\n            }\n            else {\n                return undefined;\n            }\n        });\n    };\n    /**\n     * Iterate through all features whose bounding box intersects the provided\n     * extent (note that the feature's geometry may not intersect the extent),\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you are interested in features whose geometry intersects an extent, call\n     * the {@link module:ol/source/Vector~VectorSource#forEachFeatureIntersectingExtent #forEachFeatureIntersectingExtent()} method instead.\n     *\n     * When `useSpatialIndex` is set to false, this method will loop through all\n     * features, equivalent to {@link module:ol/source/Vector~VectorSource#forEachFeature #forEachFeature()}.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose bounding box intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureInExtent = function (extent, callback) {\n        if (this.featuresRtree_) {\n            return this.featuresRtree_.forEachInExtent(extent, callback);\n        }\n        else if (this.featuresCollection_) {\n            this.featuresCollection_.forEach(callback);\n        }\n    };\n    /**\n     * Iterate through all features whose geometry intersects the provided extent,\n     * calling the callback with each feature.  If the callback returns a \"truthy\"\n     * value, iteration will stop and the function will return the same value.\n     *\n     * If you only want to test for bounding box intersection, call the\n     * {@link module:ol/source/Vector~VectorSource#forEachFeatureInExtent #forEachFeatureInExtent()} method instead.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {function(import(\"../Feature.js\").default<Geometry>): T} callback Called with each feature\n     *     whose geometry intersects the provided extent.\n     * @return {T|undefined} The return value from the last call to the callback.\n     * @template T\n     * @api\n     */\n    VectorSource.prototype.forEachFeatureIntersectingExtent = function (extent, callback) {\n        return this.forEachFeatureInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         * @return {T|undefined} The return value from the last call to the callback.\n         */\n        function (feature) {\n            var geometry = feature.getGeometry();\n            if (geometry.intersectsExtent(extent)) {\n                var result = callback(feature);\n                if (result) {\n                    return result;\n                }\n            }\n        });\n    };\n    /**\n     * Get the features collection associated with this source. Will be `null`\n     * unless the source was configured with `useSpatialIndex` set to `false`, or\n     * with an {@link module:ol/Collection~Collection} as `features`.\n     * @return {Collection<import(\"../Feature.js\").default<Geometry>>|null} The collection of features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesCollection = function () {\n        return this.featuresCollection_;\n    };\n    /**\n     * Get a snapshot of the features currently on the source in random order. The returned array\n     * is a copy, the features are references to the features in the source.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeatures = function () {\n        var features;\n        if (this.featuresCollection_) {\n            features = this.featuresCollection_.getArray().slice(0);\n        }\n        else if (this.featuresRtree_) {\n            features = this.featuresRtree_.getAll();\n            if (!isEmpty(this.nullGeometryFeatures_)) {\n                extend(features, getValues(this.nullGeometryFeatures_));\n            }\n        }\n        return /** @type {Array<import(\"../Feature.js\").default<Geometry>>} */ (features);\n    };\n    /**\n     * Get all features whose geometry intersects the provided coordinate.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesAtCoordinate = function (coordinate) {\n        var features = [];\n        this.forEachFeatureAtCoordinateDirect(coordinate, function (feature) {\n            features.push(feature);\n        });\n        return features;\n    };\n    /**\n     * Get all features whose bounding box intersects the provided extent.  Note that this returns an array of\n     * all features intersecting the given extent in random order (so it may include\n     * features whose geometries do not intersect the extent).\n     *\n     * When `useSpatialIndex` is set to false, this method will return all\n     * features.\n     *\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {import(\"../proj/Projection.js\").default} [opt_projection] Include features\n     * where `extent` exceeds the x-axis bounds of `projection` and wraps around the world.\n     * @return {Array<import(\"../Feature.js\").default<Geometry>>} Features.\n     * @api\n     */\n    VectorSource.prototype.getFeaturesInExtent = function (extent, opt_projection) {\n        var _this = this;\n        if (this.featuresRtree_) {\n            var multiWorld = opt_projection && opt_projection.canWrapX() && this.getWrapX();\n            if (!multiWorld) {\n                return this.featuresRtree_.getInExtent(extent);\n            }\n            var extents = wrapAndSliceX(extent, opt_projection);\n            return [].concat.apply([], extents.map(function (anExtent) { return _this.featuresRtree_.getInExtent(anExtent); }));\n        }\n        else if (this.featuresCollection_) {\n            return this.featuresCollection_.getArray().slice(0);\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Get the closest feature to the provided coordinate.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {function(import(\"../Feature.js\").default<Geometry>):boolean} [opt_filter] Feature filter function.\n     *     The filter function will receive one argument, the {@link module:ol/Feature~Feature feature}\n     *     and it should return a boolean value. By default, no filtering is made.\n     * @return {import(\"../Feature.js\").default<Geometry>} Closest feature.\n     * @api\n     */\n    VectorSource.prototype.getClosestFeatureToCoordinate = function (coordinate, opt_filter) {\n        // Find the closest feature using branch and bound.  We start searching an\n        // infinite extent, and find the distance from the first feature found.  This\n        // becomes the closest feature.  We then compute a smaller extent which any\n        // closer feature must intersect.  We continue searching with this smaller\n        // extent, trying to find a closer feature.  Every time we find a closer\n        // feature, we update the extent being searched so that any even closer\n        // feature must intersect it.  We continue until we run out of features.\n        var x = coordinate[0];\n        var y = coordinate[1];\n        var closestFeature = null;\n        var closestPoint = [NaN, NaN];\n        var minSquaredDistance = Infinity;\n        var extent = [-Infinity, -Infinity, Infinity, Infinity];\n        var filter = opt_filter ? opt_filter : TRUE;\n        this.featuresRtree_.forEachInExtent(extent, \n        /**\n         * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n         */\n        function (feature) {\n            if (filter(feature)) {\n                var geometry = feature.getGeometry();\n                var previousMinSquaredDistance = minSquaredDistance;\n                minSquaredDistance = geometry.closestPointXY(x, y, closestPoint, minSquaredDistance);\n                if (minSquaredDistance < previousMinSquaredDistance) {\n                    closestFeature = feature;\n                    // This is sneaky.  Reduce the extent that it is currently being\n                    // searched while the R-Tree traversal using this same extent object\n                    // is still in progress.  This is safe because the new extent is\n                    // strictly contained by the old extent.\n                    var minDistance = Math.sqrt(minSquaredDistance);\n                    extent[0] = x - minDistance;\n                    extent[1] = y - minDistance;\n                    extent[2] = x + minDistance;\n                    extent[3] = y + minDistance;\n                }\n            }\n        });\n        return closestFeature;\n    };\n    /**\n     * Get the extent of the features currently in the source.\n     *\n     * This method is not available when the source is configured with\n     * `useSpatialIndex` set to `false`.\n     * @param {import(\"../extent.js\").Extent} [opt_extent] Destination extent. If provided, no new extent\n     *     will be created. Instead, that extent's coordinates will be overwritten.\n     * @return {import(\"../extent.js\").Extent} Extent.\n     * @api\n     */\n    VectorSource.prototype.getExtent = function (opt_extent) {\n        return this.featuresRtree_.getExtent(opt_extent);\n    };\n    /**\n     * Get a feature by its identifier (the value returned by feature.getId()).\n     * Note that the index treats string and numeric identifiers as the same.  So\n     * `source.getFeatureById(2)` will return a feature with id `'2'` or `2`.\n     *\n     * @param {string|number} id Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>|null} The feature (or `null` if not found).\n     * @api\n     */\n    VectorSource.prototype.getFeatureById = function (id) {\n        var feature = this.idIndex_[id.toString()];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get a feature by its internal unique identifier (using `getUid`).\n     *\n     * @param {string} uid Feature identifier.\n     * @return {import(\"../Feature.js\").default<Geometry>|null} The feature (or `null` if not found).\n     */\n    VectorSource.prototype.getFeatureByUid = function (uid) {\n        var feature = this.uidIndex_[uid];\n        return feature !== undefined ? feature : null;\n    };\n    /**\n     * Get the format associated with this source.\n     *\n     * @return {import(\"../format/Feature.js\").default|undefined} The feature format.\n     * @api\n     */\n    VectorSource.prototype.getFormat = function () {\n        return this.format_;\n    };\n    /**\n     * @return {boolean} The source can have overlapping geometries.\n     */\n    VectorSource.prototype.getOverlaps = function () {\n        return this.overlaps_;\n    };\n    /**\n     * Get the url associated with this source.\n     *\n     * @return {string|import(\"../featureloader.js\").FeatureUrlFunction|undefined} The url.\n     * @api\n     */\n    VectorSource.prototype.getUrl = function () {\n        return this.url_;\n    };\n    /**\n     * @param {Event} event Event.\n     * @private\n     */\n    VectorSource.prototype.handleFeatureChange_ = function (event) {\n        var feature = /** @type {import(\"../Feature.js\").default<Geometry>} */ (event.target);\n        var featureKey = getUid(feature);\n        var geometry = feature.getGeometry();\n        if (!geometry) {\n            if (!(featureKey in this.nullGeometryFeatures_)) {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.remove(feature);\n                }\n                this.nullGeometryFeatures_[featureKey] = feature;\n            }\n        }\n        else {\n            var extent = geometry.getExtent();\n            if (featureKey in this.nullGeometryFeatures_) {\n                delete this.nullGeometryFeatures_[featureKey];\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.insert(extent, feature);\n                }\n            }\n            else {\n                if (this.featuresRtree_) {\n                    this.featuresRtree_.update(extent, feature);\n                }\n            }\n        }\n        var id = feature.getId();\n        if (id !== undefined) {\n            var sid = id.toString();\n            if (this.idIndex_[sid] !== feature) {\n                this.removeFromIdIndex_(feature);\n                this.idIndex_[sid] = feature;\n            }\n        }\n        else {\n            this.removeFromIdIndex_(feature);\n            this.uidIndex_[featureKey] = feature;\n        }\n        this.changed();\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE, feature));\n    };\n    /**\n     * Returns true if the feature is contained within the source.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {boolean} Has feature.\n     * @api\n     */\n    VectorSource.prototype.hasFeature = function (feature) {\n        var id = feature.getId();\n        if (id !== undefined) {\n            return id in this.idIndex_;\n        }\n        else {\n            return getUid(feature) in this.uidIndex_;\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    VectorSource.prototype.isEmpty = function () {\n        if (this.featuresRtree_) {\n            return (this.featuresRtree_.isEmpty() && isEmpty(this.nullGeometryFeatures_));\n        }\n        if (this.featuresCollection_) {\n            return this.featuresCollection_.getLength() === 0;\n        }\n        return true;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    VectorSource.prototype.loadFeatures = function (extent, resolution, projection) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var extentsToLoad = this.strategy_(extent, resolution, projection);\n        var _loop_1 = function (i, ii) {\n            var extentToLoad = extentsToLoad[i];\n            var alreadyLoaded = loadedExtentsRtree.forEachInExtent(extentToLoad, \n            /**\n             * @param {{extent: import(\"../extent.js\").Extent}} object Object.\n             * @return {boolean} Contains.\n             */\n            function (object) {\n                return containsExtent(object.extent, extentToLoad);\n            });\n            if (!alreadyLoaded) {\n                ++this_1.loadingExtentsCount_;\n                this_1.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADSTART));\n                this_1.loader_.call(this_1, extentToLoad, resolution, projection, function (features) {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADEND, undefined, features));\n                }.bind(this_1), function () {\n                    --this.loadingExtentsCount_;\n                    this.dispatchEvent(new VectorSourceEvent(VectorEventType.FEATURESLOADERROR));\n                }.bind(this_1));\n                loadedExtentsRtree.insert(extentToLoad, { extent: extentToLoad.slice() });\n            }\n        };\n        var this_1 = this;\n        for (var i = 0, ii = extentsToLoad.length; i < ii; ++i) {\n            _loop_1(i, ii);\n        }\n        this.loading =\n            this.loader_.length < 4 ? false : this.loadingExtentsCount_ > 0;\n    };\n    VectorSource.prototype.refresh = function () {\n        this.clear(true);\n        this.loadedExtentsRtree_.clear();\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Remove an extent from the list of loaded extents.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @api\n     */\n    VectorSource.prototype.removeLoadedExtent = function (extent) {\n        var loadedExtentsRtree = this.loadedExtentsRtree_;\n        var obj;\n        loadedExtentsRtree.forEachInExtent(extent, function (object) {\n            if (equals(object.extent, extent)) {\n                obj = object;\n                return true;\n            }\n        });\n        if (obj) {\n            loadedExtentsRtree.remove(obj);\n        }\n    };\n    /**\n     * Remove a single feature from the source.  If you want to remove all features\n     * at once, use the {@link module:ol/source/Vector~VectorSource#clear #clear()} method\n     * instead.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature to remove.\n     * @api\n     */\n    VectorSource.prototype.removeFeature = function (feature) {\n        if (!feature) {\n            return;\n        }\n        var featureKey = getUid(feature);\n        if (featureKey in this.nullGeometryFeatures_) {\n            delete this.nullGeometryFeatures_[featureKey];\n        }\n        else {\n            if (this.featuresRtree_) {\n                this.featuresRtree_.remove(feature);\n            }\n        }\n        var result = this.removeFeatureInternal(feature);\n        if (result) {\n            this.changed();\n        }\n    };\n    /**\n     * Remove feature without firing a `change` event.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature Feature.\n     * @return {import(\"../Feature.js\").default<Geometry>|undefined} The removed feature\n     *     (or undefined if the feature was not found).\n     * @protected\n     */\n    VectorSource.prototype.removeFeatureInternal = function (feature) {\n        var featureKey = getUid(feature);\n        var featureChangeKeys = this.featureChangeKeys_[featureKey];\n        if (!featureChangeKeys) {\n            return;\n        }\n        featureChangeKeys.forEach(unlistenByKey);\n        delete this.featureChangeKeys_[featureKey];\n        var id = feature.getId();\n        if (id !== undefined) {\n            delete this.idIndex_[id.toString()];\n        }\n        delete this.uidIndex_[featureKey];\n        this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE, feature));\n        return feature;\n    };\n    /**\n     * Remove a feature from the id index.  Called internally when the feature id\n     * may have changed.\n     * @param {import(\"../Feature.js\").default<Geometry>} feature The feature.\n     * @return {boolean} Removed the feature from the index.\n     * @private\n     */\n    VectorSource.prototype.removeFromIdIndex_ = function (feature) {\n        var removed = false;\n        for (var id in this.idIndex_) {\n            if (this.idIndex_[id] === feature) {\n                delete this.idIndex_[id];\n                removed = true;\n                break;\n            }\n        }\n        return removed;\n    };\n    /**\n     * Set the new loader of the source. The next render cycle will use the\n     * new loader.\n     * @param {import(\"../featureloader.js\").FeatureLoader} loader The loader to set.\n     * @api\n     */\n    VectorSource.prototype.setLoader = function (loader) {\n        this.loader_ = loader;\n    };\n    /**\n     * Points the source to a new url. The next render cycle will use the new url.\n     * @param {string|import(\"../featureloader.js\").FeatureUrlFunction} url Url.\n     * @api\n     */\n    VectorSource.prototype.setUrl = function (url) {\n        assert(this.format_, 7); // `format` must be set when `url` is set\n        this.url_ = url;\n        this.setLoader(xhr(url, this.format_));\n    };\n    return VectorSource;\n}(Source));\nexport default VectorSource;\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/source/Cluster\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventType from '../events/EventType.js';\nimport Feature from '../Feature.js';\nimport Point from '../geom/Point.js';\nimport VectorSource from './Vector.js';\nimport { add as addCoordinate, scale as scaleCoordinate } from '../coordinate.js';\nimport { assert } from '../asserts.js';\nimport { buffer, createEmpty, createOrUpdateFromCoordinate, getCenter, } from '../extent.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [distance=20] Distance in pixels within which features will\n * be clustered together.\n * @property {number} [minDistance=0] Minimum distance in pixels between clusters.\n * Will be capped at the configured distance.\n * By default no minimum distance is guaranteed. This config can be used to avoid\n * overlapping icons. As a tradoff, the cluster feature's position will no longer be\n * the center of all its features.\n * @property {function(Feature):Point} [geometryFunction]\n * Function that takes an {@link module:ol/Feature~Feature} as argument and returns an\n * {@link module:ol/geom/Point~Point} as cluster calculation point for the feature. When a\n * feature should not be considered for clustering, the function should return\n * `null`. The default, which works when the underlying source contains point\n * features only, is\n * ```js\n * function(feature) {\n *   return feature.getGeometry();\n * }\n * ```\n * See {@link module:ol/geom/Polygon~Polygon#getInteriorPoint} for a way to get a cluster\n * calculation point for polygons.\n * @property {function(Point, Array<Feature>):Feature} [createCluster]\n * Function that takes the cluster's center {@link module:ol/geom/Point~Point} and an array\n * of {@link module:ol/Feature~Feature} included in this cluster. Must return a\n * {@link module:ol/Feature~Feature} that will be used to render. Default implementation is:\n * ```js\n * function(point, features) {\n *   return new Feature({\n *     geometry: point,\n *     features: features\n *   });\n * }\n * ```\n * @property {VectorSource} [source=null] Source.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n */\n/**\n * @classdesc\n * Layer source to cluster vector data. Works out of the box with point\n * geometries. For other geometry types, or if not all geometries should be\n * considered for clustering, a custom `geometryFunction` can be defined.\n *\n * If the instance is disposed without also disposing the underlying\n * source `setSource(null)` has to be called to remove the listener reference\n * from the wrapped source.\n * @api\n */\nvar Cluster = /** @class */ (function (_super) {\n    __extends(Cluster, _super);\n    /**\n     * @param {Options} options Cluster options.\n     */\n    function Cluster(options) {\n        var _this = _super.call(this, {\n            attributions: options.attributions,\n            wrapX: options.wrapX,\n        }) || this;\n        /**\n         * @type {number|undefined}\n         * @protected\n         */\n        _this.resolution = undefined;\n        /**\n         * @type {number}\n         * @protected\n         */\n        _this.distance = options.distance !== undefined ? options.distance : 20;\n        /**\n         * @type {number}\n         * @protected\n         */\n        _this.minDistance = options.minDistance || 0;\n        /**\n         * @type {number}\n         * @protected\n         */\n        _this.interpolationRatio = 0;\n        /**\n         * @type {Array<Feature>}\n         * @protected\n         */\n        _this.features = [];\n        /**\n         * @param {Feature} feature Feature.\n         * @return {Point} Cluster calculation point.\n         * @protected\n         */\n        _this.geometryFunction =\n            options.geometryFunction ||\n                function (feature) {\n                    var geometry = /** @type {Point} */ (feature.getGeometry());\n                    assert(geometry.getType() == 'Point', 10); // The default `geometryFunction` can only handle `Point` geometries\n                    return geometry;\n                };\n        /**\n         * @type {function(Point, Array<Feature>):Feature}\n         * @private\n         */\n        _this.createCustomCluster_ = options.createCluster;\n        /**\n         * @type {VectorSource|null}\n         * @protected\n         */\n        _this.source = null;\n        /**\n         * @private\n         */\n        _this.boundRefresh_ = _this.refresh.bind(_this);\n        _this.updateDistance(_this.distance, _this.minDistance);\n        _this.setSource(options.source || null);\n        return _this;\n    }\n    /**\n     * Remove all features from the source.\n     * @param {boolean} [opt_fast] Skip dispatching of {@link module:ol/source/VectorEventType~VectorEventType#removefeature} events.\n     * @api\n     */\n    Cluster.prototype.clear = function (opt_fast) {\n        this.features.length = 0;\n        _super.prototype.clear.call(this, opt_fast);\n    };\n    /**\n     * Get the distance in pixels between clusters.\n     * @return {number} Distance.\n     * @api\n     */\n    Cluster.prototype.getDistance = function () {\n        return this.distance;\n    };\n    /**\n     * Get a reference to the wrapped source.\n     * @return {VectorSource|null} Source.\n     * @api\n     */\n    Cluster.prototype.getSource = function () {\n        return this.source;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     */\n    Cluster.prototype.loadFeatures = function (extent, resolution, projection) {\n        this.source.loadFeatures(extent, resolution, projection);\n        if (resolution !== this.resolution) {\n            this.resolution = resolution;\n            this.refresh();\n        }\n    };\n    /**\n     * Set the distance within which features will be clusterd together.\n     * @param {number} distance The distance in pixels.\n     * @api\n     */\n    Cluster.prototype.setDistance = function (distance) {\n        this.updateDistance(distance, this.minDistance);\n    };\n    /**\n     * Set the minimum distance between clusters. Will be capped at the\n     * configured distance.\n     * @param {number} minDistance The minimum distance in pixels.\n     * @api\n     */\n    Cluster.prototype.setMinDistance = function (minDistance) {\n        this.updateDistance(this.distance, minDistance);\n    };\n    /**\n     * The configured minimum distance between clusters.\n     * @return {number} The minimum distance in pixels.\n     * @api\n     */\n    Cluster.prototype.getMinDistance = function () {\n        return this.minDistance;\n    };\n    /**\n     * Replace the wrapped source.\n     * @param {VectorSource|null} source The new source for this instance.\n     * @api\n     */\n    Cluster.prototype.setSource = function (source) {\n        if (this.source) {\n            this.source.removeEventListener(EventType.CHANGE, this.boundRefresh_);\n        }\n        this.source = source;\n        if (source) {\n            source.addEventListener(EventType.CHANGE, this.boundRefresh_);\n        }\n        this.refresh();\n    };\n    /**\n     * Handle the source changing.\n     */\n    Cluster.prototype.refresh = function () {\n        this.clear();\n        this.cluster();\n        this.addFeatures(this.features);\n    };\n    /**\n     * Update the distances and refresh the source if necessary.\n     * @param {number} distance The new distance.\n     * @param {number} minDistance The new minimum distance.\n     */\n    Cluster.prototype.updateDistance = function (distance, minDistance) {\n        var ratio = distance === 0 ? 0 : Math.min(minDistance, distance) / distance;\n        var changed = distance !== this.distance || this.interpolationRatio !== ratio;\n        this.distance = distance;\n        this.minDistance = minDistance;\n        this.interpolationRatio = ratio;\n        if (changed) {\n            this.refresh();\n        }\n    };\n    /**\n     * @protected\n     */\n    Cluster.prototype.cluster = function () {\n        if (this.resolution === undefined || !this.source) {\n            return;\n        }\n        var extent = createEmpty();\n        var mapDistance = this.distance * this.resolution;\n        var features = this.source.getFeatures();\n        /** @type {Object<string, true>} */\n        var clustered = {};\n        for (var i = 0, ii = features.length; i < ii; i++) {\n            var feature = features[i];\n            if (!(getUid(feature) in clustered)) {\n                var geometry = this.geometryFunction(feature);\n                if (geometry) {\n                    var coordinates = geometry.getCoordinates();\n                    createOrUpdateFromCoordinate(coordinates, extent);\n                    buffer(extent, mapDistance, extent);\n                    var neighbors = this.source\n                        .getFeaturesInExtent(extent)\n                        .filter(function (neighbor) {\n                        var uid = getUid(neighbor);\n                        if (uid in clustered) {\n                            return false;\n                        }\n                        clustered[uid] = true;\n                        return true;\n                    });\n                    this.features.push(this.createCluster(neighbors, extent));\n                }\n            }\n        }\n    };\n    /**\n     * @param {Array<Feature>} features Features\n     * @param {import(\"../extent.js\").Extent} extent The searched extent for these features.\n     * @return {Feature} The cluster feature.\n     * @protected\n     */\n    Cluster.prototype.createCluster = function (features, extent) {\n        var centroid = [0, 0];\n        for (var i = features.length - 1; i >= 0; --i) {\n            var geometry_1 = this.geometryFunction(features[i]);\n            if (geometry_1) {\n                addCoordinate(centroid, geometry_1.getCoordinates());\n            }\n            else {\n                features.splice(i, 1);\n            }\n        }\n        scaleCoordinate(centroid, 1 / features.length);\n        var searchCenter = getCenter(extent);\n        var ratio = this.interpolationRatio;\n        var geometry = new Point([\n            centroid[0] * (1 - ratio) + searchCenter[0] * ratio,\n            centroid[1] * (1 - ratio) + searchCenter[1] * ratio,\n        ]);\n        if (this.createCustomCluster_) {\n            return this.createCustomCluster_(geometry, features);\n        }\n        else {\n            return new Feature({\n                geometry: geometry,\n                features: features,\n            });\n        }\n    };\n    return Cluster;\n}(VectorSource));\nexport default Cluster;\n//# sourceMappingURL=Cluster.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/VectorLayer\n */\nimport CanvasBuilderGroup from '../../render/canvas/BuilderGroup.js';\nimport CanvasLayerRenderer, { canvasPool } from './Layer.js';\nimport ExecutorGroup from '../../render/canvas/ExecutorGroup.js';\nimport ViewHint from '../../ViewHint.js';\nimport { HIT_DETECT_RESOLUTION, createHitDetectionImageData, hitDetect, } from '../../render/canvas/hitdetect.js';\nimport { apply, makeInverse, makeScale, toString as transformToString, } from '../../transform.js';\nimport { buffer, containsExtent, createEmpty, getWidth, intersects as intersectsExtent, wrapX as wrapExtentX, } from '../../extent.js';\nimport { createCanvasContext2D, releaseCanvas } from '../../dom.js';\nimport { defaultOrder as defaultRenderOrder, getTolerance as getRenderTolerance, getSquaredTolerance as getSquaredRenderTolerance, renderFeature, } from '../vector.js';\nimport { equals } from '../../array.js';\nimport { fromUserExtent, getTransformFromProjections, getUserProjection, toUserExtent, toUserResolution, } from '../../proj.js';\nimport { getUid } from '../../util.js';\nimport { wrapX as wrapCoordinateX } from '../../coordinate.js';\n/**\n * @classdesc\n * Canvas renderer for vector layers.\n * @api\n */\nvar CanvasVectorLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasVectorLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/BaseVector.js\").default} vectorLayer Vector layer.\n     */\n    function CanvasVectorLayerRenderer(vectorLayer) {\n        var _this = _super.call(this, vectorLayer) || this;\n        /** @private */\n        _this.boundHandleStyleImageChange_ = _this.handleStyleImageChange_.bind(_this);\n        /**\n         * @type {boolean}\n         */\n        _this.animatingOrInteracting_;\n        /**\n         * @type {ImageData}\n         */\n        _this.hitDetectionImageData_ = null;\n        /**\n         * @type {Array<import(\"../../Feature.js\").default>}\n         */\n        _this.renderedFeatures_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRevision_ = -1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedResolution_ = NaN;\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.renderedExtent_ = createEmpty();\n        /**\n         * @private\n         * @type {import(\"../../extent.js\").Extent}\n         */\n        _this.wrappedRenderedExtent_ = createEmpty();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRotation_;\n        /**\n         * @private\n         * @type {import(\"../../coordinate\").Coordinate}\n         */\n        _this.renderedCenter_ = null;\n        /**\n         * @private\n         * @type {import(\"../../proj/Projection\").default}\n         */\n        _this.renderedProjection_ = null;\n        /**\n         * @private\n         * @type {function(import(\"../../Feature.js\").default, import(\"../../Feature.js\").default): number|null}\n         */\n        _this.renderedRenderOrder_ = null;\n        /**\n         * @private\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.replayGroup_ = null;\n        /**\n         * A new replay group had to be created by `prepareFrame()`\n         * @type {boolean}\n         */\n        _this.replayGroupChanged = true;\n        /**\n         * @type {import(\"../../render/canvas/ExecutorGroup\").default}\n         */\n        _this.declutterExecutorGroup = null;\n        /**\n         * Clipping to be performed by `renderFrame()`\n         * @type {boolean}\n         */\n        _this.clipping = true;\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.compositionContext_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.opacity_ = 1;\n        return _this;\n    }\n    /**\n     * @param {ExecutorGroup} executorGroup Executor group.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"rbush\").default} [opt_declutterTree] Declutter tree.\n     */\n    CanvasVectorLayerRenderer.prototype.renderWorlds = function (executorGroup, frameState, opt_declutterTree) {\n        var extent = frameState.extent;\n        var viewState = frameState.viewState;\n        var center = viewState.center;\n        var resolution = viewState.resolution;\n        var projection = viewState.projection;\n        var rotation = viewState.rotation;\n        var projectionExtent = projection.getExtent();\n        var vectorSource = this.getLayer().getSource();\n        var pixelRatio = frameState.pixelRatio;\n        var viewHints = frameState.viewHints;\n        var snapToPixel = !(viewHints[ViewHint.ANIMATING] || viewHints[ViewHint.INTERACTING]);\n        var context = this.compositionContext_;\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        var multiWorld = vectorSource.getWrapX() && projection.canWrapX();\n        var worldWidth = multiWorld ? getWidth(projectionExtent) : null;\n        var endWorld = multiWorld\n            ? Math.ceil((extent[2] - projectionExtent[2]) / worldWidth) + 1\n            : 1;\n        var world = multiWorld\n            ? Math.floor((extent[0] - projectionExtent[0]) / worldWidth)\n            : 0;\n        do {\n            var transform = this.getRenderTransform(center, resolution, rotation, pixelRatio, width, height, world * worldWidth);\n            executorGroup.execute(context, 1, transform, rotation, snapToPixel, undefined, opt_declutterTree);\n        } while (++world < endWorld);\n    };\n    CanvasVectorLayerRenderer.prototype.setupCompositionContext_ = function () {\n        if (this.opacity_ !== 1) {\n            var compositionContext = createCanvasContext2D(this.context.canvas.width, this.context.canvas.height, canvasPool);\n            this.compositionContext_ = compositionContext;\n        }\n        else {\n            this.compositionContext_ = this.context;\n        }\n    };\n    CanvasVectorLayerRenderer.prototype.releaseCompositionContext_ = function () {\n        if (this.opacity_ !== 1) {\n            var alpha = this.context.globalAlpha;\n            this.context.globalAlpha = this.opacity_;\n            this.context.drawImage(this.compositionContext_.canvas, 0, 0);\n            this.context.globalAlpha = alpha;\n            releaseCanvas(this.compositionContext_);\n            canvasPool.push(this.compositionContext_.canvas);\n            this.compositionContext_ = null;\n        }\n    };\n    /**\n     * Render declutter items for this layer\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CanvasVectorLayerRenderer.prototype.renderDeclutter = function (frameState) {\n        if (this.declutterExecutorGroup) {\n            this.setupCompositionContext_();\n            this.renderWorlds(this.declutterExecutorGroup, frameState, frameState.declutterTree);\n            this.releaseCompositionContext_();\n        }\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var pixelRatio = frameState.pixelRatio;\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        // set forward and inverse pixel transforms\n        makeScale(this.pixelTransform, 1 / pixelRatio, 1 / pixelRatio);\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        var canvasTransform = transformToString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, this.getBackground(frameState));\n        var context = this.context;\n        var canvas = context.canvas;\n        var replayGroup = this.replayGroup_;\n        var declutterExecutorGroup = this.declutterExecutorGroup;\n        if ((!replayGroup || replayGroup.isEmpty()) &&\n            (!declutterExecutorGroup || declutterExecutorGroup.isEmpty())) {\n            return null;\n        }\n        // resize and clear\n        var width = Math.round(frameState.size[0] * pixelRatio);\n        var height = Math.round(frameState.size[1] * pixelRatio);\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n            if (canvas.style.transform !== canvasTransform) {\n                canvas.style.transform = canvasTransform;\n            }\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        this.preRender(context, frameState);\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        this.opacity_ = layerState.opacity;\n        this.setupCompositionContext_();\n        // clipped rendering if layer extent is set\n        var clipped = false;\n        var render = true;\n        if (layerState.extent && this.clipping) {\n            var layerExtent = fromUserExtent(layerState.extent, projection);\n            render = intersectsExtent(layerExtent, frameState.extent);\n            clipped = render && !containsExtent(layerExtent, frameState.extent);\n            if (clipped) {\n                this.clipUnrotated(this.compositionContext_, frameState, layerExtent);\n            }\n        }\n        if (render) {\n            this.renderWorlds(replayGroup, frameState);\n        }\n        if (clipped) {\n            this.compositionContext_.restore();\n        }\n        this.releaseCompositionContext_();\n        this.postRender(context, frameState);\n        if (this.renderedRotation_ !== viewState.rotation) {\n            this.renderedRotation_ = viewState.rotation;\n            this.hitDetectionImageData_ = null;\n        }\n        return this.container;\n    };\n    /**\n     * Asynchronous layer level hit detection.\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Promise<Array<import(\"../../Feature\").default>>} Promise that resolves with an array of features.\n     */\n    CanvasVectorLayerRenderer.prototype.getFeatures = function (pixel) {\n        return new Promise(\n        /**\n         * @param {function(Array<import(\"../../Feature\").default|import(\"../../render/Feature\").default>): void} resolve Resolver function.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (resolve) {\n            if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) {\n                var size = [this.context.canvas.width, this.context.canvas.height];\n                apply(this.pixelTransform, size);\n                var center = this.renderedCenter_;\n                var resolution = this.renderedResolution_;\n                var rotation = this.renderedRotation_;\n                var projection = this.renderedProjection_;\n                var extent = this.wrappedRenderedExtent_;\n                var layer = this.getLayer();\n                var transforms = [];\n                var width = size[0] * HIT_DETECT_RESOLUTION;\n                var height = size[1] * HIT_DETECT_RESOLUTION;\n                transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, 0).slice());\n                var source = layer.getSource();\n                var projectionExtent = projection.getExtent();\n                if (source.getWrapX() &&\n                    projection.canWrapX() &&\n                    !containsExtent(projectionExtent, extent)) {\n                    var startX = extent[0];\n                    var worldWidth = getWidth(projectionExtent);\n                    var world = 0;\n                    var offsetX = void 0;\n                    while (startX < projectionExtent[0]) {\n                        --world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, offsetX).slice());\n                        startX += worldWidth;\n                    }\n                    world = 0;\n                    startX = extent[2];\n                    while (startX > projectionExtent[2]) {\n                        ++world;\n                        offsetX = worldWidth * world;\n                        transforms.push(this.getRenderTransform(center, resolution, rotation, HIT_DETECT_RESOLUTION, width, height, offsetX).slice());\n                        startX -= worldWidth;\n                    }\n                }\n                this.hitDetectionImageData_ = createHitDetectionImageData(size, transforms, this.renderedFeatures_, layer.getStyleFunction(), extent, resolution, rotation);\n            }\n            resolve(hitDetect(pixel, this.renderedFeatures_, this.hitDetectionImageData_));\n        }.bind(this));\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"../vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"../Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CanvasVectorLayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        var _this = this;\n        if (!this.replayGroup_) {\n            return undefined;\n        }\n        var resolution = frameState.viewState.resolution;\n        var rotation = frameState.viewState.rotation;\n        var layer = this.getLayer();\n        /** @type {!Object<string, import(\"../Map.js\").HitMatch<T>|true>} */\n        var features = {};\n        /**\n         * @param {import(\"../../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../../geom/SimpleGeometry.js\").default} geometry Geometry.\n         * @param {number} distanceSq The squared distance to the click position\n         * @return {T|undefined} Callback result.\n         */\n        var featureCallback = function (feature, geometry, distanceSq) {\n            var key = getUid(feature);\n            var match = features[key];\n            if (!match) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    return callback(feature, layer, geometry);\n                }\n                matches.push((features[key] = {\n                    feature: feature,\n                    layer: layer,\n                    geometry: geometry,\n                    distanceSq: distanceSq,\n                    callback: callback,\n                }));\n            }\n            else if (match !== true && distanceSq < match.distanceSq) {\n                if (distanceSq === 0) {\n                    features[key] = true;\n                    matches.splice(matches.lastIndexOf(match), 1);\n                    return callback(feature, layer, geometry);\n                }\n                match.geometry = geometry;\n                match.distanceSq = distanceSq;\n            }\n            return undefined;\n        };\n        var result;\n        var executorGroups = [this.replayGroup_];\n        if (this.declutterExecutorGroup) {\n            executorGroups.push(this.declutterExecutorGroup);\n        }\n        executorGroups.some(function (executorGroup) {\n            return (result = executorGroup.forEachFeatureAtCoordinate(coordinate, resolution, rotation, hitTolerance, featureCallback, executorGroup === _this.declutterExecutorGroup &&\n                frameState.declutterTree\n                ? frameState.declutterTree.all().map(function (item) { return item.value; })\n                : null));\n        });\n        return result;\n    };\n    /**\n     * Perform action necessary to get the layer rendered after new fonts have loaded\n     */\n    CanvasVectorLayerRenderer.prototype.handleFontsChanged = function () {\n        var layer = this.getLayer();\n        if (layer.getVisible() && this.replayGroup_) {\n            layer.changed();\n        }\n    };\n    /**\n     * Handle changes in image style state.\n     * @param {import(\"../../events/Event.js\").default} event Image style change event.\n     * @private\n     */\n    CanvasVectorLayerRenderer.prototype.handleStyleImageChange_ = function (event) {\n        this.renderIfReadyAndVisible();\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasVectorLayerRenderer.prototype.prepareFrame = function (frameState) {\n        var vectorLayer = this.getLayer();\n        var vectorSource = vectorLayer.getSource();\n        if (!vectorSource) {\n            return false;\n        }\n        var animating = frameState.viewHints[ViewHint.ANIMATING];\n        var interacting = frameState.viewHints[ViewHint.INTERACTING];\n        var updateWhileAnimating = vectorLayer.getUpdateWhileAnimating();\n        var updateWhileInteracting = vectorLayer.getUpdateWhileInteracting();\n        if ((this.ready && !updateWhileAnimating && animating) ||\n            (!updateWhileInteracting && interacting)) {\n            this.animatingOrInteracting_ = true;\n            return true;\n        }\n        this.animatingOrInteracting_ = false;\n        var frameStateExtent = frameState.extent;\n        var viewState = frameState.viewState;\n        var projection = viewState.projection;\n        var resolution = viewState.resolution;\n        var pixelRatio = frameState.pixelRatio;\n        var vectorLayerRevision = vectorLayer.getRevision();\n        var vectorLayerRenderBuffer = vectorLayer.getRenderBuffer();\n        var vectorLayerRenderOrder = vectorLayer.getRenderOrder();\n        if (vectorLayerRenderOrder === undefined) {\n            vectorLayerRenderOrder = defaultRenderOrder;\n        }\n        var center = viewState.center.slice();\n        var extent = buffer(frameStateExtent, vectorLayerRenderBuffer * resolution);\n        var renderedExtent = extent.slice();\n        var loadExtents = [extent.slice()];\n        var projectionExtent = projection.getExtent();\n        if (vectorSource.getWrapX() &&\n            projection.canWrapX() &&\n            !containsExtent(projectionExtent, frameState.extent)) {\n            // For the replay group, we need an extent that intersects the real world\n            // (-180 to +180). To support geometries in a coordinate range from -540\n            // to +540, we add at least 1 world width on each side of the projection\n            // extent. If the viewport is wider than the world, we need to add half of\n            // the viewport width to make sure we cover the whole viewport.\n            var worldWidth = getWidth(projectionExtent);\n            var gutter = Math.max(getWidth(extent) / 2, worldWidth);\n            extent[0] = projectionExtent[0] - gutter;\n            extent[2] = projectionExtent[2] + gutter;\n            wrapCoordinateX(center, projection);\n            var loadExtent = wrapExtentX(loadExtents[0], projection);\n            // If the extent crosses the date line, we load data for both edges of the worlds\n            if (loadExtent[0] < projectionExtent[0] &&\n                loadExtent[2] < projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] + worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] + worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n            else if (loadExtent[0] > projectionExtent[0] &&\n                loadExtent[2] > projectionExtent[2]) {\n                loadExtents.push([\n                    loadExtent[0] - worldWidth,\n                    loadExtent[1],\n                    loadExtent[2] - worldWidth,\n                    loadExtent[3],\n                ]);\n            }\n        }\n        if (this.ready &&\n            this.renderedResolution_ == resolution &&\n            this.renderedRevision_ == vectorLayerRevision &&\n            this.renderedRenderOrder_ == vectorLayerRenderOrder &&\n            containsExtent(this.wrappedRenderedExtent_, extent)) {\n            if (!equals(this.renderedExtent_, renderedExtent)) {\n                this.hitDetectionImageData_ = null;\n                this.renderedExtent_ = renderedExtent;\n            }\n            this.renderedCenter_ = center;\n            this.replayGroupChanged = false;\n            return true;\n        }\n        this.replayGroup_ = null;\n        var replayGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        var declutterBuilderGroup;\n        if (this.getLayer().getDeclutter()) {\n            declutterBuilderGroup = new CanvasBuilderGroup(getRenderTolerance(resolution, pixelRatio), extent, resolution, pixelRatio);\n        }\n        var userProjection = getUserProjection();\n        var userTransform;\n        if (userProjection) {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                var extent_1 = loadExtents[i];\n                var userExtent_1 = toUserExtent(extent_1, projection);\n                vectorSource.loadFeatures(userExtent_1, toUserResolution(resolution, projection), userProjection);\n            }\n            userTransform = getTransformFromProjections(userProjection, projection);\n        }\n        else {\n            for (var i = 0, ii = loadExtents.length; i < ii; ++i) {\n                vectorSource.loadFeatures(loadExtents[i], resolution, projection);\n            }\n        }\n        var squaredTolerance = getSquaredRenderTolerance(resolution, pixelRatio);\n        var ready = true;\n        var render = \n        /**\n         * @param {import(\"../../Feature.js\").default} feature Feature.\n         * @this {CanvasVectorLayerRenderer}\n         */\n        function (feature) {\n            var styles;\n            var styleFunction = feature.getStyleFunction() || vectorLayer.getStyleFunction();\n            if (styleFunction) {\n                styles = styleFunction(feature, resolution);\n            }\n            if (styles) {\n                var dirty = this.renderFeature(feature, squaredTolerance, styles, replayGroup, userTransform, declutterBuilderGroup);\n                ready = ready && !dirty;\n            }\n        }.bind(this);\n        var userExtent = toUserExtent(extent, projection);\n        /** @type {Array<import(\"../../Feature.js\").default>} */\n        var features = vectorSource.getFeaturesInExtent(userExtent);\n        if (vectorLayerRenderOrder) {\n            features.sort(vectorLayerRenderOrder);\n        }\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            render(features[i]);\n        }\n        this.renderedFeatures_ = features;\n        this.ready = ready;\n        var replayGroupInstructions = replayGroup.finish();\n        var executorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), replayGroupInstructions, vectorLayer.getRenderBuffer());\n        if (declutterBuilderGroup) {\n            this.declutterExecutorGroup = new ExecutorGroup(extent, resolution, pixelRatio, vectorSource.getOverlaps(), declutterBuilderGroup.finish(), vectorLayer.getRenderBuffer());\n        }\n        this.renderedResolution_ = resolution;\n        this.renderedRevision_ = vectorLayerRevision;\n        this.renderedRenderOrder_ = vectorLayerRenderOrder;\n        this.renderedExtent_ = renderedExtent;\n        this.wrappedRenderedExtent_ = extent;\n        this.renderedCenter_ = center;\n        this.renderedProjection_ = projection;\n        this.replayGroup_ = executorGroup;\n        this.hitDetectionImageData_ = null;\n        this.replayGroupChanged = true;\n        return true;\n    };\n    /**\n     * @param {import(\"../../Feature.js\").default} feature Feature.\n     * @param {number} squaredTolerance Squared render tolerance.\n     * @param {import(\"../../style/Style.js\").default|Array<import(\"../../style/Style.js\").default>} styles The style or array of styles.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} builderGroup Builder group.\n     * @param {import(\"../../proj.js\").TransformFunction} [opt_transform] Transform from user to view projection.\n     * @param {import(\"../../render/canvas/BuilderGroup.js\").default} [opt_declutterBuilderGroup] Builder for decluttering.\n     * @return {boolean} `true` if an image is loading.\n     */\n    CanvasVectorLayerRenderer.prototype.renderFeature = function (feature, squaredTolerance, styles, builderGroup, opt_transform, opt_declutterBuilderGroup) {\n        if (!styles) {\n            return false;\n        }\n        var loading = false;\n        if (Array.isArray(styles)) {\n            for (var i = 0, ii = styles.length; i < ii; ++i) {\n                loading =\n                    renderFeature(builderGroup, feature, styles[i], squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup) || loading;\n            }\n        }\n        else {\n            loading = renderFeature(builderGroup, feature, styles, squaredTolerance, this.boundHandleStyleImageChange_, opt_transform, opt_declutterBuilderGroup);\n        }\n        return loading;\n    };\n    return CanvasVectorLayerRenderer;\n}(CanvasLayerRenderer));\nexport default CanvasVectorLayerRenderer;\n//# sourceMappingURL=VectorLayer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Vector\n */\nimport BaseVectorLayer from './BaseVector.js';\nimport CanvasVectorLayerRenderer from '../renderer/canvas/VectorLayer.js';\n/**\n * @classdesc\n * Vector data is rendered client-side, as vectors. This layer type provides most accurate rendering\n * even during animations. Points and labels stay upright on rotated views. For very large\n * amounts of vector data, performance may suffer during pan and zoom animations. In this case,\n * try {@link module:ol/layer/VectorImage~VectorImageLayer}.\n *\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Vector.js\").default} VectorSourceType\n * @extends {BaseVectorLayer<VectorSourceType, CanvasVectorLayerRenderer>}\n * @api\n */\nvar VectorLayer = /** @class */ (function (_super) {\n    __extends(VectorLayer, _super);\n    /**\n     * @param {import(\"./BaseVector.js\").Options<VectorSourceType>} [opt_options] Options.\n     */\n    function VectorLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    VectorLayer.prototype.createRenderer = function () {\n        return new CanvasVectorLayerRenderer(this);\n    };\n    return VectorLayer;\n}(BaseVectorLayer));\nexport default VectorLayer;\n//# sourceMappingURL=Vector.js.map","import { KeyValue } from '@grafana/data';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { loadWorldmapPoints } from './worldmap';\n\n// http://geojson.xyz/\n\nexport interface PlacenameInfo {\n  coords: [number, number]; // lon, lat (WGS84)\n  props?: Record<string, any>;\n}\n\nexport interface Gazetteer {\n  path: string;\n  error?: string;\n  find: (key: string) => PlacenameInfo | undefined;\n  count?: number;\n  examples: (count: number) => string[];\n}\n\n// Without knowing the datatype pick a good lookup function\nexport function loadGazetteer(path: string, data: any): Gazetteer {\n  // Check for legacy worldmap syntax\n  if (Array.isArray(data)) {\n    const first = data[0] as any;\n    if (first.latitude && first.longitude && (first.key || first.keys)) {\n      return loadWorldmapPoints(path, data);\n    }\n  }\n\n  return {\n    path,\n    error: 'Unable to parse locations',\n    find: (k) => undefined,\n    examples: (v) => [],\n  };\n}\n\nconst registry: KeyValue<Gazetteer> = {};\n\nexport const COUNTRIES_GAZETTEER_PATH = 'public/gazetteer/countries.json';\n\n/**\n * Given a path to a file return a cached lookup function\n */\nexport async function getGazetteer(path?: string): Promise<Gazetteer> {\n  // When not specified, use the default path\n  if (!path) {\n    path = COUNTRIES_GAZETTEER_PATH;\n  }\n\n  let lookup = registry[path];\n  if (!lookup) {\n    try {\n      // block the async function\n      const data = await getBackendSrv().get(path!);\n      lookup = loadGazetteer(path, data);\n    } catch (err) {\n      console.warn('Error loading placename lookup', path, err);\n      lookup = {\n        path,\n        error: 'Error loading URL',\n        find: (k) => undefined,\n        examples: (v) => [],\n      };\n    }\n    registry[path] = lookup;\n  }\n  return lookup;\n}\n","import { PlacenameInfo, Gazetteer } from './gazetteer';\n\n// https://github.com/grafana/worldmap-panel/blob/master/src/data/countries.json\nexport interface WorldmapPoint {\n  key?: string;\n  keys?: string[]; // new in grafana 8.1+\n  latitude: number;\n  longitude: number;\n  name?: string;\n}\n\nexport function loadWorldmapPoints(path: string, data: WorldmapPoint[]): Gazetteer {\n  let count = 0;\n  const values = new Map<string, PlacenameInfo>();\n  for (const v of data) {\n    const info: PlacenameInfo = {\n      coords: [v.longitude, v.latitude],\n    };\n    if (v.name) {\n      values.set(v.name, info);\n      values.set(v.name.toUpperCase(), info);\n      info.props = { name: v.name };\n    }\n    if (v.key) {\n      values.set(v.key, info);\n      values.set(v.key.toUpperCase(), info);\n    }\n    if (v.keys) {\n      for (const key of v.keys) {\n        values.set(key, info);\n        values.set(key.toUpperCase(), info);\n      }\n    }\n    count++;\n  }\n  return {\n    path,\n    find: (k) => {\n      let v = values.get(k);\n      if (!v) {\n        v = values.get(k.toUpperCase());\n      }\n      return v;\n    },\n    count,\n    examples: (count) => {\n      const first: string[] = [];\n      if (values.size < 1) {\n        first.push('no values found');\n      } else {\n        for (const key of values.keys()) {\n          first.push(key);\n          if (first.length >= count) {\n            break;\n          }\n        }\n      }\n      return first;\n    },\n  };\n}\n","/**\n * Function that decodes input geohash into latitude and longitude\n */\nexport function decodeGeohash(geohash: string): [number, number] | undefined {\n  if (!geohash?.length) {\n    return undefined;\n  }\n  const BITS = [16, 8, 4, 2, 1];\n  const BASE32 = '0123456789bcdefghjkmnpqrstuvwxyz';\n  let isEven = true;\n  const lat: number[] = [];\n  const lon: number[] = [];\n  lat[0] = -90.0;\n  lat[1] = 90.0;\n  lon[0] = -180.0;\n  lon[1] = 180.0;\n  let base32Decoded: number;\n\n  geohash.split('').forEach((item: string) => {\n    base32Decoded = BASE32.indexOf(item);\n    BITS.forEach((mask) => {\n      if (isEven) {\n        refineInterval(lon, base32Decoded, mask);\n      } else {\n        refineInterval(lat, base32Decoded, mask);\n      }\n      isEven = !isEven;\n    });\n  });\n  const latCenter = (lat[0] + lat[1]) / 2;\n  const lonCenter = (lon[0] + lon[1]) / 2;\n\n  return [lonCenter, latCenter];\n}\n\nfunction refineInterval(interval: any[], base32Decoded: number, mask: number) {\n  /* tslint:disable no-bitwise*/\n  if (base32Decoded & mask) {\n    interval[0] = (interval[0] + interval[1]) / 2;\n  } else {\n    interval[1] = (interval[0] + interval[1]) / 2;\n  }\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/geom/GeometryCollection\n */\nimport EventType from '../events/EventType.js';\nimport Geometry from './Geometry.js';\nimport { closestSquaredDistanceXY, createOrUpdateEmpty, extend, getCenter, } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @classdesc\n * An array of {@link module:ol/geom/Geometry~Geometry} objects.\n *\n * @api\n */\nvar GeometryCollection = /** @class */ (function (_super) {\n    __extends(GeometryCollection, _super);\n    /**\n     * @param {Array<Geometry>} [opt_geometries] Geometries.\n     */\n    function GeometryCollection(opt_geometries) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {Array<Geometry>}\n         */\n        _this.geometries_ = opt_geometries ? opt_geometries : null;\n        /**\n         * @type {Array<import(\"../events.js\").EventsKey>}\n         */\n        _this.changeEventsKeys_ = [];\n        _this.listenGeometriesChange_();\n        return _this;\n    }\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.unlistenGeometriesChange_ = function () {\n        this.changeEventsKeys_.forEach(unlistenByKey);\n        this.changeEventsKeys_.length = 0;\n    };\n    /**\n     * @private\n     */\n    GeometryCollection.prototype.listenGeometriesChange_ = function () {\n        if (!this.geometries_) {\n            return;\n        }\n        for (var i = 0, ii = this.geometries_.length; i < ii; ++i) {\n            this.changeEventsKeys_.push(listen(this.geometries_[i], EventType.CHANGE, this.changed, this));\n        }\n    };\n    /**\n     * Make a complete copy of the geometry.\n     * @return {!GeometryCollection} Clone.\n     * @api\n     */\n    GeometryCollection.prototype.clone = function () {\n        var geometryCollection = new GeometryCollection(null);\n        geometryCollection.setGeometries(this.geometries_);\n        geometryCollection.applyProperties(this);\n        return geometryCollection;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n     * @param {number} minSquaredDistance Minimum squared distance.\n     * @return {number} Minimum squared distance.\n     */\n    GeometryCollection.prototype.closestPointXY = function (x, y, closestPoint, minSquaredDistance) {\n        if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n            return minSquaredDistance;\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            minSquaredDistance = geometries[i].closestPointXY(x, y, closestPoint, minSquaredDistance);\n        }\n        return minSquaredDistance;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     * @return {boolean} Contains (x, y).\n     */\n    GeometryCollection.prototype.containsXY = function (x, y) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].containsXY(x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @protected\n     * @return {import(\"../extent.js\").Extent} extent Extent.\n     */\n    GeometryCollection.prototype.computeExtent = function (extent) {\n        createOrUpdateEmpty(extent);\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            extend(extent, geometries[i].getExtent());\n        }\n        return extent;\n    };\n    /**\n     * Return the geometries that make up this geometry collection.\n     * @return {Array<Geometry>} Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.getGeometries = function () {\n        return cloneGeometries(this.geometries_);\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArray = function () {\n        return this.geometries_;\n    };\n    /**\n     * @return {Array<Geometry>} Geometries.\n     */\n    GeometryCollection.prototype.getGeometriesArrayRecursive = function () {\n        /** @type {Array<Geometry>} */\n        var geometriesArray = [];\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].getType() === this.getType()) {\n                geometriesArray = geometriesArray.concat(\n                /** @type {GeometryCollection} */ (geometries[i]).getGeometriesArrayRecursive());\n            }\n            else {\n                geometriesArray.push(geometries[i]);\n            }\n        }\n        return geometriesArray;\n    };\n    /**\n     * Create a simplified version of this geometry using the Douglas Peucker algorithm.\n     * @param {number} squaredTolerance Squared tolerance.\n     * @return {GeometryCollection} Simplified GeometryCollection.\n     */\n    GeometryCollection.prototype.getSimplifiedGeometry = function (squaredTolerance) {\n        if (this.simplifiedGeometryRevision !== this.getRevision()) {\n            this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n            this.simplifiedGeometryRevision = this.getRevision();\n        }\n        if (squaredTolerance < 0 ||\n            (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n                squaredTolerance < this.simplifiedGeometryMaxMinSquaredTolerance)) {\n            return this;\n        }\n        var simplifiedGeometries = [];\n        var geometries = this.geometries_;\n        var simplified = false;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            var geometry = geometries[i];\n            var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n            simplifiedGeometries.push(simplifiedGeometry);\n            if (simplifiedGeometry !== geometry) {\n                simplified = true;\n            }\n        }\n        if (simplified) {\n            var simplifiedGeometryCollection = new GeometryCollection(null);\n            simplifiedGeometryCollection.setGeometriesArray(simplifiedGeometries);\n            return simplifiedGeometryCollection;\n        }\n        else {\n            this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n            return this;\n        }\n    };\n    /**\n     * Get the type of this geometry.\n     * @return {import(\"./Geometry.js\").Type} Geometry type.\n     * @api\n     */\n    GeometryCollection.prototype.getType = function () {\n        return 'GeometryCollection';\n    };\n    /**\n     * Test if the geometry and the passed extent intersect.\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @return {boolean} `true` if the geometry and the extent intersect.\n     * @api\n     */\n    GeometryCollection.prototype.intersectsExtent = function (extent) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            if (geometries[i].intersectsExtent(extent)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    GeometryCollection.prototype.isEmpty = function () {\n        return this.geometries_.length === 0;\n    };\n    /**\n     * Rotate the geometry around a given coordinate. This modifies the geometry\n     * coordinates in place.\n     * @param {number} angle Rotation angle in radians.\n     * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n     * @api\n     */\n    GeometryCollection.prototype.rotate = function (angle, anchor) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].rotate(angle, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Scale the geometry (with an optional origin).  This modifies the geometry\n     * coordinates in place.\n     * @abstract\n     * @param {number} sx The scaling factor in the x-direction.\n     * @param {number} [opt_sy] The scaling factor in the y-direction (defaults to sx).\n     * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] The scale origin (defaults to the center\n     *     of the geometry extent).\n     * @api\n     */\n    GeometryCollection.prototype.scale = function (sx, opt_sy, opt_anchor) {\n        var anchor = opt_anchor;\n        if (!anchor) {\n            anchor = getCenter(this.getExtent());\n        }\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].scale(sx, opt_sy, anchor);\n        }\n        this.changed();\n    };\n    /**\n     * Set the geometries that make up this geometry collection.\n     * @param {Array<Geometry>} geometries Geometries.\n     * @api\n     */\n    GeometryCollection.prototype.setGeometries = function (geometries) {\n        this.setGeometriesArray(cloneGeometries(geometries));\n    };\n    /**\n     * @param {Array<Geometry>} geometries Geometries.\n     */\n    GeometryCollection.prototype.setGeometriesArray = function (geometries) {\n        this.unlistenGeometriesChange_();\n        this.geometries_ = geometries;\n        this.listenGeometriesChange_();\n        this.changed();\n    };\n    /**\n     * Apply a transform function to the coordinates of the geometry.\n     * The geometry is modified in place.\n     * If you do not want the geometry modified in place, first `clone()` it and\n     * then use this function on the clone.\n     * @param {import(\"../proj.js\").TransformFunction} transformFn Transform function.\n     * Called with a flat array of geometry coordinates.\n     * @api\n     */\n    GeometryCollection.prototype.applyTransform = function (transformFn) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].applyTransform(transformFn);\n        }\n        this.changed();\n    };\n    /**\n     * Translate the geometry.  This modifies the geometry coordinates in place.  If\n     * instead you want a new geometry, first `clone()` this geometry.\n     * @param {number} deltaX Delta X.\n     * @param {number} deltaY Delta Y.\n     * @api\n     */\n    GeometryCollection.prototype.translate = function (deltaX, deltaY) {\n        var geometries = this.geometries_;\n        for (var i = 0, ii = geometries.length; i < ii; ++i) {\n            geometries[i].translate(deltaX, deltaY);\n        }\n        this.changed();\n    };\n    /**\n     * Clean up.\n     */\n    GeometryCollection.prototype.disposeInternal = function () {\n        this.unlistenGeometriesChange_();\n        _super.prototype.disposeInternal.call(this);\n    };\n    return GeometryCollection;\n}(Geometry));\n/**\n * @param {Array<Geometry>} geometries Geometries.\n * @return {Array<Geometry>} Cloned geometries.\n */\nfunction cloneGeometries(geometries) {\n    var clonedGeometries = [];\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n        clonedGeometries.push(geometries[i].clone());\n    }\n    return clonedGeometries;\n}\nexport default GeometryCollection;\n//# sourceMappingURL=GeometryCollection.js.map","/**\n * @module ol/format/GeoJSON\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport JSONFeature from './JSONFeature.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport { assert } from '../asserts.js';\nimport { assign, isEmpty } from '../obj.js';\nimport { get as getProjection } from '../proj.js';\nimport { transformGeometryWithOptions } from './Feature.js';\n/**\n * @typedef {import(\"geojson\").GeoJSON} GeoJSONObject\n * @typedef {import(\"geojson\").Feature} GeoJSONFeature\n * @typedef {import(\"geojson\").FeatureCollection} GeoJSONFeatureCollection\n * @typedef {import(\"geojson\").Geometry} GeoJSONGeometry\n * @typedef {import(\"geojson\").Point} GeoJSONPoint\n * @typedef {import(\"geojson\").LineString} GeoJSONLineString\n * @typedef {import(\"geojson\").Polygon} GeoJSONPolygon\n * @typedef {import(\"geojson\").MultiPoint} GeoJSONMultiPoint\n * @typedef {import(\"geojson\").MultiLineString} GeoJSONMultiLineString\n * @typedef {import(\"geojson\").MultiPolygon} GeoJSONMultiPolygon\n * @typedef {import(\"geojson\").GeometryCollection} GeoJSONGeometryCollection\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"../proj.js\").ProjectionLike} [dataProjection='EPSG:4326'] Default data projection.\n * @property {import(\"../proj.js\").ProjectionLike} [featureProjection] Projection for features read or\n * written by the format.  Options passed to read or write methods will take precedence.\n * @property {string} [geometryName] Geometry name to use when creating features.\n * @property {boolean} [extractGeometryName=false] Certain GeoJSON providers include\n * the geometry_name field in the feature GeoJSON. If set to `true` the GeoJSON reader\n * will look for that field to set the geometry name. If both this field is set to `true`\n * and a `geometryName` is provided, the `geometryName` will take precedence.\n */\n/**\n * @classdesc\n * Feature format for reading and writing data in the GeoJSON format.\n *\n * @api\n */\nvar GeoJSON = /** @class */ (function (_super) {\n    __extends(GeoJSON, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function GeoJSON(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.dataProjection = getProjection(options.dataProjection ? options.dataProjection : 'EPSG:4326');\n        if (options.featureProjection) {\n            /**\n             * @type {import(\"../proj/Projection.js\").default}\n             */\n            _this.defaultFeatureProjection = getProjection(options.featureProjection);\n        }\n        /**\n         * Name of the geometry attribute for features.\n         * @type {string|undefined}\n         * @private\n         */\n        _this.geometryName_ = options.geometryName;\n        /**\n         * Look for the geometry name in the feature GeoJSON\n         * @type {boolean|undefined}\n         * @private\n         */\n        _this.extractGeometryName_ = options.extractGeometryName;\n        _this.supportedMediaTypes = [\n            'application/geo+json',\n            'application/vnd.geo+json',\n        ];\n        return _this;\n    }\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../Feature.js\").default} Feature.\n     */\n    GeoJSON.prototype.readFeatureFromObject = function (object, opt_options) {\n        /**\n         * @type {GeoJSONFeature}\n         */\n        var geoJSONFeature = null;\n        if (object['type'] === 'Feature') {\n            geoJSONFeature = /** @type {GeoJSONFeature} */ (object);\n        }\n        else {\n            geoJSONFeature = {\n                'type': 'Feature',\n                'geometry': /** @type {GeoJSONGeometry} */ (object),\n                'properties': null,\n            };\n        }\n        var geometry = readGeometry(geoJSONFeature['geometry'], opt_options);\n        var feature = new Feature();\n        if (this.geometryName_) {\n            feature.setGeometryName(this.geometryName_);\n        }\n        else if (this.extractGeometryName_ &&\n            'geometry_name' in geoJSONFeature !== undefined) {\n            feature.setGeometryName(geoJSONFeature['geometry_name']);\n        }\n        feature.setGeometry(geometry);\n        if ('id' in geoJSONFeature) {\n            feature.setId(geoJSONFeature['id']);\n        }\n        if (geoJSONFeature['properties']) {\n            feature.setProperties(geoJSONFeature['properties'], true);\n        }\n        return feature;\n    };\n    /**\n     * @param {Object} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {Array<Feature>} Features.\n     */\n    GeoJSON.prototype.readFeaturesFromObject = function (object, opt_options) {\n        var geoJSONObject = /** @type {GeoJSONObject} */ (object);\n        /** @type {Array<import(\"../Feature.js\").default>} */\n        var features = null;\n        if (geoJSONObject['type'] === 'FeatureCollection') {\n            var geoJSONFeatureCollection = /** @type {GeoJSONFeatureCollection} */ (object);\n            features = [];\n            var geoJSONFeatures = geoJSONFeatureCollection['features'];\n            for (var i = 0, ii = geoJSONFeatures.length; i < ii; ++i) {\n                features.push(this.readFeatureFromObject(geoJSONFeatures[i], opt_options));\n            }\n        }\n        else {\n            features = [this.readFeatureFromObject(object, opt_options)];\n        }\n        return features;\n    };\n    /**\n     * @param {GeoJSONGeometry} object Object.\n     * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n     * @protected\n     * @return {import(\"../geom/Geometry.js\").default} Geometry.\n     */\n    GeoJSON.prototype.readGeometryFromObject = function (object, opt_options) {\n        return readGeometry(object, opt_options);\n    };\n    /**\n     * @param {Object} object Object.\n     * @protected\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    GeoJSON.prototype.readProjectionFromObject = function (object) {\n        var crs = object['crs'];\n        var projection;\n        if (crs) {\n            if (crs['type'] == 'name') {\n                projection = getProjection(crs['properties']['name']);\n            }\n            else if (crs['type'] === 'EPSG') {\n                projection = getProjection('EPSG:' + crs['properties']['code']);\n            }\n            else {\n                assert(false, 36); // Unknown SRS type\n            }\n        }\n        else {\n            projection = this.dataProjection;\n        }\n        return /** @type {import(\"../proj/Projection.js\").default} */ (projection);\n    };\n    /**\n     * Encode a feature as a GeoJSON Feature object.\n     *\n     * @param {import(\"../Feature.js\").default} feature Feature.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeature} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeatureObject = function (feature, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        /** @type {GeoJSONFeature} */\n        var object = {\n            'type': 'Feature',\n            geometry: null,\n            properties: null,\n        };\n        var id = feature.getId();\n        if (id !== undefined) {\n            object.id = id;\n        }\n        if (!feature.hasProperties()) {\n            return object;\n        }\n        var properties = feature.getProperties();\n        var geometry = feature.getGeometry();\n        if (geometry) {\n            object.geometry = writeGeometry(geometry, opt_options);\n            delete properties[feature.getGeometryName()];\n        }\n        if (!isEmpty(properties)) {\n            object.properties = properties;\n        }\n        return object;\n    };\n    /**\n     * Encode an array of features as a GeoJSON object.\n     *\n     * @param {Array<import(\"../Feature.js\").default>} features Features.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONFeatureCollection} GeoJSON Object.\n     * @api\n     */\n    GeoJSON.prototype.writeFeaturesObject = function (features, opt_options) {\n        opt_options = this.adaptOptions(opt_options);\n        var objects = [];\n        for (var i = 0, ii = features.length; i < ii; ++i) {\n            objects.push(this.writeFeatureObject(features[i], opt_options));\n        }\n        return {\n            type: 'FeatureCollection',\n            features: objects,\n        };\n    };\n    /**\n     * Encode a geometry as a GeoJSON object.\n     *\n     * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n     * @return {GeoJSONGeometry|GeoJSONGeometryCollection} Object.\n     * @api\n     */\n    GeoJSON.prototype.writeGeometryObject = function (geometry, opt_options) {\n        return writeGeometry(geometry, this.adaptOptions(opt_options));\n    };\n    return GeoJSON;\n}(JSONFeature));\n/**\n * @param {GeoJSONGeometry|GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {import(\"../geom/Geometry.js\").default} Geometry.\n */\nfunction readGeometry(object, opt_options) {\n    if (!object) {\n        return null;\n    }\n    /**\n     * @type {import(\"../geom/Geometry.js\").default}\n     */\n    var geometry;\n    switch (object['type']) {\n        case 'Point': {\n            geometry = readPointGeometry(/** @type {GeoJSONPoint} */ (object));\n            break;\n        }\n        case 'LineString': {\n            geometry = readLineStringGeometry(\n            /** @type {GeoJSONLineString} */ (object));\n            break;\n        }\n        case 'Polygon': {\n            geometry = readPolygonGeometry(/** @type {GeoJSONPolygon} */ (object));\n            break;\n        }\n        case 'MultiPoint': {\n            geometry = readMultiPointGeometry(\n            /** @type {GeoJSONMultiPoint} */ (object));\n            break;\n        }\n        case 'MultiLineString': {\n            geometry = readMultiLineStringGeometry(\n            /** @type {GeoJSONMultiLineString} */ (object));\n            break;\n        }\n        case 'MultiPolygon': {\n            geometry = readMultiPolygonGeometry(\n            /** @type {GeoJSONMultiPolygon} */ (object));\n            break;\n        }\n        case 'GeometryCollection': {\n            geometry = readGeometryCollectionGeometry(\n            /** @type {GeoJSONGeometryCollection} */ (object));\n            break;\n        }\n        default: {\n            throw new Error('Unsupported GeoJSON type: ' + object['type']);\n        }\n    }\n    return transformGeometryWithOptions(geometry, false, opt_options);\n}\n/**\n * @param {GeoJSONGeometryCollection} object Object.\n * @param {import(\"./Feature.js\").ReadOptions} [opt_options] Read options.\n * @return {GeometryCollection} Geometry collection.\n */\nfunction readGeometryCollectionGeometry(object, opt_options) {\n    var geometries = object['geometries'].map(\n    /**\n     * @param {GeoJSONGeometry} geometry Geometry.\n     * @return {import(\"../geom/Geometry.js\").default} geometry Geometry.\n     */\n    function (geometry) {\n        return readGeometry(geometry, opt_options);\n    });\n    return new GeometryCollection(geometries);\n}\n/**\n * @param {GeoJSONPoint} object Object.\n * @return {Point} Point.\n */\nfunction readPointGeometry(object) {\n    return new Point(object['coordinates']);\n}\n/**\n * @param {GeoJSONLineString} object Object.\n * @return {LineString} LineString.\n */\nfunction readLineStringGeometry(object) {\n    return new LineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiLineString} object Object.\n * @return {MultiLineString} MultiLineString.\n */\nfunction readMultiLineStringGeometry(object) {\n    return new MultiLineString(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPoint} object Object.\n * @return {MultiPoint} MultiPoint.\n */\nfunction readMultiPointGeometry(object) {\n    return new MultiPoint(object['coordinates']);\n}\n/**\n * @param {GeoJSONMultiPolygon} object Object.\n * @return {MultiPolygon} MultiPolygon.\n */\nfunction readMultiPolygonGeometry(object) {\n    return new MultiPolygon(object['coordinates']);\n}\n/**\n * @param {GeoJSONPolygon} object Object.\n * @return {Polygon} Polygon.\n */\nfunction readPolygonGeometry(object) {\n    return new Polygon(object['coordinates']);\n}\n/**\n * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeGeometry(geometry, opt_options) {\n    geometry = transformGeometryWithOptions(geometry, true, opt_options);\n    var type = geometry.getType();\n    /** @type {GeoJSONGeometry} */\n    var geoJSON;\n    switch (type) {\n        case 'Point': {\n            geoJSON = writePointGeometry(\n            /** @type {Point} */ (geometry), opt_options);\n            break;\n        }\n        case 'LineString': {\n            geoJSON = writeLineStringGeometry(\n            /** @type {LineString} */ (geometry), opt_options);\n            break;\n        }\n        case 'Polygon': {\n            geoJSON = writePolygonGeometry(\n            /** @type {Polygon} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiPoint': {\n            geoJSON = writeMultiPointGeometry(\n            /** @type {MultiPoint} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiLineString': {\n            geoJSON = writeMultiLineStringGeometry(\n            /** @type {MultiLineString} */ (geometry), opt_options);\n            break;\n        }\n        case 'MultiPolygon': {\n            geoJSON = writeMultiPolygonGeometry(\n            /** @type {MultiPolygon} */ (geometry), opt_options);\n            break;\n        }\n        case 'GeometryCollection': {\n            geoJSON = writeGeometryCollectionGeometry(\n            /** @type {GeometryCollection} */ (geometry), opt_options);\n            break;\n        }\n        case 'Circle': {\n            geoJSON = {\n                type: 'GeometryCollection',\n                geometries: [],\n            };\n            break;\n        }\n        default: {\n            throw new Error('Unsupported geometry type: ' + type);\n        }\n    }\n    return geoJSON;\n}\n/**\n * @param {GeometryCollection} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometryCollection} GeoJSON geometry collection.\n */\nfunction writeGeometryCollectionGeometry(geometry, opt_options) {\n    var geometries = geometry.getGeometriesArray().map(function (geometry) {\n        var options = assign({}, opt_options);\n        delete options.featureProjection;\n        return writeGeometry(geometry, options);\n    });\n    return {\n        type: 'GeometryCollection',\n        geometries: geometries,\n    };\n}\n/**\n * @param {LineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'LineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiLineString} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiLineStringGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiLineString',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPoint} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPointGeometry(geometry, opt_options) {\n    return {\n        type: 'MultiPoint',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {MultiPolygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writeMultiPolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'MultiPolygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\n/**\n * @param {Point} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePointGeometry(geometry, opt_options) {\n    return {\n        type: 'Point',\n        coordinates: geometry.getCoordinates(),\n    };\n}\n/**\n * @param {Polygon} geometry Geometry.\n * @param {import(\"./Feature.js\").WriteOptions} [opt_options] Write options.\n * @return {GeoJSONGeometry} GeoJSON geometry.\n */\nfunction writePolygonGeometry(geometry, opt_options) {\n    var right;\n    if (opt_options) {\n        right = opt_options.rightHanded;\n    }\n    return {\n        type: 'Polygon',\n        coordinates: geometry.getCoordinates(right),\n    };\n}\nexport default GeoJSON;\n//# sourceMappingURL=GeoJSON.js.map","import {\n  GrafanaTheme2,\n  MapLayerHandler,\n  RegistryItemWithOptions,\n  //  FrameGeometrySource,\n  FrameGeometrySourceMode,\n  PanelOptionsEditorBuilder,\n} from '@grafana/data';\nimport Map from 'ol/Map';\n\nexport interface MatcherConfig<TOptions = any> {\n  id: string;\n  options?: TOptions;\n}\n\nexport enum GeojsonFrameGeometrySourceMode {\n  Geojson = 'geojson',\n  Auto = 'auto',\n  Geohash = 'geohash',\n  Coords = 'coords',\n  Lookup = 'lookup',\n}\n\nexport interface ExtendFrameGeometrySource {\n  mode: ExtendFrameGeometrySourceMode;\n  geohash?: string;\n  latitude?: string;\n  longitude?: string;\n  h3?: string;\n  wkt?: string;\n  lookup?: string;\n  gazetteer?: string;\n  geojson?: string;\n}\n\n// eslint-disable-next-line\nexport const ExtendFrameGeometrySourceMode = {\n  ...GeojsonFrameGeometrySourceMode,\n};\n// eslint-disable-next-line\nexport type ExtendFrameGeometrySourceMode = FrameGeometrySourceMode | GeojsonFrameGeometrySourceMode;\n\nexport interface ExtendMapLayerOptions<TConfig = any> {\n  type: string;\n  name?: string;\n  config?: TConfig;\n  location?: ExtendFrameGeometrySource;\n  opacity?: number;\n  query?: MatcherConfig;\n  displayProperties?: string[];\n  titleField?: string;\n  timeField?: string;\n  apiKey?: string;\n}\n\nexport interface ExtendMapLayerRegistryItem<TConfig = ExtendMapLayerOptions> extends RegistryItemWithOptions {\n  /**\n   * This layer can be used as a background\n   */\n  isBaseMap?: boolean;\n  /**\n   * Show location controls\n   */\n  showLocation?: boolean;\n  /**\n   * Show transparency controls in UI (for non-basemaps)\n   */\n  showOpacity?: boolean;\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: (map: Map, options: ExtendMapLayerOptions<TConfig>, theme: GrafanaTheme2) => Promise<MapLayerHandler>;\n  /**\n   * Show custom elements in the panel edit UI\n   */\n  registerOptionsUI?: (builder: PanelOptionsEditorBuilder<ExtendMapLayerOptions<TConfig>>) => void;\n}\n","import { FieldMatcher, getFieldMatcher, FieldMatcherID, DataFrame, Field, getFieldDisplayName } from '@grafana/data';\nimport { Geometry, Point } from 'ol/geom';\nimport { fromLonLat } from 'ol/proj';\nimport { getGazetteer, Gazetteer } from '../gazetteer/gazetteer';\nimport { decodeGeohash } from './geohash';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport { ExtendFrameGeometrySource, ExtendFrameGeometrySourceMode } from '../extension';\n\nexport type FieldFinder = (frame: DataFrame) => Field | undefined;\n\nfunction getFieldFinder(matcher: FieldMatcher): FieldFinder {\n  return (frame: DataFrame) => {\n    for (const field of frame.fields) {\n      if (matcher(field, frame, [])) {\n        return field;\n      }\n    }\n    return undefined;\n  };\n}\n\nfunction matchLowerNames(names: Set<string>): FieldFinder {\n  return (frame: DataFrame) => {\n    for (const field of frame.fields) {\n      if (names.has(field.name.toLowerCase())) {\n        return field;\n      }\n      const disp = getFieldDisplayName(field, frame);\n      if (names.has(disp)) {\n        return field;\n      }\n    }\n    return undefined;\n  };\n}\n\nexport interface LocationFieldMatchers {\n  mode: ExtendFrameGeometrySourceMode;\n\n  // Field mappings\n  geojson: FieldFinder;\n  geohash: FieldFinder;\n  latitude: FieldFinder;\n  longitude: FieldFinder;\n  h3: FieldFinder;\n  wkt: FieldFinder;\n  lookup: FieldFinder;\n  gazetteer?: Gazetteer;\n}\n\nconst defaultMatchers: LocationFieldMatchers = {\n  mode: ExtendFrameGeometrySourceMode.Auto,\n  geojson: matchLowerNames(new Set(['location', 'geojson'])),\n  geohash: matchLowerNames(new Set(['geohash'])),\n  latitude: matchLowerNames(new Set(['latitude', 'lat'])),\n  longitude: matchLowerNames(new Set(['longitude', 'lon', 'lng'])),\n  h3: matchLowerNames(new Set(['h3'])),\n  wkt: matchLowerNames(new Set(['wkt'])),\n  lookup: matchLowerNames(new Set(['lookup'])),\n};\n\nexport async function getLocationMatchers(src?: ExtendFrameGeometrySource): Promise<LocationFieldMatchers> {\n  const info: LocationFieldMatchers = {\n    ...defaultMatchers,\n    mode: src?.mode ?? ExtendFrameGeometrySourceMode.Auto,\n  };\n  switch (info.mode) {\n    case ExtendFrameGeometrySourceMode.Geohash:\n      if (src?.geohash) {\n        info.geohash = getFieldFinder(getFieldMatcher({ id: FieldMatcherID.byName, options: src.geohash }));\n      }\n      break;\n    case ExtendFrameGeometrySourceMode.Lookup:\n      if (src?.lookup) {\n        info.lookup = getFieldFinder(getFieldMatcher({ id: FieldMatcherID.byName, options: src.lookup }));\n      }\n      info.gazetteer = await getGazetteer(src?.gazetteer);\n      break;\n    case ExtendFrameGeometrySourceMode.Coords:\n      if (src?.latitude) {\n        info.latitude = getFieldFinder(getFieldMatcher({ id: FieldMatcherID.byName, options: src.latitude }));\n      }\n      if (src?.longitude) {\n        info.longitude = getFieldFinder(getFieldMatcher({ id: FieldMatcherID.byName, options: src.longitude }));\n      }\n      break;\n    case ExtendFrameGeometrySourceMode.Geojson:\n      if (src?.geojson) {\n        info.geojson = getFieldFinder(getFieldMatcher({ id: FieldMatcherID.byName, options: src.geojson }));\n      }\n      break;\n  }\n  return info;\n}\nexport interface LocationFields {\n  mode: ExtendFrameGeometrySourceMode;\n\n  // Field mappings\n  geojson?: Field;\n  geohash?: Field;\n  latitude?: Field;\n  longitude?: Field;\n  h3?: Field;\n  wkt?: Field;\n  lookup?: Field;\n}\n\nexport function getLocationFields(frame: DataFrame, location: LocationFieldMatchers): LocationFields {\n  const fields: LocationFields = {\n    mode: location.mode ?? ExtendFrameGeometrySourceMode.Auto,\n  };\n\n  // Find the best option\n  if (fields.mode === ExtendFrameGeometrySourceMode.Auto) {\n    fields.geojson = location.geojson(frame);\n    if (fields.geojson) {\n      fields.mode = ExtendFrameGeometrySourceMode.Geojson;\n      return fields;\n    }\n    fields.latitude = location.latitude(frame);\n    fields.longitude = location.longitude(frame);\n    if (fields.latitude && fields.longitude) {\n      fields.mode = ExtendFrameGeometrySourceMode.Coords;\n      return fields;\n    }\n    fields.geohash = location.geohash(frame);\n    if (fields.geohash) {\n      fields.mode = ExtendFrameGeometrySourceMode.Geohash;\n      return fields;\n    }\n    fields.lookup = location.geohash(frame);\n    if (fields.lookup) {\n      fields.mode = ExtendFrameGeometrySourceMode.Lookup;\n      return fields;\n    }\n  }\n\n  switch (fields.mode) {\n    case ExtendFrameGeometrySourceMode.Geojson:\n      fields.geojson = location.geojson(frame);\n      break;\n    case ExtendFrameGeometrySourceMode.Coords:\n      fields.latitude = location.latitude(frame);\n      fields.longitude = location.longitude(frame);\n      break;\n    case ExtendFrameGeometrySourceMode.Geohash:\n      fields.geohash = location.geohash(frame);\n      break;\n    case ExtendFrameGeometrySourceMode.Lookup:\n      fields.lookup = location.lookup(frame);\n      break;\n  }\n\n  return fields;\n}\n\nexport interface LocationInfo {\n  warning?: string;\n  points: Geometry[];\n}\n\nexport function dataFrameToPoints(frame: DataFrame, location: LocationFieldMatchers): LocationInfo {\n  const info: LocationInfo = {\n    points: [],\n  };\n  if (!frame?.length) {\n    return info;\n  }\n  const fields = getLocationFields(frame, location);\n  switch (fields.mode) {\n    case ExtendFrameGeometrySourceMode.Geojson:\n      if (fields.geojson) {\n        info.points = getGeometryFromGeoJSON(fields.geojson);\n      } else {\n        info.warning = 'Missing latitude/longitude fields';\n      }\n      break;\n    case ExtendFrameGeometrySourceMode.Coords:\n      if (fields.latitude && fields.longitude) {\n        info.points = getPointsFromLonLat(fields.longitude, fields.latitude);\n      } else {\n        info.warning = 'Missing latitude/longitude fields';\n      }\n      break;\n\n    case ExtendFrameGeometrySourceMode.Geohash:\n      if (fields.geohash) {\n        info.points = getPointsFromGeohash(fields.geohash);\n      } else {\n        info.warning = 'Missing geohash field';\n      }\n      break;\n\n    case ExtendFrameGeometrySourceMode.Lookup:\n      if (fields.lookup) {\n        if (location.gazetteer) {\n          info.points = getPointsFromGazetteer(location.gazetteer, fields.lookup);\n        } else {\n          info.warning = 'Gazetteer not found';\n        }\n      } else {\n        info.warning = 'Missing lookup field';\n      }\n      break;\n\n    case ExtendFrameGeometrySourceMode.Auto:\n      info.warning = 'Unable to find location fields';\n  }\n\n  return info;\n}\n\nfunction getGeometryFromGeoJSON(geojson: Field<String>): Geometry[] {\n  const count = geojson.values.length;\n  const points = new Array<Geometry>(count);\n  for (let i = 0; i < geojson.values.length; i++) {\n    points[i] = geojson.values.get(i)\n      ? new GeoJSON().readGeometry(geojson.values.get(i), { featureProjection: 'EPSG:3857' })\n      : new Geometry();\n  }\n  return points;\n}\n\nfunction getPointsFromLonLat(lon: Field<number>, lat: Field<number>): Point[] {\n  const count = lat.values.length;\n  const points = new Array<Point>(count);\n  for (let i = 0; i < count; i++) {\n    points[i] = new Point(fromLonLat([lon.values.get(i), lat.values.get(i)]));\n  }\n  return points;\n}\n\nfunction getPointsFromGeohash(field: Field<string>): Point[] {\n  const count = field.values.length;\n  const points = new Array<Point>(count);\n  for (let i = 0; i < count; i++) {\n    const coords = decodeGeohash(field.values.get(i));\n    if (coords) {\n      points[i] = new Point(fromLonLat(coords));\n    }\n  }\n  return points;\n}\n\nfunction getPointsFromGazetteer(gaz: Gazetteer, field: Field<string>): Point[] {\n  const count = field.values.length;\n  const points = new Array<Point>(count);\n  for (let i = 0; i < count; i++) {\n    const info = gaz.find(field.values.get(i));\n    if (info?.coords) {\n      points[i] = new Point(fromLonLat(info.coords));\n    }\n  }\n  return points;\n}\n","import { Field } from '@grafana/data';\n\nexport interface BaseDimensionConfig<T = any> {\n  fixed: T;\n  field?: string;\n}\n\nexport interface DimensionSupplier<T = any> {\n  /**\n   * This means an explicit value was not configured\n   */\n  isAssumed?: boolean;\n\n  /**\n   * The field used for\n   */\n  field?: Field;\n\n  /**\n   * Explicit value -- if == null, then need a value for each index\n   */\n  fixed?: T;\n\n  /**\n   * A single value -- typically last\n   */\n  value: () => T;\n\n  /**\n   * Supplier for the dimension value\n   */\n  get: (index: number) => T;\n}\n\nexport enum ScaleDimensionMode {\n  Linear = 'linear',\n  Quadratic = 'quad',\n}\n\n/** This will map the field value% to a scaled value within the range */\nexport interface ScaleDimensionConfig extends BaseDimensionConfig<number> {\n  min: number;\n  max: number;\n}\n\n/** Places that use the value */\nexport interface ScaleDimensionOptions {\n  min: number;\n  max: number;\n  step?: number;\n  hideRange?: boolean; // false\n}\n\nexport enum ScalarDimensionMode {\n  Mod = 'mod',\n  Clamped = 'clamped',\n}\nexport interface ScalarDimensionConfig extends BaseDimensionConfig<number> {\n  mode: ScalarDimensionMode;\n  min: number;\n  max: number;\n}\n\nexport interface ScalarDimensionOptions {\n  min: number;\n  max: number;\n}\n\nexport interface TextDimensionOptions {\n  // anything?\n}\n\nexport enum TextDimensionMode {\n  Fixed = 'fixed',\n  Field = 'field',\n  Template = 'template',\n}\n\nexport interface TextDimensionConfig extends BaseDimensionConfig<string> {\n  mode: TextDimensionMode;\n}\n\nexport const defaultTextConfig: TextDimensionConfig = Object.freeze({\n  fixed: '',\n  mode: TextDimensionMode.Field,\n  field: '',\n});\n\n/** Use the color value from field configs */\nexport interface ColorDimensionConfig extends BaseDimensionConfig<string> {}\n\n/** Places that use the value */\nexport interface ResourceDimensionOptions {\n  resourceType: MediaType;\n  folderName?: ResourceFolderName;\n  placeholderText?: string;\n  placeholderValue?: string;\n  // If you want your icon to be driven by value of a field\n  showSourceRadio?: boolean;\n}\n\nexport enum ResourceDimensionMode {\n  Fixed = 'fixed',\n  Field = 'field',\n  Mapping = 'mapping',\n  // pattern? uses field in the pattern\n}\n\n/** Get the path to a resource (URL) */\nexport interface ResourceDimensionConfig extends BaseDimensionConfig<string> {\n  mode: ResourceDimensionMode;\n}\n\nexport enum ResourceFolderName {\n  Icon = 'img/icons/unicons',\n  IOT = 'img/icons/iot',\n  Marker = 'img/icons/marker',\n  BG = 'img/bg',\n}\n\nexport enum MediaType {\n  Icon = 'icon',\n  Image = 'image',\n}\n\nexport enum PickerTabType {\n  Folder = 'folder',\n  URL = 'url',\n  Upload = 'upload',\n}\n\nexport enum ResourcePickerSize {\n  SMALL = 'small',\n  NORMAL = 'normal',\n}\n","import { DataFrame, PanelData, Field, FieldType, NumericRange, getFieldDisplayName, reduceField, ReducerID } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport {\n  getColorDimension,\n  getScaledDimension,\n  getTextDimension,\n  ColorDimensionConfig,\n  DimensionSupplier,\n  ScaleDimensionConfig,\n  TextDimensionConfig,\n  ScalarDimensionConfig,\n} from '.';\n\nimport { isNumber } from 'lodash';\n\nexport function getMinMaxAndDelta(field: Field): NumericRange {\n  if (field.type !== FieldType.number) {\n    return { min: 0, max: 100, delta: 100 };\n  }\n\n  // Calculate min/max if required\n  let min = field.config.min;\n  let max = field.config.max;\n\n  if (!isNumber(min) || !isNumber(max)) {\n    if (field.values && field.values.length) {\n      const stats = reduceField({ field, reducers: [ReducerID.min, ReducerID.max] });\n      if (!isNumber(min)) {\n        min = stats[ReducerID.min];\n      }\n      if (!isNumber(max)) {\n        max = stats[ReducerID.max];\n      }\n    } else {\n      min = 0;\n      max = 100;\n    }\n  }\n\n  return {\n    min,\n    max,\n    delta: max! - min!,\n  };\n}\n\nimport { getScalarDimension } from './scalar';\n\nexport function getColorDimensionFromData(\n  data: PanelData | undefined,\n  cfg: ColorDimensionConfig\n): DimensionSupplier<string> {\n  if (data?.series && cfg.field) {\n    for (const frame of data.series) {\n      const d = getColorDimension(frame, cfg, config.theme2);\n      if (!d.isAssumed || data.series.length === 1) {\n        return d;\n      }\n    }\n  }\n  return getColorDimension(undefined, cfg, config.theme2);\n}\n\nexport function getScaleDimensionFromData(\n  data: PanelData | undefined,\n  cfg: ScaleDimensionConfig\n): DimensionSupplier<number> {\n  if (data?.series && cfg.field) {\n    for (const frame of data.series) {\n      const d = getScaledDimension(frame, cfg);\n      if (!d.isAssumed || data.series.length === 1) {\n        return d;\n      }\n    }\n  }\n  return getScaledDimension(undefined, cfg);\n}\n\nexport function getScalarDimensionFromData(\n  data: PanelData | undefined,\n  cfg: ScalarDimensionConfig\n): DimensionSupplier<number> {\n  if (data?.series && cfg.field) {\n    for (const frame of data.series) {\n      const d = getScalarDimension(frame, cfg);\n      if (!d.isAssumed || data.series.length === 1) {\n        return d;\n      }\n    }\n  }\n  return getScalarDimension(undefined, cfg);\n}\n\nexport function getTextDimensionFromData(\n  data: PanelData | undefined,\n  cfg: TextDimensionConfig\n): DimensionSupplier<string> {\n  if (data?.series && cfg.field) {\n    for (const frame of data.series) {\n      const d = getTextDimension(frame, cfg);\n      if (!d.isAssumed || data.series.length === 1) {\n        return d;\n      }\n    }\n  }\n  return getTextDimension(undefined, cfg);\n}\n\nexport function findField(frame?: DataFrame, name?: string): Field | undefined {\n  if (!frame || !name?.length) {\n    return undefined;\n  }\n\n  for (const field of frame.fields) {\n    if (name === field.name) {\n      return field;\n    }\n    const disp = getFieldDisplayName(field, frame);\n    if (name === disp) {\n      return field;\n    }\n  }\n  return undefined;\n}\n\nexport function findFieldIndex(frame?: DataFrame, name?: string): number | undefined {\n  if (!frame || !name?.length) {\n    return undefined;\n  }\n\n  for (let i = 0; i < frame.fields.length; i++) {\n    const field = frame.fields[i];\n    if (name === field.name) {\n      return i;\n    }\n    const disp = getFieldDisplayName(field, frame);\n    if (name === disp) {\n      return i;\n    }\n  }\n  return undefined;\n}\n\nexport function getLastNotNullFieldValue<T>(field: Field): T {\n  const calcs = field.state?.calcs;\n  if (calcs) {\n    const v = calcs[ReducerID.lastNotNull];\n    if (v != null) {\n      return v as T;\n    }\n  }\n\n  const data = field.values;\n  let idx = data.length - 1;\n  while (idx >= 0) {\n    const v = data.get(idx--);\n    if (v != null) {\n      return v;\n    }\n  }\n  return undefined as any;\n}\n","import { DataFrame, Field, getDisplayProcessor, getFieldColorModeForField, GrafanaTheme2 } from '@grafana/data';\n\nimport { ColorDimensionConfig, DimensionSupplier } from './types';\nimport { findField, getLastNotNullFieldValue } from './utils';\n\n//---------------------------------------------------------\n// Color dimension\n//---------------------------------------------------------\n\nexport function getColorDimension(\n  frame: DataFrame | undefined,\n  config: ColorDimensionConfig,\n  theme: GrafanaTheme2\n): DimensionSupplier<string> {\n  return getColorDimensionForField(findField(frame, config.field), config, theme);\n}\n\nexport function getColorDimensionForField(\n  field: Field | undefined,\n  config: ColorDimensionConfig,\n  theme: GrafanaTheme2\n): DimensionSupplier<string> {\n  if (!field) {\n    const v = theme.visualization.getColorByName(config.fixed ?? 'grey');\n    return {\n      isAssumed: Boolean(config.field?.length) || !config.fixed,\n      fixed: v,\n      value: () => v,\n      get: (i) => v,\n    };\n  }\n\n  // Use the expensive color calculation by value\n  const mode = getFieldColorModeForField(field);\n  if (mode.isByValue || field.config.mappings?.length) {\n    const disp = getDisplayProcessor({ field, theme });\n    const getColor = (value: any): string => {\n      return disp(value).color ?? '#ccc';\n    };\n\n    return {\n      field,\n      get: (index: number): string => getColor(field.values.get(index)),\n      value: () => getColor(getLastNotNullFieldValue(field)),\n    };\n  }\n\n  // Typically series or fixed color (does not depend on value)\n  const fixed = mode.getCalculator(field, theme)(0, 0);\n  return {\n    fixed,\n    value: () => fixed,\n    get: (i) => fixed,\n    field,\n  };\n}\n","import { DataFrame, Field } from '@grafana/data';\n\nimport { ScaleDimensionConfig, DimensionSupplier, ScaleDimensionOptions } from './types';\nimport { getMinMaxAndDelta, findField, getLastNotNullFieldValue } from './utils';\n\nimport { ScaleDimensionMode } from '.';\n\n//---------------------------------------------------------\n// Scale dimension\n//---------------------------------------------------------\n\nexport function getScaledDimension(\n  frame: DataFrame | undefined,\n  config: ScaleDimensionConfig\n): DimensionSupplier<number> {\n  return getScaledDimensionForField(findField(frame, config?.field), config);\n}\n\nexport function getScaledDimensionForField(\n  field: Field | undefined,\n  config: ScaleDimensionConfig,\n  mode?: ScaleDimensionMode\n): DimensionSupplier<number> {\n  if (!field) {\n    const v = config.fixed ?? 0;\n    return {\n      isAssumed: Boolean(config.field?.length) || !config.fixed,\n      fixed: v,\n      value: () => v,\n      get: () => v,\n    };\n  }\n  const info = getMinMaxAndDelta(field);\n  const delta = config.max - config.min;\n  const values = field.values;\n  if (values.length < 1 || delta <= 0 || info.delta <= 0) {\n    return {\n      fixed: config.min,\n      value: () => config.min,\n      get: () => config.min,\n    };\n  }\n\n  let scaled = (percent: number) => config.min + percent * delta;\n  if (mode === ScaleDimensionMode.Quadratic) {\n    const maxArea = Math.PI * (config.max / 2) ** 2;\n    const minArea = Math.PI * (config.min / 2) ** 2;\n    const deltaArea = maxArea - minArea;\n\n    // quadratic scaling (px area)\n    scaled = (percent: number) => {\n      let area = minArea + deltaArea * percent;\n      return Math.sqrt(area / Math.PI) * 2;\n    };\n  }\n\n  const get = (i: number) => {\n    const value = field.values.get(i);\n    let percent = 0;\n    if (value !== -Infinity) {\n      percent = (value - info.min!) / info.delta;\n    }\n    if (percent > 1) {\n      percent = 1;\n    } else if (percent < 0) {\n      percent = 0;\n    }\n    return scaled(percent);\n  };\n\n  return {\n    get,\n    value: () => get(getLastNotNullFieldValue(field)),\n    field,\n  };\n}\n\n// This will mutate options\nexport function validateScaleOptions(options?: ScaleDimensionOptions): ScaleDimensionOptions {\n  if (!options) {\n    options = { min: 0, max: 1 };\n  }\n  if (options.min == null) {\n    options.min = 0;\n  }\n  if (options.max == null) {\n    options.max = 1;\n  }\n\n  return options;\n}\n\n/** Mutates and will return a valid version */\nexport function validateScaleConfig(copy: ScaleDimensionConfig, options: ScaleDimensionOptions): ScaleDimensionConfig {\n  let { min, max } = validateScaleOptions(options);\n  if (!copy) {\n    copy = {} as any;\n  }\n\n  if (copy.max == null) {\n    copy.max = max;\n  }\n  if (copy.min == null) {\n    copy.min = min;\n  }\n  // Make sure the order is right\n  if (copy.min > copy.max) {\n    const tmp = copy.max;\n    copy.max = copy.min;\n    copy.min = tmp;\n  }\n  // Validate range\n  if (copy.min < min) {\n    copy.min = min;\n  }\n  if (copy.max > max) {\n    copy.max = max;\n  }\n\n  if (copy.fixed == null) {\n    copy.fixed = copy.min + (copy.max - copy.min) / 2.0;\n  }\n\n  // Make sure the field value is within the absolute range\n  if (!copy.field) {\n    if (copy.fixed > max) {\n      copy.fixed = max;\n    } else if (copy.fixed < min) {\n      copy.fixed = min;\n    }\n  }\n  return copy;\n}\n","import { useMemo } from 'react';\nimport { DataFrame, Field, getFieldDisplayName, SelectableValue } from '@grafana/data';\nimport { getFieldTypeIcon } from '@grafana/ui';\n\n/**\n * @internal\n */\nexport interface FrameFieldsDisplayNames {\n  // The display names\n  display: Set<string>;\n\n  // raw field names (that are explicitly not visible)\n  raw: Set<string>;\n\n  // Field mappings (duplicates are not supported)\n  fields: Map<string, Field>;\n}\n\n/**\n * @internal\n */\nexport function frameHasName(name: string | undefined, names: FrameFieldsDisplayNames) {\n  if (!name) {\n    return false;\n  }\n  return names.display.has(name) || names.raw.has(name);\n}\n\n/**\n * Retuns the distinct names in a set of frames\n */\nfunction getFrameFieldsDisplayNames(data: DataFrame[], filter?: (field: Field) => boolean): FrameFieldsDisplayNames {\n  const names: FrameFieldsDisplayNames = {\n    display: new Set<string>(),\n    raw: new Set<string>(),\n    fields: new Map<string, Field>(),\n  };\n\n  for (const frame of data) {\n    for (const field of frame.fields) {\n      if (filter && !filter(field)) {\n        continue;\n      }\n      const disp = getFieldDisplayName(field, frame, data);\n      names.display.add(disp);\n      names.fields.set(disp, field);\n      if (field.name && disp !== field.name) {\n        names.raw.add(field.name);\n        names.fields.set(field.name, field);\n      }\n    }\n  }\n  return names;\n}\n\n/**\n * @internal\n */\nexport function useFieldDisplayNames(data: DataFrame[], filter?: (field: Field) => boolean): FrameFieldsDisplayNames {\n  return useMemo(() => {\n    return getFrameFieldsDisplayNames(data, filter);\n  }, [data, filter]);\n}\n\n/**\n * @internal\n */\nexport function useSelectOptions(\n  displayNames: FrameFieldsDisplayNames,\n  currentName?: string,\n  firstItem?: SelectableValue<string>,\n  fieldType?: string\n): Array<SelectableValue<string>> {\n  return useMemo(() => {\n    let found = false;\n    const options: Array<SelectableValue<string>> = [];\n    if (firstItem) {\n      options.push(firstItem);\n    }\n    for (const name of displayNames.display) {\n      if (!found && name === currentName) {\n        found = true;\n      }\n      const field = displayNames.fields.get(name);\n      if (!fieldType || fieldType === field?.type) {\n        options.push({\n          value: name,\n          label: name,\n          icon: field ? getFieldTypeIcon(field) : undefined,\n        });\n      }\n    }\n    for (const name of displayNames.raw) {\n      if (!displayNames.display.has(name)) {\n        if (!found && name === currentName) {\n          found = true;\n        }\n        options.push({\n          value: name,\n          label: `${name} (base field name)`,\n        });\n      }\n    }\n\n    if (currentName && !found) {\n      options.push({\n        value: currentName,\n        label: `${currentName} (not found)`,\n      });\n    }\n    return options;\n  }, [displayNames, currentName, firstItem, fieldType]);\n}\n","import { debounce } from 'lodash';\nimport React, { PureComponent } from 'react';\n\nimport { Field, Input } from '@grafana/ui';\n\ninterface Props {\n  value?: number;\n  placeholder?: string;\n  autoFocus?: boolean;\n  onChange: (number?: number) => void;\n  min?: number;\n  max?: number;\n  step?: number;\n}\n\ninterface State {\n  text: string;\n  inputCorrected: boolean;\n}\n\n/**\n * This is an Input field that will call `onChange` for blur and enter\n *\n * @internal this is not exported to the `@grafana/ui` library, it is used\n * by options editor (number and slider), and direclty with in grafana core\n */\n\nexport class NumberInput extends PureComponent<Props, State> {\n  state: State = { text: '', inputCorrected: false };\n  inputRef = React.createRef<HTMLInputElement>();\n\n  componentDidMount() {\n    this.setState({\n      text: isNaN(this.props.value!) ? '' : `${this.props.value}`,\n    });\n  }\n\n  componentDidUpdate(oldProps: Props) {\n    if (this.props.value !== oldProps.value) {\n      const text = isNaN(this.props.value!) ? '' : `${this.props.value}`;\n      if (text !== this.state.text) {\n        this.setState({ text });\n      }\n    }\n  }\n\n  updateValue = () => {\n    let value: number | undefined = undefined;\n    const txt = this.inputRef.current?.value;\n    if (txt?.length) {\n      value = +txt;\n      if (isNaN(value)) {\n        return;\n      }\n    }\n    if (value !== this.props.value) {\n      this.props.onChange(value);\n    }\n    if (this.state.inputCorrected) {\n      this.setState({ inputCorrected: false });\n    }\n  };\n\n  updateValueDebounced = debounce(this.updateValue, 500); // 1/2 second delay\n\n  onChange = (e: React.FocusEvent<HTMLInputElement>) => {\n    let newValue: string | undefined = undefined;\n    let corrected = false;\n    const min = this.props.min;\n    const max = this.props.max;\n    const currValue = e.currentTarget.valueAsNumber;\n    if (!Number.isNaN(currValue)) {\n      if (min != null && currValue < min) {\n        newValue = min.toString();\n        corrected = true;\n      } else if (max != null && currValue > max) {\n        newValue = max.toString();\n        corrected = true;\n      } else {\n        newValue = e.currentTarget.value;\n      }\n    }\n    this.setState({\n      text: newValue ? newValue : '',\n      inputCorrected: corrected,\n    });\n    this.updateValueDebounced();\n  };\n\n  onKeyPress = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      this.updateValue();\n    }\n  };\n\n  renderInput() {\n    return (\n      <Input\n        type=\"number\"\n        ref={this.inputRef}\n        min={this.props.min}\n        max={this.props.max}\n        step={this.props.step}\n        autoFocus={this.props.autoFocus}\n        value={this.state.text}\n        onChange={this.onChange}\n        onBlur={this.updateValue}\n        onKeyPress={this.onKeyPress}\n        placeholder={this.props.placeholder}\n      />\n    );\n  }\n\n  render() {\n    const { inputCorrected } = this.state;\n    if (inputCorrected) {\n      let range = '';\n      let { min, max } = this.props;\n      if (max == null) {\n        if (min != null) {\n          range = `< ${min}`;\n        }\n      } else if (min != null) {\n        range = `${min} < > ${max}`;\n      } else {\n        range = `> ${max}`;\n      }\n      return (\n        <Field\n          invalid={inputCorrected}\n          error={`Out of range ${range}`}\n          validationMessageHorizontalOverflow={true}\n          style={{ direction: 'rtl' }}\n        >\n          {this.renderInput()}\n        </Field>\n      );\n    }\n\n    return this.renderInput();\n  }\n}\n","import { css } from '@emotion/css';\nimport React, { FC, useCallback, useMemo } from 'react';\n\nimport { GrafanaTheme2, SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { InlineField, InlineFieldRow, Select, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from './utils';\nimport { NumberInput } from './NumberInput';\n\nimport { validateScaleOptions, validateScaleConfig } from '../scale';\nimport { ScaleDimensionConfig, ScaleDimensionOptions } from '../types';\n\nconst fixedValueOption: SelectableValue<string> = {\n  label: 'Fixed value',\n  value: '_____fixed_____',\n};\n\nexport const ScaleDimensionEditor: FC<StandardEditorProps<ScaleDimensionConfig, ScaleDimensionOptions, any>> = (\n  props\n) => {\n  const { value, context, onChange, item } = props;\n  const { settings } = item;\n  const styles = useStyles2(getStyles);\n\n  const fieldName = value?.field;\n  const isFixed = Boolean(!fieldName);\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedValueOption);\n  const minMaxStep = useMemo(() => {\n    return validateScaleOptions(settings);\n  }, [settings]);\n\n  // Validate and update\n  const validateAndDoChange = useCallback(\n    (v: ScaleDimensionConfig) => {\n      // always called with a copy so no need to spread\n      onChange(validateScaleConfig(v, minMaxStep));\n    },\n    [onChange, minMaxStep]\n  );\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      const field = selection.value;\n      if (field && field !== fixedValueOption.value) {\n        validateAndDoChange({\n          ...value,\n          field,\n        });\n      } else {\n        validateAndDoChange({\n          ...value,\n          field: undefined,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const onMinChange = useCallback(\n    (min?: number) => {\n      if (min !== undefined) {\n        validateAndDoChange({\n          ...value,\n          min,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const onMaxChange = useCallback(\n    (max?: number) => {\n      if (max !== undefined) {\n        validateAndDoChange({\n          ...value,\n          max,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const onValueChange = useCallback(\n    (fixed?: number) => {\n      if (fixed !== undefined) {\n        validateAndDoChange({\n          ...value,\n          fixed,\n        });\n      }\n    },\n    [validateAndDoChange, value]\n  );\n\n  const val = value ?? {};\n  const selectedOption = isFixed ? fixedValueOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div>\n        <Select\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage=\"No fields found\"\n        />\n      </div>\n      <div className={styles.range}>\n        {isFixed && (\n          <InlineFieldRow>\n            <InlineField label=\"Value\" labelWidth={8} grow={true}>\n              <NumberInput value={val.fixed} {...minMaxStep} onChange={onValueChange} />\n            </InlineField>\n          </InlineFieldRow>\n        )}\n        {!isFixed && !minMaxStep.hideRange && (\n          <>\n            <InlineFieldRow>\n              <InlineField label=\"Min\" labelWidth={8} grow={true}>\n                <NumberInput value={val.min} {...minMaxStep} onChange={onMinChange} />\n              </InlineField>\n            </InlineFieldRow>\n            <InlineFieldRow>\n              <InlineField label=\"Max\" labelWidth={8} grow={true}>\n                <NumberInput value={val.max} {...minMaxStep} onChange={onMaxChange} />\n              </InlineField>\n            </InlineFieldRow>\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  range: css`\n    padding-top: 8px;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC, useCallback } from 'react';\n\nimport { GrafanaTheme2, SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { Select, ColorPicker, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from './utils';\n\nimport { ColorDimensionConfig } from '../types';\n\nconst fixedColorOption: SelectableValue<string> = {\n  label: 'Fixed color',\n  value: '_____fixed_____',\n};\n\nexport const ColorDimensionEditor: FC<StandardEditorProps<ColorDimensionConfig, any, any>> = (props) => {\n  const { value, context, onChange } = props;\n\n  const defaultColor = 'dark-green';\n\n  const styles = useStyles2(getStyles);\n  const fieldName = value?.field;\n  const isFixed = Boolean(!fieldName);\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedColorOption);\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      const field = selection.value;\n      if (field && field !== fixedColorOption.value) {\n        onChange({\n          ...value,\n          field,\n        });\n      } else {\n        const fixed = value?.fixed ?? defaultColor;\n        onChange({\n          ...value,\n          field: undefined,\n          fixed,\n        });\n      }\n    },\n    [onChange, value]\n  );\n\n  const onColorChange = useCallback(\n    (c: string) => {\n      onChange({\n        field: undefined,\n        fixed: c ?? defaultColor,\n      });\n    },\n    [onChange]\n  );\n\n  const selectedOption = isFixed ? fixedColorOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div className={styles.container}>\n        <Select\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage=\"No fields found\"\n        />\n        {isFixed && (\n          <div className={styles.picker}>\n            <ColorPicker color={value?.fixed ?? defaultColor} onChange={onColorChange} enableNamedColors={true} />\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  container: css`\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: flex-end;\n    align-items: center;\n  `,\n  picker: css`\n    padding-left: 8px;\n  `,\n});\n","import { css } from '@emotion/css';\nimport React, { FC, useCallback } from 'react';\n\nimport { FieldType, GrafanaTheme2, SelectableValue, StandardEditorProps } from '@grafana/data';\nimport { InlineField, InlineFieldRow, RadioButtonGroup, Select, useStyles2 } from '@grafana/ui';\nimport { useFieldDisplayNames, useSelectOptions } from './utils';\nimport { NumberInput } from './NumberInput';\n\nimport { ScalarDimensionConfig, ScalarDimensionMode, ScalarDimensionOptions } from '../types';\n\nconst fixedValueOption: SelectableValue<string> = {\n  label: 'Fixed value',\n  value: '_____fixed_____',\n};\n\nconst scalarOptions = [\n  { label: 'Mod', value: ScalarDimensionMode.Mod, description: 'Use field values, mod from max' },\n  { label: 'Clamped', value: ScalarDimensionMode.Clamped, description: 'Use field values, clamped to max and min' },\n];\n\nexport const ScalarDimensionEditor: FC<StandardEditorProps<ScalarDimensionConfig, ScalarDimensionOptions, any>> = (\n  props\n) => {\n  const { value, context, onChange, item } = props;\n  const { settings } = item;\n\n  const DEFAULT_VALUE = 0;\n\n  const fieldName = value?.field;\n  const isFixed = Boolean(!fieldName);\n  const names = useFieldDisplayNames(context.data);\n  const selectOptions = useSelectOptions(names, fieldName, fixedValueOption, FieldType.number);\n\n  const styles = useStyles2(getStyles);\n\n  const onSelectChange = useCallback(\n    (selection: SelectableValue<string>) => {\n      const field = selection.value;\n      if (field && field !== fixedValueOption.value) {\n        onChange({\n          ...value,\n          field,\n        });\n      } else {\n        const fixed = value.fixed ?? DEFAULT_VALUE;\n        onChange({\n          ...value,\n          field: undefined,\n          fixed,\n        });\n      }\n    },\n    [onChange, value]\n  );\n\n  const onModeChange = useCallback(\n    (mode: any) => {\n      onChange({\n        ...value,\n        mode,\n      });\n    },\n    [onChange, value]\n  );\n\n  const onValueChange = useCallback(\n    (v: number | undefined) => {\n      onChange({\n        ...value,\n        field: undefined,\n        fixed: v ?? DEFAULT_VALUE,\n      });\n    },\n    [onChange, value]\n  );\n\n  const val = value ?? {};\n  const mode = value?.mode ?? ScalarDimensionMode.Mod;\n  const selectedOption = isFixed ? fixedValueOption : selectOptions.find((v) => v.value === fieldName);\n  return (\n    <>\n      <div>\n        <InlineFieldRow>\n          <InlineField label=\"Limit\" labelWidth={8} grow={true}>\n            <RadioButtonGroup value={mode} options={scalarOptions} onChange={onModeChange} fullWidth />\n          </InlineField>\n        </InlineFieldRow>\n        <Select\n          value={selectedOption}\n          options={selectOptions}\n          onChange={onSelectChange}\n          noOptionsMessage=\"No fields found\"\n        />\n      </div>\n      <div className={styles.range}>\n        {isFixed && (\n          <InlineFieldRow>\n            <InlineField label=\"Value\" labelWidth={8} grow={true}>\n              <NumberInput\n                value={val?.fixed ?? DEFAULT_VALUE}\n                onChange={onValueChange}\n                max={settings?.max}\n                min={settings?.min}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        )}\n      </div>\n    </>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  range: css`\n    padding-top: 8px;\n  `,\n});\n","import React, { Component } from 'react';\nimport { Observable, Unsubscribable } from 'rxjs';\n\ninterface Props<T> {\n  watch: Observable<T>;\n  child: React.ComponentType<T>;\n  initialSubProps: T;\n}\n\ninterface State<T> {\n  subProps: T;\n}\n\nexport class ObservablePropsWrapper<T extends {}> extends Component<Props<T>, State<T>> {\n  sub?: Unsubscribable;\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = {\n      subProps: props.initialSubProps,\n    };\n  }\n\n  componentDidMount() {\n    this.sub = this.props.watch.subscribe({\n      next: (subProps: T) => {\n        this.setState({ subProps });\n      },\n      complete: () => {},\n      error: (err) => {},\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  render() {\n    const { subProps } = this.state;\n    return <this.props.child {...subProps} />;\n  }\n}\n","import React from 'react';\nimport { Label, stylesFactory, useTheme2, VizLegendItem } from '@grafana/ui';\nimport {\n  getFieldColorModeForField,\n  formattedValueToString,\n  GrafanaTheme2,\n  ReducerID,\n  reduceField,\n} from '@grafana/data';\nimport { css } from '@emotion/css';\nimport { config } from '../../config';\nimport { DimensionSupplier } from '../../dimensions';\nimport { getThresholdItems } from './utils';\n\nexport interface MarkersLegendProps {\n  color?: DimensionSupplier<string>;\n  name?: string;\n  unit?: string;\n  size?: DimensionSupplier<number>;\n}\n\nexport function MarkersLegend(props: MarkersLegendProps) {\n  const { color, name, unit } = props;\n  const theme = useTheme2();\n  \n  console.log(\"Construct MarkersLegend: \"+name);\n\n  if (!color || (!color.field && color.fixed)) {\n    return <></>;\n  }\n\n  const style = getStyles(theme);\n  const fmt = (v: any) => `${formattedValueToString(color.field!.display!(v))}`;\n  const colorMode = getFieldColorModeForField(color!.field!);\n\n  if (colorMode.isContinuous && colorMode.getColors) {\n    const colors = colorMode.getColors(config.theme2);\n    //const colorRange = color.field!;\n    // TODO: explore showing mean on the gradiant scale\n    const colorRange = reduceField({\n      field: color.field!,\n      reducers: [\n        ReducerID.min,\n        ReducerID.max,\n        ReducerID.mean,\n        // std dev?\n      ],\n    });\n\n    return (\n      <>\n        <Label>{color?.field?.name}</Label>\n        <div\n          className={style.gradientContainer}\n          style={{ backgroundImage: `linear-gradient(to right, ${colors.map((c) => c).join(', ')}` }}\n        >\n          <div style={{ color: theme.colors.getContrastText(colors[0]) }}>{fmt(colorRange.min)}</div>\n          <div style={{ color: theme.colors.getContrastText(colors[colors.length - 1]) }}>{fmt(colorRange.max)}</div>\n        </div>\n      </>\n    );\n  }\n\n  const thresholds = color.field?.config?.thresholds;\n  if (!thresholds || thresholds.steps.length < 2) {\n    return <div></div>; // don't show anything in the legend\n  }\n\n  const items = getThresholdItems(color.field!.config, config.theme2, unit!);\n  console.log(\"Return MarkersLegend: \"+name);\n  return (\n    <div className={style.infoWrap}>\n      <Label>{name}</Label>\n      <div className={style.legend}>\n        {items.map((item: VizLegendItem, idx: number) => (\n          <div key={`${idx}/${item.label}`} className={style.legendItem}>\n            <i style={{ background: item.color }}></i>\n            {item.label}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => ({\n  infoWrap: css`\n    background: ${theme.colors.background.secondary};\n    border-radius: 2px;\n    padding: ${theme.spacing(1)};\n  `,\n  legend: css`\n    line-height: 18px;\n    display: flex;\n    flex-direction: column;\n    font-size: ${theme.typography.bodySmall.fontSize};\n\n    i {\n      width: 18px;\n      height: 18px;\n      float: left;\n      margin-right: 8px;\n      opacity: 0.7;\n    }\n  `,\n  legendItem: css`\n    white-space: nowrap;\n  `,\n  gradientContainer: css`\n    min-width: 200px;\n    display: flex;\n    justify-content: space-between;\n    font-size: ${theme.typography.bodySmall.fontSize};\n    padding: ${theme.spacing(0, 0.5)};\n  `,\n}));\n","import { FieldConfig, formattedValueToString, getValueFormat, GrafanaTheme2, ThresholdsMode } from '@grafana/data';\nimport { VizLegendItem } from '@grafana/ui';\n\nexport function getThresholdItems(fieldConfig: FieldConfig, theme: GrafanaTheme2, unit: string): VizLegendItem[] {\n  const items: VizLegendItem[] = [];\n  const thresholds = fieldConfig.thresholds;\n  if (!thresholds || !thresholds.steps.length) {\n    return items;\n  }\n\n  const steps = thresholds.steps;\n  const disp = getValueFormat(thresholds.mode === ThresholdsMode.Percentage ? 'percent' : fieldConfig.unit ?? '');\n\n  const fmt = (v: number) => formattedValueToString(disp(v));\n\n  for (let i = 1; i <= steps.length; i++) {\n    const step = steps[i - 1];\n    const startVal = i === 1 ? \"0\"+unit : fmt(steps[i-1].value)+unit;\n    const endVal = i === steps.length ? \"+\" : \"-\"+fmt(steps[i].value)+unit;\n    items.push({\n      label: `${startVal}${endVal}`,\n      color: theme.visualization.getColorByName(step.color),\n      yAxis: 1,\n    });\n  }\n\n  return items;\n}\n","import { Fill, RegularShape, Stroke, Style, Circle } from 'ol/style';\nimport { Registry, RegistryItem } from '@grafana/data';\n\ninterface MarkerMaker extends RegistryItem {\n  make: (color: string, fillColor: string, radius: number) => Style;\n  hasFill: boolean;\n}\n\nexport const circleMarker: MarkerMaker = {\n  id: 'circle',\n  name: 'Circle',\n  hasFill: true,\n  make: (color: string, fillColor: string, radius: number) => {\n    return new Style({\n      image: new Circle({\n        stroke: new Stroke({ color: color }),\n        fill: new Fill({ color: fillColor }),\n        radius: radius,\n      }),\n    });\n  },\n};\n\nexport const markerMakers = new Registry<MarkerMaker>(() => [\n  circleMarker,\n  {\n    id: 'square',\n    name: 'Square',\n    hasFill: true,\n    make: (color: string, fillColor: string, radius: number) => {\n      return new Style({\n        image: new RegularShape({\n          fill: new Fill({ color: fillColor }),\n          stroke: new Stroke({ color: color, width: 1 }),\n          points: 4,\n          radius: radius,\n          angle: Math.PI / 4,\n        }),\n      });\n    },\n  },\n  {\n    id: 'triangle',\n    name: 'Triangle',\n    hasFill: true,\n    make: (color: string, fillColor: string, radius: number) => {\n      return new Style({\n        image: new RegularShape({\n          fill: new Fill({ color: fillColor }),\n          stroke: new Stroke({ color: color, width: 1 }),\n          points: 3,\n          radius: radius,\n          rotation: Math.PI / 4,\n          angle: 0,\n        }),\n      });\n    },\n  },\n  {\n    id: 'star',\n    name: 'Star',\n    hasFill: true,\n    make: (color: string, fillColor: string, radius: number) => {\n      return new Style({\n        image: new RegularShape({\n          fill: new Fill({ color: fillColor }),\n          stroke: new Stroke({ color: color, width: 1 }),\n          points: 5,\n          radius: radius,\n          radius2: radius * 0.4,\n          angle: 0,\n        }),\n      });\n    },\n  },\n  {\n    id: 'cross',\n    name: 'Cross',\n    hasFill: false,\n    make: (color: string, fillColor: string, radius: number) => {\n      return new Style({\n        image: new RegularShape({\n          fill: new Fill({ color: fillColor }),\n          stroke: new Stroke({ color: color, width: 1 }),\n          points: 4,\n          radius: radius,\n          radius2: 0,\n          angle: 0,\n        }),\n      });\n    },\n  },\n  {\n    id: 'x',\n    name: 'X',\n    hasFill: false,\n    make: (color: string, fillColor: string, radius: number) => {\n      return new Style({\n        image: new RegularShape({\n          fill: new Fill({ color: fillColor }),\n          stroke: new Stroke({ color: color, width: 1 }),\n          points: 4,\n          radius: radius,\n          radius2: 0,\n          angle: Math.PI / 4,\n        }),\n      });\n    },\n  },\n]);\n","/**\n * @module ol/style/Text\n */\nimport Fill from './Fill.js';\nimport TextPlacement from './TextPlacement.js';\nimport { toSize } from '../size.js';\n/**\n * The default fill color to use if no fill was set at construction time; a\n * blackish `#333`.\n *\n * @const {string}\n */\nvar DEFAULT_FILL_COLOR = '#333';\n/**\n * @typedef {Object} Options\n * @property {string} [font] Font style as CSS 'font' value, see:\n * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/font. Default is '10px sans-serif'\n * @property {number} [maxAngle=Math.PI/4] When `placement` is set to `'line'`, allow a maximum angle between adjacent characters.\n * The expected value is in radians, and the default is 45 (`Math.PI / 4`).\n * @property {number} [offsetX=0] Horizontal text offset in pixels. A positive will shift the text right.\n * @property {number} [offsetY=0] Vertical text offset in pixels. A positive will shift the text down.\n * @property {boolean} [overflow=false] For polygon labels or when `placement` is set to `'line'`, allow text to exceed\n * the width of the polygon at the label position or the length of the path that it follows.\n * @property {import(\"./TextPlacement.js\").default|string} [placement='point'] Text placement.\n * @property {number|import(\"../size.js\").Size} [scale] Scale.\n * @property {boolean} [rotateWithView=false] Whether to rotate the text with the view.\n * @property {number} [rotation=0] Rotation in radians (positive rotation clockwise).\n * @property {string|Array<string>} [text] Text content or rich text content. For plain text provide a string, which can\n * contain line breaks (`\\n`). For rich text provide an array of text/font tuples. A tuple consists of the text to\n * render and the font to use (or `''` to use the text style's font). A line break has to be a separate tuple (i.e. `'\\n', ''`).\n * **Example:** `['foo', 'bold 10px sans-serif', ' bar', 'italic 10px sans-serif', ' baz', '']` will yield \"**foo** *bar* baz\".\n * **Note:** Rich text is not supported for the immediate rendering API.\n * @property {string} [textAlign] Text alignment. Possible values: 'left', 'right', 'center', 'end' or 'start'.\n * Default is 'center' for `placement: 'point'`. For `placement: 'line'`, the default is to let the renderer choose a\n * placement where `maxAngle` is not exceeded.\n * @property {string} [justify] Text justification within the text box.\n * If not set, text is justified towards the `textAlign` anchor.\n * Otherwise, use options `'left'`, `'center'`, or `'right'` to justify the text within the text box.\n * **Note:** `justify` is ignored for immediate rendering and also for `placement: 'line'`.\n * @property {string} [textBaseline='middle'] Text base line. Possible values: 'bottom', 'top', 'middle', 'alphabetic',\n * 'hanging', 'ideographic'.\n * @property {import(\"./Fill.js\").default} [fill] Fill style. If none is provided, we'll use a dark fill-style (#333).\n * @property {import(\"./Stroke.js\").default} [stroke] Stroke style.\n * @property {import(\"./Fill.js\").default} [backgroundFill] Fill style for the text background when `placement` is\n * `'point'`. Default is no fill.\n * @property {import(\"./Stroke.js\").default} [backgroundStroke] Stroke style for the text background  when `placement`\n * is `'point'`. Default is no stroke.\n * @property {Array<number>} [padding=[0, 0, 0, 0]] Padding in pixels around the text for decluttering and background. The order of\n * values in the array is `[top, right, bottom, left]`.\n */\n/**\n * @classdesc\n * Set text style for vector features.\n * @api\n */\nvar Text = /** @class */ (function () {\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Text(opt_options) {\n        var options = opt_options || {};\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.font_ = options.font;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        this.rotation_ = options.rotation;\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        this.rotateWithView_ = options.rotateWithView;\n        /**\n         * @private\n         * @type {number|import(\"../size.js\").Size|undefined}\n         */\n        this.scale_ = options.scale;\n        /**\n         * @private\n         * @type {import(\"../size.js\").Size}\n         */\n        this.scaleArray_ = toSize(options.scale !== undefined ? options.scale : 1);\n        /**\n         * @private\n         * @type {string|Array<string>|undefined}\n         */\n        this.text_ = options.text;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textAlign_ = options.textAlign;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.justify_ = options.justify;\n        /**\n         * @private\n         * @type {string|undefined}\n         */\n        this.textBaseline_ = options.textBaseline;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.fill_ =\n            options.fill !== undefined\n                ? options.fill\n                : new Fill({ color: DEFAULT_FILL_COLOR });\n        /**\n         * @private\n         * @type {number}\n         */\n        this.maxAngle_ =\n            options.maxAngle !== undefined ? options.maxAngle : Math.PI / 4;\n        /**\n         * @private\n         * @type {import(\"./TextPlacement.js\").default|string}\n         */\n        this.placement_ =\n            options.placement !== undefined ? options.placement : TextPlacement.POINT;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        this.overflow_ = !!options.overflow;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.stroke_ = options.stroke !== undefined ? options.stroke : null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetX_ = options.offsetX !== undefined ? options.offsetX : 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.offsetY_ = options.offsetY !== undefined ? options.offsetY : 0;\n        /**\n         * @private\n         * @type {import(\"./Fill.js\").default}\n         */\n        this.backgroundFill_ = options.backgroundFill\n            ? options.backgroundFill\n            : null;\n        /**\n         * @private\n         * @type {import(\"./Stroke.js\").default}\n         */\n        this.backgroundStroke_ = options.backgroundStroke\n            ? options.backgroundStroke\n            : null;\n        /**\n         * @private\n         * @type {Array<number>|null}\n         */\n        this.padding_ = options.padding === undefined ? null : options.padding;\n    }\n    /**\n     * Clones the style.\n     * @return {Text} The cloned style.\n     * @api\n     */\n    Text.prototype.clone = function () {\n        var scale = this.getScale();\n        return new Text({\n            font: this.getFont(),\n            placement: this.getPlacement(),\n            maxAngle: this.getMaxAngle(),\n            overflow: this.getOverflow(),\n            rotation: this.getRotation(),\n            rotateWithView: this.getRotateWithView(),\n            scale: Array.isArray(scale) ? scale.slice() : scale,\n            text: this.getText(),\n            textAlign: this.getTextAlign(),\n            justify: this.getJustify(),\n            textBaseline: this.getTextBaseline(),\n            fill: this.getFill() ? this.getFill().clone() : undefined,\n            stroke: this.getStroke() ? this.getStroke().clone() : undefined,\n            offsetX: this.getOffsetX(),\n            offsetY: this.getOffsetY(),\n            backgroundFill: this.getBackgroundFill()\n                ? this.getBackgroundFill().clone()\n                : undefined,\n            backgroundStroke: this.getBackgroundStroke()\n                ? this.getBackgroundStroke().clone()\n                : undefined,\n            padding: this.getPadding() || undefined,\n        });\n    };\n    /**\n     * Get the `overflow` configuration.\n     * @return {boolean} Let text overflow the length of the path they follow.\n     * @api\n     */\n    Text.prototype.getOverflow = function () {\n        return this.overflow_;\n    };\n    /**\n     * Get the font name.\n     * @return {string|undefined} Font.\n     * @api\n     */\n    Text.prototype.getFont = function () {\n        return this.font_;\n    };\n    /**\n     * Get the maximum angle between adjacent characters.\n     * @return {number} Angle in radians.\n     * @api\n     */\n    Text.prototype.getMaxAngle = function () {\n        return this.maxAngle_;\n    };\n    /**\n     * Get the label placement.\n     * @return {import(\"./TextPlacement.js\").default|string} Text placement.\n     * @api\n     */\n    Text.prototype.getPlacement = function () {\n        return this.placement_;\n    };\n    /**\n     * Get the x-offset for the text.\n     * @return {number} Horizontal text offset.\n     * @api\n     */\n    Text.prototype.getOffsetX = function () {\n        return this.offsetX_;\n    };\n    /**\n     * Get the y-offset for the text.\n     * @return {number} Vertical text offset.\n     * @api\n     */\n    Text.prototype.getOffsetY = function () {\n        return this.offsetY_;\n    };\n    /**\n     * Get the fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getFill = function () {\n        return this.fill_;\n    };\n    /**\n     * Determine whether the text rotates with the map.\n     * @return {boolean|undefined} Rotate with map.\n     * @api\n     */\n    Text.prototype.getRotateWithView = function () {\n        return this.rotateWithView_;\n    };\n    /**\n     * Get the text rotation.\n     * @return {number|undefined} Rotation.\n     * @api\n     */\n    Text.prototype.getRotation = function () {\n        return this.rotation_;\n    };\n    /**\n     * Get the text scale.\n     * @return {number|import(\"../size.js\").Size|undefined} Scale.\n     * @api\n     */\n    Text.prototype.getScale = function () {\n        return this.scale_;\n    };\n    /**\n     * Get the symbolizer scale array.\n     * @return {import(\"../size.js\").Size} Scale array.\n     */\n    Text.prototype.getScaleArray = function () {\n        return this.scaleArray_;\n    };\n    /**\n     * Get the stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getStroke = function () {\n        return this.stroke_;\n    };\n    /**\n     * Get the text to be rendered.\n     * @return {string|Array<string>|undefined} Text.\n     * @api\n     */\n    Text.prototype.getText = function () {\n        return this.text_;\n    };\n    /**\n     * Get the text alignment.\n     * @return {string|undefined} Text align.\n     * @api\n     */\n    Text.prototype.getTextAlign = function () {\n        return this.textAlign_;\n    };\n    /**\n     * Get the justification.\n     * @return {string|undefined} Justification.\n     * @api\n     */\n    Text.prototype.getJustify = function () {\n        return this.justify_;\n    };\n    /**\n     * Get the text baseline.\n     * @return {string|undefined} Text baseline.\n     * @api\n     */\n    Text.prototype.getTextBaseline = function () {\n        return this.textBaseline_;\n    };\n    /**\n     * Get the background fill style for the text.\n     * @return {import(\"./Fill.js\").default} Fill style.\n     * @api\n     */\n    Text.prototype.getBackgroundFill = function () {\n        return this.backgroundFill_;\n    };\n    /**\n     * Get the background stroke style for the text.\n     * @return {import(\"./Stroke.js\").default} Stroke style.\n     * @api\n     */\n    Text.prototype.getBackgroundStroke = function () {\n        return this.backgroundStroke_;\n    };\n    /**\n     * Get the padding for the text.\n     * @return {Array<number>|null} Padding.\n     * @api\n     */\n    Text.prototype.getPadding = function () {\n        return this.padding_;\n    };\n    /**\n     * Set the `overflow` property.\n     *\n     * @param {boolean} overflow Let text overflow the path that it follows.\n     * @api\n     */\n    Text.prototype.setOverflow = function (overflow) {\n        this.overflow_ = overflow;\n    };\n    /**\n     * Set the font.\n     *\n     * @param {string|undefined} font Font.\n     * @api\n     */\n    Text.prototype.setFont = function (font) {\n        this.font_ = font;\n    };\n    /**\n     * Set the maximum angle between adjacent characters.\n     *\n     * @param {number} maxAngle Angle in radians.\n     * @api\n     */\n    Text.prototype.setMaxAngle = function (maxAngle) {\n        this.maxAngle_ = maxAngle;\n    };\n    /**\n     * Set the x offset.\n     *\n     * @param {number} offsetX Horizontal text offset.\n     * @api\n     */\n    Text.prototype.setOffsetX = function (offsetX) {\n        this.offsetX_ = offsetX;\n    };\n    /**\n     * Set the y offset.\n     *\n     * @param {number} offsetY Vertical text offset.\n     * @api\n     */\n    Text.prototype.setOffsetY = function (offsetY) {\n        this.offsetY_ = offsetY;\n    };\n    /**\n     * Set the text placement.\n     *\n     * @param {import(\"./TextPlacement.js\").default|string} placement Placement.\n     * @api\n     */\n    Text.prototype.setPlacement = function (placement) {\n        this.placement_ = placement;\n    };\n    /**\n     * Set whether to rotate the text with the view.\n     *\n     * @param {boolean} rotateWithView Rotate with map.\n     * @api\n     */\n    Text.prototype.setRotateWithView = function (rotateWithView) {\n        this.rotateWithView_ = rotateWithView;\n    };\n    /**\n     * Set the fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setFill = function (fill) {\n        this.fill_ = fill;\n    };\n    /**\n     * Set the rotation.\n     *\n     * @param {number|undefined} rotation Rotation.\n     * @api\n     */\n    Text.prototype.setRotation = function (rotation) {\n        this.rotation_ = rotation;\n    };\n    /**\n     * Set the scale.\n     *\n     * @param {number|import(\"../size.js\").Size|undefined} scale Scale.\n     * @api\n     */\n    Text.prototype.setScale = function (scale) {\n        this.scale_ = scale;\n        this.scaleArray_ = toSize(scale !== undefined ? scale : 1);\n    };\n    /**\n     * Set the stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setStroke = function (stroke) {\n        this.stroke_ = stroke;\n    };\n    /**\n     * Set the text.\n     *\n     * @param {string|Array<string>|undefined} text Text.\n     * @api\n     */\n    Text.prototype.setText = function (text) {\n        this.text_ = text;\n    };\n    /**\n     * Set the text alignment.\n     *\n     * @param {string|undefined} textAlign Text align.\n     * @api\n     */\n    Text.prototype.setTextAlign = function (textAlign) {\n        this.textAlign_ = textAlign;\n    };\n    /**\n     * Set the justification.\n     *\n     * @param {string|undefined} justify Justification.\n     * @api\n     */\n    Text.prototype.setJustify = function (justify) {\n        this.justify_ = justify;\n    };\n    /**\n     * Set the text baseline.\n     *\n     * @param {string|undefined} textBaseline Text baseline.\n     * @api\n     */\n    Text.prototype.setTextBaseline = function (textBaseline) {\n        this.textBaseline_ = textBaseline;\n    };\n    /**\n     * Set the background fill.\n     *\n     * @param {import(\"./Fill.js\").default} fill Fill style.\n     * @api\n     */\n    Text.prototype.setBackgroundFill = function (fill) {\n        this.backgroundFill_ = fill;\n    };\n    /**\n     * Set the background stroke.\n     *\n     * @param {import(\"./Stroke.js\").default} stroke Stroke style.\n     * @api\n     */\n    Text.prototype.setBackgroundStroke = function (stroke) {\n        this.backgroundStroke_ = stroke;\n    };\n    /**\n     * Set the padding (`[top, right, bottom, left]`).\n     *\n     * @param {Array<number>|null} padding Padding.\n     * @api\n     */\n    Text.prototype.setPadding = function (padding) {\n        this.padding_ = padding;\n    };\n    return Text;\n}());\nexport default Text;\n//# sourceMappingURL=Text.js.map","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./fontmaki2.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./fontmaki2.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!./fontmaki.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!./fontmaki.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { ReactNode } from 'react';\nimport {\n  PanelData,\n  GrafanaTheme2,\n  formattedValueToString,\n  getScaleCalculator,\n  getFieldColorModeForField,\n  Threshold,\n  ThresholdsMode\n} from '@grafana/data';\nimport GeoMap from 'ol/Map';\nimport Feature from 'ol/Feature';\nimport { Geometry, Point } from 'ol/geom';\nimport FontSymbol from 'ol-ext/style/FontSymbol';\nimport Shadow from 'ol-ext/style/Shadow';\nimport 'ol-ext/style/FontAwesomeDef.js';\nimport 'ol-ext/style/FontMaki2Def.js';\nimport 'ol-ext/style/FontMakiDef.js';\nimport { Cluster } from 'ol/source.js';\nimport * as layer from 'ol/layer';\nimport * as source from 'ol/source';\nimport { BaseLayerOptions, GroupLayerOptions } from 'ol-layerswitcher';\n\nimport { getCenter } from 'ol/extent';\n\nimport tinycolor from 'tinycolor2';\nimport { dataFrameToPoints, getLocationMatchers } from '../../utils/location';\nimport { ExtendMapLayerRegistryItem, ExtendFrameGeometrySourceMode, ExtendMapLayerOptions } from '../../extension';\nimport {\n  ColorDimensionConfig,\n  ScaleDimensionConfig,\n  getScaledDimension,\n  getColorDimension,\n  findField,\n} from '../../dimensions';\nimport { ScaleDimensionEditor, ColorDimensionEditor } from '../../dimensions/editors';\nimport { ObservablePropsWrapper } from '../../components/ObservablePropsWrapper';\nimport { MarkersLegend, MarkersLegendProps } from './MarkersLegend';\nimport { circleMarker, markerMakers } from '../../utils/regularShapes';\nimport { ReplaySubject } from 'rxjs';\nimport { Fill, Image, Stroke, Style, Text } from 'ol/style';\nimport RenderFeature from 'ol/render/Feature';\nimport 'static/css/fontmaki2.css';\nimport 'static/css/fontmaki.css';\n\n// Configuration options for Circle overlays\nexport interface MarkersConfig {\n  size: ScaleDimensionConfig;\n  color: ColorDimensionConfig;\n  geoJsonStrokeSize: ScaleDimensionConfig;\n  fillOpacity: number;\n  shape?: string;\n  legendName?: string;\n  legendUnit?: string;\n  thresholdOverride?: string;\n  showLegend?: boolean;\n  showPin?: boolean;\n  iconSize?: number;\n  enableGradient?: boolean;\n  enableShadow?: boolean;\n  pinShape?: any;\n  cluster?: boolean;\n  clusterDistance?: number;\n  clusterMinDistance?: number;\n  clusterValue?: string;\n  selectIcon?: any;\n}\n\nconst defaultOptions: MarkersConfig = {\n  size: {\n    fixed: 5,\n    min: 2,\n    max: 15,\n  },\n  color: {\n    fixed: 'dark-green', // picked from theme\n  },\n  geoJsonStrokeSize: {\n    fixed: 5,\n    min: 1,\n    max: 10,\n  },\n  fillOpacity: 0.4,\n  shape: 'circle',\n  showLegend: true,\n  showPin: false,\n  enableGradient: false,\n  enableShadow: false,\n  pinShape: 'marker',\n  iconSize: 9,\n  cluster: false,\n  clusterDistance: 20,\n  clusterMinDistance: 0,\n  clusterValue: 'size',\n  legendName: 'Legend',\n  legendUnit: 'm'\n};\n\nexport const MARKERS_LAYER_ID = 'markers';\n\n// Used by default when nothing is configured\nexport const defaultMarkersConfig: ExtendMapLayerOptions<MarkersConfig> = {\n  type: MARKERS_LAYER_ID,\n  config: defaultOptions,\n  location: {\n    mode: ExtendFrameGeometrySourceMode.Auto,\n  },\n};\n\nenum pinshape {\n  circle = 'circle',\n  poi = 'poi',\n  bubble = 'bubble',\n  marker = 'marker',\n  coma = 'coma',\n  shield = 'shield',\n  blazon = 'blazon',\n  bookmark = 'bookmark',\n  hexagon = 'hexagon',\n  diamond = 'diamond',\n  triangle = 'triangle',\n  sign = 'sign',\n  ban = 'ban',\n  lozenge = 'lozenge',\n  square = 'square',\n}\n\n/**\n * Map layer configuration for circle overlay\n */\nexport const markersLayer: ExtendMapLayerRegistryItem<MarkersConfig> = {\n  id: MARKERS_LAYER_ID,\n  name: 'Markers',\n  description: 'use markers to render each data point',\n  isBaseMap: false,\n  showLocation: true,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: GeoMap, options: ExtendMapLayerOptions<MarkersConfig>, theme: GrafanaTheme2) => {\n    const matchers = await getLocationMatchers(options.location);\n\n    const geometryLayer = new layer.Vector({\n      title: options.name,\n      displayProperties: options.displayProperties,\n      icon: options.config?.selectIcon,\n      titleField: options.titleField,\n      timeField: options.timeField,\n    } as BaseLayerOptions);\n\n    function clusterStyle(customStyle: any, customValue: string) {\n      let pin = options.config?.showPin ?? defaultOptions.showPin;\n      let style = new Style({\n        image: new FontSymbol({\n          radius: 20,\n          fontSize: 0.3,\n          form: 'circle',\n          color: '#fff',\n          glyph: pin ? config.selectIcon : '',\n          fill: new Fill({\n            color: tinycolor(customStyle).setAlpha(0.4).toRgbString(),\n          }),\n          offsetY: -8,\n        }),\n        text: new Text({\n          font: '12px Verdana-Bold',\n          fill: new Fill({\n            color: '#fff',\n          }),\n          offsetY: 6,\n        }),\n      });\n\n      style.getText().setText(customValue);\n      return style;\n    }\n\n    function computeSum(features: Array<Feature<Geometry>>) {\n      let sum = 0;\n      const configSize = config.size;\n      features.forEach(function (f: Feature<Geometry>) {\n        if (configSize.field) {\n          const properties = f.getProperties();\n          const fields = properties.frame.fields;\n          const rowIndex = properties.rowIndex;\n          if (Array.isArray(fields)) {\n            fields.forEach(function (field) {\n              if (field.name === configSize.field) {\n                sum += field.values.buffer[rowIndex];\n              }\n            });\n          }\n        }\n      });\n      return sum;\n    }\n\n    function computeColor(field: any, config: any, value: any) {\n      if (!field) {\n        return theme.visualization.getColorByName(config.fixed) ?? 'grey';\n      }\n      const mode = getFieldColorModeForField(field);\n      if (!mode.isByValue) {\n        return mode.getCalculator(field, theme)(0, 0);\n      }\n      const scale = getScaleCalculator(field, theme);\n      return scale(value).color;\n    }\n\n    function computeClusterValue(features: Array<Feature<Geometry>>) {\n      switch (options.config?.clusterValue) {\n        case 'size':\n          return features.length;\n        case 'sum':\n          return computeSum(features);\n        case 'average':\n          return (computeSum(features) / features.length).toFixed(2);\n        default:\n          return NaN;\n      }\n    }\n\n    function formatClusterValue(features: Array<Feature<Geometry>>, value: any) {\n      switch (options.config?.clusterValue) {\n        case 'size':\n          return String(value);\n        case 'sum':\n          return String(formatValue(features, value));\n        case 'average':\n          return String(formatValue(features, value));\n        default:\n          return '';\n      }\n    }\n\n    function formatValue(features: Array<Feature<Geometry>>, value: any) {\n      const configSize = config.size;\n      let output = value;\n      features.forEach(function (f: Feature<Geometry>) {\n        if (configSize.field) {\n          const properties = f.getProperties();\n          const fields = properties.frame.fields;\n          if (Array.isArray(fields)) {\n            fields.forEach(function (field) {\n              if (field.name === configSize.field && field.display) {\n                output = formattedValueToString(field.display(value));\n              }\n            });\n          }\n        }\n      });\n      return output;\n    }\n\n    function markerStyle(customStyle: any) {\n      const enableShadow = options.config?.enableShadow ?? defaultOptions.enableShadow;\n      const enableGradient = options.config?.enableGradient ?? defaultOptions.enableGradient;\n      let styles: Style[] = [];\n      if (enableShadow) {\n        styles.push(\n          new Style({\n            image: new Shadow({\n              radius: 10,\n              blur: 5,\n              offsetX: 0,\n              offsetY: 0,\n              fill: new Fill({\n                color: 'rgba(255,255,255,0.4)',\n              }),\n            }),\n          })\n        );\n      }\n      styles.push(\n        new Style({\n          image: new FontSymbol({\n            form: config.pinShape,\n            fontSize: 0.5,\n            color: '#fff',\n            radius: config.iconSize,\n            glyph: config.selectIcon,\n            offsetY: enableShadow ? -(Number(config.iconSize) + 1) : -Number(config.iconSize),\n            gradient: enableGradient,\n            fill: new Fill({ color: customStyle.color }),\n          }),\n        })\n      );\n      let image: Image = new FontSymbol({});\n      if (enableShadow) {\n        image = styles[1].getImage();\n      } else {\n        image = styles[0].getImage();\n      }\n      if (image && image instanceof FontSymbol) {\n        image.getFill().setColor(customStyle.color);\n      }\n      return styles;\n    }\n\n    function getNewThreshold(override: string) {\n      const thresholdJson = JSON.parse(override);\n      // One more color than threshold\n      const thresholds: Threshold[] = [];\n      for (const entry of thresholdJson) {\n        const idx = thresholds.length - 1;\n        const level = parseInt(entry[\"value\"],10);\n        const color = entry[\"color\"];\n        if (idx >= 0) {\n          thresholds.push({ value: level, color });\n        } else {\n          thresholds.push({ value: -Infinity, color });\n        }\n      }\n      return {\n        mode: ThresholdsMode.Absolute,\n        steps: thresholds,\n      };\n    }\n\n    function replaceThresholdInData(data: PanelData, thresholdOverride: string) {\n      let newThresholds = getNewThreshold(thresholdOverride);\n      for (let frame of data.series) {\n        for(let field of frame.fields) {\n          console.log(field.config.thresholds);\n          console.log(newThresholds);\n          field.config.thresholds = newThresholds;\n        }\n      }\n    }\n\n    const addOnLayer = options.config?.cluster\n      ? new layer.Vector({\n          displayProperties: options.displayProperties,\n          icon: options.config?.selectIcon,\n          titleField: options.titleField,\n          timeField: options.timeField,\n          style: function (feature: RenderFeature | Feature<Geometry>) {\n            let size = feature.get('features').length;\n            if (size > 1) {\n              let config: any = feature.get('features')[0].get('config');\n              let value = computeClusterValue(feature.get('features'));\n              return clusterStyle(\n                computeColor(findField(config.frame, config.config), config.config, value),\n                formatClusterValue(feature.get('features'), value)\n              );\n            } else if (size === 1) {\n              let customStyle = feature.get('features')[0].get('style');\n              return markerStyle(customStyle);\n            }\n            return null;\n          },\n        } as BaseLayerOptions)\n      : new layer.Vector({\n          displayProperties: options.displayProperties,\n          icon: options.config?.selectIcon,\n          titleField: options.titleField,\n          timeField: options.timeField,\n        } as BaseLayerOptions);\n\n    const vectorLayer = new layer.Group({\n      layers: [geometryLayer, addOnLayer],\n      title: options.name,\n      combine: true,\n      type: 'base'\n    } as GroupLayerOptions);\n\n    // Assert default values\n    const config = {\n      ...defaultOptions,\n      ...options?.config,\n    };\n\n    const legendProps = new ReplaySubject<MarkersLegendProps>(1);\n\n    let legend: ReactNode = null;\n    if (config.showLegend) {\n      legend = <ObservablePropsWrapper watch={legendProps} initialSubProps={{}} child={MarkersLegend} />;\n    }\n    const shape = markerMakers.getIfExists(config.shape) ?? circleMarker;\n\n    return {\n      init: () => vectorLayer,\n      legend: legend,\n      update: (data: PanelData) => {\n        if (!data.series?.length) {\n          geometryLayer?.getSource()?.clear();\n          let features = geometryLayer?.getSource()?.getFeatures();\n          features?.forEach((feature) => {\n            geometryLayer?.getSource()?.removeFeature(feature);\n          });          \n        }\n\n        const geometryFeatures: Array<Feature<Geometry>> = [];\n        const pinFeatures: Array<Feature<Point>> = [];\n        const opacity = options.config?.fillOpacity ?? defaultOptions.fillOpacity;\n\n        const showPin = options.config?.showPin ?? defaultOptions.showPin;\n        const cluster = options.config?.cluster ?? defaultOptions.cluster;\n\n        if (config.thresholdOverride) {\n          replaceThresholdInData(data,config.thresholdOverride);\n        }\n        for (let frame of data.series) {\n          if ((options.query && options.query.options === frame.refId) || (frame.meta)) {\n            const info = dataFrameToPoints(frame, matchers);\n            if (info.warning) {\n              console.log('Could not find locations', info.warning);\n              continue; // ???\n            }\n\n            const colorDim = getColorDimension(frame, config.color, theme);\n            \n            const sizeDim = getScaledDimension(frame, config.size);\n            const legendName = config.legendName;\n            const legendUnit = config.legendUnit;\n            // Map each data value into new points\n            for (let i = 0; i < frame.length; i++) {\n              // Get the circle color for a specific data value depending on color scheme\n              const color = colorDim.get(i);\n              // Set the opacity determined from user configuration\n              const fillColor = tinycolor(color).setAlpha(opacity).toRgbString();\n              // Get circle size from user configuration\n              const radius = sizeDim.get(i);\n\n              // Create a new Feature for each point returned from dataFrameToPoints\n              try {\n                const geoType = info.points[i].getType();\n                const geometry = new Feature(info.points[i]);\n                if (geoType === 'Point') {\n                  geometry.setStyle(shape!.make(color, fillColor, radius));\n                } else {\n                  const strokeSize = getScaledDimension(frame, config.geoJsonStrokeSize);\n                  let style = new Style({\n                    stroke: new Stroke({\n                      color: color,\n                      width: strokeSize.get(i),\n                    }),\n                    fill: new Fill({\n                      color: fillColor,\n                    }),\n                  });\n                  geometry.setStyle(style);\n                }\n                geometryFeatures.push(geometry);\n                if (showPin || cluster) {\n                  const center = getCenter(info.points[i].getExtent());\n                  const pin = new Feature(new Point(center));\n                  pin.setStyle(markerStyle({ color: color }));\n                  pin.set('style', { color: color, fillColor: fillColor });\n                  if (cluster) {\n                    pin.set('config', { frame: frame, config: config.color });\n                  }\n                  pin.setProperties({\n                    frame,\n                    rowIndex: i,\n                  });\n                  pinFeatures.push(pin);\n                } else {\n                  geometry.setProperties({\n                    frame,\n                    rowIndex: i,\n                  });\n                }\n              } catch (error) {\n                console.log(error);\n              }\n            }\n            // Post updates to the legend component\n            if (legend) {\n              legendProps.next({\n                color: colorDim,\n                name: legendName,\n                unit: legendUnit,\n                size: sizeDim\n              });\n            }\n            break; // Only the first frame for now!\n          }\n        }\n\n        // Source reads the data and provides a set of features to visualize\n        const geometrySource = new source.Vector({\n          features: geometryFeatures,\n        });\n        geometryLayer.setSource(geometrySource);\n\n        if (showPin || cluster) {\n          const pinSource = new source.Vector({\n            features: pinFeatures,\n          });\n\n          if (cluster) {\n            const clusterSource = new Cluster({\n              distance: options.config?.clusterDistance ?? defaultOptions.clusterDistance,\n              minDistance: options.config?.clusterMinDistance ?? defaultOptions.clusterMinDistance,\n              source: pinSource,\n            });\n            addOnLayer.setSource(clusterSource);\n          } else {\n            addOnLayer.setSource(pinSource);\n          }\n        }\n      },\n    };\n  },\n  // Marker overlay options\n  registerOptionsUI: (builder) => {\n    const iconType = Object.getOwnPropertyNames(FontSymbol.prototype.defs.glyphs);\n    let iconValues: any = [];\n    iconValues.push({ value: '', label: 'none' });\n    iconType.map((n) => iconValues.push({ value: n, label: n.replace('fa-', '') }));\n\n    builder\n      .addCustomEditor({\n        id: 'config.color',\n        path: 'config.color',\n        name: 'Marker Color',\n        editor: ColorDimensionEditor,\n        settings: {},\n        defaultValue: {\n          // Configured values\n          fixed: 'grey',\n        },\n      })\n      .addCustomEditor({\n        id: 'config.size',\n        path: 'config.size',\n        name: 'Marker Size',\n        editor: ScaleDimensionEditor,\n        settings: {\n          min: 1,\n          max: 100, // possible in the UI\n        },\n        defaultValue: {\n          // Configured values\n          fixed: 5,\n          min: 1,\n          max: 20,\n        },\n      })\n      .addSelect({\n        path: 'config.shape',\n        name: 'Marker Shape',\n        settings: {\n          options: markerMakers.selectOptions().options,\n        },\n        defaultValue: 'circle',\n      })\n      .addSliderInput({\n        path: 'config.fillOpacity',\n        name: 'Fill opacity',\n        defaultValue: defaultOptions.fillOpacity,\n        settings: {\n          min: 0,\n          max: 1,\n          step: 0.1,\n        },\n        showIf: (cfg) => markerMakers.getIfExists((cfg as any).config?.shape)?.hasFill,\n      })\n      .addBooleanSwitch({\n        path: 'config.showPin',\n        name: 'Show pin',\n        description: 'Show pin',\n        defaultValue: defaultOptions.showPin,\n      })\n      .addTextInput({\n        path: 'config.legendName',\n        name: 'Legend name',\n        description: 'Legend label',\n        defaultValue: defaultOptions.legendName,\n      })\n      .addSelect({\n        path: 'config.pinShape',\n        name: 'Pin Shape',\n        settings: {\n          options: [\n            { value: pinshape.bubble, label: 'bubble' },\n            { value: pinshape.circle, label: 'circle' },\n            { value: pinshape.coma, label: 'coma' },\n            { value: pinshape.diamond, label: 'diamond' },\n            { value: pinshape.hexagon, label: 'hexagon' },\n            { value: pinshape.lozenge, label: 'lozenge' },\n            { value: pinshape.marker, label: 'marker' },\n            { value: pinshape.poi, label: 'poi' },\n            { value: pinshape.square, label: 'square' },\n            { value: pinshape.triangle, label: 'triangle' },\n            { value: pinshape.shield, label: 'shield' },\n            { value: pinshape.sign, label: 'sign' },\n          ],\n        },\n        defaultValue: pinshape.marker,\n        showIf: (cfg) => cfg.config?.showPin === true,\n      })\n      .addNumberInput({\n        path: 'config.iconSize',\n        name: 'Pin size',\n        defaultValue: defaultOptions.iconSize,\n        showIf: (cfg) => cfg.config?.showPin === true,\n      })\n      .addCustomEditor({\n        id: 'config.geoJsonStrokeSize',\n        path: 'config.geoJsonStrokeSize',\n        name: 'Geometry Stroke Size',\n        editor: ScaleDimensionEditor,\n        settings: {\n          min: 1,\n          max: 10, // possible in the UI\n        },\n        defaultValue: {\n          // Configured values\n          fixed: 5,\n          min: 1,\n          max: 10,\n        },\n      })\n      .addSelect({\n        path: 'config.selectIcon',\n        name: 'Select icon for the pin',\n        settings: {\n          options: iconValues,\n        },\n        defaultValue: 'none',\n        showIf: (cfg) => cfg.config?.showPin === true,\n      })\n      .addBooleanSwitch({\n        path: 'config.enableShadow',\n        name: 'Enable shadow for the pin',\n        defaultValue: false,\n        showIf: (cfg) => cfg.config?.showPin === true,\n      })\n      .addBooleanSwitch({\n        path: 'config.enableGradient',\n        name: 'Enable gradient for the pin',\n        defaultValue: false,\n        showIf: (cfg) => cfg.config?.showPin === true,\n      })\n      .addBooleanSwitch({\n        path: 'config.showLegend',\n        name: 'Show legend',\n        description: 'Show legend',\n        defaultValue: defaultOptions.showLegend,\n      })\n      .addBooleanSwitch({\n        path: 'config.cluster',\n        name: 'Cluster geometries',\n        description: 'Cluster geometries',\n        defaultValue: defaultOptions.cluster,\n      })\n      .addSliderInput({\n        path: 'config.clusterDistance',\n        name: 'Distance',\n        description: 'Distance in pixels within which features will be clustered together.',\n        defaultValue: defaultOptions.clusterDistance,\n        settings: {\n          min: 0,\n          max: 100,\n          step: 1,\n        },\n        showIf: (cfg) => cfg.config?.cluster === true,\n      })\n      .addSliderInput({\n        path: 'config.clusterMinDistance',\n        name: 'Min distance',\n        description: 'Minimum distance in pixels between clusters.',\n        defaultValue: defaultOptions.clusterMinDistance,\n        settings: {\n          min: 0,\n          max: 50,\n          step: 1,\n        },\n        showIf: (cfg) => cfg.config?.cluster === true,\n      })\n      .addSelect({\n        path: 'config.clusterValue',\n        name: 'Value to display',\n        description: 'Value to display in the cluster',\n        defaultValue: defaultOptions.clusterValue,\n        settings: {\n          options: [\n            { value: 'none', label: 'none' },\n            { value: 'size', label: 'size' },\n            { value: 'average', label: 'average' },\n            { value: 'sum', label: 'sum' },\n          ],\n        },\n        showIf: (cfg) => cfg.config?.cluster === true,\n      })\n      .addTextInput({\n        path: 'config.thresholdOverride',\n        name: 'Threshold Override',\n        description: 'Thershold Override'\n      })\n      .addTextInput({\n        path: 'config.legendUnit',\n        name: 'Legend unit',\n        description: 'Legend unit'\n      })\n  },\n\n  // fill in the default values\n  defaultOptions,\n};\n","import { PanelData, GrafanaTheme2, PluginState } from '@grafana/data';\nimport Map from 'ol/Map';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport GeoJSON from 'ol/format/GeoJSON';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\n\nexport interface GeoJSONMapperConfig {\n  // URL for a geojson file\n  src?: string;\n\n  // Field name that will map to each featureId\n  idField?: string;\n\n  // Field to use that will set color\n  valueField?: string;\n}\n\nconst defaultOptions: GeoJSONMapperConfig = {\n  src: 'public/maps/countries.geojson',\n};\n\nexport const geojsonMapper: ExtendMapLayerRegistryItem<GeoJSONMapperConfig> = {\n  id: 'geojson-value-mapper',\n  name: 'Map values to GeoJSON file',\n  description: 'color features based on query results',\n  isBaseMap: false,\n  state: PluginState.alpha,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions<GeoJSONMapperConfig>, theme: GrafanaTheme2) => {\n    const config = { ...defaultOptions, ...options.config };\n\n    const source = new VectorSource({\n      url: config.src,\n      format: new GeoJSON(),\n    });\n\n    const vectorLayer = new VectorLayer({\n      source,\n    });\n\n    return {\n      init: () => vectorLayer,\n      update: (data: PanelData) => {\n        console.log('todo... find values matching the ID and update');\n\n        // Update each feature\n        source.getFeatures().forEach((f) => {\n          console.log('Find: ', f.getId(), f.getProperties());\n        });\n      },\n    };\n  },\n\n  // Geojson source url\n  registerOptionsUI: (builder) => {\n    builder.addSelect({\n      path: 'config.src',\n      name: 'GeoJSON URL',\n      settings: {\n        options: [\n          { label: 'public/maps/countries.geojson', value: 'public/maps/countries.geojson' },\n          { label: 'public/maps/usa-states.geojson', value: 'public/maps/usa-states.geojson' },\n        ],\n        allowCustomValue: true,\n      },\n      defaultValue: defaultOptions.src,\n    });\n  },\n\n  // fill in the default values\n  defaultOptions,\n};\n","/**\n * @module ol/webgl\n */\nimport { SAFARI_BUG_237906 } from './has.js';\nimport { assign } from './obj.js';\n/**\n * Constants taken from goog.webgl\n */\n/**\n * Used by {@link module:ol/webgl/Helper~WebGLHelper} for buffers containing vertices data, such as\n * position, color, texture coordinate, etc. These vertices are then referenced by an index buffer\n * to be drawn on screen (see {@link module:ol/webgl.ELEMENT_ARRAY_BUFFER}).\n * @const\n * @type {number}\n * @api\n */\nexport var ARRAY_BUFFER = 0x8892;\n/**\n * Used by {@link module:ol/webgl/Helper~WebGLHelper} for buffers containing indices data.\n * Index buffers are essentially lists of references to vertices defined in a vertex buffer\n * (see {@link module:ol/webgl.ARRAY_BUFFER}), and define the primitives (triangles) to be drawn.\n * @const\n * @type {number}\n * @api\n */\nexport var ELEMENT_ARRAY_BUFFER = 0x8893;\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport var STREAM_DRAW = 0x88e0;\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport var STATIC_DRAW = 0x88e4;\n/**\n * Used by {link module:ol/webgl/Buffer~WebGLArrayBuffer}.\n * @const\n * @type {number}\n * @api\n */\nexport var DYNAMIC_DRAW = 0x88e8;\n/**\n * @const\n * @type {number}\n */\nexport var UNSIGNED_BYTE = 0x1401;\n/**\n * @const\n * @type {number}\n */\nexport var UNSIGNED_SHORT = 0x1403;\n/**\n * @const\n * @type {number}\n */\nexport var UNSIGNED_INT = 0x1405;\n/**\n * @const\n * @type {number}\n */\nexport var FLOAT = 0x1406;\n/** end of goog.webgl constants\n */\n/**\n * @const\n * @type {Array<string>}\n */\nvar CONTEXT_IDS = ['experimental-webgl', 'webgl', 'webkit-3d', 'moz-webgl'];\n/**\n * @param {HTMLCanvasElement} canvas Canvas.\n * @param {Object} [opt_attributes] Attributes.\n * @return {WebGLRenderingContext} WebGL rendering context.\n */\nexport function getContext(canvas, opt_attributes) {\n    var attributes = assign({\n        preserveDrawingBuffer: true,\n        antialias: SAFARI_BUG_237906 ? false : true, // https://bugs.webkit.org/show_bug.cgi?id=237906\n    }, opt_attributes);\n    var ii = CONTEXT_IDS.length;\n    for (var i = 0; i < ii; ++i) {\n        try {\n            var context = canvas.getContext(CONTEXT_IDS[i], attributes);\n            if (context) {\n                return /** @type {!WebGLRenderingContext} */ (context);\n            }\n        }\n        catch (e) {\n            // pass\n        }\n    }\n    return null;\n}\n/**\n * @type {Array<string>}\n */\nvar supportedExtensions;\n/**\n * @return {Array<string>} List of supported WebGL extensions.\n */\nexport function getSupportedExtensions() {\n    if (!supportedExtensions) {\n        var canvas = document.createElement('canvas');\n        var gl = getContext(canvas);\n        if (gl) {\n            supportedExtensions = gl.getSupportedExtensions();\n        }\n    }\n    return supportedExtensions;\n}\n//# sourceMappingURL=webgl.js.map","/**\n * @module ol/webgl/Buffer\n */\nimport { ARRAY_BUFFER, DYNAMIC_DRAW, ELEMENT_ARRAY_BUFFER, STATIC_DRAW, STREAM_DRAW, } from '../webgl.js';\nimport { assert } from '../asserts.js';\n/**\n * Used to describe the intended usage for the data: `STATIC_DRAW`, `STREAM_DRAW`\n * or `DYNAMIC_DRAW`.\n * @enum {number}\n */\nexport var BufferUsage = {\n    STATIC_DRAW: STATIC_DRAW,\n    STREAM_DRAW: STREAM_DRAW,\n    DYNAMIC_DRAW: DYNAMIC_DRAW,\n};\n/**\n * @classdesc\n * Object used to store an array of data as well as usage information for that data.\n * Stores typed arrays internally, either Float32Array or Uint16/32Array depending on\n * the buffer type (ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER) and available extensions.\n *\n * To populate the array, you can either use:\n * * A size using `#ofSize(buffer)`\n * * An `ArrayBuffer` object using `#fromArrayBuffer(buffer)`\n * * A plain array using `#fromArray(array)`\n *\n * Note:\n * See the documentation of [WebGLRenderingContext.bufferData](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/bufferData)\n * for more info on buffer usage.\n * @api\n */\nvar WebGLArrayBuffer = /** @class */ (function () {\n    /**\n     * @param {number} type Buffer type, either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER.\n     * @param {number} [opt_usage] Intended usage, either `STATIC_DRAW`, `STREAM_DRAW` or `DYNAMIC_DRAW`.\n     * Default is `DYNAMIC_DRAW`.\n     */\n    function WebGLArrayBuffer(type, opt_usage) {\n        /**\n         * @private\n         * @type {Float32Array|Uint32Array}\n         */\n        this.array = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.type = type;\n        assert(type === ARRAY_BUFFER || type === ELEMENT_ARRAY_BUFFER, 62);\n        /**\n         * @private\n         * @type {number}\n         */\n        this.usage = opt_usage !== undefined ? opt_usage : BufferUsage.STATIC_DRAW;\n    }\n    /**\n     * Populates the buffer with an array of the given size (all values will be zeroes).\n     * @param {number} size Array size\n     */\n    WebGLArrayBuffer.prototype.ofSize = function (size) {\n        this.array = new (getArrayClassForType(this.type))(size);\n    };\n    /**\n     * Populates the buffer with an array of the given size (all values will be zeroes).\n     * @param {Array<number>} array Numerical array\n     */\n    WebGLArrayBuffer.prototype.fromArray = function (array) {\n        var arrayClass = getArrayClassForType(this.type);\n        this.array = arrayClass.from\n            ? arrayClass.from(array)\n            : new arrayClass(array);\n    };\n    /**\n     * Populates the buffer with a raw binary array buffer.\n     * @param {ArrayBuffer} buffer Raw binary buffer to populate the array with. Note that this buffer must have been\n     * initialized for the same typed array class.\n     */\n    WebGLArrayBuffer.prototype.fromArrayBuffer = function (buffer) {\n        this.array = new (getArrayClassForType(this.type))(buffer);\n    };\n    /**\n     * @return {number} Buffer type.\n     */\n    WebGLArrayBuffer.prototype.getType = function () {\n        return this.type;\n    };\n    /**\n     * Will return null if the buffer was not initialized\n     * @return {Float32Array|Uint32Array} Array.\n     */\n    WebGLArrayBuffer.prototype.getArray = function () {\n        return this.array;\n    };\n    /**\n     * @return {number} Usage.\n     */\n    WebGLArrayBuffer.prototype.getUsage = function () {\n        return this.usage;\n    };\n    /**\n     * Will return 0 if the buffer is not initialized\n     * @return {number} Array size\n     */\n    WebGLArrayBuffer.prototype.getSize = function () {\n        return this.array ? this.array.length : 0;\n    };\n    return WebGLArrayBuffer;\n}());\n/**\n * Returns a typed array constructor based on the given buffer type\n * @param {number} type Buffer type, either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER.\n * @return {Float32ArrayConstructor|Uint32ArrayConstructor} The typed array class to use for this buffer.\n */\nexport function getArrayClassForType(type) {\n    switch (type) {\n        case ARRAY_BUFFER:\n            return Float32Array;\n        case ELEMENT_ARRAY_BUFFER:\n            return Uint32Array;\n        default:\n            return Float32Array;\n    }\n}\nexport default WebGLArrayBuffer;\n//# sourceMappingURL=Buffer.js.map","/**\n * @module ol/webgl/ContextEventType\n */\n/**\n * @enum {string}\n */\nexport default {\n    LOST: 'webglcontextlost',\n    RESTORED: 'webglcontextrestored',\n};\n//# sourceMappingURL=ContextEventType.js.map","/**\n * @module ol/webgl/PostProcessingPass\n */\nimport { getUid } from '../util.js';\nvar DEFAULT_VERTEX_SHADER = \"\\n  precision mediump float;\\n  \\n  attribute vec2 a_position;\\n  varying vec2 v_texCoord;\\n  varying vec2 v_screenCoord;\\n  \\n  uniform vec2 u_screenSize;\\n   \\n  void main() {\\n    v_texCoord = a_position * 0.5 + 0.5;\\n    v_screenCoord = v_texCoord * u_screenSize;\\n    gl_Position = vec4(a_position, 0.0, 1.0);\\n  }\\n\";\nvar DEFAULT_FRAGMENT_SHADER = \"\\n  precision mediump float;\\n   \\n  uniform sampler2D u_image;\\n  uniform float u_opacity;\\n   \\n  varying vec2 v_texCoord;\\n   \\n  void main() {\\n    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\\n  }\\n\";\n/**\n * @typedef {Object} Options\n * @property {WebGLRenderingContext} webGlContext WebGL context; mandatory.\n * @property {number} [scaleRatio] Scale ratio; if < 1, the post process will render to a texture smaller than\n * the main canvas that will then be sampled up (useful for saving resource on blur steps).\n * @property {string} [vertexShader] Vertex shader source\n * @property {string} [fragmentShader] Fragment shader source\n * @property {Object<string,import(\"./Helper\").UniformValue>} [uniforms] Uniform definitions for the post process step\n */\n/**\n * @typedef {Object} UniformInternalDescription\n * @property {import(\"./Helper\").UniformValue} value Value\n * @property {number} location Location\n * @property {WebGLTexture} [texture] Texture\n * @private\n */\n/**\n * @classdesc\n * This class is used to define Post Processing passes with custom shaders and uniforms.\n * This is used internally by {@link module:ol/webgl/Helper~WebGLHelper}.\n *\n * Please note that the final output on the DOM canvas is expected to have premultiplied alpha, which means that\n * a pixel which is 100% red with an opacity of 50% must have a color of (r=0.5, g=0, b=0, a=0.5).\n * Failing to provide pixel colors with premultiplied alpha will result in render anomalies.\n *\n * The default post-processing pass does *not* multiply color values with alpha value, it expects color values to be\n * premultiplied.\n *\n * Default shaders are shown hereafter:\n *\n * * Vertex shader:\n *\n *   ```\n *   precision mediump float;\n *\n *   attribute vec2 a_position;\n *   varying vec2 v_texCoord;\n *   varying vec2 v_screenCoord;\n *\n *   uniform vec2 u_screenSize;\n *\n *   void main() {\n *     v_texCoord = a_position * 0.5 + 0.5;\n *     v_screenCoord = v_texCoord * u_screenSize;\n *     gl_Position = vec4(a_position, 0.0, 1.0);\n *   }\n *   ```\n *\n * * Fragment shader:\n *\n *   ```\n *   precision mediump float;\n *\n *   uniform sampler2D u_image;\n *   uniform float u_opacity;\n *\n *   varying vec2 v_texCoord;\n *\n *   void main() {\n *     gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;\n *   }\n *   ```\n *\n * @api\n */\nvar WebGLPostProcessingPass = /** @class */ (function () {\n    /**\n     * @param {Options} options Options.\n     */\n    function WebGLPostProcessingPass(options) {\n        this.gl_ = options.webGlContext;\n        var gl = this.gl_;\n        this.scaleRatio_ = options.scaleRatio || 1;\n        this.renderTargetTexture_ = gl.createTexture();\n        this.renderTargetTextureSize_ = null;\n        this.frameBuffer_ = gl.createFramebuffer();\n        // compile the program for the frame buffer\n        // TODO: make compilation errors show up\n        var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, options.vertexShader || DEFAULT_VERTEX_SHADER);\n        gl.compileShader(vertexShader);\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, options.fragmentShader || DEFAULT_FRAGMENT_SHADER);\n        gl.compileShader(fragmentShader);\n        this.renderTargetProgram_ = gl.createProgram();\n        gl.attachShader(this.renderTargetProgram_, vertexShader);\n        gl.attachShader(this.renderTargetProgram_, fragmentShader);\n        gl.linkProgram(this.renderTargetProgram_);\n        // bind the vertices buffer for the frame buffer\n        this.renderTargetVerticesBuffer_ = gl.createBuffer();\n        var verticesArray = [-1, -1, 1, -1, -1, 1, 1, -1, 1, 1, -1, 1];\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.renderTargetVerticesBuffer_);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(verticesArray), gl.STATIC_DRAW);\n        this.renderTargetAttribLocation_ = gl.getAttribLocation(this.renderTargetProgram_, 'a_position');\n        this.renderTargetUniformLocation_ = gl.getUniformLocation(this.renderTargetProgram_, 'u_screenSize');\n        this.renderTargetOpacityLocation_ = gl.getUniformLocation(this.renderTargetProgram_, 'u_opacity');\n        this.renderTargetTextureLocation_ = gl.getUniformLocation(this.renderTargetProgram_, 'u_image');\n        /**\n         * Holds info about custom uniforms used in the post processing pass\n         * @type {Array<UniformInternalDescription>}\n         * @private\n         */\n        this.uniforms_ = [];\n        options.uniforms &&\n            Object.keys(options.uniforms).forEach(function (name) {\n                this.uniforms_.push({\n                    value: options.uniforms[name],\n                    location: gl.getUniformLocation(this.renderTargetProgram_, name),\n                });\n            }.bind(this));\n    }\n    /**\n     * Get the WebGL rendering context\n     * @return {WebGLRenderingContext} The rendering context.\n     * @api\n     */\n    WebGLPostProcessingPass.prototype.getGL = function () {\n        return this.gl_;\n    };\n    /**\n     * Initialize the render target texture of the post process, make sure it is at the\n     * right size and bind it as a render target for the next draw calls.\n     * The last step to be initialized will be the one where the primitives are rendered.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState current frame state\n     * @api\n     */\n    WebGLPostProcessingPass.prototype.init = function (frameState) {\n        var gl = this.getGL();\n        var textureSize = [\n            gl.drawingBufferWidth * this.scaleRatio_,\n            gl.drawingBufferHeight * this.scaleRatio_,\n        ];\n        // rendering goes to my buffer\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.getFrameBuffer());\n        gl.viewport(0, 0, textureSize[0], textureSize[1]);\n        // if size has changed: adjust canvas & render target texture\n        if (!this.renderTargetTextureSize_ ||\n            this.renderTargetTextureSize_[0] !== textureSize[0] ||\n            this.renderTargetTextureSize_[1] !== textureSize[1]) {\n            this.renderTargetTextureSize_ = textureSize;\n            // create a new texture\n            var level = 0;\n            var internalFormat = gl.RGBA;\n            var border = 0;\n            var format = gl.RGBA;\n            var type = gl.UNSIGNED_BYTE;\n            var data = null;\n            gl.bindTexture(gl.TEXTURE_2D, this.renderTargetTexture_);\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, textureSize[0], textureSize[1], border, format, type, data);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            // bind the texture to the framebuffer\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.renderTargetTexture_, 0);\n        }\n    };\n    /**\n     * Render to the next postprocessing pass (or to the canvas if final pass).\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState current frame state\n     * @param {WebGLPostProcessingPass} [nextPass] Next pass, optional\n     * @param {function(WebGLRenderingContext, import(\"../PluggableMap.js\").FrameState):void} [preCompose] Called before composing.\n     * @param {function(WebGLRenderingContext, import(\"../PluggableMap.js\").FrameState):void} [postCompose] Called before composing.\n     * @api\n     */\n    WebGLPostProcessingPass.prototype.apply = function (frameState, nextPass, preCompose, postCompose) {\n        var gl = this.getGL();\n        var size = frameState.size;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, nextPass ? nextPass.getFrameBuffer() : null);\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, this.renderTargetTexture_);\n        if (!nextPass) {\n            // clear the canvas if we are the first to render to it\n            // and preserveDrawingBuffer is true\n            var canvasId = getUid(gl.canvas);\n            if (!frameState.renderTargets[canvasId]) {\n                var attributes = gl.getContextAttributes();\n                if (attributes && attributes.preserveDrawingBuffer) {\n                    gl.clearColor(0.0, 0.0, 0.0, 0.0);\n                    gl.clear(gl.COLOR_BUFFER_BIT);\n                }\n                frameState.renderTargets[canvasId] = true;\n            }\n        }\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.renderTargetVerticesBuffer_);\n        gl.useProgram(this.renderTargetProgram_);\n        gl.enableVertexAttribArray(this.renderTargetAttribLocation_);\n        gl.vertexAttribPointer(this.renderTargetAttribLocation_, 2, gl.FLOAT, false, 0, 0);\n        gl.uniform2f(this.renderTargetUniformLocation_, size[0], size[1]);\n        gl.uniform1i(this.renderTargetTextureLocation_, 0);\n        var opacity = frameState.layerStatesArray[frameState.layerIndex].opacity;\n        gl.uniform1f(this.renderTargetOpacityLocation_, opacity);\n        this.applyUniforms(frameState);\n        if (preCompose) {\n            preCompose(gl, frameState);\n        }\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        if (postCompose) {\n            postCompose(gl, frameState);\n        }\n    };\n    /**\n     * @return {WebGLFramebuffer} Frame buffer\n     * @api\n     */\n    WebGLPostProcessingPass.prototype.getFrameBuffer = function () {\n        return this.frameBuffer_;\n    };\n    /**\n     * Sets the custom uniforms based on what was given in the constructor.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLPostProcessingPass.prototype.applyUniforms = function (frameState) {\n        var gl = this.getGL();\n        var value;\n        var textureSlot = 1;\n        this.uniforms_.forEach(function (uniform) {\n            value =\n                typeof uniform.value === 'function'\n                    ? uniform.value(frameState)\n                    : uniform.value;\n            // apply value based on type\n            if (value instanceof HTMLCanvasElement || value instanceof ImageData) {\n                // create a texture & put data\n                if (!uniform.texture) {\n                    uniform.texture = gl.createTexture();\n                }\n                gl.activeTexture(gl[\"TEXTURE\".concat(textureSlot)]);\n                gl.bindTexture(gl.TEXTURE_2D, uniform.texture);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n                if (value instanceof ImageData) {\n                    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, value.width, value.height, 0, gl.UNSIGNED_BYTE, new Uint8Array(value.data));\n                }\n                else {\n                    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, value);\n                }\n                // fill texture slots\n                gl.uniform1i(uniform.location, textureSlot++);\n            }\n            else if (Array.isArray(value)) {\n                switch (value.length) {\n                    case 2:\n                        gl.uniform2f(uniform.location, value[0], value[1]);\n                        return;\n                    case 3:\n                        gl.uniform3f(uniform.location, value[0], value[1], value[2]);\n                        return;\n                    case 4:\n                        gl.uniform4f(uniform.location, value[0], value[1], value[2], value[3]);\n                        return;\n                    default:\n                        return;\n                }\n            }\n            else if (typeof value === 'number') {\n                gl.uniform1f(uniform.location, value);\n            }\n        });\n    };\n    return WebGLPostProcessingPass;\n}());\nexport default WebGLPostProcessingPass;\n//# sourceMappingURL=PostProcessingPass.js.map","/**\n * @module ol/vec/mat4\n */\n/**\n * @return {Array<number>} \"4x4 matrix representing a 3D identity transform.\"\n */\nexport function create() {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\n/**\n * @param {Array<number>} mat4 Flattened 4x4 matrix receiving the result.\n * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\n * @return {Array<number>} \"2D transformation matrix as flattened 4x4 matrix.\"\n */\nexport function fromTransform(mat4, transform) {\n    mat4[0] = transform[0];\n    mat4[1] = transform[1];\n    mat4[4] = transform[2];\n    mat4[5] = transform[3];\n    mat4[12] = transform[4];\n    mat4[13] = transform[5];\n    return mat4;\n}\n//# sourceMappingURL=mat4.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/webgl/Helper\n */\nimport ContextEventType from '../webgl/ContextEventType.js';\nimport Disposable from '../Disposable.js';\nimport WebGLPostProcessingPass from './PostProcessingPass.js';\nimport { FLOAT, UNSIGNED_BYTE, UNSIGNED_INT, UNSIGNED_SHORT, getContext, } from '../webgl.js';\nimport { clear } from '../obj.js';\nimport { compose as composeTransform, create as createTransform, reset as resetTransform, rotate as rotateTransform, scale as scaleTransform, } from '../transform.js';\nimport { create, fromTransform } from '../vec/mat4.js';\nimport { getUid } from '../util.js';\n/**\n * @typedef {Object} BufferCacheEntry\n * @property {import(\"./Buffer.js\").default} buffer Buffer.\n * @property {WebGLBuffer} webGlBuffer WebGlBuffer.\n */\n/**\n * Shader types, either `FRAGMENT_SHADER` or `VERTEX_SHADER`.\n * @enum {number}\n */\nexport var ShaderType = {\n    FRAGMENT_SHADER: 0x8b30,\n    VERTEX_SHADER: 0x8b31,\n};\n/**\n * Uniform names used in the default shaders: `PROJECTION_MATRIX`, `OFFSET_SCALE_MATRIX`.\n * and `OFFSET_ROTATION_MATRIX`.\n * @enum {string}\n */\nexport var DefaultUniform = {\n    PROJECTION_MATRIX: 'u_projectionMatrix',\n    OFFSET_SCALE_MATRIX: 'u_offsetScaleMatrix',\n    OFFSET_ROTATION_MATRIX: 'u_offsetRotateMatrix',\n    TIME: 'u_time',\n    ZOOM: 'u_zoom',\n    RESOLUTION: 'u_resolution',\n};\n/**\n * Attribute types, either `UNSIGNED_BYTE`, `UNSIGNED_SHORT`, `UNSIGNED_INT` or `FLOAT`\n * Note: an attribute stored in a `Float32Array` should be of type `FLOAT`.\n * @enum {number}\n */\nexport var AttributeType = {\n    UNSIGNED_BYTE: UNSIGNED_BYTE,\n    UNSIGNED_SHORT: UNSIGNED_SHORT,\n    UNSIGNED_INT: UNSIGNED_INT,\n    FLOAT: FLOAT,\n};\n/**\n * Description of an attribute in a buffer\n * @typedef {Object} AttributeDescription\n * @property {string} name Attribute name to use in shaders\n * @property {number} size Number of components per attributes\n * @property {AttributeType} [type] Attribute type, i.e. number of bytes used to store the value. This is\n * determined by the class of typed array which the buffer uses (eg. `Float32Array` for a `FLOAT` attribute).\n * Default is `FLOAT`.\n */\n/**\n * @typedef {number|Array<number>|HTMLCanvasElement|HTMLImageElement|ImageData|import(\"../transform\").Transform} UniformLiteralValue\n */\n/**\n * Uniform value can be a number, array of numbers (2 to 4), canvas element or a callback returning\n * one of the previous types.\n * @typedef {UniformLiteralValue|function(import(\"../PluggableMap.js\").FrameState):UniformLiteralValue} UniformValue\n */\n/**\n * @typedef {Object} PostProcessesOptions\n * @property {number} [scaleRatio] Scale ratio; if < 1, the post process will render to a texture smaller than\n * the main canvas which will then be sampled up (useful for saving resource on blur steps).\n * @property {string} [vertexShader] Vertex shader source\n * @property {string} [fragmentShader] Fragment shader source\n * @property {Object<string,UniformValue>} [uniforms] Uniform definitions for the post process step\n */\n/**\n * @typedef {Object} Options\n * @property {Object<string,UniformValue>} [uniforms] Uniform definitions; property names must match the uniform\n * names in the provided or default shaders.\n * @property {Array<PostProcessesOptions>} [postProcesses] Post-processes definitions\n * @property {string} [canvasCacheKey] The cache key for the canvas.\n */\n/**\n * @typedef {Object} UniformInternalDescription\n * @property {string} name Name\n * @property {UniformValue} [value] Value\n * @property {WebGLTexture} [texture] Texture\n * @private\n */\n/**\n * @typedef {Object} CanvasCacheItem\n * @property {HTMLCanvasElement} canvas Canvas element.\n * @property {number} users The count of users of this canvas.\n */\n/**\n * @type {Object<string,CanvasCacheItem>}\n */\nvar canvasCache = {};\n/**\n * @param {string} key The cache key for the canvas.\n * @return {string} The shared cache key.\n */\nfunction getSharedCanvasCacheKey(key) {\n    return 'shared/' + key;\n}\nvar uniqueCanvasCacheKeyCount = 0;\n/**\n * @return {string} The unique cache key.\n */\nfunction getUniqueCanvasCacheKey() {\n    var key = 'unique/' + uniqueCanvasCacheKeyCount;\n    uniqueCanvasCacheKeyCount += 1;\n    return key;\n}\n/**\n * @param {string} key The cache key for the canvas.\n * @return {HTMLCanvasElement} The canvas.\n */\nfunction getCanvas(key) {\n    var cacheItem = canvasCache[key];\n    if (!cacheItem) {\n        var canvas = document.createElement('canvas');\n        canvas.style.position = 'absolute';\n        canvas.style.left = '0';\n        cacheItem = { users: 0, canvas: canvas };\n        canvasCache[key] = cacheItem;\n    }\n    cacheItem.users += 1;\n    return cacheItem.canvas;\n}\n/**\n * @param {string} key The cache key for the canvas.\n */\nfunction releaseCanvas(key) {\n    var cacheItem = canvasCache[key];\n    if (!cacheItem) {\n        return;\n    }\n    cacheItem.users -= 1;\n    if (cacheItem.users > 0) {\n        return;\n    }\n    var canvas = cacheItem.canvas;\n    var gl = getContext(canvas);\n    var extension = gl.getExtension('WEBGL_lose_context');\n    if (extension) {\n        extension.loseContext();\n    }\n    delete canvasCache[key];\n}\n/**\n * @classdesc\n * This class is intended to provide low-level functions related to WebGL rendering, so that accessing\n * directly the WebGL API should not be required anymore.\n *\n * Several operations are handled by the `WebGLHelper` class:\n *\n * ### Define custom shaders and uniforms\n *\n *   *Shaders* are low-level programs executed on the GPU and written in GLSL. There are two types of shaders:\n *\n *   Vertex shaders are used to manipulate the position and attribute of *vertices* of rendered primitives (ie. corners of a square).\n *   Outputs are:\n *\n *   * `gl_Position`: position of the vertex in screen space\n *\n *   * Varyings usually prefixed with `v_` are passed on to the fragment shader\n *\n *   Fragment shaders are used to control the actual color of the pixels drawn on screen. Their only output is `gl_FragColor`.\n *\n *   Both shaders can take *uniforms* or *attributes* as input. Attributes are explained later. Uniforms are common, read-only values that\n *   can be changed at every frame and can be of type float, arrays of float or images.\n *\n *   Shaders must be compiled and assembled into a program like so:\n *   ```js\n *   // here we simply create two shaders and assemble them in a program which is then used\n *   // for subsequent rendering calls\n *   const vertexShader = new WebGLVertex(VERTEX_SHADER);\n *   const fragmentShader = new WebGLFragment(FRAGMENT_SHADER);\n *   const program = this.context.getProgram(fragmentShader, vertexShader);\n *   helper.useProgram(this.program);\n *   ```\n *\n *   Uniforms are defined using the `uniforms` option and can either be explicit values or callbacks taking the frame state as argument.\n *   You can also change their value along the way like so:\n *   ```js\n *   helper.setUniformFloatValue('u_value', valueAsNumber);\n *   ```\n *\n * ### Defining post processing passes\n *\n *   *Post processing* describes the act of rendering primitives to a texture, and then rendering this texture to the final canvas\n *   while applying special effects in screen space.\n *   Typical uses are: blurring, color manipulation, depth of field, filtering...\n *\n *   The `WebGLHelper` class offers the possibility to define post processes at creation time using the `postProcesses` option.\n *   A post process step accepts the following options:\n *\n *   * `fragmentShader` and `vertexShader`: text literals in GLSL language that will be compiled and used in the post processing step.\n *   * `uniforms`: uniforms can be defined for the post processing steps just like for the main render.\n *   * `scaleRatio`: allows using an intermediate texture smaller or higher than the final canvas in the post processing step.\n *     This is typically used in blur steps to reduce the performance overhead by using an already downsampled texture as input.\n *\n *   The {@link module:ol/webgl/PostProcessingPass~WebGLPostProcessingPass} class is used internally, refer to its documentation for more info.\n *\n * ### Binding WebGL buffers and flushing data into them\n *\n *   Data that must be passed to the GPU has to be transferred using {@link module:ol/webgl/Buffer~WebGLArrayBuffer} objects.\n *   A buffer has to be created only once, but must be bound every time the buffer content will be used for rendering.\n *   This is done using {@link bindBuffer}.\n *   When the buffer's array content has changed, the new data has to be flushed to the GPU memory; this is done using\n *   {@link flushBufferData}. Note: this operation is expensive and should be done as infrequently as possible.\n *\n *   When binding an array buffer, a `target` parameter must be given: it should be either {@link module:ol/webgl.ARRAY_BUFFER}\n *   (if the buffer contains vertices data) or {@link module:ol/webgl.ELEMENT_ARRAY_BUFFER} (if the buffer contains indices data).\n *\n *   Examples below:\n *   ```js\n *   // at initialization phase\n *   const verticesBuffer = new WebGLArrayBuffer([], DYNAMIC_DRAW);\n *   const indicesBuffer = new WebGLArrayBuffer([], DYNAMIC_DRAW);\n *\n *   // when array values have changed\n *   helper.flushBufferData(ARRAY_BUFFER, this.verticesBuffer);\n *   helper.flushBufferData(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n *\n *   // at rendering phase\n *   helper.bindBuffer(ARRAY_BUFFER, this.verticesBuffer);\n *   helper.bindBuffer(ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n *   ```\n *\n * ### Specifying attributes\n *\n *   The GPU only receives the data as arrays of numbers. These numbers must be handled differently depending on what it describes (position, texture coordinate...).\n *   Attributes are used to specify these uses. Specify the attribute names with\n *   {@link module:ol/webgl/Helper~WebGLHelper#enableAttributes enableAttributes()} (see code snippet below).\n *\n *   Please note that you will have to specify the type and offset of the attributes in the data array. You can refer to the documentation of [WebGLRenderingContext.vertexAttribPointer](https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/vertexAttribPointer) for more explanation.\n *   ```js\n *   // here we indicate that the data array has the following structure:\n *   // [posX, posY, offsetX, offsetY, texCoordU, texCoordV, posX, posY, ...]\n *   helper.enableAttributes([\n *     {\n *        name: 'a_position',\n *        size: 2\n *     },\n *     {\n *       name: 'a_offset',\n *       size: 2\n *     },\n *     {\n *       name: 'a_texCoord',\n *       size: 2\n *     }\n *   ])\n *   ```\n *\n * ### Rendering primitives\n *\n *   Once all the steps above have been achieved, rendering primitives to the screen is done using {@link prepareDraw}, {@link drawElements} and {@link finalizeDraw}.\n *   ```js\n *   // frame preparation step\n *   helper.prepareDraw(frameState);\n *\n *   // call this for every data array that has to be rendered on screen\n *   helper.drawElements(0, this.indicesBuffer.getArray().length);\n *\n *   // finalize the rendering by applying post processes\n *   helper.finalizeDraw(frameState);\n *   ```\n *\n * For an example usage of this class, refer to {@link module:ol/renderer/webgl/PointsLayer~WebGLPointsLayerRenderer}.\n *\n * @api\n */\nvar WebGLHelper = /** @class */ (function (_super) {\n    __extends(WebGLHelper, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function WebGLHelper(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options || {};\n        /** @private */\n        _this.boundHandleWebGLContextLost_ = _this.handleWebGLContextLost.bind(_this);\n        /** @private */\n        _this.boundHandleWebGLContextRestored_ =\n            _this.handleWebGLContextRestored.bind(_this);\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.canvasCacheKey_ = options.canvasCacheKey\n            ? getSharedCanvasCacheKey(options.canvasCacheKey)\n            : getUniqueCanvasCacheKey();\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.canvas_ = getCanvas(_this.canvasCacheKey_);\n        /**\n         * @private\n         * @type {WebGLRenderingContext}\n         */\n        _this.gl_ = getContext(_this.canvas_);\n        /**\n         * @private\n         * @type {!Object<string, BufferCacheEntry>}\n         */\n        _this.bufferCache_ = {};\n        /**\n         * @private\n         * @type {Object<string, Object>}\n         */\n        _this.extensionCache_ = {};\n        /**\n         * @private\n         * @type {WebGLProgram}\n         */\n        _this.currentProgram_ = null;\n        _this.canvas_.addEventListener(ContextEventType.LOST, _this.boundHandleWebGLContextLost_);\n        _this.canvas_.addEventListener(ContextEventType.RESTORED, _this.boundHandleWebGLContextRestored_);\n        /**\n         * @private\n         * @type {import(\"../transform.js\").Transform}\n         */\n        _this.offsetRotateMatrix_ = createTransform();\n        /**\n         * @private\n         * @type {import(\"../transform.js\").Transform}\n         */\n        _this.offsetScaleMatrix_ = createTransform();\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.tmpMat4_ = create();\n        /**\n         * @private\n         * @type {Object<string, WebGLUniformLocation>}\n         */\n        _this.uniformLocations_ = {};\n        /**\n         * @private\n         * @type {Object<string, number>}\n         */\n        _this.attribLocations_ = {};\n        /**\n         * Holds info about custom uniforms used in the post processing pass.\n         * If the uniform is a texture, the WebGL Texture object will be stored here.\n         * @type {Array<UniformInternalDescription>}\n         * @private\n         */\n        _this.uniforms_ = [];\n        if (options.uniforms) {\n            _this.setUniforms(options.uniforms);\n        }\n        var gl = _this.getGL();\n        /**\n         * An array of PostProcessingPass objects is kept in this variable, built from the steps provided in the\n         * options. If no post process was given, a default one is used (so as not to have to make an exception to\n         * the frame buffer logic).\n         * @type {Array<WebGLPostProcessingPass>}\n         * @private\n         */\n        _this.postProcessPasses_ = options.postProcesses\n            ? options.postProcesses.map(function (options) {\n                return new WebGLPostProcessingPass({\n                    webGlContext: gl,\n                    scaleRatio: options.scaleRatio,\n                    vertexShader: options.vertexShader,\n                    fragmentShader: options.fragmentShader,\n                    uniforms: options.uniforms,\n                });\n            })\n            : [new WebGLPostProcessingPass({ webGlContext: gl })];\n        /**\n         * @type {string|null}\n         * @private\n         */\n        _this.shaderCompileErrors_ = null;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.startTime_ = Date.now();\n        return _this;\n    }\n    /**\n     * @param {Object<string, UniformValue>} uniforms Uniform definitions.\n     */\n    WebGLHelper.prototype.setUniforms = function (uniforms) {\n        this.uniforms_ = [];\n        for (var name_1 in uniforms) {\n            this.uniforms_.push({\n                name: name_1,\n                value: uniforms[name_1],\n            });\n        }\n        this.uniformLocations_ = {};\n    };\n    /**\n     * @param {string} canvasCacheKey The canvas cache key.\n     * @return {boolean} The provided key matches the one this helper was constructed with.\n     */\n    WebGLHelper.prototype.canvasCacheKeyMatches = function (canvasCacheKey) {\n        return this.canvasCacheKey_ === getSharedCanvasCacheKey(canvasCacheKey);\n    };\n    /**\n     * Get a WebGL extension.  If the extension is not supported, null is returned.\n     * Extensions are cached after they are enabled for the first time.\n     * @param {string} name The extension name.\n     * @return {Object|null} The extension or null if not supported.\n     */\n    WebGLHelper.prototype.getExtension = function (name) {\n        if (name in this.extensionCache_) {\n            return this.extensionCache_[name];\n        }\n        var extension = this.gl_.getExtension(name);\n        this.extensionCache_[name] = extension;\n        return extension;\n    };\n    /**\n     * Just bind the buffer if it's in the cache. Otherwise create\n     * the WebGL buffer, bind it, populate it, and add an entry to\n     * the cache.\n     * @param {import(\"./Buffer\").default} buffer Buffer.\n     * @api\n     */\n    WebGLHelper.prototype.bindBuffer = function (buffer) {\n        var gl = this.getGL();\n        var bufferKey = getUid(buffer);\n        var bufferCache = this.bufferCache_[bufferKey];\n        if (!bufferCache) {\n            var webGlBuffer = gl.createBuffer();\n            bufferCache = {\n                buffer: buffer,\n                webGlBuffer: webGlBuffer,\n            };\n            this.bufferCache_[bufferKey] = bufferCache;\n        }\n        gl.bindBuffer(buffer.getType(), bufferCache.webGlBuffer);\n    };\n    /**\n     * Update the data contained in the buffer array; this is required for the\n     * new data to be rendered\n     * @param {import(\"./Buffer\").default} buffer Buffer.\n     * @api\n     */\n    WebGLHelper.prototype.flushBufferData = function (buffer) {\n        var gl = this.getGL();\n        this.bindBuffer(buffer);\n        gl.bufferData(buffer.getType(), buffer.getArray(), buffer.getUsage());\n    };\n    /**\n     * @param {import(\"./Buffer.js\").default} buf Buffer.\n     */\n    WebGLHelper.prototype.deleteBuffer = function (buf) {\n        var gl = this.getGL();\n        var bufferKey = getUid(buf);\n        var bufferCacheEntry = this.bufferCache_[bufferKey];\n        if (bufferCacheEntry && !gl.isContextLost()) {\n            gl.deleteBuffer(bufferCacheEntry.webGlBuffer);\n        }\n        delete this.bufferCache_[bufferKey];\n    };\n    /**\n     * Clean up.\n     */\n    WebGLHelper.prototype.disposeInternal = function () {\n        this.canvas_.removeEventListener(ContextEventType.LOST, this.boundHandleWebGLContextLost_);\n        this.canvas_.removeEventListener(ContextEventType.RESTORED, this.boundHandleWebGLContextRestored_);\n        releaseCanvas(this.canvasCacheKey_);\n        delete this.gl_;\n        delete this.canvas_;\n    };\n    /**\n     * Clear the buffer & set the viewport to draw.\n     * Post process passes will be initialized here, the first one being bound as a render target for\n     * subsequent draw calls.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState current frame state\n     * @param {boolean} [opt_disableAlphaBlend] If true, no alpha blending will happen.\n     * @api\n     */\n    WebGLHelper.prototype.prepareDraw = function (frameState, opt_disableAlphaBlend) {\n        var gl = this.getGL();\n        var canvas = this.getCanvas();\n        var size = frameState.size;\n        var pixelRatio = frameState.pixelRatio;\n        canvas.width = size[0] * pixelRatio;\n        canvas.height = size[1] * pixelRatio;\n        canvas.style.width = size[0] + 'px';\n        canvas.style.height = size[1] + 'px';\n        gl.useProgram(this.currentProgram_);\n        // loop backwards in post processes list\n        for (var i = this.postProcessPasses_.length - 1; i >= 0; i--) {\n            this.postProcessPasses_[i].init(frameState);\n        }\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.clearColor(0.0, 0.0, 0.0, 0.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, opt_disableAlphaBlend ? gl.ZERO : gl.ONE_MINUS_SRC_ALPHA);\n        gl.useProgram(this.currentProgram_);\n        this.applyFrameState(frameState);\n        this.applyUniforms(frameState);\n    };\n    /**\n     * Clear the render target & bind it for future draw operations.\n     * This is similar to `prepareDraw`, only post processes will not be applied.\n     * Note: the whole viewport will be drawn to the render target, regardless of its size.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState current frame state\n     * @param {import(\"./RenderTarget.js\").default} renderTarget Render target to draw to\n     * @param {boolean} [opt_disableAlphaBlend] If true, no alpha blending will happen.\n     */\n    WebGLHelper.prototype.prepareDrawToRenderTarget = function (frameState, renderTarget, opt_disableAlphaBlend) {\n        var gl = this.getGL();\n        var size = renderTarget.getSize();\n        gl.bindFramebuffer(gl.FRAMEBUFFER, renderTarget.getFramebuffer());\n        gl.viewport(0, 0, size[0], size[1]);\n        gl.bindTexture(gl.TEXTURE_2D, renderTarget.getTexture());\n        gl.clearColor(0.0, 0.0, 0.0, 0.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, opt_disableAlphaBlend ? gl.ZERO : gl.ONE_MINUS_SRC_ALPHA);\n        gl.useProgram(this.currentProgram_);\n        this.applyFrameState(frameState);\n        this.applyUniforms(frameState);\n    };\n    /**\n     * Execute a draw call based on the currently bound program, texture, buffers, attributes.\n     * @param {number} start Start index.\n     * @param {number} end End index.\n     * @api\n     */\n    WebGLHelper.prototype.drawElements = function (start, end) {\n        var gl = this.getGL();\n        this.getExtension('OES_element_index_uint');\n        var elementType = gl.UNSIGNED_INT;\n        var elementSize = 4;\n        var numItems = end - start;\n        var offsetInBytes = start * elementSize;\n        gl.drawElements(gl.TRIANGLES, numItems, elementType, offsetInBytes);\n    };\n    /**\n     * Apply the successive post process passes which will eventually render to the actual canvas.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState current frame state\n     * @param {function(WebGLRenderingContext, import(\"../PluggableMap.js\").FrameState):void} [preCompose] Called before composing.\n     * @param {function(WebGLRenderingContext, import(\"../PluggableMap.js\").FrameState):void} [postCompose] Called before composing.\n     */\n    WebGLHelper.prototype.finalizeDraw = function (frameState, preCompose, postCompose) {\n        // apply post processes using the next one as target\n        for (var i = 0, ii = this.postProcessPasses_.length; i < ii; i++) {\n            if (i === ii - 1) {\n                this.postProcessPasses_[i].apply(frameState, null, preCompose, postCompose);\n            }\n            else {\n                this.postProcessPasses_[i].apply(frameState, this.postProcessPasses_[i + 1]);\n            }\n        }\n    };\n    /**\n     * @return {HTMLCanvasElement} Canvas.\n     * @api\n     */\n    WebGLHelper.prototype.getCanvas = function () {\n        return this.canvas_;\n    };\n    /**\n     * Get the WebGL rendering context\n     * @return {WebGLRenderingContext} The rendering context.\n     * @api\n     */\n    WebGLHelper.prototype.getGL = function () {\n        return this.gl_;\n    };\n    /**\n     * Sets the default matrix uniforms for a given frame state. This is called internally in `prepareDraw`.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    WebGLHelper.prototype.applyFrameState = function (frameState) {\n        var size = frameState.size;\n        var rotation = frameState.viewState.rotation;\n        var offsetScaleMatrix = resetTransform(this.offsetScaleMatrix_);\n        scaleTransform(offsetScaleMatrix, 2 / size[0], 2 / size[1]);\n        var offsetRotateMatrix = resetTransform(this.offsetRotateMatrix_);\n        if (rotation !== 0) {\n            rotateTransform(offsetRotateMatrix, -rotation);\n        }\n        this.setUniformMatrixValue(DefaultUniform.OFFSET_SCALE_MATRIX, fromTransform(this.tmpMat4_, offsetScaleMatrix));\n        this.setUniformMatrixValue(DefaultUniform.OFFSET_ROTATION_MATRIX, fromTransform(this.tmpMat4_, offsetRotateMatrix));\n        this.setUniformFloatValue(DefaultUniform.TIME, (Date.now() - this.startTime_) * 0.001);\n        this.setUniformFloatValue(DefaultUniform.ZOOM, frameState.viewState.zoom);\n        this.setUniformFloatValue(DefaultUniform.RESOLUTION, frameState.viewState.resolution);\n    };\n    /**\n     * Sets the custom uniforms based on what was given in the constructor. This is called internally in `prepareDraw`.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    WebGLHelper.prototype.applyUniforms = function (frameState) {\n        var gl = this.getGL();\n        var value;\n        var textureSlot = 0;\n        this.uniforms_.forEach(function (uniform) {\n            value =\n                typeof uniform.value === 'function'\n                    ? uniform.value(frameState)\n                    : uniform.value;\n            // apply value based on type\n            if (value instanceof HTMLCanvasElement ||\n                value instanceof HTMLImageElement ||\n                value instanceof ImageData) {\n                // create a texture & put data\n                if (!uniform.texture) {\n                    uniform.prevValue = undefined;\n                    uniform.texture = gl.createTexture();\n                }\n                gl.activeTexture(gl[\"TEXTURE\".concat(textureSlot)]);\n                gl.bindTexture(gl.TEXTURE_2D, uniform.texture);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n                gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n                var imageReady = !(value instanceof HTMLImageElement) ||\n                    /** @type {HTMLImageElement} */ (value).complete;\n                if (imageReady && uniform.prevValue !== value) {\n                    uniform.prevValue = value;\n                    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, value);\n                }\n                // fill texture slots by increasing index\n                gl.uniform1i(this.getUniformLocation(uniform.name), textureSlot++);\n            }\n            else if (Array.isArray(value) && value.length === 6) {\n                this.setUniformMatrixValue(uniform.name, fromTransform(this.tmpMat4_, value));\n            }\n            else if (Array.isArray(value) && value.length <= 4) {\n                switch (value.length) {\n                    case 2:\n                        gl.uniform2f(this.getUniformLocation(uniform.name), value[0], value[1]);\n                        return;\n                    case 3:\n                        gl.uniform3f(this.getUniformLocation(uniform.name), value[0], value[1], value[2]);\n                        return;\n                    case 4:\n                        gl.uniform4f(this.getUniformLocation(uniform.name), value[0], value[1], value[2], value[3]);\n                        return;\n                    default:\n                        return;\n                }\n            }\n            else if (typeof value === 'number') {\n                gl.uniform1f(this.getUniformLocation(uniform.name), value);\n            }\n        }.bind(this));\n    };\n    /**\n     * Use a program.  If the program is already in use, this will return `false`.\n     * @param {WebGLProgram} program Program.\n     * @return {boolean} Changed.\n     * @api\n     */\n    WebGLHelper.prototype.useProgram = function (program) {\n        if (program == this.currentProgram_) {\n            return false;\n        }\n        else {\n            var gl = this.getGL();\n            gl.useProgram(program);\n            this.currentProgram_ = program;\n            this.uniformLocations_ = {};\n            this.attribLocations_ = {};\n            return true;\n        }\n    };\n    /**\n     * Will attempt to compile a vertex or fragment shader based on source\n     * On error, the shader will be returned but\n     * `gl.getShaderParameter(shader, gl.COMPILE_STATUS)` will return `true`\n     * Use `gl.getShaderInfoLog(shader)` to have details\n     * @param {string} source Shader source\n     * @param {ShaderType} type VERTEX_SHADER or FRAGMENT_SHADER\n     * @return {WebGLShader} Shader object\n     */\n    WebGLHelper.prototype.compileShader = function (source, type) {\n        var gl = this.getGL();\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        return shader;\n    };\n    /**\n     * Create a program for a vertex and fragment shader.  Throws if shader compilation fails.\n     * @param {string} fragmentShaderSource Fragment shader source.\n     * @param {string} vertexShaderSource Vertex shader source.\n     * @return {WebGLProgram} Program\n     * @api\n     */\n    WebGLHelper.prototype.getProgram = function (fragmentShaderSource, vertexShaderSource) {\n        var gl = this.getGL();\n        var fragmentShader = this.compileShader(fragmentShaderSource, gl.FRAGMENT_SHADER);\n        var vertexShader = this.compileShader(vertexShaderSource, gl.VERTEX_SHADER);\n        var program = gl.createProgram();\n        gl.attachShader(program, fragmentShader);\n        gl.attachShader(program, vertexShader);\n        gl.linkProgram(program);\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n            var message = \"Fragment shader compliation failed: \".concat(gl.getShaderInfoLog(fragmentShader));\n            throw new Error(message);\n        }\n        gl.deleteShader(fragmentShader);\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n            var message = \"Vertex shader compilation failed: \".concat(gl.getShaderInfoLog(vertexShader));\n            throw new Error(message);\n        }\n        gl.deleteShader(vertexShader);\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n            var message = \"GL program linking failed: \".concat(gl.getShaderInfoLog(vertexShader));\n            throw new Error(message);\n        }\n        return program;\n    };\n    /**\n     * Will get the location from the shader or the cache\n     * @param {string} name Uniform name\n     * @return {WebGLUniformLocation} uniformLocation\n     * @api\n     */\n    WebGLHelper.prototype.getUniformLocation = function (name) {\n        if (this.uniformLocations_[name] === undefined) {\n            this.uniformLocations_[name] = this.getGL().getUniformLocation(this.currentProgram_, name);\n        }\n        return this.uniformLocations_[name];\n    };\n    /**\n     * Will get the location from the shader or the cache\n     * @param {string} name Attribute name\n     * @return {number} attribLocation\n     * @api\n     */\n    WebGLHelper.prototype.getAttributeLocation = function (name) {\n        if (this.attribLocations_[name] === undefined) {\n            this.attribLocations_[name] = this.getGL().getAttribLocation(this.currentProgram_, name);\n        }\n        return this.attribLocations_[name];\n    };\n    /**\n     * Modifies the given transform to apply the rotation/translation/scaling of the given frame state.\n     * The resulting transform can be used to convert world space coordinates to view coordinates.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {import(\"../transform\").Transform} transform Transform to update.\n     * @return {import(\"../transform\").Transform} The updated transform object.\n     * @api\n     */\n    WebGLHelper.prototype.makeProjectionTransform = function (frameState, transform) {\n        var size = frameState.size;\n        var rotation = frameState.viewState.rotation;\n        var resolution = frameState.viewState.resolution;\n        var center = frameState.viewState.center;\n        resetTransform(transform);\n        composeTransform(transform, 0, 0, 2 / (resolution * size[0]), 2 / (resolution * size[1]), -rotation, -center[0], -center[1]);\n        return transform;\n    };\n    /**\n     * Give a value for a standard float uniform\n     * @param {string} uniform Uniform name\n     * @param {number} value Value\n     * @api\n     */\n    WebGLHelper.prototype.setUniformFloatValue = function (uniform, value) {\n        this.getGL().uniform1f(this.getUniformLocation(uniform), value);\n    };\n    /**\n     * Give a value for a vec4 uniform\n     * @param {string} uniform Uniform name\n     * @param {Array<number>} value Array of length 4.\n     */\n    WebGLHelper.prototype.setUniformFloatVec4 = function (uniform, value) {\n        this.getGL().uniform4fv(this.getUniformLocation(uniform), value);\n    };\n    /**\n     * Give a value for a standard matrix4 uniform\n     * @param {string} uniform Uniform name\n     * @param {Array<number>} value Matrix value\n     * @api\n     */\n    WebGLHelper.prototype.setUniformMatrixValue = function (uniform, value) {\n        this.getGL().uniformMatrix4fv(this.getUniformLocation(uniform), false, value);\n    };\n    /**\n     * Will set the currently bound buffer to an attribute of the shader program. Used by `#enableAttributes`\n     * internally.\n     * @param {string} attribName Attribute name\n     * @param {number} size Number of components per attributes\n     * @param {number} type UNSIGNED_INT, UNSIGNED_BYTE, UNSIGNED_SHORT or FLOAT\n     * @param {number} stride Stride in bytes (0 means attribs are packed)\n     * @param {number} offset Offset in bytes\n     * @private\n     */\n    WebGLHelper.prototype.enableAttributeArray_ = function (attribName, size, type, stride, offset) {\n        var location = this.getAttributeLocation(attribName);\n        // the attribute has not been found in the shaders; do not enable it\n        if (location < 0) {\n            return;\n        }\n        this.getGL().enableVertexAttribArray(location);\n        this.getGL().vertexAttribPointer(location, size, type, false, stride, offset);\n    };\n    /**\n     * Will enable the following attributes to be read from the currently bound buffer,\n     * i.e. tell the GPU where to read the different attributes in the buffer. An error in the\n     * size/type/order of attributes will most likely break the rendering and throw a WebGL exception.\n     * @param {Array<AttributeDescription>} attributes Ordered list of attributes to read from the buffer\n     * @api\n     */\n    WebGLHelper.prototype.enableAttributes = function (attributes) {\n        var stride = computeAttributesStride(attributes);\n        var offset = 0;\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = attributes[i];\n            this.enableAttributeArray_(attr.name, attr.size, attr.type || FLOAT, stride, offset);\n            offset += attr.size * getByteSizeFromType(attr.type);\n        }\n    };\n    /**\n     * WebGL context was lost\n     * @private\n     */\n    WebGLHelper.prototype.handleWebGLContextLost = function () {\n        clear(this.bufferCache_);\n        this.currentProgram_ = null;\n    };\n    /**\n     * WebGL context was restored\n     * @private\n     */\n    WebGLHelper.prototype.handleWebGLContextRestored = function () { };\n    /**\n     * Will create or reuse a given webgl texture and apply the given size. If no image data\n     * specified, the texture will be empty, otherwise image data will be used and the `size`\n     * parameter will be ignored.\n     * Note: wrap parameters are set to clamp to edge, min filter is set to linear.\n     * @param {Array<number>} size Expected size of the texture\n     * @param {ImageData|HTMLImageElement|HTMLCanvasElement} [opt_data] Image data/object to bind to the texture\n     * @param {WebGLTexture} [opt_texture] Existing texture to reuse\n     * @return {WebGLTexture} The generated texture\n     * @api\n     */\n    WebGLHelper.prototype.createTexture = function (size, opt_data, opt_texture) {\n        var gl = this.getGL();\n        var texture = opt_texture || gl.createTexture();\n        // set params & size\n        var level = 0;\n        var internalFormat = gl.RGBA;\n        var border = 0;\n        var format = gl.RGBA;\n        var type = gl.UNSIGNED_BYTE;\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        if (opt_data) {\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, format, type, opt_data);\n        }\n        else {\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, size[0], size[1], border, format, type, null);\n        }\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        return texture;\n    };\n    return WebGLHelper;\n}(Disposable));\n/**\n * Compute a stride in bytes based on a list of attributes\n * @param {Array<AttributeDescription>} attributes Ordered list of attributes\n * @return {number} Stride, ie amount of values for each vertex in the vertex buffer\n * @api\n */\nexport function computeAttributesStride(attributes) {\n    var stride = 0;\n    for (var i = 0; i < attributes.length; i++) {\n        var attr = attributes[i];\n        stride += attr.size * getByteSizeFromType(attr.type);\n    }\n    return stride;\n}\n/**\n * Computes the size in byte of an attribute type.\n * @param {AttributeType} type Attribute type\n * @return {number} The size in bytes\n */\nfunction getByteSizeFromType(type) {\n    switch (type) {\n        case AttributeType.UNSIGNED_BYTE:\n            return Uint8Array.BYTES_PER_ELEMENT;\n        case AttributeType.UNSIGNED_SHORT:\n            return Uint16Array.BYTES_PER_ELEMENT;\n        case AttributeType.UNSIGNED_INT:\n            return Uint32Array.BYTES_PER_ELEMENT;\n        case AttributeType.FLOAT:\n        default:\n            return Float32Array.BYTES_PER_ELEMENT;\n    }\n}\nexport default WebGLHelper;\n//# sourceMappingURL=Helper.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/webgl/Layer\n */\nimport LayerProperty from '../../layer/Property.js';\nimport LayerRenderer from '../Layer.js';\nimport RenderEvent from '../../render/Event.js';\nimport RenderEventType from '../../render/EventType.js';\nimport WebGLHelper from '../../webgl/Helper.js';\nimport { apply as applyTransform, compose as composeTransform, create as createTransform, } from '../../transform.js';\nimport { containsCoordinate } from '../../extent.js';\n/**\n * @enum {string}\n */\nexport var WebGLWorkerMessageType = {\n    GENERATE_BUFFERS: 'GENERATE_BUFFERS',\n};\n/**\n * @typedef {Object} WebGLWorkerGenerateBuffersMessage\n * This message will trigger the generation of a vertex and an index buffer based on the given render instructions.\n * When the buffers are generated, the worked will send a message of the same type to the main thread, with\n * the generated buffers in it.\n * Note that any addition properties present in the message *will* be sent back to the main thread.\n * @property {WebGLWorkerMessageType} type Message type\n * @property {ArrayBuffer} renderInstructions Render instructions raw binary buffer.\n * @property {ArrayBuffer} [vertexBuffer] Vertices array raw binary buffer (sent by the worker).\n * @property {ArrayBuffer} [indexBuffer] Indices array raw binary buffer (sent by the worker).\n * @property {number} [customAttributesCount] Amount of custom attributes count in the render instructions.\n */\n/**\n * @typedef {Object} PostProcessesOptions\n * @property {number} [scaleRatio] Scale ratio; if < 1, the post process will render to a texture smaller than\n * the main canvas that will then be sampled up (useful for saving resource on blur steps).\n * @property {string} [vertexShader] Vertex shader source\n * @property {string} [fragmentShader] Fragment shader source\n * @property {Object<string,import(\"../../webgl/Helper\").UniformValue>} [uniforms] Uniform definitions for the post process step\n */\n/**\n * @typedef {Object} Options\n * @property {Object<string,import(\"../../webgl/Helper\").UniformValue>} [uniforms] Uniform definitions for the post process steps\n * @property {Array<PostProcessesOptions>} [postProcesses] Post-processes definitions\n */\n/**\n * @classdesc\n * Base WebGL renderer class.\n * Holds all logic related to data manipulation & some common rendering logic\n * @template {import(\"../../layer/Layer.js\").default} LayerType\n * @extends {LayerRenderer<LayerType>}\n */\nvar WebGLLayerRenderer = /** @class */ (function (_super) {\n    __extends(WebGLLayerRenderer, _super);\n    /**\n     * @param {LayerType} layer Layer.\n     * @param {Options} [opt_options] Options.\n     */\n    function WebGLLayerRenderer(layer, opt_options) {\n        var _this = _super.call(this, layer) || this;\n        var options = opt_options || {};\n        /**\n         * The transform for viewport CSS pixels to rendered pixels.  This transform is only\n         * set before dispatching rendering events.\n         * @private\n         * @type {import(\"../../transform.js\").Transform}\n         */\n        _this.inversePixelTransform_ = createTransform();\n        /**\n         * @private\n         * @type {CanvasRenderingContext2D}\n         */\n        _this.pixelContext_ = null;\n        /**\n         * @private\n         */\n        _this.postProcesses_ = options.postProcesses;\n        /**\n         * @private\n         */\n        _this.uniforms_ = options.uniforms;\n        /**\n         * @type {WebGLHelper}\n         * @protected\n         */\n        _this.helper;\n        layer.addChangeListener(LayerProperty.MAP, _this.removeHelper.bind(_this));\n        _this.dispatchPreComposeEvent = _this.dispatchPreComposeEvent.bind(_this);\n        _this.dispatchPostComposeEvent = _this.dispatchPostComposeEvent.bind(_this);\n        return _this;\n    }\n    /**\n     * @param {WebGLRenderingContext} context The WebGL rendering context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.dispatchPreComposeEvent = function (context, frameState) {\n        var layer = this.getLayer();\n        if (layer.hasListener(RenderEventType.PRECOMPOSE)) {\n            var event_1 = new RenderEvent(RenderEventType.PRECOMPOSE, undefined, frameState, context);\n            layer.dispatchEvent(event_1);\n        }\n    };\n    /**\n     * @param {WebGLRenderingContext} context The WebGL rendering context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.dispatchPostComposeEvent = function (context, frameState) {\n        var layer = this.getLayer();\n        if (layer.hasListener(RenderEventType.POSTCOMPOSE)) {\n            var event_2 = new RenderEvent(RenderEventType.POSTCOMPOSE, undefined, frameState, context);\n            layer.dispatchEvent(event_2);\n        }\n    };\n    /**\n     * Reset options (only handles uniforms).\n     * @param {Options} options Options.\n     */\n    WebGLLayerRenderer.prototype.reset = function (options) {\n        this.uniforms_ = options.uniforms;\n        if (this.helper) {\n            this.helper.setUniforms(this.uniforms_);\n        }\n    };\n    /**\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.removeHelper = function () {\n        if (this.helper) {\n            this.helper.dispose();\n            delete this.helper;\n        }\n    };\n    /**\n     * Determine whether renderFrame should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    WebGLLayerRenderer.prototype.prepareFrame = function (frameState) {\n        if (this.getLayer().getRenderSource()) {\n            var incrementGroup = true;\n            var groupNumber = -1;\n            var className = void 0;\n            for (var i = 0, ii = frameState.layerStatesArray.length; i < ii; i++) {\n                var layer = frameState.layerStatesArray[i].layer;\n                var renderer = layer.getRenderer();\n                if (!(renderer instanceof WebGLLayerRenderer)) {\n                    incrementGroup = true;\n                    continue;\n                }\n                var layerClassName = layer.getClassName();\n                if (incrementGroup || layerClassName !== className) {\n                    groupNumber += 1;\n                    incrementGroup = false;\n                }\n                className = layerClassName;\n                if (renderer === this) {\n                    break;\n                }\n            }\n            var canvasCacheKey = 'map/' + frameState.mapId + '/group/' + groupNumber;\n            if (!this.helper || !this.helper.canvasCacheKeyMatches(canvasCacheKey)) {\n                this.removeHelper();\n                this.helper = new WebGLHelper({\n                    postProcesses: this.postProcesses_,\n                    uniforms: this.uniforms_,\n                    canvasCacheKey: canvasCacheKey,\n                });\n                if (className) {\n                    this.helper.getCanvas().className = className;\n                }\n                this.afterHelperCreated();\n            }\n        }\n        return this.prepareFrameInternal(frameState);\n    };\n    /**\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.afterHelperCreated = function () { };\n    /**\n     * Determine whether renderFrame should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.prepareFrameInternal = function (frameState) {\n        return true;\n    };\n    /**\n     * Clean up.\n     */\n    WebGLLayerRenderer.prototype.disposeInternal = function () {\n        this.removeHelper();\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * @param {import(\"../../render/EventType.js\").default} type Event type.\n     * @param {WebGLRenderingContext} context The rendering context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLLayerRenderer.prototype.dispatchRenderEvent_ = function (type, context, frameState) {\n        var layer = this.getLayer();\n        if (layer.hasListener(type)) {\n            composeTransform(this.inversePixelTransform_, 0, 0, frameState.pixelRatio, -frameState.pixelRatio, 0, 0, -frameState.size[1]);\n            var event_3 = new RenderEvent(type, this.inversePixelTransform_, frameState, context);\n            layer.dispatchEvent(event_3);\n        }\n    };\n    /**\n     * @param {WebGLRenderingContext} context The rendering context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.preRender = function (context, frameState) {\n        this.dispatchRenderEvent_(RenderEventType.PRERENDER, context, frameState);\n    };\n    /**\n     * @param {WebGLRenderingContext} context The rendering context.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    WebGLLayerRenderer.prototype.postRender = function (context, frameState) {\n        this.dispatchRenderEvent_(RenderEventType.POSTRENDER, context, frameState);\n    };\n    /**\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @return {Uint8ClampedArray|Uint8Array} The result.  If there is no data at the pixel\n     *    location, null will be returned.  If there is data, but pixel values cannot be\n     *    returned, and empty array will be returned.\n     */\n    WebGLLayerRenderer.prototype.getDataAtPixel = function (pixel, frameState, hitTolerance) {\n        var renderPixel = applyTransform([frameState.pixelRatio, 0, 0, frameState.pixelRatio, 0, 0], pixel.slice());\n        var gl = this.helper.getGL();\n        if (!gl) {\n            return null;\n        }\n        var layer = this.getLayer();\n        var layerExtent = layer.getExtent();\n        if (layerExtent) {\n            var renderCoordinate = applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n            /** get only data inside of the layer extent */\n            if (!containsCoordinate(layerExtent, renderCoordinate)) {\n                return null;\n            }\n        }\n        var attributes = gl.getContextAttributes();\n        if (!attributes || !attributes.preserveDrawingBuffer) {\n            // we assume there is data at the given pixel (although there might not be)\n            return new Uint8Array();\n        }\n        var x = Math.round(renderPixel[0]);\n        var y = Math.round(renderPixel[1]);\n        var pixelContext = this.pixelContext_;\n        if (!pixelContext) {\n            var pixelCanvas = document.createElement('canvas');\n            pixelCanvas.width = 1;\n            pixelCanvas.height = 1;\n            pixelContext = pixelCanvas.getContext('2d');\n            this.pixelContext_ = pixelContext;\n        }\n        pixelContext.clearRect(0, 0, 1, 1);\n        var data;\n        try {\n            pixelContext.drawImage(gl.canvas, x, y, 1, 1, 0, 0, 1, 1);\n            data = pixelContext.getImageData(0, 0, 1, 1).data;\n        }\n        catch (err) {\n            return data;\n        }\n        if (data[3] === 0) {\n            return null;\n        }\n        return data;\n    };\n    return WebGLLayerRenderer;\n}(LayerRenderer));\nvar tmpArray_ = [];\nvar bufferPositions_ = { vertexPosition: 0, indexPosition: 0 };\nfunction writePointVertex(buffer, pos, x, y, index) {\n    buffer[pos + 0] = x;\n    buffer[pos + 1] = y;\n    buffer[pos + 2] = index;\n}\n/**\n * An object holding positions both in an index and a vertex buffer.\n * @typedef {Object} BufferPositions\n * @property {number} vertexPosition Position in the vertex buffer\n * @property {number} indexPosition Position in the index buffer\n */\n/**\n * Pushes a quad (two triangles) based on a point geometry\n * @param {Float32Array} instructions Array of render instructions for points.\n * @param {number} elementIndex Index from which render instructions will be read.\n * @param {Float32Array} vertexBuffer Buffer in the form of a typed array.\n * @param {Uint32Array} indexBuffer Buffer in the form of a typed array.\n * @param {number} customAttributesCount Amount of custom attributes for each element.\n * @param {BufferPositions} [bufferPositions] Buffer write positions; if not specified, positions will be set at 0.\n * @return {BufferPositions} New buffer positions where to write next\n * @property {number} vertexPosition New position in the vertex buffer where future writes should start.\n * @property {number} indexPosition New position in the index buffer where future writes should start.\n * @private\n */\nexport function writePointFeatureToBuffers(instructions, elementIndex, vertexBuffer, indexBuffer, customAttributesCount, bufferPositions) {\n    // This is for x, y and index\n    var baseVertexAttrsCount = 3;\n    var baseInstructionsCount = 2;\n    var stride = baseVertexAttrsCount + customAttributesCount;\n    var x = instructions[elementIndex + 0];\n    var y = instructions[elementIndex + 1];\n    // read custom numerical attributes on the feature\n    var customAttrs = tmpArray_;\n    customAttrs.length = customAttributesCount;\n    for (var i = 0; i < customAttrs.length; i++) {\n        customAttrs[i] = instructions[elementIndex + baseInstructionsCount + i];\n    }\n    var vPos = bufferPositions ? bufferPositions.vertexPosition : 0;\n    var iPos = bufferPositions ? bufferPositions.indexPosition : 0;\n    var baseIndex = vPos / stride;\n    // push vertices for each of the four quad corners (first standard then custom attributes)\n    writePointVertex(vertexBuffer, vPos, x, y, 0);\n    customAttrs.length &&\n        vertexBuffer.set(customAttrs, vPos + baseVertexAttrsCount);\n    vPos += stride;\n    writePointVertex(vertexBuffer, vPos, x, y, 1);\n    customAttrs.length &&\n        vertexBuffer.set(customAttrs, vPos + baseVertexAttrsCount);\n    vPos += stride;\n    writePointVertex(vertexBuffer, vPos, x, y, 2);\n    customAttrs.length &&\n        vertexBuffer.set(customAttrs, vPos + baseVertexAttrsCount);\n    vPos += stride;\n    writePointVertex(vertexBuffer, vPos, x, y, 3);\n    customAttrs.length &&\n        vertexBuffer.set(customAttrs, vPos + baseVertexAttrsCount);\n    vPos += stride;\n    indexBuffer[iPos++] = baseIndex;\n    indexBuffer[iPos++] = baseIndex + 1;\n    indexBuffer[iPos++] = baseIndex + 3;\n    indexBuffer[iPos++] = baseIndex + 1;\n    indexBuffer[iPos++] = baseIndex + 2;\n    indexBuffer[iPos++] = baseIndex + 3;\n    bufferPositions_.vertexPosition = vPos;\n    bufferPositions_.indexPosition = iPos;\n    return bufferPositions_;\n}\n/**\n * Returns a texture of 1x1 pixel, white\n * @private\n * @return {ImageData} Image data.\n */\nexport function getBlankImageData() {\n    var canvas = document.createElement('canvas');\n    var image = canvas.getContext('2d').createImageData(1, 1);\n    image.data[0] = 255;\n    image.data[1] = 255;\n    image.data[2] = 255;\n    image.data[3] = 255;\n    return image;\n}\n/**\n * Generates a color array based on a numerical id\n * Note: the range for each component is 0 to 1 with 256 steps\n * @param {number} id Id\n * @param {Array<number>} [opt_array] Reusable array\n * @return {Array<number>} Color array containing the encoded id\n */\nexport function colorEncodeId(id, opt_array) {\n    var array = opt_array || [];\n    var radix = 256;\n    var divide = radix - 1;\n    array[0] = Math.floor(id / radix / radix / radix) / divide;\n    array[1] = (Math.floor(id / radix / radix) % radix) / divide;\n    array[2] = (Math.floor(id / radix) % radix) / divide;\n    array[3] = (id % radix) / divide;\n    return array;\n}\n/**\n * Reads an id from a color-encoded array\n * Note: the expected range for each component is 0 to 1 with 256 steps.\n * @param {Array<number>} color Color array containing the encoded id\n * @return {number} Decoded id\n */\nexport function colorDecodeId(color) {\n    var id = 0;\n    var radix = 256;\n    var mult = radix - 1;\n    id += Math.round(color[0] * radix * radix * radix * mult);\n    id += Math.round(color[1] * radix * radix * mult);\n    id += Math.round(color[2] * radix * mult);\n    id += Math.round(color[3] * mult);\n    return id;\n}\nexport default WebGLLayerRenderer;\n//# sourceMappingURL=Layer.js.map","/**\n * A wrapper class to simplify rendering to a texture instead of the final canvas\n * @module ol/webgl/RenderTarget\n */\nimport { equals } from '../array.js';\n// for pixel color reading\nvar tmpArray4 = new Uint8Array(4);\n/**\n * @classdesc\n * This class is a wrapper around the association of both a `WebGLTexture` and a `WebGLFramebuffer` instances,\n * simplifying initialization and binding for rendering.\n * @api\n */\nvar WebGLRenderTarget = /** @class */ (function () {\n    /**\n     * @param {import(\"./Helper.js\").default} helper WebGL helper; mandatory.\n     * @param {Array<number>} [opt_size] Expected size of the render target texture; note: this can be changed later on.\n     */\n    function WebGLRenderTarget(helper, opt_size) {\n        /**\n         * @private\n         * @type {import(\"./Helper.js\").default}\n         */\n        this.helper_ = helper;\n        var gl = helper.getGL();\n        /**\n         * @private\n         * @type {WebGLTexture}\n         */\n        this.texture_ = gl.createTexture();\n        /**\n         * @private\n         * @type {WebGLFramebuffer}\n         */\n        this.framebuffer_ = gl.createFramebuffer();\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        this.size_ = opt_size || [1, 1];\n        /**\n         * @type {Uint8Array}\n         * @private\n         */\n        this.data_ = new Uint8Array(0);\n        /**\n         * @type {boolean}\n         * @private\n         */\n        this.dataCacheDirty_ = true;\n        this.updateSize_();\n    }\n    /**\n     * Changes the size of the render target texture. Note: will do nothing if the size\n     * is already the same.\n     * @param {Array<number>} size Expected size of the render target texture\n     * @api\n     */\n    WebGLRenderTarget.prototype.setSize = function (size) {\n        if (equals(size, this.size_)) {\n            return;\n        }\n        this.size_[0] = size[0];\n        this.size_[1] = size[1];\n        this.updateSize_();\n    };\n    /**\n     * Returns the size of the render target texture\n     * @return {Array<number>} Size of the render target texture\n     * @api\n     */\n    WebGLRenderTarget.prototype.getSize = function () {\n        return this.size_;\n    };\n    /**\n     * This will cause following calls to `#readAll` or `#readPixel` to download the content of the\n     * render target into memory, which is an expensive operation.\n     * This content will be kept in cache but should be cleared after each new render.\n     * @api\n     */\n    WebGLRenderTarget.prototype.clearCachedData = function () {\n        this.dataCacheDirty_ = true;\n    };\n    /**\n     * Returns the full content of the frame buffer as a series of r, g, b, a components\n     * in the 0-255 range (unsigned byte).\n     * @return {Uint8Array} Integer array of color values\n     * @api\n     */\n    WebGLRenderTarget.prototype.readAll = function () {\n        if (this.dataCacheDirty_) {\n            var size = this.size_;\n            var gl = this.helper_.getGL();\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n            gl.readPixels(0, 0, size[0], size[1], gl.RGBA, gl.UNSIGNED_BYTE, this.data_);\n            this.dataCacheDirty_ = false;\n        }\n        return this.data_;\n    };\n    /**\n     * Reads one pixel of the frame buffer as an array of r, g, b, a components\n     * in the 0-255 range (unsigned byte).\n     * If x and/or y are outside of existing data, an array filled with 0 is returned.\n     * @param {number} x Pixel coordinate\n     * @param {number} y Pixel coordinate\n     * @return {Uint8Array} Integer array with one color value (4 components)\n     * @api\n     */\n    WebGLRenderTarget.prototype.readPixel = function (x, y) {\n        if (x < 0 || y < 0 || x > this.size_[0] || y >= this.size_[1]) {\n            tmpArray4[0] = 0;\n            tmpArray4[1] = 0;\n            tmpArray4[2] = 0;\n            tmpArray4[3] = 0;\n            return tmpArray4;\n        }\n        this.readAll();\n        var index = Math.floor(x) + (this.size_[1] - Math.floor(y) - 1) * this.size_[0];\n        tmpArray4[0] = this.data_[index * 4];\n        tmpArray4[1] = this.data_[index * 4 + 1];\n        tmpArray4[2] = this.data_[index * 4 + 2];\n        tmpArray4[3] = this.data_[index * 4 + 3];\n        return tmpArray4;\n    };\n    /**\n     * @return {WebGLTexture} Texture to render to\n     */\n    WebGLRenderTarget.prototype.getTexture = function () {\n        return this.texture_;\n    };\n    /**\n     * @return {WebGLFramebuffer} Frame buffer of the render target\n     */\n    WebGLRenderTarget.prototype.getFramebuffer = function () {\n        return this.framebuffer_;\n    };\n    /**\n     * @private\n     */\n    WebGLRenderTarget.prototype.updateSize_ = function () {\n        var size = this.size_;\n        var gl = this.helper_.getGL();\n        this.texture_ = this.helper_.createTexture(size, null, this.texture_);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer_);\n        gl.viewport(0, 0, size[0], size[1]);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture_, 0);\n        this.data_ = new Uint8Array(size[0] * size[1] * 4);\n    };\n    return WebGLRenderTarget;\n}());\nexport default WebGLRenderTarget;\n//# sourceMappingURL=RenderTarget.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/webgl/PointsLayer\n */\nimport BaseVector from '../../layer/BaseVector.js';\nimport VectorEventType from '../../source/VectorEventType.js';\nimport ViewHint from '../../ViewHint.js';\nimport WebGLArrayBuffer from '../../webgl/Buffer.js';\nimport WebGLLayerRenderer, { WebGLWorkerMessageType, colorDecodeId, colorEncodeId, } from './Layer.js';\nimport WebGLRenderTarget from '../../webgl/RenderTarget.js';\nimport { ARRAY_BUFFER, DYNAMIC_DRAW, ELEMENT_ARRAY_BUFFER } from '../../webgl.js';\nimport { AttributeType, DefaultUniform } from '../../webgl/Helper.js';\nimport { apply as applyTransform, create as createTransform, makeInverse as makeInverseTransform, multiply as multiplyTransform, translate as translateTransform, } from '../../transform.js';\nimport { assert } from '../../asserts.js';\nimport { buffer, createEmpty, equals, getWidth } from '../../extent.js';\nimport { create as createWebGLWorker } from '../../worker/webgl.js';\nimport { getUid } from '../../util.js';\nimport { listen, unlistenByKey } from '../../events.js';\n/**\n * @typedef {Object} CustomAttribute A description of a custom attribute to be passed on to the GPU, with a value different\n * for each feature.\n * @property {string} name Attribute name.\n * @property {function(import(\"../../Feature\").default, Object<string, *>):number} callback This callback computes the numerical value of the\n * attribute for a given feature (properties are available as 2nd arg for quicker access).\n */\n/**\n * @typedef {Object} FeatureCacheItem Object that holds a reference to a feature, its geometry and properties. Used to optimize\n * rebuildBuffers by accessing these objects quicker.\n * @property {import(\"../../Feature\").default} feature Feature\n * @property {Object<string, *>} properties Feature properties\n * @property {import(\"../../geom\").Geometry} geometry Feature geometry\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the canvas element.\n * @property {Array<CustomAttribute>} [attributes] These attributes will be read from the features in the source and then\n * passed to the GPU. The `name` property of each attribute will serve as its identifier:\n *  * In the vertex shader as an `attribute` by prefixing it with `a_`\n *  * In the fragment shader as a `varying` by prefixing it with `v_`\n * Please note that these can only be numerical values.\n * @property {string} vertexShader Vertex shader source, mandatory.\n * @property {string} fragmentShader Fragment shader source, mandatory.\n * @property {string} [hitVertexShader] Vertex shader source for hit detection rendering.\n * @property {string} [hitFragmentShader] Fragment shader source for hit detection rendering.\n * @property {Object<string,import(\"../../webgl/Helper\").UniformValue>} [uniforms] Uniform definitions for the post process steps\n * Please note that `u_texture` is reserved for the main texture slot and `u_opacity` is reserved for the layer opacity.\n * @property {Array<import(\"./Layer\").PostProcessesOptions>} [postProcesses] Post-processes definitions\n */\n/**\n * @classdesc\n * WebGL vector renderer optimized for points.\n * All features will be rendered as quads (two triangles forming a square). New data will be flushed to the GPU\n * every time the vector source changes.\n *\n * You need to provide vertex and fragment shaders for rendering. This can be done using\n * {@link module:ol/webgl/ShaderBuilder~ShaderBuilder} utilities. These shaders shall expect a `a_position` attribute\n * containing the screen-space projected center of the quad, as well as a `a_index` attribute\n * whose value (0, 1, 2 or 3) indicates which quad vertex is currently getting processed (see structure below).\n *\n * To include variable attributes in the shaders, you need to declare them using the `attributes` property of\n * the options object like so:\n * ```js\n * new WebGLPointsLayerRenderer(layer, {\n *   attributes: [\n *     {\n *       name: 'size',\n *       callback: function(feature) {\n *         // compute something with the feature\n *       }\n *     },\n *     {\n *       name: 'weight',\n *       callback: function(feature) {\n *         // compute something with the feature\n *       }\n *     },\n *   ],\n *   vertexShader:\n *     // shader using attribute a_weight and a_size\n *   fragmentShader:\n *     // shader using varying v_weight and v_size\n * ```\n *\n * To enable hit detection, you must as well provide dedicated shaders using the `hitVertexShader`\n * and `hitFragmentShader` properties. These shall expect the `a_hitColor` attribute to contain\n * the final color that will have to be output for hit detection to work.\n *\n * The following uniform is used for the main texture: `u_texture`.\n * The following uniform is used for the layer opacity: `u_opacity`.\n *\n * Please note that the main shader output should have premultiplied alpha, otherwise visual anomalies may occur.\n *\n * Points are rendered as quads with the following structure:\n *\n * ```\n *   (u0, v1)      (u1, v1)\n *  [3]----------[2]\n *   |`           |\n *   |  `         |\n *   |    `       |\n *   |      `     |\n *   |        `   |\n *   |          ` |\n *  [0]----------[1]\n *   (u0, v0)      (u1, v0)\n *  ```\n *\n * This uses {@link module:ol/webgl/Helper~WebGLHelper} internally.\n *\n * @api\n */\nvar WebGLPointsLayerRenderer = /** @class */ (function (_super) {\n    __extends(WebGLPointsLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/Layer.js\").default} layer Layer.\n     * @param {Options} options Options.\n     */\n    function WebGLPointsLayerRenderer(layer, options) {\n        var _this = this;\n        var uniforms = options.uniforms || {};\n        var projectionMatrixTransform = createTransform();\n        uniforms[DefaultUniform.PROJECTION_MATRIX] = projectionMatrixTransform;\n        _this = _super.call(this, layer, {\n            uniforms: uniforms,\n            postProcesses: options.postProcesses,\n        }) || this;\n        _this.ready = false;\n        _this.sourceRevision_ = -1;\n        _this.verticesBuffer_ = new WebGLArrayBuffer(ARRAY_BUFFER, DYNAMIC_DRAW);\n        _this.hitVerticesBuffer_ = new WebGLArrayBuffer(ARRAY_BUFFER, DYNAMIC_DRAW);\n        _this.indicesBuffer_ = new WebGLArrayBuffer(ELEMENT_ARRAY_BUFFER, DYNAMIC_DRAW);\n        /**\n         * @private\n         */\n        _this.vertexShader_ = options.vertexShader;\n        /**\n         * @private\n         */\n        _this.fragmentShader_ = options.fragmentShader;\n        /**\n         * @type {WebGLProgram}\n         * @private\n         */\n        _this.program_;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.hitDetectionEnabled_ =\n            options.hitFragmentShader && options.hitVertexShader ? true : false;\n        /**\n         * @private\n         */\n        _this.hitVertexShader_ = options.hitVertexShader;\n        /**\n         * @private\n         */\n        _this.hitFragmentShader_ = options.hitFragmentShader;\n        /**\n         * @type {WebGLProgram}\n         * @private\n         */\n        _this.hitProgram_;\n        var customAttributes = options.attributes\n            ? options.attributes.map(function (attribute) {\n                return {\n                    name: 'a_' + attribute.name,\n                    size: 1,\n                    type: AttributeType.FLOAT,\n                };\n            })\n            : [];\n        /**\n         * A list of attributes used by the renderer. By default only the position and\n         * index of the vertex (0 to 3) are required.\n         * @type {Array<import('../../webgl/Helper.js').AttributeDescription>}\n         */\n        _this.attributes = [\n            {\n                name: 'a_position',\n                size: 2,\n                type: AttributeType.FLOAT,\n            },\n            {\n                name: 'a_index',\n                size: 1,\n                type: AttributeType.FLOAT,\n            },\n        ].concat(customAttributes);\n        /**\n         * A list of attributes used for hit detection.\n         * @type {Array<import('../../webgl/Helper.js').AttributeDescription>}\n         */\n        _this.hitDetectionAttributes = [\n            {\n                name: 'a_position',\n                size: 2,\n                type: AttributeType.FLOAT,\n            },\n            {\n                name: 'a_index',\n                size: 1,\n                type: AttributeType.FLOAT,\n            },\n            {\n                name: 'a_hitColor',\n                size: 4,\n                type: AttributeType.FLOAT,\n            },\n            {\n                name: 'a_featureUid',\n                size: 1,\n                type: AttributeType.FLOAT,\n            },\n        ].concat(customAttributes);\n        _this.customAttributes = options.attributes ? options.attributes : [];\n        _this.previousExtent_ = createEmpty();\n        /**\n         * This transform is updated on every frame and is the composition of:\n         * - invert of the world->screen transform that was used when rebuilding buffers (see `this.renderTransform_`)\n         * - current world->screen transform\n         * @type {import(\"../../transform.js\").Transform}\n         * @private\n         */\n        _this.currentTransform_ = projectionMatrixTransform;\n        /**\n         * This transform is updated when buffers are rebuilt and converts world space coordinates to screen space\n         * @type {import(\"../../transform.js\").Transform}\n         * @private\n         */\n        _this.renderTransform_ = createTransform();\n        /**\n         * @type {import(\"../../transform.js\").Transform}\n         * @private\n         */\n        _this.invertRenderTransform_ = createTransform();\n        /**\n         * @type {Float32Array}\n         * @private\n         */\n        _this.renderInstructions_ = new Float32Array(0);\n        /**\n         * These instructions are used for hit detection\n         * @type {Float32Array}\n         * @private\n         */\n        _this.hitRenderInstructions_ = new Float32Array(0);\n        /**\n         * @type {WebGLRenderTarget}\n         * @private\n         */\n        _this.hitRenderTarget_;\n        /**\n         * Keep track of latest message sent to worker\n         * @type {number}\n         * @private\n         */\n        _this.generateBuffersRun_ = 0;\n        _this.worker_ = createWebGLWorker();\n        _this.worker_.addEventListener('message', \n        /**\n         * @param {*} event Event.\n         * @this {WebGLPointsLayerRenderer}\n         */\n        function (event) {\n            var received = event.data;\n            if (received.type === WebGLWorkerMessageType.GENERATE_BUFFERS) {\n                var projectionTransform = received.projectionTransform;\n                if (received.hitDetection) {\n                    this.hitVerticesBuffer_.fromArrayBuffer(received.vertexBuffer);\n                    this.helper.flushBufferData(this.hitVerticesBuffer_);\n                }\n                else {\n                    this.verticesBuffer_.fromArrayBuffer(received.vertexBuffer);\n                    this.helper.flushBufferData(this.verticesBuffer_);\n                }\n                this.indicesBuffer_.fromArrayBuffer(received.indexBuffer);\n                this.helper.flushBufferData(this.indicesBuffer_);\n                this.renderTransform_ = projectionTransform;\n                makeInverseTransform(this.invertRenderTransform_, this.renderTransform_);\n                if (received.hitDetection) {\n                    this.hitRenderInstructions_ = new Float32Array(event.data.renderInstructions);\n                }\n                else {\n                    this.renderInstructions_ = new Float32Array(event.data.renderInstructions);\n                    if (received.generateBuffersRun === this.generateBuffersRun_) {\n                        this.ready = true;\n                    }\n                }\n                this.getLayer().changed();\n            }\n        }.bind(_this));\n        /**\n         * This object will be updated when the source changes. Key is uid.\n         * @type {Object<string, FeatureCacheItem>}\n         * @private\n         */\n        _this.featureCache_ = {};\n        /**\n         * Amount of features in the cache.\n         * @type {number}\n         * @private\n         */\n        _this.featureCount_ = 0;\n        var source = _this.getLayer().getSource();\n        _this.sourceListenKeys_ = [\n            listen(source, VectorEventType.ADDFEATURE, _this.handleSourceFeatureAdded_, _this),\n            listen(source, VectorEventType.CHANGEFEATURE, _this.handleSourceFeatureChanged_, _this),\n            listen(source, VectorEventType.REMOVEFEATURE, _this.handleSourceFeatureDelete_, _this),\n            listen(source, VectorEventType.CLEAR, _this.handleSourceFeatureClear_, _this),\n        ];\n        source.forEachFeature(function (feature) {\n            this.featureCache_[getUid(feature)] = {\n                feature: feature,\n                properties: feature.getProperties(),\n                geometry: feature.getGeometry(),\n            };\n            this.featureCount_++;\n        }.bind(_this));\n        return _this;\n    }\n    WebGLPointsLayerRenderer.prototype.afterHelperCreated = function () {\n        this.program_ = this.helper.getProgram(this.fragmentShader_, this.vertexShader_);\n        if (this.hitDetectionEnabled_) {\n            this.hitProgram_ = this.helper.getProgram(this.hitFragmentShader_, this.hitVertexShader_);\n            this.hitRenderTarget_ = new WebGLRenderTarget(this.helper);\n        }\n    };\n    /**\n     * @param {import(\"../../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    WebGLPointsLayerRenderer.prototype.handleSourceFeatureAdded_ = function (event) {\n        var feature = event.feature;\n        this.featureCache_[getUid(feature)] = {\n            feature: feature,\n            properties: feature.getProperties(),\n            geometry: feature.getGeometry(),\n        };\n        this.featureCount_++;\n    };\n    /**\n     * @param {import(\"../../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    WebGLPointsLayerRenderer.prototype.handleSourceFeatureChanged_ = function (event) {\n        var feature = event.feature;\n        this.featureCache_[getUid(feature)] = {\n            feature: feature,\n            properties: feature.getProperties(),\n            geometry: feature.getGeometry(),\n        };\n    };\n    /**\n     * @param {import(\"../../source/Vector.js\").VectorSourceEvent} event Event.\n     * @private\n     */\n    WebGLPointsLayerRenderer.prototype.handleSourceFeatureDelete_ = function (event) {\n        var feature = event.feature;\n        delete this.featureCache_[getUid(feature)];\n        this.featureCount_--;\n    };\n    /**\n     * @private\n     */\n    WebGLPointsLayerRenderer.prototype.handleSourceFeatureClear_ = function () {\n        this.featureCache_ = {};\n        this.featureCount_ = 0;\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {HTMLElement} The rendered element.\n     */\n    WebGLPointsLayerRenderer.prototype.renderFrame = function (frameState) {\n        var gl = this.helper.getGL();\n        this.preRender(gl, frameState);\n        var projection = frameState.viewState.projection;\n        var layer = this.getLayer();\n        var vectorSource = layer.getSource();\n        // FIXME fix hit detection isn't reliable when rendering multiple worlds\n        var multiWorld = vectorSource.getWrapX() && projection.canWrapX();\n        var projectionExtent = projection.getExtent();\n        var extent = frameState.extent;\n        var worldWidth = multiWorld ? getWidth(projectionExtent) : null;\n        var endWorld = multiWorld\n            ? Math.ceil((extent[2] - projectionExtent[2]) / worldWidth) + 1\n            : 1;\n        var startWorld = multiWorld\n            ? Math.floor((extent[0] - projectionExtent[0]) / worldWidth)\n            : 0;\n        var world = startWorld;\n        var renderCount = this.indicesBuffer_.getSize();\n        do {\n            // apply the current projection transform with the invert of the one used to fill buffers\n            this.helper.makeProjectionTransform(frameState, this.currentTransform_);\n            translateTransform(this.currentTransform_, world * worldWidth, 0);\n            multiplyTransform(this.currentTransform_, this.invertRenderTransform_);\n            this.helper.applyUniforms(frameState);\n            this.helper.drawElements(0, renderCount);\n        } while (++world < endWorld);\n        this.helper.finalizeDraw(frameState, this.dispatchPreComposeEvent, this.dispatchPostComposeEvent);\n        var canvas = this.helper.getCanvas();\n        if (this.hitDetectionEnabled_) {\n            this.renderHitDetection(frameState, startWorld, endWorld, worldWidth);\n            this.hitRenderTarget_.clearCachedData();\n        }\n        this.postRender(gl, frameState);\n        return canvas;\n    };\n    /**\n     * Determine whether renderFrame should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    WebGLPointsLayerRenderer.prototype.prepareFrameInternal = function (frameState) {\n        var layer = this.getLayer();\n        var vectorSource = layer.getSource();\n        var viewState = frameState.viewState;\n        var viewNotMoving = !frameState.viewHints[ViewHint.ANIMATING] &&\n            !frameState.viewHints[ViewHint.INTERACTING];\n        var extentChanged = !equals(this.previousExtent_, frameState.extent);\n        var sourceChanged = this.sourceRevision_ < vectorSource.getRevision();\n        if (sourceChanged) {\n            this.sourceRevision_ = vectorSource.getRevision();\n        }\n        if (viewNotMoving && (extentChanged || sourceChanged)) {\n            var projection = viewState.projection;\n            var resolution = viewState.resolution;\n            var renderBuffer = layer instanceof BaseVector ? layer.getRenderBuffer() : 0;\n            var extent = buffer(frameState.extent, renderBuffer * resolution);\n            vectorSource.loadFeatures(extent, resolution, projection);\n            this.rebuildBuffers_(frameState);\n            this.previousExtent_ = frameState.extent.slice();\n        }\n        this.helper.useProgram(this.program_);\n        this.helper.prepareDraw(frameState);\n        // write new data\n        this.helper.bindBuffer(this.verticesBuffer_);\n        this.helper.bindBuffer(this.indicesBuffer_);\n        this.helper.enableAttributes(this.attributes);\n        return true;\n    };\n    /**\n     * Rebuild internal webgl buffers based on current view extent; costly, should not be called too much\n     * @param {import(\"../../PluggableMap\").FrameState} frameState Frame state.\n     * @private\n     */\n    WebGLPointsLayerRenderer.prototype.rebuildBuffers_ = function (frameState) {\n        // saves the projection transform for the current frame state\n        var projectionTransform = createTransform();\n        this.helper.makeProjectionTransform(frameState, projectionTransform);\n        // here we anticipate the amount of render instructions that we well generate\n        // this can be done since we know that for normal render we only have x, y as base instructions,\n        // and x, y, r, g, b, a and featureUid for hit render instructions\n        // and we also know the amount of custom attributes to append to these\n        var totalInstructionsCount = (2 + this.customAttributes.length) * this.featureCount_;\n        if (!this.renderInstructions_ ||\n            this.renderInstructions_.length !== totalInstructionsCount) {\n            this.renderInstructions_ = new Float32Array(totalInstructionsCount);\n        }\n        if (this.hitDetectionEnabled_) {\n            var totalHitInstructionsCount = (7 + this.customAttributes.length) * this.featureCount_;\n            if (!this.hitRenderInstructions_ ||\n                this.hitRenderInstructions_.length !== totalHitInstructionsCount) {\n                this.hitRenderInstructions_ = new Float32Array(totalHitInstructionsCount);\n            }\n        }\n        // loop on features to fill the buffer\n        var featureCache, geometry;\n        var tmpCoords = [];\n        var tmpColor = [];\n        var renderIndex = 0;\n        var hitIndex = 0;\n        var hitColor;\n        for (var featureUid in this.featureCache_) {\n            featureCache = this.featureCache_[featureUid];\n            geometry = /** @type {import(\"../../geom\").Point} */ (featureCache.geometry);\n            if (!geometry || geometry.getType() !== 'Point') {\n                continue;\n            }\n            tmpCoords[0] = geometry.getFlatCoordinates()[0];\n            tmpCoords[1] = geometry.getFlatCoordinates()[1];\n            applyTransform(projectionTransform, tmpCoords);\n            hitColor = colorEncodeId(hitIndex + 6, tmpColor);\n            this.renderInstructions_[renderIndex++] = tmpCoords[0];\n            this.renderInstructions_[renderIndex++] = tmpCoords[1];\n            // for hit detection, the feature uid is saved in the opacity value\n            // and the index of the opacity value is encoded in the color values\n            if (this.hitDetectionEnabled_) {\n                this.hitRenderInstructions_[hitIndex++] = tmpCoords[0];\n                this.hitRenderInstructions_[hitIndex++] = tmpCoords[1];\n                this.hitRenderInstructions_[hitIndex++] = hitColor[0];\n                this.hitRenderInstructions_[hitIndex++] = hitColor[1];\n                this.hitRenderInstructions_[hitIndex++] = hitColor[2];\n                this.hitRenderInstructions_[hitIndex++] = hitColor[3];\n                this.hitRenderInstructions_[hitIndex++] = Number(featureUid);\n            }\n            // pushing custom attributes\n            var value = void 0;\n            for (var j = 0; j < this.customAttributes.length; j++) {\n                value = this.customAttributes[j].callback(featureCache.feature, featureCache.properties);\n                this.renderInstructions_[renderIndex++] = value;\n                if (this.hitDetectionEnabled_) {\n                    this.hitRenderInstructions_[hitIndex++] = value;\n                }\n            }\n        }\n        /** @type {import('./Layer').WebGLWorkerGenerateBuffersMessage} */\n        var message = {\n            type: WebGLWorkerMessageType.GENERATE_BUFFERS,\n            renderInstructions: this.renderInstructions_.buffer,\n            customAttributesCount: this.customAttributes.length,\n        };\n        // additional properties will be sent back as-is by the worker\n        message['projectionTransform'] = projectionTransform;\n        message['generateBuffersRun'] = ++this.generateBuffersRun_;\n        this.ready = false;\n        this.worker_.postMessage(message, [this.renderInstructions_.buffer]);\n        this.renderInstructions_ = null;\n        /** @type {import('./Layer').WebGLWorkerGenerateBuffersMessage} */\n        if (this.hitDetectionEnabled_) {\n            var hitMessage = {\n                type: WebGLWorkerMessageType.GENERATE_BUFFERS,\n                renderInstructions: this.hitRenderInstructions_.buffer,\n                customAttributesCount: 5 + this.customAttributes.length,\n            };\n            hitMessage['projectionTransform'] = projectionTransform;\n            hitMessage['hitDetection'] = true;\n            this.worker_.postMessage(hitMessage, [\n                this.hitRenderInstructions_.buffer,\n            ]);\n            this.hitRenderInstructions_ = null;\n        }\n    };\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {import(\"../vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {Array<import(\"../Map.js\").HitMatch<T>>} matches The hit detected matches with tolerance.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    WebGLPointsLayerRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, callback, matches) {\n        assert(this.hitDetectionEnabled_, 66);\n        if (!this.hitRenderInstructions_) {\n            return undefined;\n        }\n        var pixel = applyTransform(frameState.coordinateToPixelTransform, coordinate.slice());\n        var data = this.hitRenderTarget_.readPixel(pixel[0] / 2, pixel[1] / 2);\n        var color = [data[0] / 255, data[1] / 255, data[2] / 255, data[3] / 255];\n        var index = colorDecodeId(color);\n        var opacity = this.hitRenderInstructions_[index];\n        var uid = Math.floor(opacity).toString();\n        var source = this.getLayer().getSource();\n        var feature = source.getFeatureByUid(uid);\n        if (feature) {\n            return callback(feature, this.getLayer(), null);\n        }\n        return undefined;\n    };\n    /**\n     * Render the hit detection data to the corresponding render target\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState current frame state\n     * @param {number} startWorld the world to render in the first iteration\n     * @param {number} endWorld the last world to render\n     * @param {number} worldWidth the width of the worlds being rendered\n     */\n    WebGLPointsLayerRenderer.prototype.renderHitDetection = function (frameState, startWorld, endWorld, worldWidth) {\n        // skip render entirely if vertex buffers not ready/generated yet\n        if (!this.hitVerticesBuffer_.getSize()) {\n            return;\n        }\n        var world = startWorld;\n        this.hitRenderTarget_.setSize([\n            Math.floor(frameState.size[0] / 2),\n            Math.floor(frameState.size[1] / 2),\n        ]);\n        this.helper.useProgram(this.hitProgram_);\n        this.helper.prepareDrawToRenderTarget(frameState, this.hitRenderTarget_, true);\n        this.helper.bindBuffer(this.hitVerticesBuffer_);\n        this.helper.bindBuffer(this.indicesBuffer_);\n        this.helper.enableAttributes(this.hitDetectionAttributes);\n        do {\n            this.helper.makeProjectionTransform(frameState, this.currentTransform_);\n            translateTransform(this.currentTransform_, world * worldWidth, 0);\n            multiplyTransform(this.currentTransform_, this.invertRenderTransform_);\n            this.helper.applyUniforms(frameState);\n            var renderCount = this.indicesBuffer_.getSize();\n            this.helper.drawElements(0, renderCount);\n        } while (++world < endWorld);\n    };\n    /**\n     * Clean up.\n     */\n    WebGLPointsLayerRenderer.prototype.disposeInternal = function () {\n        this.worker_.terminate();\n        this.layer_ = null;\n        this.sourceListenKeys_.forEach(function (key) {\n            unlistenByKey(key);\n        });\n        this.sourceListenKeys_ = null;\n        _super.prototype.disposeInternal.call(this);\n    };\n    return WebGLPointsLayerRenderer;\n}(WebGLLayerRenderer));\nexport default WebGLPointsLayerRenderer;\n//# sourceMappingURL=PointsLayer.js.map","export function create() {\n    var source = \"const e=\\\"function\\\"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError(\\\"Cannot convert undefined or null to object\\\");const t=Object(e);for(let e=1,n=arguments.length;e<n;++e){const n=arguments[e];if(null!=n)for(const e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}return t},n=\\\"undefined\\\"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():\\\"\\\";n.indexOf(\\\"firefox\\\");-1!==n.indexOf(\\\"safari\\\")&&-1==n.indexOf(\\\"chrom\\\")&&(n.indexOf(\\\"version/15.4\\\")>=0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!==n.indexOf(\\\"webkit\\\")&&n.indexOf(\\\"edge\\\"),n.indexOf(\\\"macintosh\\\"),\\\"undefined\\\"!=typeof WorkerGlobalScope&&\\\"undefined\\\"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope),function(){let e=!1;try{const n=Object.defineProperty({},\\\"passive\\\",{get:function(){e=!0}});window.addEventListener(\\\"_\\\",null,n),window.removeEventListener(\\\"_\\\",null,n)}catch(e){}}(),new Array(6);const t=\\\"GENERATE_BUFFERS\\\",o=[],r={vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]=t,e[n+1]=o,e[n+2]=r}function s(e,n,t,s,f,c){const l=3+f,a=e[n+0],u=e[n+1],d=o;d.length=f;for(let t=0;t<d.length;t++)d[t]=e[n+2+t];let g=c?c.vertexPosition:0,x=c?c.indexPosition:0;const h=g/l;return i(t,g,a,u,0),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,1),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,2),d.length&&t.set(d,g+3),g+=l,i(t,g,a,u,3),d.length&&t.set(d,g+3),g+=l,s[x++]=h,s[x++]=h+1,s[x++]=h+3,s[x++]=h+1,s[x++]=h+2,s[x++]=h+3,r.vertexPosition=g,r.indexPosition=x,r}const f=self;f.onmessage=n=>{const o=n.data;if(o.type===t){const n=3,t=2,r=o.customAttributesCount,i=t+r,c=new Float32Array(o.renderInstructions),l=c.length/i,a=4*l*(r+n),u=new Uint32Array(6*l),d=new Float32Array(a);let g;for(let e=0;e<c.length;e+=i)g=s(c,e,d,u,r,g);const x=e({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};\";\n    return new Worker(typeof Blob === 'undefined'\n        ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')\n        : URL.createObjectURL(new Blob([source], { type: 'application/javascript' })));\n}\n//# sourceMappingURL=webgl.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Heatmap\n */\nimport BaseVector from './BaseVector.js';\nimport WebGLPointsLayerRenderer from '../renderer/webgl/PointsLayer.js';\nimport { assign } from '../obj.js';\nimport { clamp } from '../math.js';\nimport { createCanvasContext2D } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {Array<string>} [gradient=['#00f', '#0ff', '#0f0', '#ff0', '#f00']] The color gradient\n * of the heatmap, specified as an array of CSS color strings.\n * @property {number} [radius=8] Radius size in pixels.\n * @property {number} [blur=15] Blur size in pixels.\n * @property {string|function(import(\"../Feature.js\").default):number} [weight='weight'] The feature\n * attribute to use for the weight or a function that returns a weight from a feature. Weight values\n * should range from 0 to 1 (and values outside will be clamped to that range).\n * @property {import(\"../source/Vector.js\").default<import(\"../geom/Point.js\").default>} [source] Point source.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n    BLUR: 'blur',\n    GRADIENT: 'gradient',\n    RADIUS: 'radius',\n};\n/**\n * @const\n * @type {Array<string>}\n */\nvar DEFAULT_GRADIENT = ['#00f', '#0ff', '#0f0', '#ff0', '#f00'];\n/**\n * @classdesc\n * Layer for rendering vector data as a heatmap.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n * @extends {BaseVector<import(\"../source/Vector.js\").default, WebGLPointsLayerRenderer>}\n * @api\n */\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function Heatmap(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var baseOptions = assign({}, options);\n        delete baseOptions.gradient;\n        delete baseOptions.radius;\n        delete baseOptions.blur;\n        delete baseOptions.weight;\n        _this = _super.call(this, baseOptions) || this;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.gradient_ = null;\n        _this.addChangeListener(Property.GRADIENT, _this.handleGradientChanged_);\n        _this.setGradient(options.gradient ? options.gradient : DEFAULT_GRADIENT);\n        _this.setBlur(options.blur !== undefined ? options.blur : 15);\n        _this.setRadius(options.radius !== undefined ? options.radius : 8);\n        var weight = options.weight ? options.weight : 'weight';\n        if (typeof weight === 'string') {\n            _this.weightFunction_ = function (feature) {\n                return feature.get(weight);\n            };\n        }\n        else {\n            _this.weightFunction_ = weight;\n        }\n        // For performance reasons, don't sort the features before rendering.\n        // The render order is not relevant for a heatmap representation.\n        _this.setRenderOrder(null);\n        return _this;\n    }\n    /**\n     * Return the blur size in pixels.\n     * @return {number} Blur size in pixels.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.getBlur = function () {\n        return /** @type {number} */ (this.get(Property.BLUR));\n    };\n    /**\n     * Return the gradient colors as array of strings.\n     * @return {Array<string>} Colors.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.getGradient = function () {\n        return /** @type {Array<string>} */ (this.get(Property.GRADIENT));\n    };\n    /**\n     * Return the size of the radius in pixels.\n     * @return {number} Radius size in pixel.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.getRadius = function () {\n        return /** @type {number} */ (this.get(Property.RADIUS));\n    };\n    /**\n     * @private\n     */\n    Heatmap.prototype.handleGradientChanged_ = function () {\n        this.gradient_ = createGradient(this.getGradient());\n    };\n    /**\n     * Set the blur size in pixels.\n     * @param {number} blur Blur size in pixels.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.setBlur = function (blur) {\n        this.set(Property.BLUR, blur);\n    };\n    /**\n     * Set the gradient colors as array of strings.\n     * @param {Array<string>} colors Gradient.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.setGradient = function (colors) {\n        this.set(Property.GRADIENT, colors);\n    };\n    /**\n     * Set the size of the radius in pixels.\n     * @param {number} radius Radius size in pixel.\n     * @api\n     * @observable\n     */\n    Heatmap.prototype.setRadius = function (radius) {\n        this.set(Property.RADIUS, radius);\n    };\n    Heatmap.prototype.createRenderer = function () {\n        return new WebGLPointsLayerRenderer(this, {\n            className: this.getClassName(),\n            attributes: [\n                {\n                    name: 'weight',\n                    callback: function (feature) {\n                        var weight = this.weightFunction_(feature);\n                        return weight !== undefined ? clamp(weight, 0, 1) : 1;\n                    }.bind(this),\n                },\n            ],\n            vertexShader: \"\\n        precision mediump float;\\n        uniform mat4 u_projectionMatrix;\\n        uniform mat4 u_offsetScaleMatrix;\\n        uniform float u_size;\\n        attribute vec2 a_position;\\n        attribute float a_index;\\n        attribute float a_weight;\\n\\n        varying vec2 v_texCoord;\\n        varying float v_weight;\\n\\n        void main(void) {\\n          mat4 offsetMatrix = u_offsetScaleMatrix;\\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\\n          v_texCoord = vec2(u, v);\\n          v_weight = a_weight;\\n        }\",\n            fragmentShader: \"\\n        precision mediump float;\\n        uniform float u_blurSlope;\\n\\n        varying vec2 v_texCoord;\\n        varying float v_weight;\\n\\n        void main(void) {\\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\\n        }\",\n            hitVertexShader: \"\\n        precision mediump float;\\n        uniform mat4 u_projectionMatrix;\\n        uniform mat4 u_offsetScaleMatrix;\\n        uniform float u_size;\\n        attribute vec2 a_position;\\n        attribute float a_index;\\n        attribute float a_weight;\\n        attribute vec4 a_hitColor;\\n\\n        varying vec2 v_texCoord;\\n        varying float v_weight;\\n        varying vec4 v_hitColor;\\n\\n        void main(void) {\\n          mat4 offsetMatrix = u_offsetScaleMatrix;\\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\\n          v_texCoord = vec2(u, v);\\n          v_hitColor = a_hitColor;\\n          v_weight = a_weight;\\n        }\",\n            hitFragmentShader: \"\\n        precision mediump float;\\n        uniform float u_blurSlope;\\n\\n        varying vec2 v_texCoord;\\n        varying float v_weight;\\n        varying vec4 v_hitColor;\\n\\n        void main(void) {\\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\\n          if (alpha < 0.05) {\\n            discard;\\n          }\\n\\n          gl_FragColor = v_hitColor;\\n        }\",\n            uniforms: {\n                u_size: function () {\n                    return (this.get(Property.RADIUS) + this.get(Property.BLUR)) * 2;\n                }.bind(this),\n                u_blurSlope: function () {\n                    return (this.get(Property.RADIUS) / Math.max(1, this.get(Property.BLUR)));\n                }.bind(this),\n            },\n            postProcesses: [\n                {\n                    fragmentShader: \"\\n            precision mediump float;\\n\\n            uniform sampler2D u_image;\\n            uniform sampler2D u_gradientTexture;\\n            uniform float u_opacity;\\n\\n            varying vec2 v_texCoord;\\n\\n            void main() {\\n              vec4 color = texture2D(u_image, v_texCoord);\\n              gl_FragColor.a = color.a * u_opacity;\\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\\n              gl_FragColor.rgb *= gl_FragColor.a;\\n            }\",\n                    uniforms: {\n                        u_gradientTexture: function () {\n                            return this.gradient_;\n                        }.bind(this),\n                        u_opacity: function () {\n                            return this.getOpacity();\n                        }.bind(this),\n                    },\n                },\n            ],\n        });\n    };\n    Heatmap.prototype.renderDeclutter = function () { };\n    return Heatmap;\n}(BaseVector));\n/**\n * @param {Array<string>} colors A list of colored.\n * @return {HTMLCanvasElement} canvas with gradient texture.\n */\nfunction createGradient(colors) {\n    var width = 1;\n    var height = 256;\n    var context = createCanvasContext2D(width, height);\n    var gradient = context.createLinearGradient(0, 0, width, height);\n    var step = 1 / (colors.length - 1);\n    for (var i = 0, ii = colors.length; i < ii; ++i) {\n        gradient.addColorStop(i * step, colors[i]);\n    }\n    context.fillStyle = gradient;\n    context.fillRect(0, 0, width, height);\n    return context.canvas;\n}\nexport default Heatmap;\n//# sourceMappingURL=Heatmap.js.map","import { Feature } from 'ol';\nimport { Geometry } from 'ol/geom';\nimport VectorSource from 'ol/source/Vector';\n\nimport { DataFrame } from '@grafana/data';\n\nimport { dataFrameToPoints, LocationFieldMatchers } from './location';\n\nexport interface FrameVectorSourceOptions {}\n\nexport class FrameVectorSource<T extends Geometry = Geometry> extends VectorSource<T> {\n  constructor(private location: LocationFieldMatchers) {\n    super({});\n  }\n\n  update(frame: DataFrame) {\n    this.clear(true);\n    const info = dataFrameToPoints(frame, this.location);\n    if (!info.points) {\n      this.changed();\n      return;\n    }\n\n    for (let i = 0; i < frame.length; i++) {\n      this.addFeatureInternal(\n        new Feature({\n          frame,\n          rowIndex: i,\n          geometry: info.points[i] as T,\n        })\n      );\n    }\n\n    // only call this at the end\n    this.changed();\n  }\n}\n","import { FieldType, getFieldColorModeForField, getScaleCalculator, GrafanaTheme2, PanelData } from '@grafana/data';\nimport Map from 'ol/Map';\nimport Point from 'ol/geom/Point';\nimport * as layer from 'ol/layer';\nimport { getLocationMatchers } from '../../utils/location';\nimport { FrameVectorSource } from '../../utils/frameVectorSource';\nimport { ScaleDimensionConfig, getScaledDimension } from '../../dimensions';\nimport { ScaleDimensionEditor } from '../../dimensions/editors';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions } from 'extension';\nimport { isNumber } from 'lodash';\n\n// Configuration options for Heatmap overlays\nexport interface HeatmapConfig {\n  weight: ScaleDimensionConfig;\n  blur: number;\n  radius: number;\n}\n\nconst defaultOptions: HeatmapConfig = {\n  weight: {\n    fixed: 1,\n    min: 0,\n    max: 1,\n  },\n  blur: 15,\n  radius: 5,\n};\n\n/**\n * Map layer configuration for heatmap overlay\n */\nexport const heatmapLayer: ExtendMapLayerRegistryItem<HeatmapConfig> = {\n  id: 'heatmap',\n  name: 'Heatmap',\n  description: 'visualizes a heatmap of the data',\n  isBaseMap: false,\n  showLocation: true,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions<HeatmapConfig>, theme: GrafanaTheme2) => {\n    const config = { ...defaultOptions, ...options.config };\n    const matchers = await getLocationMatchers(options.location);\n    const source = new FrameVectorSource<Point>(matchers);\n    const WEIGHT_KEY = '_weight';\n\n    // Create a new Heatmap layer\n    // Weight function takes a feature as attribute and returns a normalized weight value\n    const vectorLayer = new layer.Heatmap({\n      source: source,\n      blur: config.blur,\n      radius: config.radius,\n      weight: function (feature) {\n        return feature.get(WEIGHT_KEY);\n      },\n    });\n    vectorLayer.set('title', options.name);\n\n    return {\n      init: () => vectorLayer,\n      update: (data: PanelData) => {\n        const frame = data.series[0];\n        if (!frame) {\n          return;\n        }\n        source.update(frame);\n\n        const weightDim = getScaledDimension(frame, config.weight);\n        source.forEachFeature((f) => {\n          const idx = f.get('rowIndex') as number;\n          if (idx != null) {\n            f.set(WEIGHT_KEY, weightDim.get(idx));\n          }\n        });\n\n        // Set heatmap gradient colors\n        let colors = ['#00f', '#0ff', '#0f0', '#ff0', '#f00'];\n\n        // Either the configured field or the first numeric field value\n        const field = weightDim.field ?? frame.fields.find((field) => field.type === FieldType.number);\n        if (field) {\n          const colorMode = getFieldColorModeForField(field);\n          if (colorMode.isContinuous && colorMode.getColors) {\n            // getColors return an array of color string from the color scheme chosen\n            colors = colorMode.getColors(theme);\n          }\n          if (colorMode.isByValue) {\n            const scale = getScaleCalculator(field, theme);\n            colors = [];\n            let min = field.config.min;\n            let max = field.config.max;\n            if (!isNumber(min)) {\n              min = 0;\n            }\n            if (!isNumber(max)) {\n              max = 100;\n            }\n            let delta = max! - min!;\n            let steps = 10;\n            for (let i = 0; i < steps; i++) {\n              let value = i * (delta / steps);\n              let color = scale(value).color;\n              colors.push(color);\n            }\n          }\n        }\n        vectorLayer.setGradient(colors);\n      },\n    };\n  },\n  // Heatmap overlay options\n  registerOptionsUI: (builder) => {\n    builder\n      .addCustomEditor({\n        id: 'config.weight',\n        path: 'config.weight',\n        name: 'Weight values',\n        description: 'Scale the distribution for each row',\n        editor: ScaleDimensionEditor,\n        settings: {\n          min: 0, // no contribution\n          max: 1,\n          hideRange: true, // Don't show the scale factor\n        },\n        defaultValue: {\n          // Configured values\n          fixed: 1,\n          min: 0,\n          max: 1,\n        },\n      })\n      .addSliderInput({\n        path: 'config.radius',\n        description: 'configures the size of clusters',\n        name: 'Radius',\n        defaultValue: defaultOptions.radius,\n        settings: {\n          min: 1,\n          max: 50,\n          step: 1,\n        },\n      })\n      .addSliderInput({\n        path: 'config.blur',\n        description: 'configures the amount of blur of clusters',\n        name: 'Blur',\n        defaultValue: defaultOptions.blur,\n        settings: {\n          min: 1,\n          max: 50,\n          step: 1,\n        },\n      });\n  },\n  // fill in the default values\n  defaultOptions,\n};\n","import { PanelData, GrafanaTheme2, PluginState } from '@grafana/data';\nimport Map from 'ol/Map';\nimport Feature from 'ol/Feature';\nimport * as style from 'ol/style';\nimport * as source from 'ol/source';\nimport * as layer from 'ol/layer';\nimport { dataFrameToPoints, getLocationMatchers } from '../../utils/location';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions } from 'extension';\n\nexport interface LastPointConfig {\n  icon?: string;\n}\n\nconst defaultOptions: LastPointConfig = {\n  icon: 'https://openlayers.org/en/latest/examples/data/icon.png',\n};\n\nexport const lastPointTracker: ExtendMapLayerRegistryItem<LastPointConfig> = {\n  id: 'last-point-tracker',\n  name: 'Icon at last point',\n  description: 'Show an icon at the last point',\n  isBaseMap: false,\n  showLocation: true,\n  state: PluginState.alpha,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions<LastPointConfig>, theme: GrafanaTheme2) => {\n    const point = new Feature({});\n    const config = { ...defaultOptions, ...options.config };\n\n    point.setStyle(\n      new style.Style({\n        image: new style.Icon({\n          src: config.icon,\n        }),\n      })\n    );\n\n    const vectorSource = new source.Vector({\n      features: [point],\n    });\n\n    const vectorLayer = new layer.Vector({\n      source: vectorSource,\n    });\n\n    const matchers = await getLocationMatchers(options.location);\n    return {\n      init: () => vectorLayer,\n      update: (data: PanelData) => {\n        const frame = data.series[0];\n        if (frame && frame.length) {\n          const info = dataFrameToPoints(frame, matchers);\n          if (info.warning) {\n            console.log('WARN', info.warning);\n            return; // ???\n          }\n\n          if (info.points?.length) {\n            const last = info.points[info.points.length - 1];\n            point.setGeometry(last);\n          }\n        }\n      },\n    };\n  },\n\n  // fill in the default values\n  defaultOptions,\n};\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/ImageCanvas\n */\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\n/**\n * A function that is called to trigger asynchronous canvas drawing.  It is\n * called with a \"done\" callback that should be called when drawing is done.\n * If any error occurs during drawing, the \"done\" callback should be called with\n * that error.\n *\n * @typedef {function(function(Error=): void): void} Loader\n */\nvar ImageCanvas = /** @class */ (function (_super) {\n    __extends(ImageCanvas, _super);\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {HTMLCanvasElement} canvas Canvas.\n     * @param {Loader} [opt_loader] Optional loader function to\n     *     support asynchronous canvas drawing.\n     */\n    function ImageCanvas(extent, resolution, pixelRatio, canvas, opt_loader) {\n        var _this = this;\n        var state = opt_loader !== undefined ? ImageState.IDLE : ImageState.LOADED;\n        _this = _super.call(this, extent, resolution, pixelRatio, state) || this;\n        /**\n         * Optional canvas loader function.\n         * @type {?Loader}\n         * @private\n         */\n        _this.loader_ = opt_loader !== undefined ? opt_loader : null;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.canvas_ = canvas;\n        /**\n         * @private\n         * @type {?Error}\n         */\n        _this.error_ = null;\n        return _this;\n    }\n    /**\n     * Get any error associated with asynchronous rendering.\n     * @return {?Error} Any error that occurred during rendering.\n     */\n    ImageCanvas.prototype.getError = function () {\n        return this.error_;\n    };\n    /**\n     * Handle async drawing complete.\n     * @param {Error} [err] Any error during drawing.\n     * @private\n     */\n    ImageCanvas.prototype.handleLoad_ = function (err) {\n        if (err) {\n            this.error_ = err;\n            this.state = ImageState.ERROR;\n        }\n        else {\n            this.state = ImageState.LOADED;\n        }\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    ImageCanvas.prototype.load = function () {\n        if (this.state == ImageState.IDLE) {\n            this.state = ImageState.LOADING;\n            this.changed();\n            this.loader_(this.handleLoad_.bind(this));\n        }\n    };\n    /**\n     * @return {HTMLCanvasElement} Canvas element.\n     */\n    ImageCanvas.prototype.getImage = function () {\n        return this.canvas_;\n    };\n    return ImageCanvas;\n}(ImageBase));\nexport default ImageCanvas;\n//# sourceMappingURL=ImageCanvas.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/reproj/Image\n */\nimport { ERROR_THRESHOLD } from './common.js';\nimport EventType from '../events/EventType.js';\nimport ImageBase from '../ImageBase.js';\nimport ImageState from '../ImageState.js';\nimport Triangulation from './Triangulation.js';\nimport { calculateSourceResolution, render as renderReprojected, } from '../reproj.js';\nimport { getCenter, getHeight, getIntersection, getWidth } from '../extent.js';\nimport { listen, unlistenByKey } from '../events.js';\n/**\n * @typedef {function(import(\"../extent.js\").Extent, number, number) : import(\"../ImageBase.js\").default} FunctionType\n */\n/**\n * @classdesc\n * Class encapsulating single reprojected image.\n * See {@link module:ol/source/Image~ImageSource}.\n */\nvar ReprojImage = /** @class */ (function (_super) {\n    __extends(ReprojImage, _super);\n    /**\n     * @param {import(\"../proj/Projection.js\").default} sourceProj Source projection (of the data).\n     * @param {import(\"../proj/Projection.js\").default} targetProj Target projection.\n     * @param {import(\"../extent.js\").Extent} targetExtent Target extent.\n     * @param {number} targetResolution Target resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {FunctionType} getImageFunction\n     *     Function returning source images (extent, resolution, pixelRatio).\n     * @param {boolean} interpolate Use linear interpolation when resampling.\n     */\n    function ReprojImage(sourceProj, targetProj, targetExtent, targetResolution, pixelRatio, getImageFunction, interpolate) {\n        var _this = this;\n        var maxSourceExtent = sourceProj.getExtent();\n        var maxTargetExtent = targetProj.getExtent();\n        var limitedTargetExtent = maxTargetExtent\n            ? getIntersection(targetExtent, maxTargetExtent)\n            : targetExtent;\n        var targetCenter = getCenter(limitedTargetExtent);\n        var sourceResolution = calculateSourceResolution(sourceProj, targetProj, targetCenter, targetResolution);\n        var errorThresholdInPixels = ERROR_THRESHOLD;\n        var triangulation = new Triangulation(sourceProj, targetProj, limitedTargetExtent, maxSourceExtent, sourceResolution * errorThresholdInPixels, targetResolution);\n        var sourceExtent = triangulation.calculateSourceExtent();\n        var sourceImage = getImageFunction(sourceExtent, sourceResolution, pixelRatio);\n        var state = sourceImage ? ImageState.IDLE : ImageState.EMPTY;\n        var sourcePixelRatio = sourceImage ? sourceImage.getPixelRatio() : 1;\n        _this = _super.call(this, targetExtent, targetResolution, sourcePixelRatio, state) || this;\n        /**\n         * @private\n         * @type {import(\"../proj/Projection.js\").default}\n         */\n        _this.targetProj_ = targetProj;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        _this.maxSourceExtent_ = maxSourceExtent;\n        /**\n         * @private\n         * @type {!import(\"./Triangulation.js\").default}\n         */\n        _this.triangulation_ = triangulation;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.targetResolution_ = targetResolution;\n        /**\n         * @private\n         * @type {import(\"../extent.js\").Extent}\n         */\n        _this.targetExtent_ = targetExtent;\n        /**\n         * @private\n         * @type {import(\"../ImageBase.js\").default}\n         */\n        _this.sourceImage_ = sourceImage;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.sourcePixelRatio_ = sourcePixelRatio;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.interpolate_ = interpolate;\n        /**\n         * @private\n         * @type {HTMLCanvasElement}\n         */\n        _this.canvas_ = null;\n        /**\n         * @private\n         * @type {?import(\"../events.js\").EventsKey}\n         */\n        _this.sourceListenerKey_ = null;\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    ReprojImage.prototype.disposeInternal = function () {\n        if (this.state == ImageState.LOADING) {\n            this.unlistenSource_();\n        }\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * @return {HTMLCanvasElement} Image.\n     */\n    ReprojImage.prototype.getImage = function () {\n        return this.canvas_;\n    };\n    /**\n     * @return {import(\"../proj/Projection.js\").default} Projection.\n     */\n    ReprojImage.prototype.getProjection = function () {\n        return this.targetProj_;\n    };\n    /**\n     * @private\n     */\n    ReprojImage.prototype.reproject_ = function () {\n        var sourceState = this.sourceImage_.getState();\n        if (sourceState == ImageState.LOADED) {\n            var width = getWidth(this.targetExtent_) / this.targetResolution_;\n            var height = getHeight(this.targetExtent_) / this.targetResolution_;\n            this.canvas_ = renderReprojected(width, height, this.sourcePixelRatio_, this.sourceImage_.getResolution(), this.maxSourceExtent_, this.targetResolution_, this.targetExtent_, this.triangulation_, [\n                {\n                    extent: this.sourceImage_.getExtent(),\n                    image: this.sourceImage_.getImage(),\n                },\n            ], 0, undefined, this.interpolate_);\n        }\n        this.state = sourceState;\n        this.changed();\n    };\n    /**\n     * Load not yet loaded URI.\n     */\n    ReprojImage.prototype.load = function () {\n        if (this.state == ImageState.IDLE) {\n            this.state = ImageState.LOADING;\n            this.changed();\n            var sourceState = this.sourceImage_.getState();\n            if (sourceState == ImageState.LOADED || sourceState == ImageState.ERROR) {\n                this.reproject_();\n            }\n            else {\n                this.sourceListenerKey_ = listen(this.sourceImage_, EventType.CHANGE, function (e) {\n                    var sourceState = this.sourceImage_.getState();\n                    if (sourceState == ImageState.LOADED ||\n                        sourceState == ImageState.ERROR) {\n                        this.unlistenSource_();\n                        this.reproject_();\n                    }\n                }, this);\n                this.sourceImage_.load();\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    ReprojImage.prototype.unlistenSource_ = function () {\n        unlistenByKey(\n        /** @type {!import(\"../events.js\").EventsKey} */ (this.sourceListenerKey_));\n        this.sourceListenerKey_ = null;\n    };\n    return ReprojImage;\n}(ImageBase));\nexport default ReprojImage;\n//# sourceMappingURL=Image.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/source/Image\n */\nimport Event from '../events/Event.js';\nimport ImageState from '../ImageState.js';\nimport ReprojImage from '../reproj/Image.js';\nimport Source from './Source.js';\nimport { ENABLE_RASTER_REPROJECTION } from '../reproj/common.js';\nimport { abstract } from '../util.js';\nimport { equals } from '../extent.js';\nimport { equivalent } from '../proj.js';\nimport { linearFindNearest } from '../array.js';\n/**\n * @enum {string}\n */\nexport var ImageSourceEventType = {\n    /**\n     * Triggered when an image starts loading.\n     * @event module:ol/source/Image.ImageSourceEvent#imageloadstart\n     * @api\n     */\n    IMAGELOADSTART: 'imageloadstart',\n    /**\n     * Triggered when an image finishes loading.\n     * @event module:ol/source/Image.ImageSourceEvent#imageloadend\n     * @api\n     */\n    IMAGELOADEND: 'imageloadend',\n    /**\n     * Triggered if image loading results in an error.\n     * @event module:ol/source/Image.ImageSourceEvent#imageloaderror\n     * @api\n     */\n    IMAGELOADERROR: 'imageloaderror',\n};\n/**\n * @typedef {'imageloadend'|'imageloaderror'|'imageloadstart'} ImageSourceEventTypes\n */\n/**\n * @classdesc\n * Events emitted by {@link module:ol/source/Image~ImageSource} instances are instances of this\n * type.\n */\nvar ImageSourceEvent = /** @class */ (function (_super) {\n    __extends(ImageSourceEvent, _super);\n    /**\n     * @param {string} type Type.\n     * @param {import(\"../Image.js\").default} image The image.\n     */\n    function ImageSourceEvent(type, image) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The image related to the event.\n         * @type {import(\"../Image.js\").default}\n         * @api\n         */\n        _this.image = image;\n        return _this;\n    }\n    return ImageSourceEvent;\n}(Event));\nexport { ImageSourceEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types, import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<ImageSourceEventTypes, ImageSourceEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\n *     |ImageSourceEventTypes, Return>} ImageSourceOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection.\n * @property {Array<number>} [resolutions] Resolutions.\n * @property {import(\"./Source.js\").State} [state] State.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for sources providing a single image.\n * @abstract\n * @fires module:ol/source/Image.ImageSourceEvent\n * @api\n */\nvar ImageSource = /** @class */ (function (_super) {\n    __extends(ImageSource, _super);\n    /**\n     * @param {Options} options Single image source options.\n     */\n    function ImageSource(options) {\n        var _this = this;\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            projection: options.projection,\n            state: options.state,\n            interpolate: interpolate,\n        }) || this;\n        /***\n         * @type {ImageSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ImageSourceOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ImageSourceOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {Array<number>|null}\n         */\n        _this.resolutions_ =\n            options.resolutions !== undefined ? options.resolutions : null;\n        /**\n         * @private\n         * @type {import(\"../reproj/Image.js\").default}\n         */\n        _this.reprojectedImage_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.reprojectedRevision_ = 0;\n        return _this;\n    }\n    /**\n     * @return {Array<number>|null} Resolutions.\n     */\n    ImageSource.prototype.getResolutions = function () {\n        return this.resolutions_;\n    };\n    /**\n     * @protected\n     * @param {number} resolution Resolution.\n     * @return {number} Resolution.\n     */\n    ImageSource.prototype.findNearestResolution = function (resolution) {\n        if (this.resolutions_) {\n            var idx = linearFindNearest(this.resolutions_, resolution, 0);\n            resolution = this.resolutions_[idx];\n        }\n        return resolution;\n    };\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../ImageBase.js\").default} Single image.\n     */\n    ImageSource.prototype.getImage = function (extent, resolution, pixelRatio, projection) {\n        var sourceProjection = this.getProjection();\n        if (!ENABLE_RASTER_REPROJECTION ||\n            !sourceProjection ||\n            !projection ||\n            equivalent(sourceProjection, projection)) {\n            if (sourceProjection) {\n                projection = sourceProjection;\n            }\n            return this.getImageInternal(extent, resolution, pixelRatio, projection);\n        }\n        else {\n            if (this.reprojectedImage_) {\n                if (this.reprojectedRevision_ == this.getRevision() &&\n                    equivalent(this.reprojectedImage_.getProjection(), projection) &&\n                    this.reprojectedImage_.getResolution() == resolution &&\n                    equals(this.reprojectedImage_.getExtent(), extent)) {\n                    return this.reprojectedImage_;\n                }\n                this.reprojectedImage_.dispose();\n                this.reprojectedImage_ = null;\n            }\n            this.reprojectedImage_ = new ReprojImage(sourceProjection, projection, extent, resolution, pixelRatio, function (extent, resolution, pixelRatio) {\n                return this.getImageInternal(extent, resolution, pixelRatio, sourceProjection);\n            }.bind(this), this.getInterpolate());\n            this.reprojectedRevision_ = this.getRevision();\n            return this.reprojectedImage_;\n        }\n    };\n    /**\n     * @abstract\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../ImageBase.js\").default} Single image.\n     * @protected\n     */\n    ImageSource.prototype.getImageInternal = function (extent, resolution, pixelRatio, projection) {\n        return abstract();\n    };\n    /**\n     * Handle image change events.\n     * @param {import(\"../events/Event.js\").default} event Event.\n     * @protected\n     */\n    ImageSource.prototype.handleImageChange = function (event) {\n        var image = /** @type {import(\"../Image.js\").default} */ (event.target);\n        var type;\n        switch (image.getState()) {\n            case ImageState.LOADING:\n                this.loading = true;\n                type = ImageSourceEventType.IMAGELOADSTART;\n                break;\n            case ImageState.LOADED:\n                this.loading = false;\n                type = ImageSourceEventType.IMAGELOADEND;\n                break;\n            case ImageState.ERROR:\n                this.loading = false;\n                type = ImageSourceEventType.IMAGELOADERROR;\n                break;\n            default:\n                return;\n        }\n        if (this.hasListener(type)) {\n            this.dispatchEvent(new ImageSourceEvent(type, image));\n        }\n    };\n    return ImageSource;\n}(Source));\n/**\n * Default image load function for image sources that use import(\"../Image.js\").Image image\n * instances.\n * @param {import(\"../Image.js\").default} image Image.\n * @param {string} src Source.\n */\nexport function defaultImageLoadFunction(image, src) {\n    /** @type {HTMLImageElement|HTMLVideoElement} */ (image.getImage()).src = src;\n}\nexport default ImageSource;\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/source/ImageCanvas\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport ImageCanvas from '../ImageCanvas.js';\nimport ImageSource from './Image.js';\nimport { containsExtent, getHeight, getWidth, scaleFromCenter, } from '../extent.js';\n/**\n * A function returning the canvas element (`{HTMLCanvasElement}`)\n * used by the source as an image. The arguments passed to the function are:\n * {@link module:ol/extent~Extent} the image extent, `{number}` the image resolution,\n * `{number}` the pixel ratio of the map, {@link module:ol/size~Size} the image size,\n * and {@link module:ol/proj/Projection~Projection} the image projection. The canvas returned by\n * this function is cached by the source. The this keyword inside the function\n * references the {@link module:ol/source/ImageCanvas~ImageCanvasSource}.\n *\n * @typedef {function(this:import(\"../ImageCanvas.js\").default, import(\"../extent.js\").Extent, number,\n *     number, import(\"../size.js\").Size, import(\"../proj/Projection.js\").default): HTMLCanvasElement} FunctionType\n */\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {FunctionType} [canvasFunction] Canvas function.\n * The function returning the canvas element used by the source\n * as an image. The arguments passed to the function are: {@link import(\"../extent.js\").Extent} the\n * image extent, `{number}` the image resolution, `{number}` the pixel ratio of the map,\n * {@link import(\"../size.js\").Size} the image size, and {@link import(\"../proj/Projection.js\").default} the image\n * projection. The canvas returned by this function is cached by the source. If\n * the value returned by the function is later changed then\n * `changed` should be called on the source for the source to\n * invalidate the current cached image. See: {@link module:ol/Observable~Observable#changed}\n * @property {boolean} [imageSmoothing=true] Deprecated.  Use the `interpolate` option instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is the view projection.\n * @property {number} [ratio=1.5] Ratio. 1 means canvases are the size of the map viewport, 2 means twice the\n * width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {Array<number>} [resolutions] Resolutions.\n * If specified, new canvases will be created for these resolutions\n * @property {import(\"./Source.js\").State} [state] Source state.\n */\n/**\n * @classdesc\n * Base class for image sources where a canvas element is the image.\n * @api\n */\nvar ImageCanvasSource = /** @class */ (function (_super) {\n    __extends(ImageCanvasSource, _super);\n    /**\n     * @param {Options} [opt_options] ImageCanvas options.\n     */\n    function ImageCanvasSource(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var interpolate = options.imageSmoothing !== undefined ? options.imageSmoothing : true;\n        if (options.interpolate !== undefined) {\n            interpolate = options.interpolate;\n        }\n        _this = _super.call(this, {\n            attributions: options.attributions,\n            interpolate: interpolate,\n            projection: options.projection,\n            resolutions: options.resolutions,\n            state: options.state,\n        }) || this;\n        /**\n         * @private\n         * @type {FunctionType}\n         */\n        _this.canvasFunction_ = options.canvasFunction;\n        /**\n         * @private\n         * @type {import(\"../ImageCanvas.js\").default}\n         */\n        _this.canvas_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.renderedRevision_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.ratio_ = options.ratio !== undefined ? options.ratio : 1.5;\n        return _this;\n    }\n    /**\n     * @param {import(\"../extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {number} pixelRatio Pixel ratio.\n     * @param {import(\"../proj/Projection.js\").default} projection Projection.\n     * @return {import(\"../ImageCanvas.js\").default} Single image.\n     */\n    ImageCanvasSource.prototype.getImageInternal = function (extent, resolution, pixelRatio, projection) {\n        resolution = this.findNearestResolution(resolution);\n        var canvas = this.canvas_;\n        if (canvas &&\n            this.renderedRevision_ == this.getRevision() &&\n            canvas.getResolution() == resolution &&\n            canvas.getPixelRatio() == pixelRatio &&\n            containsExtent(canvas.getExtent(), extent)) {\n            return canvas;\n        }\n        extent = extent.slice();\n        scaleFromCenter(extent, this.ratio_);\n        var width = getWidth(extent) / resolution;\n        var height = getHeight(extent) / resolution;\n        var size = [width * pixelRatio, height * pixelRatio];\n        var canvasElement = this.canvasFunction_.call(this, extent, resolution, pixelRatio, size, projection);\n        if (canvasElement) {\n            canvas = new ImageCanvas(extent, resolution, pixelRatio, canvasElement);\n        }\n        this.canvas_ = canvas;\n        this.renderedRevision_ = this.getRevision();\n        return canvas;\n    };\n    return ImageCanvasSource;\n}(ImageSource));\nexport default ImageCanvasSource;\n//# sourceMappingURL=ImageCanvas.js.map","/*\tCopyright (c) 2021 Jean-Marc VIGLINO, \r\n  released under the CeCILL-B license (French BSD license)\r\n*/\r\nimport ol_ext_inherits from '../util/ext'\r\nimport ol_source_ImageCanvas from 'ol/source/ImageCanvas'\r\n\r\n/** Inverse distance weighting interpolated source - Shepard's method\r\n * @see https://en.wikipedia.org/wiki/Inverse_distance_weighting\r\n * @constructor \r\n * @extends {ol_source_ImageCanvas}\r\n * @fire drawstart\r\n * @fire drawend\r\n * @param {*} [options]\r\n *  @param {ol.source.vector} options.source a source to interpolate\r\n *  @param {boolean} [options.useWorker=false] use worker to calculate the distance map (may cause flickering on small data sets). Source will fire drawstart, drawend while calculating\r\n *  @param {number} [options.scale=4] scale factor, use large factor to enhance performances (but minor accuracy)\r\n *  @param {string|function} options.weight The feature attribute to use for the weight or a function that returns a weight from a feature. Weight values should range from 0 to 100. Default use the weight attribute of the feature.\r\n */\r\nvar ol_source_IDW = function(options) {\r\n  options = options || {};\r\n\r\n  // Draw image on canvas\r\n  options.canvasFunction = this.calculateImage;\r\n\r\n  this._source = options.source;\r\n  this._canvas = document.createElement('CANVAS');\r\n  this._source.on(['addfeature','removefeature','clear','removefeature'], function() {\r\n    this.changed();\r\n  }.bind(this));\r\n\r\n  ol_source_ImageCanvas.call (this, options);\r\n\r\n  if (options.useWorker) {\r\n    this.worker = new ol_ext_Worker(this.computeImage, {\r\n      onMessage:  this.onImageData.bind(this)\r\n    })\r\n  }\r\n  this._position = { extent: [], resolution: 0 }\r\n  this.set('scale', options.scale || 4);\r\n  this._weight = typeof(options.weight) === 'function' ? options.weight : function(f) { return f.get(options.weight||'weight'); }\r\n};\r\nol_ext_inherits(ol_source_IDW, ol_source_ImageCanvas);\r\n\r\n/** Get the source\r\n */\r\nol_source_IDW.prototype.getSource = function() {\r\n  return this._source;\r\n};\r\n\r\n/** Apply the value to the map RGB. Overwrite this function to set your own colors.\r\n * @param {number} v value\r\n * @param {Uint8ClampedArray} data RGBA array\r\n * @param {number} i index in the RGBA array\r\n * @api\r\n */\r\nol_source_IDW.prototype.setData = function(v, data, i) {\r\n  // Get color\r\n  var color = this.getColor(v)\r\n  // Convert to RGB\r\n  data[i] = color[0];\r\n  data[i+1] = color[1];\r\n  data[i+2] = color[2];\r\n  data[i+3] = color[3];\r\n};\r\n\r\n/** Get image value at coord (RGBA)\r\n * @param {l.coordinate} coord\r\n * @return {Uint8ClampedArray}\r\n */\r\nol_source_IDW.prototype.getValue = function(coord) {\r\n  if (!this._canvas) return null\r\n  var pt = this.transform(coord);\r\n  var v = this._canvas.getContext('2d').getImageData(Math.round(pt[0]), Math.round(pt[1]), 1, 1).data;\r\n  return (v);\r\n};\r\n\r\n/** Compute image data */\r\nol_source_IDW.prototype.computeImage = function(e) {\r\n  /** Convert hue to rgb factor\r\n   * @param {number} h\r\n   * @return {number}\r\n   * @private\r\n   */\r\n  var hue2rgb = function(h) {\r\n    h = (h + 6) % 6;\r\n    if (h < 1) return Math.round(h * 255);\r\n    if (h < 3) return 255;\r\n    if (h < 4) return Math.round((4 - h) * 255);\r\n    return 0;\r\n  };\r\n\r\n  /** Get color for a value. Return an array of RGBA values.\r\n   * @param {number} v value\r\n   * @returns {Array<number>} \r\n   * @api\r\n   */\r\n  var getColor = function(v) {\r\n    // Get hue\r\n    var h = 4 - (0.04 * v);\r\n    // Convert to RGB\r\n    return [\r\n      hue2rgb(h + 2), \r\n      hue2rgb(h),\r\n      hue2rgb(h - 2),\r\n      255\r\n    ]\r\n  };\r\n  \r\n  var pts = e.data.pts;\r\n  var width = e.data.width;\r\n  var height = e.data.height;\r\n  var imageData = new Uint8ClampedArray(width*height*4);\r\n  // Compute image\r\n  var x, y;\r\n  for (y = 0; y < height; y++) {\r\n    for (x = 0; x < width; x++) {\r\n      var t = 0, b = 0;\r\n      for(var i = 0; i < pts.length; ++i) {\r\n        var dx = x -  pts[i][0];\r\n        var dy = y -  pts[i][1];\r\n        var d = dx*dx + dy*dy;\r\n\r\n        // Inverse distance weighting - Shepard's method\r\n        if (d === 0) {\r\n          b = 1; \r\n          t = pts[i][2];\r\n          break;\r\n        }\r\n        var inv = 1 / (d*d);\r\n        t += inv * pts[i][2];\r\n        b += inv;\r\n      }\r\n      // Set color\r\n      var color = getColor(t/b);\r\n      // Convert to RGB\r\n      var pos = (y*width + x)*4;\r\n      imageData[pos] = color[0];\r\n      imageData[pos+1] = color[1];\r\n      imageData[pos+2] = color[2];\r\n      imageData[pos+3] = color[3];\r\n    }\r\n  }\r\n  return { type: 'image', data: imageData, width: width, height: height };\r\n}\r\n\r\n/** Calculate IDW at extent / resolution\r\n * @param {ol/extent/Extent} extent\r\n * @param {number} resolution\r\n * @param {number} pixelRatio\r\n * @param {ol/size/Size} size\r\n * @return {HTMLCanvasElement}\r\n * @private\r\n */\r\nol_source_IDW.prototype.calculateImage = function(extent, resolution, pixelRatio, size) {\r\n  if (!this._source) return this._canvas;\r\n  if (this._updated) {\r\n    this._updated = false;\r\n    return this._canvas\r\n  }\r\n\r\n  // Calculation canvas at small resolution\r\n  var width =  Math.round(size[0] / (this.get('scale')*pixelRatio));\r\n  var height = Math.round(size[1] / (this.get('scale')*pixelRatio));\r\n\r\n  // Transform coords to pixel / value\r\n  var pts = [];\r\n  var dw = width / (extent[2]-extent[0]);\r\n  var dh = height / (extent[1]-extent[3]);\r\n  var tr = this.transform = function(xy, v) {\r\n    return [\r\n      (xy[0]-extent[0]) * dw,\r\n      (xy[1]-extent[3]) * dh,\r\n      v\r\n    ];\r\n  }\r\n  // Get features / weight\r\n  this._source.getFeatures().forEach(function(f) {\r\n    pts.push(tr(f.getGeometry().getFirstCoordinate(), this._weight(f)));\r\n  }.bind(this));\r\n\r\n  if (this.worker) {\r\n    // kill old worker and star new one\r\n    this.worker.postMessage({ pts: pts, width: width, height: height }, true);\r\n    this.dispatchEvent({ type: 'drawstart' })\r\n    // Move the canvas position meanwhile\r\n    if (this._canvas.width !== Math.round(size[0]) \r\n      || this._canvas.height !== Math.round(size[1])\r\n      || this._position.resolution !== resolution \r\n      || this._position.extent[0] !== extent[0]\r\n      || this._position.extent[1] !== extent[1]\r\n    ) {\r\n      this._canvas.width = Math.round(size[0])\r\n      this._canvas.height = Math.round(size[1]);\r\n    }\r\n    this._position.extent = extent;\r\n    this._position.resolution = resolution;\r\n  } else {\r\n    this._canvas.width = Math.round(size[0]);\r\n    this._canvas.height = Math.round(size[1]);\r\n    var imageData = this.computeImage({ data: { pts: pts, width: width, height: height } })\r\n    this.onImageData(imageData);\r\n  }\r\n\r\n  return this._canvas;\r\n}\r\n\r\n/** Display data when ready\r\n * @private\r\n */\r\nol_source_IDW.prototype.onImageData = function(imageData) {\r\n  // Calculation canvas at small resolution\r\n  var canvas = this._internal = document.createElement('CANVAS');\r\n  canvas.width = imageData.width;\r\n  canvas.height = imageData.height;\r\n  var ctx = canvas.getContext('2d');\r\n  ctx.putImageData(new ImageData(imageData.data, imageData.width, imageData.height), 0, 0);\r\n  \r\n  // Draw full resolution canvas\r\n  this._canvas.getContext('2d').drawImage(canvas, 0, 0, this._canvas.width, this._canvas.height);\r\n  // Force redraw\r\n  if (this.worker) {\r\n    this.dispatchEvent({ type: 'drawend' })\r\n    this._updated = true;\r\n    this.changed();\r\n  }\r\n}\r\n\r\nexport default ol_source_IDW\r\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/BaseImage\n */\nimport Layer from './Layer.js';\n/**\n * @template {import(\"../source/Image.js\").default} ImageSourceType\n * @typedef {Object} Options\n * @property {string} [className='ol-layer'] A CSS class name to set to the layer element.\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [minZoom] The minimum view zoom level (exclusive) above which this layer will be\n * visible.\n * @property {number} [maxZoom] The maximum view zoom level (inclusive) at which this layer will\n * be visible.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link import(\"../PluggableMap.js\").default#addLayer map.addLayer()}.\n * @property {ImageSourceType} [source] Source for this layer.\n * @property {Object<string, *>} [properties] Arbitrary observable properties. Can be accessed with `#get()` and `#set()`.\n */\n/**\n * @classdesc\n * Server-rendered images that are available for arbitrary extents and\n * resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Image.js\").default} ImageSourceType\n * @template {import(\"../renderer/Layer.js\").default} RendererType\n * @extends {Layer<ImageSourceType, RendererType>}\n * @api\n */\nvar BaseImageLayer = /** @class */ (function (_super) {\n    __extends(BaseImageLayer, _super);\n    /**\n     * @param {Options<ImageSourceType>} [opt_options] Layer options.\n     */\n    function BaseImageLayer(opt_options) {\n        var options = opt_options ? opt_options : {};\n        return _super.call(this, options) || this;\n    }\n    return BaseImageLayer;\n}(Layer));\nexport default BaseImageLayer;\n//# sourceMappingURL=BaseImage.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/canvas/ImageLayer\n */\nimport CanvasLayerRenderer from './Layer.js';\nimport ImageState from '../../ImageState.js';\nimport ViewHint from '../../ViewHint.js';\nimport { ENABLE_RASTER_REPROJECTION } from '../../reproj/common.js';\nimport { IMAGE_SMOOTHING_DISABLED, IMAGE_SMOOTHING_ENABLED } from './common.js';\nimport { apply as applyTransform, compose as composeTransform, makeInverse, toString as toTransformString, } from '../../transform.js';\nimport { assign } from '../../obj.js';\nimport { containsCoordinate, containsExtent, getHeight, getIntersection, getWidth, intersects as intersectsExtent, isEmpty, } from '../../extent.js';\nimport { fromUserExtent } from '../../proj.js';\n/**\n * @classdesc\n * Canvas renderer for image layers.\n * @api\n */\nvar CanvasImageLayerRenderer = /** @class */ (function (_super) {\n    __extends(CanvasImageLayerRenderer, _super);\n    /**\n     * @param {import(\"../../layer/Image.js\").default} imageLayer Image layer.\n     */\n    function CanvasImageLayerRenderer(imageLayer) {\n        var _this = _super.call(this, imageLayer) || this;\n        /**\n         * @protected\n         * @type {?import(\"../../ImageBase.js\").default}\n         */\n        _this.image_ = null;\n        return _this;\n    }\n    /**\n     * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n     */\n    CanvasImageLayerRenderer.prototype.getImage = function () {\n        return !this.image_ ? null : this.image_.getImage();\n    };\n    /**\n     * Determine whether render should be called.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {boolean} Layer is ready to be rendered.\n     */\n    CanvasImageLayerRenderer.prototype.prepareFrame = function (frameState) {\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var viewResolution = viewState.resolution;\n        var imageSource = this.getLayer().getSource();\n        var hints = frameState.viewHints;\n        var renderedExtent = frameState.extent;\n        if (layerState.extent !== undefined) {\n            renderedExtent = getIntersection(renderedExtent, fromUserExtent(layerState.extent, viewState.projection));\n        }\n        if (!hints[ViewHint.ANIMATING] &&\n            !hints[ViewHint.INTERACTING] &&\n            !isEmpty(renderedExtent)) {\n            if (imageSource) {\n                var projection = viewState.projection;\n                if (!ENABLE_RASTER_REPROJECTION) {\n                    var sourceProjection = imageSource.getProjection();\n                    if (sourceProjection) {\n                        projection = sourceProjection;\n                    }\n                }\n                var image = imageSource.getImage(renderedExtent, viewResolution, pixelRatio, projection);\n                if (image) {\n                    if (this.loadImage(image)) {\n                        this.image_ = image;\n                    }\n                    else if (image.getState() === ImageState.EMPTY) {\n                        this.image_ = null;\n                    }\n                }\n            }\n            else {\n                this.image_ = null;\n            }\n        }\n        return !!this.image_;\n    };\n    /**\n     * @param {import(\"../../pixel.js\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray} Data at the pixel location.\n     */\n    CanvasImageLayerRenderer.prototype.getData = function (pixel) {\n        var frameState = this.frameState;\n        if (!frameState) {\n            return null;\n        }\n        var layer = this.getLayer();\n        var coordinate = applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n        var layerExtent = layer.getExtent();\n        if (layerExtent) {\n            if (!containsCoordinate(layerExtent, coordinate)) {\n                return null;\n            }\n        }\n        var imageExtent = this.image_.getExtent();\n        var img = this.image_.getImage();\n        var imageMapWidth = getWidth(imageExtent);\n        var col = Math.floor(img.width * ((coordinate[0] - imageExtent[0]) / imageMapWidth));\n        if (col < 0 || col >= img.width) {\n            return null;\n        }\n        var imageMapHeight = getHeight(imageExtent);\n        var row = Math.floor(img.height * ((imageExtent[3] - coordinate[1]) / imageMapHeight));\n        if (row < 0 || row >= img.height) {\n            return null;\n        }\n        return this.getImageData(img, col, row);\n    };\n    /**\n     * Render the layer.\n     * @param {import(\"../../PluggableMap.js\").FrameState} frameState Frame state.\n     * @param {HTMLElement} target Target that may be used to render content to.\n     * @return {HTMLElement} The rendered element.\n     */\n    CanvasImageLayerRenderer.prototype.renderFrame = function (frameState, target) {\n        var image = this.image_;\n        var imageExtent = image.getExtent();\n        var imageResolution = image.getResolution();\n        var imagePixelRatio = image.getPixelRatio();\n        var layerState = frameState.layerStatesArray[frameState.layerIndex];\n        var pixelRatio = frameState.pixelRatio;\n        var viewState = frameState.viewState;\n        var viewCenter = viewState.center;\n        var viewResolution = viewState.resolution;\n        var scale = (pixelRatio * imageResolution) / (viewResolution * imagePixelRatio);\n        var extent = frameState.extent;\n        var resolution = viewState.resolution;\n        var rotation = viewState.rotation;\n        // desired dimensions of the canvas in pixels\n        var width = Math.round((getWidth(extent) / resolution) * pixelRatio);\n        var height = Math.round((getHeight(extent) / resolution) * pixelRatio);\n        // set forward and inverse pixel transforms\n        composeTransform(this.pixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / pixelRatio, 1 / pixelRatio, rotation, -width / 2, -height / 2);\n        makeInverse(this.inversePixelTransform, this.pixelTransform);\n        var canvasTransform = toTransformString(this.pixelTransform);\n        this.useContainer(target, canvasTransform, this.getBackground(frameState));\n        var context = this.context;\n        var canvas = context.canvas;\n        if (canvas.width != width || canvas.height != height) {\n            canvas.width = width;\n            canvas.height = height;\n        }\n        else if (!this.containerReused) {\n            context.clearRect(0, 0, width, height);\n        }\n        // clipped rendering if layer extent is set\n        var clipped = false;\n        var render = true;\n        if (layerState.extent) {\n            var layerExtent = fromUserExtent(layerState.extent, viewState.projection);\n            render = intersectsExtent(layerExtent, frameState.extent);\n            clipped = render && !containsExtent(layerExtent, frameState.extent);\n            if (clipped) {\n                this.clipUnrotated(context, frameState, layerExtent);\n            }\n        }\n        var img = image.getImage();\n        var transform = composeTransform(this.tempTransform, width / 2, height / 2, scale, scale, 0, (imagePixelRatio * (imageExtent[0] - viewCenter[0])) / imageResolution, (imagePixelRatio * (viewCenter[1] - imageExtent[3])) / imageResolution);\n        this.renderedResolution = (imageResolution * pixelRatio) / imagePixelRatio;\n        var dw = img.width * transform[0];\n        var dh = img.height * transform[3];\n        if (!this.getLayer().getSource().getInterpolate()) {\n            assign(context, IMAGE_SMOOTHING_DISABLED);\n        }\n        this.preRender(context, frameState);\n        if (render && dw >= 0.5 && dh >= 0.5) {\n            var dx = transform[4];\n            var dy = transform[5];\n            var opacity = layerState.opacity;\n            var previousAlpha = void 0;\n            if (opacity !== 1) {\n                previousAlpha = context.globalAlpha;\n                context.globalAlpha = opacity;\n            }\n            context.drawImage(img, 0, 0, +img.width, +img.height, dx, dy, dw, dh);\n            if (opacity !== 1) {\n                context.globalAlpha = previousAlpha;\n            }\n        }\n        this.postRender(context, frameState);\n        if (clipped) {\n            context.restore();\n        }\n        assign(context, IMAGE_SMOOTHING_ENABLED);\n        if (canvasTransform !== canvas.style.transform) {\n            canvas.style.transform = canvasTransform;\n        }\n        return this.container;\n    };\n    return CanvasImageLayerRenderer;\n}(CanvasLayerRenderer));\nexport default CanvasImageLayerRenderer;\n//# sourceMappingURL=ImageLayer.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/layer/Image\n */\nimport BaseImageLayer from './BaseImage.js';\nimport CanvasImageLayerRenderer from '../renderer/canvas/ImageLayer.js';\n/**\n * @classdesc\n * Server-rendered images that are available for arbitrary extents and\n * resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @template {import(\"../source/Image.js\").default} ImageSourceType\n * @extends {BaseImageLayer<ImageSourceType, CanvasImageLayerRenderer>}\n * @api\n */\nvar ImageLayer = /** @class */ (function (_super) {\n    __extends(ImageLayer, _super);\n    /**\n     * @param {import(\"./BaseImage.js\").Options<ImageSourceType>} [opt_options] Layer options.\n     */\n    function ImageLayer(opt_options) {\n        return _super.call(this, opt_options) || this;\n    }\n    ImageLayer.prototype.createRenderer = function () {\n        return new CanvasImageLayerRenderer(this);\n    };\n    /**\n     * Get data for a pixel location.  A four element RGBA array will be returned.  For requests outside the\n     * layer extent, `null` will be returned.  Data for an image can only be retrieved if the\n     * source's `crossOrigin` property is set.\n     *\n     * ```js\n     * // display layer data on every pointer move\n     * map.on('pointermove', (event) => {\n     *   console.log(layer.getData(event.pixel));\n     * });\n     * ```\n     * @param {import(\"../pixel\").Pixel} pixel Pixel.\n     * @return {Uint8ClampedArray|Uint8Array|Float32Array|DataView|null} Pixel data.\n     * @api\n     */\n    ImageLayer.prototype.getData = function (pixel) {\n        return _super.prototype.getData.call(this, pixel);\n    };\n    return ImageLayer;\n}(BaseImageLayer));\nexport default ImageLayer;\n//# sourceMappingURL=Image.js.map","import { FieldType, getFieldColorModeForField, getScaleCalculator, GrafanaTheme2, PanelData } from '@grafana/data';\nimport Map from 'ol/Map';\nimport Point from 'ol/geom/Point';\nimport IDW from 'ol-ext/source/IDW';\nimport * as layer from 'ol/layer';\nimport { getLocationMatchers } from '../../utils/location';\nimport { FrameVectorSource } from '../../utils/frameVectorSource';\nimport { ScaleDimensionConfig, getScaledDimension } from '../../dimensions';\nimport { ScaleDimensionEditor } from '../../dimensions/editors';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions } from 'extension';\nimport { BaseLayerOptions, GroupLayerOptions } from 'ol-layerswitcher';\nimport { Stroke, Style, Text } from 'ol/style';\n\n// Configuration options for Heatmap overlays\nexport interface IdwMapConfig {\n  weight: ScaleDimensionConfig;\n  scale: number;\n  showData?: boolean;\n  showPopup?: boolean;\n}\n\nconst defaultOptions: IdwMapConfig = {\n  weight: {\n    fixed: 1,\n    min: 0,\n    max: Infinity,\n  },\n  showData: false,\n  showPopup: false,\n  scale: 4,\n};\n\n/**\n * Map layer configuration for heatmap overlay\n */\nexport const idwmapLayer: ExtendMapLayerRegistryItem<IdwMapConfig> = {\n  id: 'idwmap',\n  name: 'IDW Interpolation',\n  description: 'visualizes a Inverse Distance Weighted Interpolation',\n  isBaseMap: false,\n  showLocation: true,\n\n  /**\n   * Function that configures transformation and returns a transformer\n   * @param options\n   */\n  create: async (map: Map, options: ExtendMapLayerOptions<IdwMapConfig>, theme: GrafanaTheme2) => {\n    const config = { ...defaultOptions, ...options.config };\n    const matchers = await getLocationMatchers(options.location);\n    const source = new FrameVectorSource<Point>(matchers);\n    const WEIGHT_KEY = '_weight';\n\n    // Create a new IDW source\n    // Weight function takes a feature as attribute and returns a normalized weight value\n    let idw = new IDW({\n      // Source that contains the data\n      source: source,\n      scale: config.scale,\n      // Use val as weight property\n      weight: function (feature) {\n        return feature.get(WEIGHT_KEY);\n      },\n    });\n\n    // Create a new Image layer\n    const imageLayer = new layer.Image({\n      source: idw,\n      opacity: 0.5,\n    });\n\n    let dataLayer = new layer.Vector();\n\n    if (config.showData) {\n      dataLayer = new layer.Vector({\n        title: options.name,\n        displayProperties: options.displayProperties,\n        //icon: options.config?.selectIcon,\n        titleField: options.titleField,\n        timeField: options.timeField,\n        source: idw.getSource(),\n        style: function (f: any) {\n          return new Style({\n            // image: new ol.style.Circle({ radius: 2, fill: new ol.style.Fill({ color: '#000' }) }),\n            text: new Text({\n              text: f.get(WEIGHT_KEY).toString(),\n              stroke: new Stroke({ color: [255, 255, 255, 128], width: 1.25 }),\n            }),\n          });\n        },\n      } as BaseLayerOptions);\n    }\n\n    const vectorLayer = new layer.Group({\n      layers: [imageLayer, dataLayer],\n      title: options.name,\n      combine: true,\n    } as GroupLayerOptions);\n\n    return {\n      init: () => vectorLayer,\n      update: (data: PanelData) => {\n        const frame = data.series[0];\n        if (!frame) {\n          return;\n        }\n        source.update(frame);\n\n        const weightDim = getScaledDimension(frame, config.weight);\n        source.forEachFeature((f) => {\n          const idx = f.get('rowIndex') as number;\n          if (idx != null) {\n            let value = weightDim.get(idx);\n            f.set(WEIGHT_KEY, value);\n          }\n        });\n\n        // Either the configured field or the first numeric field value\n        const field = weightDim.field ?? frame.fields.find((field) => field.type === FieldType.number);\n        if (field) {\n          const colorMode = getFieldColorModeForField(field);\n          if (colorMode.isByValue) {\n            const scale = getScaleCalculator(field, theme);\n            idw.getColor = function (v) {\n              let color = scale(v).color;\n              return [\n                parseInt(color.slice(1, 3), 16),\n                parseInt(color.slice(3, 5), 16),\n                parseInt(color.slice(5, 7), 16),\n                255,\n              ];\n            };\n          }\n        }\n      },\n    };\n  },\n  // IDW overlay options\n  registerOptionsUI: (builder) => {\n    builder\n      .addCustomEditor({\n        id: 'config.weight',\n        path: 'config.weight',\n        name: 'Weight values',\n        description: 'Scale the distribution for each row',\n        editor: ScaleDimensionEditor,\n        settings: {\n          min: 0, // no contribution\n          max: Infinity,\n          //hideRange: true, // Don't show the scale factor\n        },\n        defaultValue: {\n          // Configured values\n          fixed: 1,\n          min: 0,\n          max: Infinity,\n        },\n      })\n      .addSliderInput({\n        path: 'config.scale',\n        description: 'configures the precision of the interpolation',\n        name: 'Scale',\n        defaultValue: defaultOptions.scale,\n        settings: {\n          min: 0,\n          max: 100,\n          step: 1,\n        },\n      })\n      .addBooleanSwitch({\n        path: 'config.showData',\n        name: 'Show data',\n        description: 'Show data',\n        defaultValue: defaultOptions.showData,\n      });\n  },\n  // fill in the default values\n  defaultOptions,\n};\n","import { markersLayer } from './markersLayer';\nimport { geojsonMapper } from './geojsonMapper';\nimport { heatmapLayer } from './heatMap';\nimport { lastPointTracker } from './lastPointTracker';\nimport { idwmapLayer } from './idwMap';\n\n/**\n * Registry for layer handlers\n */\nexport const dataLayers = [\n  markersLayer,\n  heatmapLayer,\n  idwmapLayer,\n  lastPointTracker,\n  geojsonMapper, // dummy for now\n];\n","import { Registry, GrafanaTheme2 } from '@grafana/data';\nimport Map from 'ol/Map';\nimport { carto } from './basemaps/carto';\nimport { config } from '../config';\nimport { basemapLayers } from './basemaps';\nimport { dataLayers } from './data';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions } from '../extension';\n\nexport const DEFAULT_BASEMAP_CONFIG: ExtendMapLayerOptions = {\n  type: 'default',\n  config: {},\n};\n\n// Default base layer depending on the server setting\nexport const defaultBaseLayer: ExtendMapLayerRegistryItem = {\n  id: DEFAULT_BASEMAP_CONFIG.type,\n  name: 'Default base layer',\n  isBaseMap: true,\n\n  create: (map: Map, options: ExtendMapLayerOptions, theme: GrafanaTheme2) => {\n    const serverLayerType = config?.geomapDefaultBaseLayerConfig?.type;\n    if (serverLayerType) {\n      const layer = geomapLayerRegistry.getIfExists(serverLayerType);\n      if (!layer) {\n        throw new Error('Invalid basemap configuraiton on server');\n      }\n      return layer.create(map, config.geomapDefaultBaseLayerConfig!, theme);\n    }\n\n    // For now use carto as our default basemap\n    return carto.create(map, options, theme);\n  },\n};\n\n/**\n * Registry for layer handlers\n */\nexport const geomapLayerRegistry = new Registry<ExtendMapLayerRegistryItem<any>>(() => [\n  defaultBaseLayer,\n  ...basemapLayers, // simple basemaps\n  ...dataLayers, // Layers with update functions\n]);\n","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","const Components = {\n  TimePicker: {\n    openButton: \"data-testid TimePicker Open Button\",\n    fromField: \"Time Range from field\",\n    toField: \"Time Range to field\",\n    applyTimeRange: \"data-testid TimePicker submit button\",\n    calendar: {\n      label: \"Time Range calendar\",\n      openButton: \"Open time range calendar\",\n      closeButton: \"Close time range Calendar\"\n    },\n    absoluteTimeRangeTitle: \"data-testid-absolute-time-range-narrow\"\n  },\n  DataSource: {\n    TestData: {\n      QueryTab: {\n        scenarioSelectContainer: \"Test Data Query scenario select container\",\n        scenarioSelect: \"Test Data Query scenario select\",\n        max: \"TestData max\",\n        min: \"TestData min\",\n        noise: \"TestData noise\",\n        seriesCount: \"TestData series count\",\n        spread: \"TestData spread\",\n        startValue: \"TestData start value\",\n        drop: \"TestData drop values\"\n      }\n    },\n    DataSourceHttpSettings: {\n      urlInput: \"Datasource HTTP settings url\"\n    },\n    Jaeger: {\n      traceIDInput: \"Trace ID\"\n    },\n    Prometheus: {\n      configPage: {\n        exemplarsAddButton: \"Add exemplar config button\",\n        internalLinkSwitch: \"Internal link switch\"\n      },\n      exemplarMarker: \"Exemplar marker\"\n    }\n  },\n  Menu: {\n    MenuComponent: (title) => `${title} menu`,\n    MenuGroup: (title) => `${title} menu group`,\n    MenuItem: (title) => `${title} menu item`,\n    SubMenu: {\n      container: \"SubMenu container\",\n      icon: \"SubMenu icon\"\n    }\n  },\n  Panels: {\n    Panel: {\n      title: (title) => `data-testid Panel header ${title}`,\n      headerItems: (item) => `Panel header item ${item}`,\n      containerByTitle: (title) => `${title} panel`,\n      headerCornerInfo: (mode) => `Panel header ${mode}`\n    },\n    Visualization: {\n      Graph: {\n        VisualizationTab: {\n          legendSection: \"Legend section\"\n        },\n        Legend: {\n          legendItemAlias: (name) => `gpl alias ${name}`,\n          showLegendSwitch: \"gpl show legend\"\n        },\n        xAxis: {\n          labels: () => \"div.flot-x-axis > div.flot-tick-label\"\n        }\n      },\n      BarGauge: {\n        value: \"Bar gauge value\",\n        valueV2: \"data-testid Bar gauge value\"\n      },\n      PieChart: {\n        svgSlice: \"Pie Chart Slice\"\n      },\n      Text: {\n        container: () => \".markdown-html\"\n      },\n      Table: {\n        header: \"table header\",\n        footer: \"table-footer\"\n      }\n    }\n  },\n  VizLegend: {\n    seriesName: (name) => `VizLegend series ${name}`\n  },\n  Drawer: {\n    General: {\n      title: (title) => `Drawer title ${title}`,\n      expand: \"Drawer expand\",\n      contract: \"Drawer contract\",\n      close: \"Drawer close\",\n      rcContentWrapper: () => \".drawer-content-wrapper\"\n    }\n  },\n  PanelEditor: {\n    General: {\n      content: \"Panel editor content\"\n    },\n    OptionsPane: {\n      content: \"Panel editor option pane content\",\n      select: \"Panel editor option pane select\",\n      fieldLabel: (type) => `${type} field property editor`\n    },\n    DataPane: {\n      content: \"Panel editor data pane content\"\n    },\n    applyButton: \"data-testid Apply changes and go back to dashboard\",\n    toggleVizPicker: \"toggle-viz-picker\",\n    toggleVizOptions: \"toggle-viz-options\",\n    toggleTableView: \"toggle-table-view\",\n    measureButton: \"show measure tools\"\n  },\n  PanelInspector: {\n    Data: {\n      content: \"Panel inspector Data content\"\n    },\n    Stats: {\n      content: \"Panel inspector Stats content\"\n    },\n    Json: {\n      content: \"Panel inspector Json content\"\n    },\n    Query: {\n      content: \"Panel inspector Query content\",\n      refreshButton: \"Panel inspector Query refresh button\",\n      jsonObjectKeys: () => \".json-formatter-key\"\n    }\n  },\n  Tab: {\n    title: (title) => `Tab ${title}`,\n    active: () => '[class*=\"-activeTabStyle\"]'\n  },\n  RefreshPicker: {\n    runButton: \"RefreshPicker run button\",\n    intervalButton: \"RefreshPicker interval button\",\n    runButtonV2: \"data-testid RefreshPicker run button\",\n    intervalButtonV2: \"data-testid RefreshPicker interval button\"\n  },\n  QueryTab: {\n    content: \"Query editor tab content\",\n    queryInspectorButton: \"Query inspector button\",\n    queryHistoryButton: \"Rich history button\",\n    addQuery: \"Query editor add query button\"\n  },\n  QueryHistory: {\n    queryText: \"Query text\"\n  },\n  QueryEditorRows: {\n    rows: \"Query editor row\"\n  },\n  QueryEditorRow: {\n    actionButton: (title) => `${title} query operation action`,\n    title: (refId) => `Query editor row title ${refId}`,\n    container: (refId) => `Query editor row ${refId}`\n  },\n  AlertTab: {\n    content: \"Alert editor tab content\"\n  },\n  Alert: {\n    alert: (severity) => `Alert ${severity}`,\n    alertV2: (severity) => `data-testid Alert ${severity}`\n  },\n  TransformTab: {\n    content: \"Transform editor tab content\",\n    newTransform: (name) => `New transform ${name}`,\n    transformationEditor: (name) => `Transformation editor ${name}`,\n    transformationEditorDebugger: (name) => `Transformation editor debugger ${name}`\n  },\n  Transforms: {\n    card: (name) => `New transform ${name}`,\n    Reduce: {\n      modeLabel: \"Transform mode label\",\n      calculationsLabel: \"Transform calculations label\"\n    },\n    SpatialOperations: {\n      actionLabel: \"root Action field property editor\",\n      locationLabel: \"root Location field property editor\",\n      location: {\n        autoOption: \"Auto location option\",\n        coords: {\n          option: \"Coords location option\",\n          latitudeFieldLabel: \"root Latitude field field property editor\",\n          longitudeFieldLabel: \"root Longitude field field property editor\"\n        },\n        geohash: {\n          option: \"Geohash location option\",\n          geohashFieldLabel: \"root Geohash field field property editor\"\n        },\n        lookup: {\n          option: \"Lookup location option\",\n          lookupFieldLabel: \"root Lookup field field property editor\",\n          gazetteerFieldLabel: \"root Gazetteer field property editor\"\n        }\n      }\n    },\n    searchInput: \"search transformations\"\n  },\n  PageToolbar: {\n    container: () => \".page-toolbar\",\n    item: (tooltip) => `${tooltip}`\n  },\n  QueryEditorToolbarItem: {\n    button: (title) => `QueryEditor toolbar item button ${title}`\n  },\n  BackButton: {\n    backArrow: \"Go Back\"\n  },\n  OptionsGroup: {\n    group: (title) => title ? `Options group ${title}` : \"Options group\",\n    toggle: (title) => title ? `Options group ${title} toggle` : \"Options group toggle\"\n  },\n  PluginVisualization: {\n    item: (title) => `Plugin visualization item ${title}`,\n    current: () => '[class*=\"-currentVisualizationItem\"]'\n  },\n  Select: {\n    option: \"Select option\",\n    input: () => 'input[id*=\"time-options-input\"]',\n    singleValue: () => 'div[class*=\"-singleValue\"]'\n  },\n  FieldConfigEditor: {\n    content: \"Field config editor content\"\n  },\n  OverridesConfigEditor: {\n    content: \"Field overrides editor content\"\n  },\n  FolderPicker: {\n    container: \"Folder picker select container\",\n    containerV2: \"data-testid Folder picker select container\",\n    input: \"Select a folder\"\n  },\n  ReadonlyFolderPicker: {\n    container: \"data-testid Readonly folder picker select container\"\n  },\n  DataSourcePicker: {\n    container: \"Data source picker select container\",\n    input: () => 'input[id=\"data-source-picker\"]',\n    inputV2: \"Select a data source\"\n  },\n  TimeZonePicker: {\n    container: \"Time zone picker select container\",\n    containerV2: \"data-testid Time zone picker select container\"\n  },\n  WeekStartPicker: {\n    container: \"Choose starting day of the week\",\n    containerV2: \"data-testid Choose starting day of the week\",\n    placeholder: \"Choose starting day of the week\"\n  },\n  TraceViewer: {\n    spanBar: \"data-testid SpanBar--wrapper\"\n  },\n  QueryField: { container: \"Query field\" },\n  QueryBuilder: {\n    queryPatterns: \"Query patterns\",\n    labelSelect: \"Select label\",\n    valueSelect: \"Select value\",\n    matchOperatorSelect: \"Select match operator\"\n  },\n  ValuePicker: {\n    button: (name) => `Value picker button ${name}`,\n    select: (name) => `Value picker select ${name}`\n  },\n  Search: {\n    section: \"Search section\",\n    sectionV2: \"data-testid Search section\",\n    items: \"Search items\",\n    itemsV2: \"data-testid Search items\",\n    cards: \"data-testid Search cards\",\n    collapseFolder: (sectionId) => `data-testid Collapse folder ${sectionId}`,\n    expandFolder: (sectionId) => `data-testid Expand folder ${sectionId}`,\n    dashboardItem: (item) => `${Components.Search.dashboardItems} ${item}`,\n    dashboardCard: (item) => `data-testid Search card ${item}`,\n    folderHeader: (folderName) => `data-testid Folder header ${folderName}`,\n    folderContent: (folderName) => `data-testid Folder content ${folderName}`,\n    dashboardItems: \"data-testid Dashboard search item\"\n  },\n  DashboardLinks: {\n    container: \"data-testid Dashboard link container\",\n    dropDown: \"data-testid Dashboard link dropdown\",\n    link: \"data-testid Dashboard link\"\n  },\n  LoadingIndicator: {\n    icon: \"Loading indicator\"\n  },\n  CallToActionCard: {\n    button: (name) => `Call to action button ${name}`,\n    buttonV2: (name) => `data-testid Call to action button ${name}`\n  },\n  DataLinksContextMenu: {\n    singleLink: \"Data link\"\n  },\n  CodeEditor: {\n    container: \"Code editor container\"\n  },\n  DashboardImportPage: {\n    textarea: \"data-testid-import-dashboard-textarea\",\n    submit: \"data-testid-load-dashboard\"\n  },\n  ImportDashboardForm: {\n    name: \"data-testid-import-dashboard-title\",\n    submit: \"data-testid-import-dashboard-submit\"\n  },\n  PanelAlertTabContent: {\n    content: \"Unified alert editor tab content\"\n  },\n  VisualizationPreview: {\n    card: (name) => `data-testid suggestion-${name}`\n  },\n  ColorSwatch: {\n    name: `data-testid-colorswatch`\n  },\n  DashboardRow: {\n    title: (title) => `data-testid dashboard-row-title-${title}`\n  },\n  UserProfile: {\n    profileSaveButton: \"data-testid-user-profile-save\",\n    preferencesSaveButton: \"data-testid-shared-prefs-save\",\n    orgsTable: \"data-testid-user-orgs-table\",\n    sessionsTable: \"data-testid-user-sessions-table\"\n  },\n  FileUpload: {\n    inputField: \"data-testid-file-upload-input-field\",\n    fileNameSpan: \"data-testid-file-upload-file-name\"\n  },\n  DebugOverlay: {\n    wrapper: \"debug-overlay\"\n  }\n};\n\nexport { Components };\n//# sourceMappingURL=components.js.map\n","import { Components } from './components.js';\nexport { Components } from './components.js';\nimport { Pages } from './pages.js';\nexport { Pages } from './pages.js';\n\nconst selectors = {\n  pages: Pages,\n  components: Components\n};\n\nexport { selectors };\n//# sourceMappingURL=index.js.map\n","import { Components } from './components.js';\n\nconst Pages = {\n  Login: {\n    url: \"/login\",\n    username: \"Username input field\",\n    password: \"Password input field\",\n    submit: \"Login button\",\n    skip: \"Skip change password button\"\n  },\n  Home: {\n    url: \"/\"\n  },\n  DataSource: {\n    name: \"Data source settings page name input field\",\n    delete: \"Data source settings page Delete button\",\n    readOnly: \"Data source settings page read only message\",\n    saveAndTest: \"Data source settings page Save and Test button\",\n    alert: \"Data source settings page Alert\"\n  },\n  DataSources: {\n    url: \"/datasources\",\n    dataSources: (dataSourceName) => `Data source list item ${dataSourceName}`\n  },\n  AddDataSource: {\n    url: \"/datasources/new\",\n    dataSourcePlugins: (pluginName) => `Data source plugin item ${pluginName}`,\n    dataSourcePluginsV2: (pluginName) => `Add data source ${pluginName}`\n  },\n  ConfirmModal: {\n    delete: \"Confirm Modal Danger Button\"\n  },\n  AddDashboard: {\n    url: \"/dashboard/new\",\n    addNewPanel: \"Add new panel\",\n    addNewRow: \"Add new row\",\n    addNewPanelLibrary: \"Add new panel from panel library\"\n  },\n  Dashboard: {\n    url: (uid) => `/d/${uid}`,\n    DashNav: {\n      nav: \"Dashboard navigation\",\n      navV2: \"data-testid Dashboard navigation\",\n      publicDashboardTag: \"data-testid public dashboard tag\"\n    },\n    SubMenu: {\n      submenu: \"Dashboard submenu\",\n      submenuItem: \"data-testid template variable\",\n      submenuItemLabels: (item) => `data-testid Dashboard template variables submenu Label ${item}`,\n      submenuItemValueDropDownValueLinkTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown value link text ${item}`,\n      submenuItemValueDropDownDropDown: \"Variable options\",\n      submenuItemValueDropDownOptionTexts: (item) => `data-testid Dashboard template variables Variable Value DropDown option text ${item}`\n    },\n    Settings: {\n      General: {\n        deleteDashBoard: \"Dashboard settings page delete dashboard button\",\n        sectionItems: (item) => `Dashboard settings section item ${item}`,\n        saveDashBoard: \"Dashboard settings aside actions Save button\",\n        saveAsDashBoard: \"Dashboard settings aside actions Save As button\",\n        timezone: \"Time zone picker select container\",\n        title: \"Tab General\"\n      },\n      Annotations: {\n        List: {\n          addAnnotationCTA: Components.CallToActionCard.button(\"Add annotation query\"),\n          addAnnotationCTAV2: Components.CallToActionCard.buttonV2(\"Add annotation query\")\n        },\n        Settings: {\n          name: \"Annotations settings name input\"\n        }\n      },\n      Variables: {\n        List: {\n          addVariableCTA: Components.CallToActionCard.button(\"Add variable\"),\n          addVariableCTAV2: Components.CallToActionCard.buttonV2(\"Add variable\"),\n          newButton: \"Variable editor New variable button\",\n          table: \"Variable editor Table\",\n          tableRowNameFields: (variableName) => `Variable editor Table Name field ${variableName}`,\n          tableRowDefinitionFields: (variableName) => `Variable editor Table Definition field ${variableName}`,\n          tableRowArrowUpButtons: (variableName) => `Variable editor Table ArrowUp button ${variableName}`,\n          tableRowArrowDownButtons: (variableName) => `Variable editor Table ArrowDown button ${variableName}`,\n          tableRowDuplicateButtons: (variableName) => `Variable editor Table Duplicate button ${variableName}`,\n          tableRowRemoveButtons: (variableName) => `Variable editor Table Remove button ${variableName}`\n        },\n        Edit: {\n          General: {\n            headerLink: \"Variable editor Header link\",\n            modeLabelNew: \"Variable editor Header mode New\",\n            modeLabelEdit: \"Variable editor Header mode Edit\",\n            generalNameInput: \"Variable editor Form Name field\",\n            generalNameInputV2: \"data-testid Variable editor Form Name field\",\n            generalTypeSelect: \"Variable editor Form Type select\",\n            generalTypeSelectV2: \"data-testid Variable editor Form Type select\",\n            generalLabelInput: \"Variable editor Form Label field\",\n            generalLabelInputV2: \"data-testid Variable editor Form Label field\",\n            generalHideSelect: \"Variable editor Form Hide select\",\n            generalHideSelectV2: \"data-testid Variable editor Form Hide select\",\n            selectionOptionsMultiSwitch: \"Variable editor Form Multi switch\",\n            selectionOptionsIncludeAllSwitch: \"Variable editor Form IncludeAll switch\",\n            selectionOptionsCustomAllInput: \"Variable editor Form IncludeAll field\",\n            selectionOptionsCustomAllInputV2: \"data-testid Variable editor Form IncludeAll field\",\n            previewOfValuesOption: \"Variable editor Preview of Values option\",\n            submitButton: \"Variable editor Submit button\",\n            applyButton: \"data-testid Variable editor Apply button\"\n          },\n          QueryVariable: {\n            queryOptionsDataSourceSelect: Components.DataSourcePicker.container,\n            queryOptionsRefreshSelect: \"Variable editor Form Query Refresh select\",\n            queryOptionsRefreshSelectV2: \"data-testid Variable editor Form Query Refresh select\",\n            queryOptionsRegExInput: \"Variable editor Form Query RegEx field\",\n            queryOptionsRegExInputV2: \"data-testid Variable editor Form Query RegEx field\",\n            queryOptionsSortSelect: \"Variable editor Form Query Sort select\",\n            queryOptionsSortSelectV2: \"data-testid Variable editor Form Query Sort select\",\n            queryOptionsQueryInput: \"Variable editor Form Default Variable Query Editor textarea\",\n            valueGroupsTagsEnabledSwitch: \"Variable editor Form Query UseTags switch\",\n            valueGroupsTagsTagsQueryInput: \"Variable editor Form Query TagsQuery field\",\n            valueGroupsTagsTagsValuesQueryInput: \"Variable editor Form Query TagsValuesQuery field\"\n          },\n          ConstantVariable: {\n            constantOptionsQueryInput: \"Variable editor Form Constant Query field\",\n            constantOptionsQueryInputV2: \"data-testid Variable editor Form Constant Query field\"\n          },\n          DatasourceVariable: {\n            datasourceSelect: \"data-testid datasource variable datasource type\"\n          },\n          TextBoxVariable: {\n            textBoxOptionsQueryInput: \"Variable editor Form TextBox Query field\",\n            textBoxOptionsQueryInputV2: \"data-testid Variable editor Form TextBox Query field\"\n          },\n          CustomVariable: {\n            customValueInput: \"data-testid custom-variable-input\"\n          },\n          IntervalVariable: {\n            intervalsValueInput: \"data-testid interval variable intervals input\"\n          }\n        }\n      }\n    }\n  },\n  Dashboards: {\n    url: \"/dashboards\",\n    dashboards: (title) => `Dashboard search item ${title}`\n  },\n  SaveDashboardAsModal: {\n    newName: \"Save dashboard title field\",\n    save: \"Save dashboard button\"\n  },\n  SaveDashboardModal: {\n    save: \"Dashboard settings Save Dashboard Modal Save button\",\n    saveVariables: \"Dashboard settings Save Dashboard Modal Save variables checkbox\",\n    saveTimerange: \"Dashboard settings Save Dashboard Modal Save timerange checkbox\"\n  },\n  SharePanelModal: {\n    linkToRenderedImage: \"Link to rendered image\"\n  },\n  ShareDashboardModal: {\n    shareButton: \"Share dashboard or panel\",\n    PublicDashboard: {\n      Tab: \"Tab Public dashboard\",\n      WillBePublicCheckbox: \"data-testid public dashboard will be public checkbox\",\n      LimitedDSCheckbox: \"data-testid public dashboard limited datasources checkbox\",\n      CostIncreaseCheckbox: \"data-testid public dashboard cost may increase checkbox\",\n      EnableSwitch: \"data-testid public dashboard on off switch\",\n      EnableAnnotationsSwitch: \"data-testid public dashboard on off switch for annotations\",\n      SaveConfigButton: \"data-testid public dashboard save config button\",\n      DeleteButton: \"data-testid public dashboard delete button\",\n      CopyUrlInput: \"data-testid public dashboard copy url input\",\n      CopyUrlButton: \"data-testid public dashboard copy url button\",\n      TemplateVariablesWarningAlert: \"data-testid public dashboard disabled template variables alert\"\n    }\n  },\n  Explore: {\n    url: \"/explore\",\n    General: {\n      container: \"data-testid Explore\",\n      graph: \"Explore Graph\",\n      table: \"Explore Table\",\n      scrollView: \"data-testid explorer scroll view\"\n    }\n  },\n  SoloPanel: {\n    url: (page) => `/d-solo/${page}`\n  },\n  PluginsList: {\n    page: \"Plugins list page\",\n    list: \"Plugins list\",\n    listItem: \"Plugins list item\",\n    signatureErrorNotice: \"Unsigned plugins notice\"\n  },\n  PluginPage: {\n    page: \"Plugin page\",\n    signatureInfo: \"Plugin signature info\",\n    disabledInfo: \"Plugin disabled info\"\n  },\n  PlaylistForm: {\n    name: \"Playlist name\",\n    interval: \"Playlist interval\",\n    itemDelete: \"Delete playlist item\"\n  },\n  Search: {\n    url: \"/?search=openn\",\n    FolderView: {\n      url: \"/?search=open&layout=folders\"\n    }\n  },\n  PublicDashboards: {\n    ListItem: {\n      linkButton: \"public-dashboard-link-button\",\n      configButton: \"public-dashboard-configuration-button\",\n      trashcanButton: \"public-dashboard-remove-button\"\n    }\n  }\n};\n\nexport { Pages };\n//# sourceMappingURL=pages.js.map\n","import React, { FC, ReactNode, useCallback, useEffect, useState } from 'react';\nimport { css, cx } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { Counter, Icon, useStyles2 } from '@grafana/ui';\nimport { PANEL_EDITOR_UI_STATE_STORAGE_KEY } from './state/reducers';\nimport { useLocalStorage } from 'react-use';\nimport { selectors } from '@grafana/e2e-selectors';\n\nexport interface OptionsPaneCategoryProps {\n  id: string;\n  title?: string;\n  renderTitle?: (isExpanded: boolean) => React.ReactNode;\n  isOpenDefault?: boolean;\n  itemsCount?: number;\n  forceOpen?: number;\n  className?: string;\n  isNested?: boolean;\n  children: ReactNode;\n}\n\nexport const OptionsPaneCategory: FC<OptionsPaneCategoryProps> = React.memo(\n  ({ id, title, children, forceOpen, isOpenDefault, renderTitle, className, itemsCount, isNested = false }) => {\n    const initialIsExpanded = isOpenDefault !== false;\n\n    const [savedState, setSavedState] = useLocalStorage(getOptionGroupStorageKey(id), {\n      isExpanded: initialIsExpanded,\n    });\n\n    // `savedState` can be undefined by typescript, so we have to handle that case\n    const [isExpanded, setIsExpanded] = useState(savedState?.isExpanded ?? initialIsExpanded);\n    const styles = useStyles2(getStyles);\n\n    useEffect(() => {\n      if (!isExpanded && forceOpen && forceOpen > 0) {\n        setIsExpanded(true);\n      }\n    }, [forceOpen, isExpanded]);\n\n    const onToggle = useCallback(() => {\n      setSavedState({ isExpanded: !isExpanded });\n      setIsExpanded(!isExpanded);\n    }, [setSavedState, setIsExpanded, isExpanded]);\n\n    if (!renderTitle) {\n      renderTitle = function defaultTitle(isExpanded: boolean) {\n        if (isExpanded || itemsCount === undefined || itemsCount === 0) {\n          return title;\n        }\n\n        return (\n          <span>\n            {title} <Counter value={itemsCount} />\n          </span>\n        );\n      };\n    }\n\n    const boxStyles = cx(\n      {\n        [styles.box]: true,\n        [styles.boxNestedExpanded]: isNested && isExpanded,\n      },\n      className,\n      'options-group'\n    );\n\n    const headerStyles = cx(styles.header, {\n      [styles.headerExpanded]: isExpanded,\n      [styles.headerNested]: isNested,\n    });\n\n    const bodyStyles = cx(styles.body, {\n      [styles.bodyNested]: isNested,\n    });\n\n    return (\n      <div\n        className={boxStyles}\n        data-testid=\"options-category\"\n        aria-label={selectors.components.OptionsGroup.group(id)}\n      >\n        <div className={headerStyles} onClick={onToggle} aria-label={selectors.components.OptionsGroup.toggle(id)}>\n          <div className={cx(styles.toggle, 'editor-options-group-toggle')}>\n            <Icon name={isExpanded ? 'angle-down' : 'angle-right'} />\n          </div>\n          <div className={styles.title} role=\"heading\">\n            {renderTitle(isExpanded)}\n          </div>\n        </div>\n        {isExpanded && <div className={bodyStyles}>{children}</div>}\n      </div>\n    );\n  }\n);\n\nOptionsPaneCategory.displayName = \"OptionsPaneCategory\"\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    box: css`\n      border-top: 1px solid ${theme.colors.border.weak};\n    `,\n    boxNestedExpanded: css`\n      margin-bottom: ${theme.spacing(2)};\n    `,\n    toggle: css`\n      color: ${theme.colors.text.secondary};\n      margin-right: ${theme.spacing(1)};\n    `,\n    title: css`\n      flex-grow: 1;\n      overflow: hidden;\n    `,\n    header: css`\n      display: flex;\n      cursor: pointer;\n      align-items: baseline;\n      padding: ${theme.spacing(1)};\n      color: ${theme.colors.text.primary};\n      font-weight: ${theme.typography.fontWeightMedium};\n\n      &:hover {\n        background: ${theme.colors.emphasize(theme.colors.background.primary, 0.03)};\n      }\n    `,\n    headerExpanded: css`\n      color: ${theme.colors.text.primary};\n    `,\n    headerNested: css`\n      padding: ${theme.spacing(0.5, 0, 0.5, 0)};\n    `,\n    body: css`\n      padding: ${theme.spacing(1, 2, 1, 4)};\n    `,\n    bodyNested: css`\n      position: relative;\n      padding-right: 0;\n      &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 8px;\n        width: 1px;\n        height: 100%;\n        background: ${theme.colors.border.weak};\n      }\n    `,\n  };\n};\n\nconst getOptionGroupStorageKey = (id: string): string => `${PANEL_EDITOR_UI_STATE_STORAGE_KEY}.optionGroup[${id}]`;\n","import React from 'react';\nimport { OptionsPaneCategory } from './OptionsPaneCategory';\nimport { OptionsPaneItemDescriptor } from './OptionsPaneItemDescriptor';\n\nexport interface OptionsPaneCategoryDescriptorProps {\n  id: string;\n  title: string;\n  renderTitle?: (isExpanded: boolean) => React.ReactNode;\n  isOpenDefault?: boolean;\n  forceOpen?: number;\n  className?: string;\n  isNested?: boolean;\n  itemsCount?: number;\n  customRender?: () => React.ReactNode;\n}\n/**\n * This is not a real React component but an intermediary to enable deep option search without traversing a React node tree.\n */\n\nexport class OptionsPaneCategoryDescriptor {\n  items: OptionsPaneItemDescriptor[] = [];\n  categories: OptionsPaneCategoryDescriptor[] = [];\n  parent?: OptionsPaneCategoryDescriptor;\n\n  constructor(public props: OptionsPaneCategoryDescriptorProps) {}\n\n  addItem(item: OptionsPaneItemDescriptor) {\n    item.parent = this;\n    this.items.push(item);\n    return this;\n  }\n\n  addCategory(category: OptionsPaneCategoryDescriptor) {\n    category.props.isNested = true;\n    category.parent = this;\n    this.categories.push(category);\n    return this;\n  }\n\n  render(searchQuery?: string) {\n    if (this.props.customRender) {\n      return this.props.customRender();\n    }\n\n    return (\n      <OptionsPaneCategory key={this.props.title} {...this.props}>\n        {this.items.map((item) => item.render())}\n        {this.categories.map((category) => category.render())}\n      </OptionsPaneCategory>\n    );\n  }\n}\n","export function setOptionImmutably<T extends object>(options: T, path: string | string[], value: any): T {\n  const splat = !Array.isArray(path) ? path.split('.') : path;\n\n  const key = splat.shift()!;\n  if (key.endsWith(']')) {\n    const idx = key.lastIndexOf('[');\n    const index = +key.substring(idx + 1, key.length - 1);\n    const propKey = key.substr(0, idx);\n    let current = (options as Record<string, any>)[propKey];\n    const arr = Array.isArray(current) ? [...current] : [];\n    if (splat.length) {\n      current = arr[index];\n      if (current == null || typeof current !== 'object') {\n        current = {};\n      }\n      value = setOptionImmutably(current, splat, value);\n    }\n    arr[index] = value;\n    return { ...options, [propKey]: arr };\n  }\n\n  if (!splat.length) {\n    return { ...options, [key]: value };\n  }\n\n  let current = (options as Record<string, any>)[key];\n\n  if (current == null || typeof current !== 'object') {\n    current = {};\n  }\n\n  return { ...options, [key]: setOptionImmutably(current, splat, value) };\n}\n","import { selectors } from '@grafana/e2e-selectors';\nimport { Field, Label } from '@grafana/ui';\nimport React, { ReactNode } from 'react';\nimport Highlighter from 'react-highlight-words';\nimport { OptionsPaneCategoryDescriptor } from './OptionsPaneCategoryDescriptor';\n\nexport interface OptionsPaneItemProps {\n  title: string;\n  value?: any;\n  description?: string;\n  popularRank?: number;\n  render: () => React.ReactNode;\n  skipField?: boolean;\n  showIf?: () => boolean;\n}\n\n/**\n * This is not a real React component but an intermediary to enable deep option search without traversing a React node tree.\n */\nexport class OptionsPaneItemDescriptor {\n  parent!: OptionsPaneCategoryDescriptor;\n\n  constructor(public props: OptionsPaneItemProps) {}\n\n  getLabel(searchQuery?: string): ReactNode {\n    const { title, description } = this.props;\n\n    if (!searchQuery) {\n      // Do not render label for categories with only one child\n      if (this.parent.props.title === title) {\n        return null;\n      }\n\n      return title;\n    }\n\n    const categories: React.ReactNode[] = [];\n\n    if (this.parent.parent) {\n      categories.push(this.highlightWord(this.parent.parent.props.title, searchQuery));\n    }\n\n    if (this.parent.props.title !== title) {\n      categories.push(this.highlightWord(this.parent.props.title, searchQuery));\n    }\n\n    return (\n      <Label description={description && this.highlightWord(description, searchQuery)} category={categories}>\n        {this.highlightWord(title, searchQuery)}\n      </Label>\n    );\n  }\n\n  highlightWord(word: string, query: string) {\n    return (\n      <Highlighter textToHighlight={word} searchWords={[query]} highlightClassName={'search-fragment-highlight'} />\n    );\n  }\n\n  render(searchQuery?: string) {\n    const { title, description, render, showIf, skipField } = this.props;\n    const key = `${this.parent.props.id} ${title}`;\n\n    if (showIf && !showIf()) {\n      return null;\n    }\n\n    if (skipField) {\n      return render();\n    }\n\n    return (\n      <Field\n        label={this.getLabel(searchQuery)}\n        description={description}\n        key={key}\n        aria-label={selectors.components.PanelEditor.OptionsPane.fieldLabel(key)}\n      >\n        {render() as React.ReactElement}\n      </Field>\n    );\n  }\n}\n","import React, { FC, useMemo, useState, useEffect } from 'react';\nimport { StandardEditorProps, SelectableValue, GrafanaTheme2 } from '@grafana/data';\nimport { Alert, Select, stylesFactory, useTheme2 } from '@grafana/ui';\nimport { COUNTRIES_GAZETTEER_PATH, Gazetteer, getGazetteer } from '../gazetteer/gazetteer';\nimport { css } from '@emotion/css';\n\nconst paths: Array<SelectableValue<string>> = [\n  {\n    label: 'Countries',\n    description: 'Lookup countries by name, two letter code, or three leter code',\n    value: COUNTRIES_GAZETTEER_PATH,\n  },\n  {\n    label: 'USA States',\n    description: 'Lookup states by name or 2 ',\n    value: 'public/gazetteer/usa-states.json',\n  },\n];\n\nexport const GazetteerPathEditor: FC<StandardEditorProps<string, any, any>> = ({ value, onChange, context }) => {\n  const styles = getStyles(useTheme2());\n  const [gaz, setGaz] = useState<Gazetteer>();\n\n  useEffect(() => {\n    async function fetchData() {\n      const p = await getGazetteer(value);\n      setGaz(p);\n    }\n    fetchData();\n  }, [value, setGaz]);\n\n  const { current, options } = useMemo(() => {\n    let options = [...paths];\n    let current = options.find((f) => f.value === gaz?.path);\n    if (!current && gaz) {\n      current = {\n        label: gaz.path,\n        value: gaz.path,\n      };\n      options.push(current);\n    }\n    return { options, current };\n  }, [gaz]);\n\n  return (\n    <>\n      <Select\n        menuShouldPortal\n        value={current}\n        options={options}\n        onChange={(v) => onChange(v.value)}\n        allowCustomValue={true}\n        formatCreateLabel={(txt) => `Load from URL: ${txt}`}\n      />\n      {gaz && (\n        <>\n          {gaz.error && <Alert title={gaz.error} severity={'warning'} />}\n          {gaz.count && (\n            <div className={styles.keys}>\n              <b>({gaz.count})</b>\n              {gaz.examples(10).map((k) => (\n                <span key={k}>{k},</span>\n              ))}{' '}\n              &ellipsis;\n            </div>\n          )}\n        </>\n      )}\n    </>\n  );\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => {\n  return {\n    keys: css`\n      margin-top: 4px;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n\n      > span {\n        margin-left: 4px;\n      }\n    `,\n  };\n});\n","import React, { FC, useCallback, useMemo, useState } from 'react';\n\nimport {\n  FrameMatcherID,\n  getFieldDisplayName,\n  MatcherConfig,\n  SelectableValue,\n  StandardEditorProps,\n} from '@grafana/data';\nimport { Select } from '@grafana/ui';\n\nconst recoverRefIdMissing = (\n  newRefIds: SelectableValue[],\n  oldRefIds: SelectableValue[],\n  previousValue: string | undefined\n): SelectableValue | undefined => {\n  if (!previousValue) {\n    return;\n  }\n  // Previously selected value is missing from the new list.\n  // Find the value that is in the new list but isn't in the old list\n  let changedTo = newRefIds.find((refId) => {\n    return !oldRefIds.some((refId2) => {\n      return refId === refId2;\n    });\n  });\n  if (changedTo) {\n    // Found the new value, we assume the old value changed to this one, so we'll use it\n    return changedTo;\n  }\n  return;\n};\n\nexport const FrameSelectionEditor: FC<StandardEditorProps<MatcherConfig>> = ({ value, context, onChange, item }) => {\n  const listOfRefId = useMemo(() => {\n    return context.data.map((f) => ({\n      value: f.refId,\n      label: `Query: ${f.refId} (size: ${f.length})`,\n      description: f.fields.map((f) => getFieldDisplayName(f)).join(', '),\n    }));\n  }, [context.data]);\n\n  const [priorSelectionState, updatePriorSelectionState] = useState({\n    refIds: [] as SelectableValue[],\n    value: undefined as string | undefined,\n  });\n\n  const currentValue = useMemo(() => {\n    return (\n      listOfRefId.find((refId) => refId.value === value?.options) ??\n      recoverRefIdMissing(listOfRefId, priorSelectionState.refIds, priorSelectionState.value)\n    );\n  }, [value, listOfRefId, priorSelectionState]);\n\n  const onFilterChange = useCallback(\n    (v: SelectableValue<string>) => {\n      onChange(\n        v?.value\n          ? {\n              id: FrameMatcherID.byRefId,\n              options: v.value,\n            }\n          : undefined\n      );\n    },\n    [onChange]\n  );\n\n  if (listOfRefId !== priorSelectionState.refIds || currentValue?.value !== priorSelectionState.value) {\n    updatePriorSelectionState({\n      refIds: listOfRefId,\n      value: currentValue?.value,\n    });\n  }\n  return (\n    <Select\n      options={listOfRefId}\n      onChange={onFilterChange}\n      isClearable={true}\n      placeholder=\"Change filter\"\n      value={currentValue}\n    />\n  );\n};\n","import React, { FC, useMemo } from 'react';\nimport { Select } from '@grafana/ui';\nimport {\n  DataFrame,\n  PanelOptionsEditorBuilder,\n  StandardEditorContext,\n  FieldOverrideContext,\n  getFieldDisplayName,\n  FieldType,\n  Field,\n} from '@grafana/data';\nimport { DEFAULT_BASEMAP_CONFIG, geomapLayerRegistry } from '../layers/registry';\nimport { OptionsPaneCategoryDescriptor } from './PanelEditor/OptionsPaneCategoryDescriptor';\nimport { setOptionImmutably } from './PanelEditor/utils';\nimport { fillOptionsPaneItems } from './PanelEditor/getVizualizationOptions';\nimport { GazetteerPathEditor } from './GazetteerPathEditor';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions, ExtendFrameGeometrySourceMode } from '../extension';\nimport { FrameSelectionEditor } from './FrameSelectionEditor';\n\nexport interface LayerEditorProps<TConfig = any> {\n  options?: ExtendMapLayerOptions<TConfig>;\n  data: DataFrame[]; // All results\n  onChange: (options: ExtendMapLayerOptions<TConfig>) => void;\n  filter: (item: ExtendMapLayerRegistryItem) => boolean;\n}\n\nexport const LayerEditor: FC<LayerEditorProps> = ({ options, onChange, data, filter }) => {\n  // all basemaps\n  const layerTypes = useMemo(() => {\n    return geomapLayerRegistry.selectOptions(\n      options?.type // the selected value\n        ? [options.type] // as an array\n        : [DEFAULT_BASEMAP_CONFIG.type],\n      filter\n    );\n  }, [options?.type, filter]);\n\n  // The options change with each layer type\n  const optionsEditorBuilder = useMemo(() => {\n    const layer = geomapLayerRegistry.getIfExists(options?.type);\n    if (!layer || !(layer.registerOptionsUI || layer.showLocation || layer.showOpacity || layer.id === 'nextzen')) {\n      return null;\n    }\n\n    const builder = new PanelOptionsEditorBuilder<ExtendMapLayerOptions>();\n    if (layer.id === 'nextzen') {\n      builder.addTextInput({\n        path: 'apiKey',\n        name: 'API key',\n        description: 'API key for nextzen',\n        settings: {},\n      });\n    }\n\n    if (layer.showLocation) {\n      builder\n        .addTextInput({\n          path: 'name',\n          name: 'Name',\n          description: 'Layer name',\n          settings: {},\n        })\n        .addCustomEditor({\n          id: 'query',\n          path: 'query',\n          name: 'Query',\n          editor: FrameSelectionEditor,\n          defaultValue: undefined,\n        })\n        .addRadio({\n          path: 'location.mode',\n          name: 'Location',\n          description: '',\n          defaultValue: ExtendFrameGeometrySourceMode.Auto,\n          settings: {\n            options: [\n              { value: ExtendFrameGeometrySourceMode.Auto, label: 'Auto' },\n              { value: ExtendFrameGeometrySourceMode.Coords, label: 'Coords' },\n              { value: ExtendFrameGeometrySourceMode.Geohash, label: 'Geohash' },\n              { value: ExtendFrameGeometrySourceMode.Lookup, label: 'Lookup' },\n              { value: ExtendFrameGeometrySourceMode.Geojson, label: 'Geojson' },\n            ],\n          },\n        })\n        .addFieldNamePicker({\n          path: 'location.geojson',\n          name: 'Geojson field',\n          // settings: {\n          //   filter: (f: Field) => f.type === FieldType.other,\n          //   noFieldsMessage: 'No strings fields found',\n          // },\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Geojson,\n        })\n        .addFieldNamePicker({\n          path: 'location.latitude',\n          name: 'Latitude field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.number,\n            noFieldsMessage: 'No numeric fields found',\n          },\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Coords,\n        })\n        .addFieldNamePicker({\n          path: 'location.longitude',\n          name: 'Longitude field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.number,\n            noFieldsMessage: 'No numeric fields found',\n          },\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Coords,\n        })\n        .addFieldNamePicker({\n          path: 'location.geohash',\n          name: 'Geohash field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.string,\n            noFieldsMessage: 'No strings fields found',\n          },\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Geohash,\n          // eslint-disable-next-line react/display-name\n          // info: (props) => <div>HELLO</div>,\n        })\n        .addFieldNamePicker({\n          path: 'location.lookup',\n          name: 'Lookup field',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.string,\n            noFieldsMessage: 'No strings fields found',\n          },\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Lookup,\n        })\n        .addCustomEditor({\n          id: 'gazetteer',\n          path: 'location.gazetteer',\n          name: 'Gazetteer',\n          editor: GazetteerPathEditor,\n          showIf: (opts) => opts.location?.mode === ExtendFrameGeometrySourceMode.Lookup,\n        })\n        .addFieldNamePicker({\n          path: 'titleField',\n          name: 'Pop up title',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.string,\n            noFieldsMessage: 'No string fields found',\n          },\n        })\n        .addFieldNamePicker({\n          path: 'timeField',\n          name: 'Pop up Time',\n          settings: {\n            filter: (f: Field) => f.type === FieldType.time,\n            noFieldsMessage: 'No time fields found',\n          },\n        })\n        .addMultiSelect({\n          path: 'displayProperties',\n          name: 'Properties',\n          description: 'Select properties to be displayed',\n          settings: {\n            allowCustomValue: false,\n            options: [],\n            placeholder: 'All Properties',\n            getOptions: async (context: FieldOverrideContext) => {\n              const options = [];\n              if (context && context.data && context.data.length > 0 && context.options && context.options.query && context.options.query.options) {\n                const frames = context.data;\n                for (let i = 0; i < frames.length; i++) {\n                  if (frames[i].refId && frames[i].refId === context.options.query.options) {\n                    const frame = context.data[i];\n                    for (const field of frame.fields) {\n                      const name = getFieldDisplayName(field, frame, context.data);\n                      const value = field.name;\n                      options.push({ value, label: name } as any);\n                    }\n                  }\n                }\n              }\n              else if (context && context.data && context.data.length > 0 && context.data[0].meta) {\n                const frames = context.data;\n                for (let i = 0; i < frames.length; i++) {\n                  const frame = context.data[i];\n                  for (const field of frame.fields) {\n                    const name = getFieldDisplayName(field, frame, context.data);\n                    const value = field.name;\n                    options.push({ value, label: name } as any);\n                  }\n                }\n              }\n              return options;\n            },\n          },\n          //showIf: (opts) => typeof opts.query !== 'undefined',\n          defaultValue: '',\n        });\n    }\n    if (layer.registerOptionsUI) {\n      layer.registerOptionsUI(builder);\n    }\n    if (layer.showOpacity) {\n      // TODO -- add opacity check\n    }\n    return builder;\n  }, [options?.type]);\n\n  // The react componnets\n  const layerOptions = useMemo(() => {\n    const layer = geomapLayerRegistry.getIfExists(options?.type);\n    if (!optionsEditorBuilder || !layer) {\n      return null;\n    }\n\n    const category = new OptionsPaneCategoryDescriptor({\n      id: 'Layer config',\n      title: 'Layer config',\n    });\n\n    const context: StandardEditorContext<any> = {\n      data,\n      options: options,\n    };\n\n    const currentOptions = { ...options, type: layer.id, config: { ...layer.defaultOptions, ...options?.config } };\n\n    // Update the panel options if not set\n    if (!options || (layer.defaultOptions && !options.config)) {\n      onChange(currentOptions as any);\n    }\n\n    const reg = optionsEditorBuilder.getRegistry();\n\n    // Load the options into categories\n    fillOptionsPaneItems(\n      reg.list(),\n\n      // Always use the same category\n      (categoryNames) => category,\n\n      // Custom upate function\n      (path: string, value: any) => {\n        onChange(setOptionImmutably(currentOptions, path, value) as any);\n      },\n      context\n    );\n\n    return (\n      <>\n        <br />\n        {category.items.map((item) => item.render())}\n      </>\n    );\n  }, [optionsEditorBuilder, onChange, data, options]);\n\n  return (\n    <div>\n      <Select\n        menuShouldPortal\n        options={layerTypes.options}\n        value={layerTypes.current}\n        onChange={(v) => {\n          const layer = geomapLayerRegistry.getIfExists(v.value);\n          if (!layer) {\n            console.warn('layer does not exist', v);\n            return;\n          }\n\n          onChange({\n            ...options, // keep current options\n            type: layer.id,\n            config: { ...layer.defaultOptions }, // clone?\n          });\n        }}\n      />\n\n      {layerOptions}\n    </div>\n  );\n};\n","import React from 'react';\nimport { PanelOptionsEditorItem, StandardEditorContext } from '@grafana/data';\nimport { get as lodashGet } from 'lodash';\nimport { OptionsPaneItemDescriptor } from './OptionsPaneItemDescriptor';\nimport { OptionsPaneCategoryDescriptor } from './OptionsPaneCategoryDescriptor';\n\ntype categoryGetter = (categoryNames?: string[]) => OptionsPaneCategoryDescriptor;\n/**\n * This will iterate all options panes and add register them with the configured categories\n *\n * @internal\n */\nexport function fillOptionsPaneItems(\n  optionEditors: PanelOptionsEditorItem[],\n  getOptionsPaneCategory: categoryGetter,\n  onValueChanged: (path: string, value: any) => void,\n  context: StandardEditorContext<any>\n) {\n  for (const pluginOption of optionEditors) {\n    if (pluginOption.showIf && !pluginOption.showIf(context.options, context.data)) {\n      continue;\n    }\n\n    const category = getOptionsPaneCategory(pluginOption.category);\n    const Editor = pluginOption.editor;\n\n    // TODO? can some options recursivly call: fillOptionsPaneItems?\n\n    category.addItem(\n      new OptionsPaneItemDescriptor({\n        title: pluginOption.name,\n        description: pluginOption.description,\n        render: function renderEditor() {\n          return (\n            <Editor\n              value={lodashGet(context.options, pluginOption.path)}\n              onChange={(value: any) => {\n                onValueChanged(pluginOption.path, value);\n              }}\n              item={pluginOption}\n              context={context}\n            />\n          );\n        },\n      })\n    );\n  }\n}\n","import React, { FC } from 'react';\nimport { StandardEditorProps, PluginState } from '@grafana/data';\nimport { GeomapPanelOptions } from '../types';\nimport { LayerEditor } from './LayerEditor';\nimport { config, hasAlphaPanels } from '../config';\nimport { ExtendMapLayerRegistryItem, ExtendMapLayerOptions } from 'extension';\n\nfunction baseMapFilter(layer: ExtendMapLayerRegistryItem): boolean {\n  if (!layer.isBaseMap) {\n    return false;\n  }\n  if (layer.state === PluginState.alpha) {\n    return hasAlphaPanels;\n  }\n  return true;\n}\n\nexport const BaseLayerEditor: FC<StandardEditorProps<ExtendMapLayerOptions, any, GeomapPanelOptions>> = ({\n  value,\n  onChange,\n  context,\n}) => {\n  if (config.geomapDisableCustomBaseLayer) {\n    return <div>The base layer is configured by the server admin.</div>;\n  }\n\n  return <LayerEditor options={value} data={context.data} onChange={onChange} filter={baseMapFilter} />;\n};\n","import React from 'react';\nimport { PluginState, StandardEditorProps } from '@grafana/data';\nimport { CollapsableSection, ToolbarButton } from '@grafana/ui';\nimport { ExtendMapLayerOptions, ExtendMapLayerRegistryItem } from 'extension';\nimport { GeomapPanelOptions } from 'types';\nimport { defaultMarkersConfig } from '../layers/data/markersLayer';\nimport { hasAlphaPanels } from 'config';\nimport { LayerEditor } from './LayerEditor';\nimport _ from 'lodash';\n\nfunction dataLayerFilter(layer: ExtendMapLayerRegistryItem): boolean {\n  if (layer.isBaseMap) {\n    return false;\n  }\n  if (layer.state === PluginState.alpha) {\n    return hasAlphaPanels;\n  }\n  return true;\n}\n\nexport const DataLayersEditor: React.FC<StandardEditorProps<ExtendMapLayerOptions[], any, GeomapPanelOptions>> = ({\n  value,\n  onChange,\n  context,\n}) => {\n  const onAddLayer = () => {\n    let newData: ExtendMapLayerOptions[] = value ? _.cloneDeep(value) : [];\n    newData.push(defaultMarkersConfig);\n    onChange(newData);\n  };\n  const onDeleteLayer = (index: number) => {\n    let newData: ExtendMapLayerOptions[] = value ? _.cloneDeep(value) : [];\n    newData.splice(index, 1);\n    onChange(newData);\n  };\n  return (\n    <>\n      <div className=\"data-layer-add\">\n        <ToolbarButton icon=\"plus\" tooltip=\"add new layer\" variant=\"primary\" key=\"Add\" onClick={onAddLayer}>\n          Add Layer\n        </ToolbarButton>\n      </div>\n      {(value || []).map((v, index) => {\n        return (\n          <>\n            <CollapsableSection label={v.name ? v.name + ' layer' : 'unnamed layer'} isOpen={false}>\n              <LayerEditor\n                options={v ? v : undefined}\n                data={context.data}\n                onChange={(cfg) => {\n                  let newData: ExtendMapLayerOptions[] = value ? _.cloneDeep(value) : [];\n                  newData[index] = cfg;\n                  onChange(newData);\n                }}\n                filter={dataLayerFilter}\n              />\n              <div className=\"data-layer-remove\">\n                <ToolbarButton\n                  icon=\"trash-alt\"\n                  tooltip=\"delete\"\n                  variant=\"destructive\"\n                  key=\"Delete\"\n                  onClick={(e) => {\n                    onDeleteLayer(index);\n                  }}\n                >\n                  Delete\n                </ToolbarButton>\n              </div>\n            </CollapsableSection>\n          </>\n        );\n      })}\n    </>\n  );\n};\n","/**\n * @module ol/ViewProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    CENTER: 'center',\n    RESOLUTION: 'resolution',\n    ROTATION: 'rotation',\n};\n//# sourceMappingURL=ViewProperty.js.map","/**\n * @module ol/centerconstraint\n */\nimport { clamp } from './math.js';\n/**\n * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined), number, import(\"./size.js\").Size, boolean=, Array<number>=): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n */\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {boolean} onlyCenter If true, the constraint will only apply to the view center.\n * @param {boolean} smooth If true, the view will be able to go slightly out of the given extent\n * (only during interaction and animation).\n * @return {Type} The constraint.\n */\nexport function createExtent(extent, onlyCenter, smooth) {\n    return (\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n     * @param {number|undefined} resolution Resolution.\n     * @param {import(\"./size.js\").Size} size Viewport size; unused if `onlyCenter` was specified.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @param {Array<number>} [opt_centerShift] Shift between map center and viewport center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n     */\n    function (center, resolution, size, opt_isMoving, opt_centerShift) {\n        if (!center) {\n            return undefined;\n        }\n        if (!resolution && !onlyCenter) {\n            return center;\n        }\n        var viewWidth = onlyCenter ? 0 : size[0] * resolution;\n        var viewHeight = onlyCenter ? 0 : size[1] * resolution;\n        var shiftX = opt_centerShift ? opt_centerShift[0] : 0;\n        var shiftY = opt_centerShift ? opt_centerShift[1] : 0;\n        var minX = extent[0] + viewWidth / 2 + shiftX;\n        var maxX = extent[2] - viewWidth / 2 + shiftX;\n        var minY = extent[1] + viewHeight / 2 + shiftY;\n        var maxY = extent[3] - viewHeight / 2 + shiftY;\n        // note: when zooming out of bounds, min and max values for x and y may\n        // end up inverted (min > max); this has to be accounted for\n        if (minX > maxX) {\n            minX = (maxX + minX) / 2;\n            maxX = minX;\n        }\n        if (minY > maxY) {\n            minY = (maxY + minY) / 2;\n            maxY = minY;\n        }\n        var x = clamp(center[0], minX, maxX);\n        var y = clamp(center[1], minY, maxY);\n        // during an interaction, allow some overscroll\n        if (opt_isMoving && smooth && resolution) {\n            var ratio = 30 * resolution;\n            x +=\n                -ratio * Math.log(1 + Math.max(0, minX - center[0]) / ratio) +\n                    ratio * Math.log(1 + Math.max(0, center[0] - maxX) / ratio);\n            y +=\n                -ratio * Math.log(1 + Math.max(0, minY - center[1]) / ratio) +\n                    ratio * Math.log(1 + Math.max(0, center[1] - maxY) / ratio);\n        }\n        return [x, y];\n    });\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} [center] Center.\n * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n */\nexport function none(center) {\n    return center;\n}\n//# sourceMappingURL=centerconstraint.js.map","/**\n * @module ol/resolutionconstraint\n */\nimport { clamp } from './math.js';\nimport { getHeight, getWidth } from './extent.js';\nimport { linearFindNearest } from './array.js';\n/**\n * @typedef {function((number|undefined), number, import(\"./size.js\").Size, boolean=): (number|undefined)} Type\n */\n/**\n * Returns a modified resolution taking into account the viewport size and maximum\n * allowed extent.\n * @param {number} resolution Resolution\n * @param {import(\"./extent.js\").Extent} maxExtent Maximum allowed extent.\n * @param {import(\"./size.js\").Size} viewportSize Viewport size.\n * @param {boolean} showFullExtent Whether to show the full extent.\n * @return {number} Capped resolution.\n */\nfunction getViewportClampedResolution(resolution, maxExtent, viewportSize, showFullExtent) {\n    var xResolution = getWidth(maxExtent) / viewportSize[0];\n    var yResolution = getHeight(maxExtent) / viewportSize[1];\n    if (showFullExtent) {\n        return Math.min(resolution, Math.max(xResolution, yResolution));\n    }\n    return Math.min(resolution, Math.min(xResolution, yResolution));\n}\n/**\n * Returns a modified resolution to be between maxResolution and minResolution while\n * still allowing the value to be slightly out of bounds.\n * Note: the computation is based on the logarithm function (ln):\n *  - at 1, ln(x) is 0\n *  - above 1, ln(x) keeps increasing but at a much slower pace than x\n * The final result is clamped to prevent getting too far away from bounds.\n * @param {number} resolution Resolution.\n * @param {number} maxResolution Max resolution.\n * @param {number} minResolution Min resolution.\n * @return {number} Smoothed resolution.\n */\nfunction getSmoothClampedResolution(resolution, maxResolution, minResolution) {\n    var result = Math.min(resolution, maxResolution);\n    var ratio = 50;\n    result *=\n        Math.log(1 + ratio * Math.max(0, resolution / maxResolution - 1)) / ratio +\n            1;\n    if (minResolution) {\n        result = Math.max(result, minResolution);\n        result /=\n            Math.log(1 + ratio * Math.max(0, minResolution / resolution - 1)) /\n                ratio +\n                1;\n    }\n    return clamp(result, minResolution / 2, maxResolution * 2);\n}\n/**\n * @param {Array<number>} resolutions Resolutions.\n * @param {boolean} [opt_smooth] If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent} [opt_maxExtent] Maximum allowed extent.\n * @param {boolean} [opt_showFullExtent] If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createSnapToResolutions(resolutions, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var maxResolution = resolutions[0];\n            var minResolution = resolutions[resolutions.length - 1];\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            // during interacting or animating, allow intermediary values\n            if (opt_isMoving) {\n                var smooth = opt_smooth !== undefined ? opt_smooth : true;\n                if (!smooth) {\n                    return clamp(resolution, minResolution, cappedMaxRes);\n                }\n                return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n            }\n            var capped = Math.min(cappedMaxRes, resolution);\n            var z = Math.floor(linearFindNearest(resolutions, capped, direction));\n            if (resolutions[z] > cappedMaxRes && z < resolutions.length - 1) {\n                return resolutions[z + 1];\n            }\n            return resolutions[z];\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number} power Power.\n * @param {number} maxResolution Maximum resolution.\n * @param {number} [opt_minResolution] Minimum resolution.\n * @param {boolean} [opt_smooth] If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent} [opt_maxExtent] Maximum allowed extent.\n * @param {boolean} [opt_showFullExtent] If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createSnapToPower(power, maxResolution, opt_minResolution, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            var minResolution = opt_minResolution !== undefined ? opt_minResolution : 0;\n            // during interacting or animating, allow intermediary values\n            if (opt_isMoving) {\n                var smooth = opt_smooth !== undefined ? opt_smooth : true;\n                if (!smooth) {\n                    return clamp(resolution, minResolution, cappedMaxRes);\n                }\n                return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n            }\n            var tolerance = 1e-9;\n            var minZoomLevel = Math.ceil(Math.log(maxResolution / cappedMaxRes) / Math.log(power) - tolerance);\n            var offset = -direction * (0.5 - tolerance) + 0.5;\n            var capped = Math.min(cappedMaxRes, resolution);\n            var cappedZoomLevel = Math.floor(Math.log(maxResolution / capped) / Math.log(power) + offset);\n            var zoomLevel = Math.max(minZoomLevel, cappedZoomLevel);\n            var newResolution = maxResolution / Math.pow(power, zoomLevel);\n            return clamp(newResolution, minResolution, cappedMaxRes);\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number} maxResolution Max resolution.\n * @param {number} minResolution Min resolution.\n * @param {boolean} [opt_smooth] If true, the view will be able to slightly exceed resolution limits. Default: true.\n * @param {import(\"./extent.js\").Extent} [opt_maxExtent] Maximum allowed extent.\n * @param {boolean} [opt_showFullExtent] If true, allows us to show the full extent. Default: false.\n * @return {Type} Zoom function.\n */\nexport function createMinMaxResolution(maxResolution, minResolution, opt_smooth, opt_maxExtent, opt_showFullExtent) {\n    return (\n    /**\n     * @param {number|undefined} resolution Resolution.\n     * @param {number} direction Direction.\n     * @param {import(\"./size.js\").Size} size Viewport size.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @return {number|undefined} Resolution.\n     */\n    function (resolution, direction, size, opt_isMoving) {\n        if (resolution !== undefined) {\n            var cappedMaxRes = opt_maxExtent\n                ? getViewportClampedResolution(maxResolution, opt_maxExtent, size, opt_showFullExtent)\n                : maxResolution;\n            var smooth = opt_smooth !== undefined ? opt_smooth : true;\n            if (!smooth || !opt_isMoving) {\n                return clamp(resolution, minResolution, cappedMaxRes);\n            }\n            return getSmoothClampedResolution(resolution, cappedMaxRes, minResolution);\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n//# sourceMappingURL=resolutionconstraint.js.map","/**\n * @module ol/rotationconstraint\n */\nimport { toRadians } from './math.js';\n/**\n * @typedef {function((number|undefined), boolean=): (number|undefined)} Type\n */\n/**\n * @param {number|undefined} rotation Rotation.\n * @return {number|undefined} Rotation.\n */\nexport function disable(rotation) {\n    if (rotation !== undefined) {\n        return 0;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {number|undefined} rotation Rotation.\n * @return {number|undefined} Rotation.\n */\nexport function none(rotation) {\n    if (rotation !== undefined) {\n        return rotation;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * @param {number} n N.\n * @return {Type} Rotation constraint.\n */\nexport function createSnapToN(n) {\n    var theta = (2 * Math.PI) / n;\n    return (\n    /**\n     * @param {number|undefined} rotation Rotation.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @return {number|undefined} Rotation.\n     */\n    function (rotation, opt_isMoving) {\n        if (opt_isMoving) {\n            return rotation;\n        }\n        if (rotation !== undefined) {\n            rotation = Math.floor(rotation / theta + 0.5) * theta;\n            return rotation;\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n/**\n * @param {number} [opt_tolerance] Tolerance.\n * @return {Type} Rotation constraint.\n */\nexport function createSnapToZero(opt_tolerance) {\n    var tolerance = opt_tolerance || toRadians(5);\n    return (\n    /**\n     * @param {number|undefined} rotation Rotation.\n     * @param {boolean} [opt_isMoving] True if an interaction or animation is in progress.\n     * @return {number|undefined} Rotation.\n     */\n    function (rotation, opt_isMoving) {\n        if (opt_isMoving) {\n            return rotation;\n        }\n        if (rotation !== undefined) {\n            if (Math.abs(rotation) <= tolerance) {\n                return 0;\n            }\n            else {\n                return rotation;\n            }\n        }\n        else {\n            return undefined;\n        }\n    });\n}\n//# sourceMappingURL=rotationconstraint.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/View\n */\nimport BaseObject from './Object.js';\nimport Units from './proj/Units.js';\nimport ViewHint from './ViewHint.js';\nimport ViewProperty from './ViewProperty.js';\nimport { DEFAULT_TILE_SIZE } from './tilegrid/common.js';\nimport { METERS_PER_UNIT, createProjection, disableCoordinateWarning, fromUserCoordinate, fromUserExtent, getUserProjection, toUserCoordinate, toUserExtent, } from './proj.js';\nimport { VOID } from './functions.js';\nimport { add as addCoordinate, equals as coordinatesEqual, equals, rotate as rotateCoordinate, } from './coordinate.js';\nimport { assert } from './asserts.js';\nimport { assign } from './obj.js';\nimport { none as centerNone, createExtent } from './centerconstraint.js';\nimport { clamp, modulo } from './math.js';\nimport { createMinMaxResolution, createSnapToPower, createSnapToResolutions, } from './resolutionconstraint.js';\nimport { createSnapToN, createSnapToZero, disable, none as rotationNone, } from './rotationconstraint.js';\nimport { easeOut, inAndOut } from './easing.js';\nimport { getCenter, getForViewAndSize, getHeight, getWidth, isEmpty, } from './extent.js';\nimport { linearFindNearest } from './array.js';\nimport { fromExtent as polygonFromExtent } from './geom/Polygon.js';\n/**\n * An animation configuration\n *\n * @typedef {Object} Animation\n * @property {import(\"./coordinate.js\").Coordinate} [sourceCenter] Source center.\n * @property {import(\"./coordinate.js\").Coordinate} [targetCenter] Target center.\n * @property {number} [sourceResolution] Source resolution.\n * @property {number} [targetResolution] Target resolution.\n * @property {number} [sourceRotation] Source rotation.\n * @property {number} [targetRotation] Target rotation.\n * @property {import(\"./coordinate.js\").Coordinate} [anchor] Anchor.\n * @property {number} start Start.\n * @property {number} duration Duration.\n * @property {boolean} complete Complete.\n * @property {function(number):number} easing Easing.\n * @property {function(boolean):void} callback Callback.\n */\n/**\n * @typedef {Object} Constraints\n * @property {import(\"./centerconstraint.js\").Type} center Center.\n * @property {import(\"./resolutionconstraint.js\").Type} resolution Resolution.\n * @property {import(\"./rotationconstraint.js\").Type} rotation Rotation.\n */\n/**\n * @typedef {Object} FitOptions\n * @property {import(\"./size.js\").Size} [size] The size in pixels of the box to fit\n * the extent into. Default is the current size of the first map in the DOM that\n * uses this view, or `[100, 100]` if no such map is found.\n * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in pixels) to be\n * cleared inside the view. Values in the array are top, right, bottom and left\n * padding.\n * @property {boolean} [nearest=false] If the view `constrainResolution` option is `true`,\n * get the nearest extent instead of the closest that actually fits the view.\n * @property {number} [minResolution=0] Minimum resolution that we zoom to.\n * @property {number} [maxZoom] Maximum zoom level that we zoom to. If\n * `minResolution` is given, this property is ignored.\n * @property {number} [duration] The duration of the animation in milliseconds.\n * By default, there is no animation to the target extent.\n * @property {function(number):number} [easing] The easing function used during\n * the animation (defaults to {@link module:ol/easing.inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n * @property {function(boolean):void} [callback] Function called when the view is in\n * its final position. The callback will be called with `true` if the animation\n * series completed on its own or `false` if it was cancelled.\n */\n/**\n * @typedef {Object} ViewOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The initial center for\n * the view. If a user projection is not set, the coordinate system for the center is\n * specified with the `projection` option. Layer sources will not be fetched if this\n * is not set, but the center can be set later with {@link #setCenter}.\n * @property {boolean|number} [constrainRotation=true] Rotation constraint.\n * `false` means no constraint. `true` means no constraint, but snap to zero\n * near zero. A number constrains the rotation to that number of values. For\n * example, `4` will constrain the rotation to 0, 90, 180, and 270 degrees.\n * @property {boolean} [enableRotation=true] Enable rotation.\n * If `false`, a rotation constraint that always sets the rotation to zero is\n * used. The `constrainRotation` option has no effect if `enableRotation` is\n * `false`.\n * @property {import(\"./extent.js\").Extent} [extent] The extent that constrains the\n * view, in other words, nothing outside of this extent can be visible on the map.\n * @property {boolean} [constrainOnlyCenter=false] If true, the extent\n * constraint will only apply to the view center and not the whole extent.\n * @property {boolean} [smoothExtentConstraint=true] If true, the extent\n * constraint will be applied smoothly, i.e. allow the view to go slightly outside\n * of the given `extent`.\n * @property {number} [maxResolution] The maximum resolution used to determine\n * the resolution constraint. It is used together with `minResolution` (or\n * `maxZoom`) and `zoomFactor`. If unspecified it is calculated in such a way\n * that the projection's validity extent fits in a 256x256 px tile. If the\n * projection is Spherical Mercator (the default) then `maxResolution` defaults\n * to `40075016.68557849 / 256 = 156543.03392804097`.\n * @property {number} [minResolution] The minimum resolution used to determine\n * the resolution constraint.  It is used together with `maxResolution` (or\n * `minZoom`) and `zoomFactor`.  If unspecified it is calculated assuming 29\n * zoom levels (with a factor of 2). If the projection is Spherical Mercator\n * (the default) then `minResolution` defaults to\n * `40075016.68557849 / 256 / Math.pow(2, 28) = 0.0005831682455839253`.\n * @property {number} [maxZoom=28] The maximum zoom level used to determine the\n * resolution constraint. It is used together with `minZoom` (or\n * `maxResolution`) and `zoomFactor`.  Note that if `minResolution` is also\n * provided, it is given precedence over `maxZoom`.\n * @property {number} [minZoom=0] The minimum zoom level used to determine the\n * resolution constraint. It is used together with `maxZoom` (or\n * `minResolution`) and `zoomFactor`.  Note that if `maxResolution` is also\n * provided, it is given precedence over `minZoom`.\n * @property {boolean} [multiWorld=false] If `false` the view is constrained so\n * only one world is visible, and you cannot pan off the edge.  If `true` the map\n * may show multiple worlds at low zoom levels.  Only used if the `projection` is\n * global.  Note that if `extent` is also provided it is given precedence.\n * @property {boolean} [constrainResolution=false] If true, the view will always\n * animate to the closest zoom level after an interaction; false means\n * intermediary zoom levels are allowed.\n * @property {boolean} [smoothResolutionConstraint=true] If true, the resolution\n * min/max values will be applied smoothly, i. e. allow the view to exceed slightly\n * the given resolution or zoom bounds.\n * @property {boolean} [showFullExtent=false] Allow the view to be zoomed out to\n * show the full configured extent. By default, when a view is configured with an\n * extent, users will not be able to zoom out so the viewport exceeds the extent in\n * either dimension. This means the full extent may not be visible if the viewport\n * is taller or wider than the aspect ratio of the configured extent. If\n * showFullExtent is true, the user will be able to zoom out so that the viewport\n * exceeds the height or width of the configured extent, but not both, allowing the\n * full extent to be shown.\n * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857'] The\n * projection. The default is Spherical Mercator.\n * @property {number} [resolution] The initial resolution for the view. The\n * units are `projection` units per pixel (e.g. meters per pixel). An\n * alternative to setting this is to set `zoom`. Layer sources will not be\n * fetched if neither this nor `zoom` are defined, but they can be set later\n * with {@link #setZoom} or {@link #setResolution}.\n * @property {Array<number>} [resolutions] Resolutions that determine the\n * zoom levels if specified. The index in the array corresponds to the zoom level,\n * therefore the resolution values have to be in descending order. It also constrains\n * the resolution by the minimum and maximum value. If set the `maxResolution`,\n * `minResolution`, `minZoom`, `maxZoom`, and `zoomFactor` options are ignored.\n * @property {number} [rotation=0] The initial rotation for the view in radians\n * (positive rotation clockwise, 0 means North).\n * @property {number} [zoom] Only used if `resolution` is not defined. Zoom\n * level used to calculate the initial resolution for the view.\n * @property {number} [zoomFactor=2] The zoom factor used to compute the\n * corresponding resolution.\n * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in css pixels).\n * If the map viewport is partially covered with other content (overlays) along\n * its edges, this setting allows to shift the center of the viewport away from\n * that content. The order of the values is top, right, bottom, left.\n */\n/**\n * @typedef {Object} AnimationOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The center of the view at the end of\n * the animation.\n * @property {number} [zoom] The zoom level of the view at the end of the\n * animation. This takes precedence over `resolution`.\n * @property {number} [resolution] The resolution of the view at the end\n * of the animation.  If `zoom` is also provided, this option will be ignored.\n * @property {number} [rotation] The rotation of the view at the end of\n * the animation.\n * @property {import(\"./coordinate.js\").Coordinate} [anchor] Optional anchor to remain fixed\n * during a rotation or resolution animation.\n * @property {number} [duration=1000] The duration of the animation in milliseconds.\n * @property {function(number):number} [easing] The easing function used\n * during the animation (defaults to {@link module:ol/easing.inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n */\n/**\n * @typedef {Object} State\n * @property {import(\"./coordinate.js\").Coordinate} center Center.\n * @property {import(\"./proj/Projection.js\").default} projection Projection.\n * @property {number} resolution Resolution.\n * @property {import(\"./coordinate.js\").Coordinate} [nextCenter] The next center during an animation series.\n * @property {number} [nextResolution] The next resolution during an animation series.\n * @property {number} [nextRotation] The next rotation during an animation series.\n * @property {number} rotation Rotation.\n * @property {number} zoom Zoom.\n */\n/**\n * Default min zoom level for the map view.\n * @type {number}\n */\nvar DEFAULT_MIN_ZOOM = 0;\n/**\n * @typedef {import(\"./ObjectEventType\").Types|'change:center'|'change:resolution'|'change:rotation'} ViewObjectEventTypes\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *   import(\"./Observable\").OnSignature<ViewObjectEventTypes, import(\"./Object\").ObjectEvent, Return> &\n *   import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|ViewObjectEventTypes, Return>} ViewOnSignature\n */\n/**\n * @classdesc\n * A View object represents a simple 2D view of the map.\n *\n * This is the object to act upon to change the center, resolution,\n * and rotation of the map.\n *\n * A View has a `projection`. The projection determines the\n * coordinate system of the center, and its units determine the units of the\n * resolution (projection units per pixel). The default projection is\n * Web Mercator (EPSG:3857).\n *\n * ### The view states\n *\n * A View is determined by three states: `center`, `resolution`,\n * and `rotation`. Each state has a corresponding getter and setter, e.g.\n * `getCenter` and `setCenter` for the `center` state.\n *\n * The `zoom` state is actually not saved on the view: all computations\n * internally use the `resolution` state. Still, the `setZoom` and `getZoom`\n * methods are available, as well as `getResolutionForZoom` and\n * `getZoomForResolution` to switch from one system to the other.\n *\n * ### The constraints\n *\n * `setCenter`, `setResolution` and `setRotation` can be used to change the\n * states of the view, but any constraint defined in the constructor will\n * be applied along the way.\n *\n * A View object can have a *resolution constraint*, a *rotation constraint*\n * and a *center constraint*.\n *\n * The *resolution constraint* typically restricts min/max values and\n * snaps to specific resolutions. It is determined by the following\n * options: `resolutions`, `maxResolution`, `maxZoom` and `zoomFactor`.\n * If `resolutions` is set, the other three options are ignored. See\n * documentation for each option for more information. By default, the view\n * only has a min/max restriction and allow intermediary zoom levels when\n * pinch-zooming for example.\n *\n * The *rotation constraint* snaps to specific angles. It is determined\n * by the following options: `enableRotation` and `constrainRotation`.\n * By default rotation is allowed and its value is snapped to zero when approaching the\n * horizontal.\n *\n * The *center constraint* is determined by the `extent` option. By\n * default the view center is not constrained at all.\n *\n * ### Changing the view state\n *\n * It is important to note that `setZoom`, `setResolution`, `setCenter` and\n * `setRotation` are subject to the above mentioned constraints. As such, it\n * may sometimes not be possible to know in advance the resulting state of the\n * View. For example, calling `setResolution(10)` does not guarantee that\n * `getResolution()` will return `10`.\n *\n * A consequence of this is that, when applying a delta on the view state, one\n * should use `adjustCenter`, `adjustRotation`, `adjustZoom` and `adjustResolution`\n * rather than the corresponding setters. This will let view do its internal\n * computations. Besides, the `adjust*` methods also take an `opt_anchor`\n * argument which allows specifying an origin for the transformation.\n *\n * ### Interacting with the view\n *\n * View constraints are usually only applied when the view is *at rest*, meaning that\n * no interaction or animation is ongoing. As such, if the user puts the view in a\n * state that is not equivalent to a constrained one (e.g. rotating the view when\n * the snap angle is 0), an animation will be triggered at the interaction end to\n * put back the view to a stable state;\n *\n * @api\n */\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    /**\n     * @param {ViewOptions} [opt_options] View options.\n     */\n    function View(opt_options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {ViewOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ViewOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ViewOnSignature<void>}\n         */\n        _this.un;\n        var options = assign({}, opt_options);\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        _this.hints_ = [0, 0];\n        /**\n         * @private\n         * @type {Array<Array<Animation>>}\n         */\n        _this.animations_ = [];\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.updateAnimationKey_;\n        /**\n         * @private\n         * @const\n         * @type {import(\"./proj/Projection.js\").default}\n         */\n        _this.projection_ = createProjection(options.projection, 'EPSG:3857');\n        /**\n         * @private\n         * @type {import(\"./size.js\").Size}\n         */\n        _this.viewportSize_ = [100, 100];\n        /**\n         * @private\n         * @type {import(\"./coordinate.js\").Coordinate|undefined}\n         */\n        _this.targetCenter_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.targetResolution_;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.targetRotation_;\n        /**\n         * @private\n         * @type {import(\"./coordinate.js\").Coordinate}\n         */\n        _this.nextCenter_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.nextResolution_;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.nextRotation_;\n        /**\n         * @private\n         * @type {import(\"./coordinate.js\").Coordinate|undefined}\n         */\n        _this.cancelAnchor_ = undefined;\n        if (options.projection) {\n            disableCoordinateWarning();\n        }\n        if (options.center) {\n            options.center = fromUserCoordinate(options.center, _this.projection_);\n        }\n        if (options.extent) {\n            options.extent = fromUserExtent(options.extent, _this.projection_);\n        }\n        _this.applyOptions_(options);\n        return _this;\n    }\n    /**\n     * Set up the view with the given options.\n     * @param {ViewOptions} options View options.\n     */\n    View.prototype.applyOptions_ = function (options) {\n        var properties = assign({}, options);\n        for (var key in ViewProperty) {\n            delete properties[key];\n        }\n        this.setProperties(properties, true);\n        var resolutionConstraintInfo = createResolutionConstraint(options);\n        /**\n         * @private\n         * @type {number}\n         */\n        this.maxResolution_ = resolutionConstraintInfo.maxResolution;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minResolution_ = resolutionConstraintInfo.minResolution;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.zoomFactor_ = resolutionConstraintInfo.zoomFactor;\n        /**\n         * @private\n         * @type {Array<number>|undefined}\n         */\n        this.resolutions_ = options.resolutions;\n        /**\n         * @type {Array<number>|undefined}\n         * @private\n         */\n        this.padding_ = options.padding;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minZoom_ = resolutionConstraintInfo.minZoom;\n        var centerConstraint = createCenterConstraint(options);\n        var resolutionConstraint = resolutionConstraintInfo.constraint;\n        var rotationConstraint = createRotationConstraint(options);\n        /**\n         * @private\n         * @type {Constraints}\n         */\n        this.constraints_ = {\n            center: centerConstraint,\n            resolution: resolutionConstraint,\n            rotation: rotationConstraint,\n        };\n        this.setRotation(options.rotation !== undefined ? options.rotation : 0);\n        this.setCenterInternal(options.center !== undefined ? options.center : null);\n        if (options.resolution !== undefined) {\n            this.setResolution(options.resolution);\n        }\n        else if (options.zoom !== undefined) {\n            this.setZoom(options.zoom);\n        }\n    };\n    Object.defineProperty(View.prototype, \"padding\", {\n        /**\n         * Padding (in css pixels).\n         * If the map viewport is partially covered with other content (overlays) along\n         * its edges, this setting allows to shift the center of the viewport away from that\n         * content. The order of the values in the array is top, right, bottom, left.\n         * The default is no padding, which is equivalent to `[0, 0, 0, 0]`.\n         * @type {Array<number>|undefined}\n         * @api\n         */\n        get: function () {\n            return this.padding_;\n        },\n        set: function (padding) {\n            var oldPadding = this.padding_;\n            this.padding_ = padding;\n            var center = this.getCenter();\n            if (center) {\n                var newPadding = padding || [0, 0, 0, 0];\n                oldPadding = oldPadding || [0, 0, 0, 0];\n                var resolution = this.getResolution();\n                var offsetX = (resolution / 2) *\n                    (newPadding[3] - oldPadding[3] + oldPadding[1] - newPadding[1]);\n                var offsetY = (resolution / 2) *\n                    (newPadding[0] - oldPadding[0] + oldPadding[2] - newPadding[2]);\n                this.setCenterInternal([center[0] + offsetX, center[1] - offsetY]);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Get an updated version of the view options used to construct the view.  The\n     * current resolution (or zoom), center, and rotation are applied to any stored\n     * options.  The provided options can be used to apply new min/max zoom or\n     * resolution limits.\n     * @param {ViewOptions} newOptions New options to be applied.\n     * @return {ViewOptions} New options updated with the current view state.\n     */\n    View.prototype.getUpdatedOptions_ = function (newOptions) {\n        var options = this.getProperties();\n        // preserve resolution (or zoom)\n        if (options.resolution !== undefined) {\n            options.resolution = this.getResolution();\n        }\n        else {\n            options.zoom = this.getZoom();\n        }\n        // preserve center\n        options.center = this.getCenterInternal();\n        // preserve rotation\n        options.rotation = this.getRotation();\n        return assign({}, options, newOptions);\n    };\n    /**\n     * Animate the view.  The view's center, zoom (or resolution), and rotation\n     * can be animated for smooth transitions between view states.  For example,\n     * to animate the view to a new zoom level:\n     *\n     *     view.animate({zoom: view.getZoom() + 1});\n     *\n     * By default, the animation lasts one second and uses in-and-out easing.  You\n     * can customize this behavior by including `duration` (in milliseconds) and\n     * `easing` options (see {@link module:ol/easing}).\n     *\n     * To chain together multiple animations, call the method with multiple\n     * animation objects.  For example, to first zoom and then pan:\n     *\n     *     view.animate({zoom: 10}, {center: [0, 0]});\n     *\n     * If you provide a function as the last argument to the animate method, it\n     * will get called at the end of an animation series.  The callback will be\n     * called with `true` if the animation series completed on its own or `false`\n     * if it was cancelled.\n     *\n     * Animations are cancelled by user interactions (e.g. dragging the map) or by\n     * calling `view.setCenter()`, `view.setResolution()`, or `view.setRotation()`\n     * (or another method that calls one of these).\n     *\n     * @param {...(AnimationOptions|function(boolean): void)} var_args Animation\n     *     options.  Multiple animations can be run in series by passing multiple\n     *     options objects.  To run multiple animations in parallel, call the method\n     *     multiple times.  An optional callback can be provided as a final\n     *     argument.  The callback will be called with a boolean indicating whether\n     *     the animation completed without being cancelled.\n     * @api\n     */\n    View.prototype.animate = function (var_args) {\n        if (this.isDef() && !this.getAnimating()) {\n            this.resolveConstraints(0);\n        }\n        var args = new Array(arguments.length);\n        for (var i = 0; i < args.length; ++i) {\n            var options = arguments[i];\n            if (options.center) {\n                options = assign({}, options);\n                options.center = fromUserCoordinate(options.center, this.getProjection());\n            }\n            if (options.anchor) {\n                options = assign({}, options);\n                options.anchor = fromUserCoordinate(options.anchor, this.getProjection());\n            }\n            args[i] = options;\n        }\n        this.animateInternal.apply(this, args);\n    };\n    /**\n     * @param {...(AnimationOptions|function(boolean): void)} var_args Animation options.\n     */\n    View.prototype.animateInternal = function (var_args) {\n        var animationCount = arguments.length;\n        var callback;\n        if (animationCount > 1 &&\n            typeof arguments[animationCount - 1] === 'function') {\n            callback = arguments[animationCount - 1];\n            --animationCount;\n        }\n        var i = 0;\n        for (; i < animationCount && !this.isDef(); ++i) {\n            // if view properties are not yet set, shortcut to the final state\n            var state = arguments[i];\n            if (state.center) {\n                this.setCenterInternal(state.center);\n            }\n            if (state.zoom !== undefined) {\n                this.setZoom(state.zoom);\n            }\n            else if (state.resolution) {\n                this.setResolution(state.resolution);\n            }\n            if (state.rotation !== undefined) {\n                this.setRotation(state.rotation);\n            }\n        }\n        if (i === animationCount) {\n            if (callback) {\n                animationCallback(callback, true);\n            }\n            return;\n        }\n        var start = Date.now();\n        var center = this.targetCenter_.slice();\n        var resolution = this.targetResolution_;\n        var rotation = this.targetRotation_;\n        var series = [];\n        for (; i < animationCount; ++i) {\n            var options = /** @type {AnimationOptions} */ (arguments[i]);\n            var animation = {\n                start: start,\n                complete: false,\n                anchor: options.anchor,\n                duration: options.duration !== undefined ? options.duration : 1000,\n                easing: options.easing || inAndOut,\n                callback: callback,\n            };\n            if (options.center) {\n                animation.sourceCenter = center;\n                animation.targetCenter = options.center.slice();\n                center = animation.targetCenter;\n            }\n            if (options.zoom !== undefined) {\n                animation.sourceResolution = resolution;\n                animation.targetResolution = this.getResolutionForZoom(options.zoom);\n                resolution = animation.targetResolution;\n            }\n            else if (options.resolution) {\n                animation.sourceResolution = resolution;\n                animation.targetResolution = options.resolution;\n                resolution = animation.targetResolution;\n            }\n            if (options.rotation !== undefined) {\n                animation.sourceRotation = rotation;\n                var delta = modulo(options.rotation - rotation + Math.PI, 2 * Math.PI) - Math.PI;\n                animation.targetRotation = rotation + delta;\n                rotation = animation.targetRotation;\n            }\n            // check if animation is a no-op\n            if (isNoopAnimation(animation)) {\n                animation.complete = true;\n                // we still push it onto the series for callback handling\n            }\n            else {\n                start += animation.duration;\n            }\n            series.push(animation);\n        }\n        this.animations_.push(series);\n        this.setHint(ViewHint.ANIMATING, 1);\n        this.updateAnimations_();\n    };\n    /**\n     * Determine if the view is being animated.\n     * @return {boolean} The view is being animated.\n     * @api\n     */\n    View.prototype.getAnimating = function () {\n        return this.hints_[ViewHint.ANIMATING] > 0;\n    };\n    /**\n     * Determine if the user is interacting with the view, such as panning or zooming.\n     * @return {boolean} The view is being interacted with.\n     * @api\n     */\n    View.prototype.getInteracting = function () {\n        return this.hints_[ViewHint.INTERACTING] > 0;\n    };\n    /**\n     * Cancel any ongoing animations.\n     * @api\n     */\n    View.prototype.cancelAnimations = function () {\n        this.setHint(ViewHint.ANIMATING, -this.hints_[ViewHint.ANIMATING]);\n        var anchor;\n        for (var i = 0, ii = this.animations_.length; i < ii; ++i) {\n            var series = this.animations_[i];\n            if (series[0].callback) {\n                animationCallback(series[0].callback, false);\n            }\n            if (!anchor) {\n                for (var j = 0, jj = series.length; j < jj; ++j) {\n                    var animation = series[j];\n                    if (!animation.complete) {\n                        anchor = animation.anchor;\n                        break;\n                    }\n                }\n            }\n        }\n        this.animations_.length = 0;\n        this.cancelAnchor_ = anchor;\n        this.nextCenter_ = null;\n        this.nextResolution_ = NaN;\n        this.nextRotation_ = NaN;\n    };\n    /**\n     * Update all animations.\n     */\n    View.prototype.updateAnimations_ = function () {\n        if (this.updateAnimationKey_ !== undefined) {\n            cancelAnimationFrame(this.updateAnimationKey_);\n            this.updateAnimationKey_ = undefined;\n        }\n        if (!this.getAnimating()) {\n            return;\n        }\n        var now = Date.now();\n        var more = false;\n        for (var i = this.animations_.length - 1; i >= 0; --i) {\n            var series = this.animations_[i];\n            var seriesComplete = true;\n            for (var j = 0, jj = series.length; j < jj; ++j) {\n                var animation = series[j];\n                if (animation.complete) {\n                    continue;\n                }\n                var elapsed = now - animation.start;\n                var fraction = animation.duration > 0 ? elapsed / animation.duration : 1;\n                if (fraction >= 1) {\n                    animation.complete = true;\n                    fraction = 1;\n                }\n                else {\n                    seriesComplete = false;\n                }\n                var progress = animation.easing(fraction);\n                if (animation.sourceCenter) {\n                    var x0 = animation.sourceCenter[0];\n                    var y0 = animation.sourceCenter[1];\n                    var x1 = animation.targetCenter[0];\n                    var y1 = animation.targetCenter[1];\n                    this.nextCenter_ = animation.targetCenter;\n                    var x = x0 + progress * (x1 - x0);\n                    var y = y0 + progress * (y1 - y0);\n                    this.targetCenter_ = [x, y];\n                }\n                if (animation.sourceResolution && animation.targetResolution) {\n                    var resolution = progress === 1\n                        ? animation.targetResolution\n                        : animation.sourceResolution +\n                            progress *\n                                (animation.targetResolution - animation.sourceResolution);\n                    if (animation.anchor) {\n                        var size = this.getViewportSize_(this.getRotation());\n                        var constrainedResolution = this.constraints_.resolution(resolution, 0, size, true);\n                        this.targetCenter_ = this.calculateCenterZoom(constrainedResolution, animation.anchor);\n                    }\n                    this.nextResolution_ = animation.targetResolution;\n                    this.targetResolution_ = resolution;\n                    this.applyTargetState_(true);\n                }\n                if (animation.sourceRotation !== undefined &&\n                    animation.targetRotation !== undefined) {\n                    var rotation = progress === 1\n                        ? modulo(animation.targetRotation + Math.PI, 2 * Math.PI) -\n                            Math.PI\n                        : animation.sourceRotation +\n                            progress *\n                                (animation.targetRotation - animation.sourceRotation);\n                    if (animation.anchor) {\n                        var constrainedRotation = this.constraints_.rotation(rotation, true);\n                        this.targetCenter_ = this.calculateCenterRotate(constrainedRotation, animation.anchor);\n                    }\n                    this.nextRotation_ = animation.targetRotation;\n                    this.targetRotation_ = rotation;\n                }\n                this.applyTargetState_(true);\n                more = true;\n                if (!animation.complete) {\n                    break;\n                }\n            }\n            if (seriesComplete) {\n                this.animations_[i] = null;\n                this.setHint(ViewHint.ANIMATING, -1);\n                this.nextCenter_ = null;\n                this.nextResolution_ = NaN;\n                this.nextRotation_ = NaN;\n                var callback = series[0].callback;\n                if (callback) {\n                    animationCallback(callback, true);\n                }\n            }\n        }\n        // prune completed series\n        this.animations_ = this.animations_.filter(Boolean);\n        if (more && this.updateAnimationKey_ === undefined) {\n            this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_.bind(this));\n        }\n    };\n    /**\n     * @param {number} rotation Target rotation.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Rotation anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for rotation and anchor.\n     */\n    View.prototype.calculateCenterRotate = function (rotation, anchor) {\n        var center;\n        var currentCenter = this.getCenterInternal();\n        if (currentCenter !== undefined) {\n            center = [currentCenter[0] - anchor[0], currentCenter[1] - anchor[1]];\n            rotateCoordinate(center, rotation - this.getRotation());\n            addCoordinate(center, anchor);\n        }\n        return center;\n    };\n    /**\n     * @param {number} resolution Target resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} anchor Zoom anchor.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for resolution and anchor.\n     */\n    View.prototype.calculateCenterZoom = function (resolution, anchor) {\n        var center;\n        var currentCenter = this.getCenterInternal();\n        var currentResolution = this.getResolution();\n        if (currentCenter !== undefined && currentResolution !== undefined) {\n            var x = anchor[0] -\n                (resolution * (anchor[0] - currentCenter[0])) / currentResolution;\n            var y = anchor[1] -\n                (resolution * (anchor[1] - currentCenter[1])) / currentResolution;\n            center = [x, y];\n        }\n        return center;\n    };\n    /**\n     * Returns the current viewport size.\n     * @private\n     * @param {number} [opt_rotation] Take into account the rotation of the viewport when giving the size\n     * @return {import(\"./size.js\").Size} Viewport size or `[100, 100]` when no viewport is found.\n     */\n    View.prototype.getViewportSize_ = function (opt_rotation) {\n        var size = this.viewportSize_;\n        if (opt_rotation) {\n            var w = size[0];\n            var h = size[1];\n            return [\n                Math.abs(w * Math.cos(opt_rotation)) +\n                    Math.abs(h * Math.sin(opt_rotation)),\n                Math.abs(w * Math.sin(opt_rotation)) +\n                    Math.abs(h * Math.cos(opt_rotation)),\n            ];\n        }\n        else {\n            return size;\n        }\n    };\n    /**\n     * Stores the viewport size on the view. The viewport size is not read every time from the DOM\n     * to avoid performance hit and layout reflow.\n     * This should be done on map size change.\n     * Note: the constraints are not resolved during an animation to avoid stopping it\n     * @param {import(\"./size.js\").Size} [opt_size] Viewport size; if undefined, [100, 100] is assumed\n     */\n    View.prototype.setViewportSize = function (opt_size) {\n        this.viewportSize_ = Array.isArray(opt_size)\n            ? opt_size.slice()\n            : [100, 100];\n        if (!this.getAnimating()) {\n            this.resolveConstraints(0);\n        }\n    };\n    /**\n     * Get the view center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getCenter = function () {\n        var center = this.getCenterInternal();\n        if (!center) {\n            return center;\n        }\n        return toUserCoordinate(center, this.getProjection());\n    };\n    /**\n     * Get the view center without transforming to user projection.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n     */\n    View.prototype.getCenterInternal = function () {\n        return /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(ViewProperty.CENTER));\n    };\n    /**\n     * @return {Constraints} Constraints.\n     */\n    View.prototype.getConstraints = function () {\n        return this.constraints_;\n    };\n    /**\n     * @return {boolean} Resolution constraint is set\n     */\n    View.prototype.getConstrainResolution = function () {\n        return this.get('constrainResolution');\n    };\n    /**\n     * @param {Array<number>} [opt_hints] Destination array.\n     * @return {Array<number>} Hint.\n     */\n    View.prototype.getHints = function (opt_hints) {\n        if (opt_hints !== undefined) {\n            opt_hints[0] = this.hints_[0];\n            opt_hints[1] = this.hints_[1];\n            return opt_hints;\n        }\n        else {\n            return this.hints_.slice();\n        }\n    };\n    /**\n     * Calculate the extent for the current view state and the passed size.\n     * The size is the pixel dimensions of the box into which the calculated extent\n     * should fit. In most cases you want to get the extent of the entire map,\n     * that is `map.getSize()`.\n     * @param {import(\"./size.js\").Size} [opt_size] Box pixel size. If not provided, the size\n     * of the map that uses this view will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     * @api\n     */\n    View.prototype.calculateExtent = function (opt_size) {\n        var extent = this.calculateExtentInternal(opt_size);\n        return toUserExtent(extent, this.getProjection());\n    };\n    /**\n     * @param {import(\"./size.js\").Size} [opt_size] Box pixel size. If not provided,\n     * the map's last known viewport size will be used.\n     * @return {import(\"./extent.js\").Extent} Extent.\n     */\n    View.prototype.calculateExtentInternal = function (opt_size) {\n        var size = opt_size || this.getViewportSizeMinusPadding_();\n        var center = /** @type {!import(\"./coordinate.js\").Coordinate} */ (this.getCenterInternal());\n        assert(center, 1); // The view center is not defined\n        var resolution = /** @type {!number} */ (this.getResolution());\n        assert(resolution !== undefined, 2); // The view resolution is not defined\n        var rotation = /** @type {!number} */ (this.getRotation());\n        assert(rotation !== undefined, 3); // The view rotation is not defined\n        return getForViewAndSize(center, resolution, rotation, size);\n    };\n    /**\n     * Get the maximum resolution of the view.\n     * @return {number} The maximum resolution of the view.\n     * @api\n     */\n    View.prototype.getMaxResolution = function () {\n        return this.maxResolution_;\n    };\n    /**\n     * Get the minimum resolution of the view.\n     * @return {number} The minimum resolution of the view.\n     * @api\n     */\n    View.prototype.getMinResolution = function () {\n        return this.minResolution_;\n    };\n    /**\n     * Get the maximum zoom level for the view.\n     * @return {number} The maximum zoom level.\n     * @api\n     */\n    View.prototype.getMaxZoom = function () {\n        return /** @type {number} */ (this.getZoomForResolution(this.minResolution_));\n    };\n    /**\n     * Set a new maximum zoom level for the view.\n     * @param {number} zoom The maximum zoom level.\n     * @api\n     */\n    View.prototype.setMaxZoom = function (zoom) {\n        this.applyOptions_(this.getUpdatedOptions_({ maxZoom: zoom }));\n    };\n    /**\n     * Get the minimum zoom level for the view.\n     * @return {number} The minimum zoom level.\n     * @api\n     */\n    View.prototype.getMinZoom = function () {\n        return /** @type {number} */ (this.getZoomForResolution(this.maxResolution_));\n    };\n    /**\n     * Set a new minimum zoom level for the view.\n     * @param {number} zoom The minimum zoom level.\n     * @api\n     */\n    View.prototype.setMinZoom = function (zoom) {\n        this.applyOptions_(this.getUpdatedOptions_({ minZoom: zoom }));\n    };\n    /**\n     * Set whether the view should allow intermediary zoom levels.\n     * @param {boolean} enabled Whether the resolution is constrained.\n     * @api\n     */\n    View.prototype.setConstrainResolution = function (enabled) {\n        this.applyOptions_(this.getUpdatedOptions_({ constrainResolution: enabled }));\n    };\n    /**\n     * Get the view projection.\n     * @return {import(\"./proj/Projection.js\").default} The projection of the view.\n     * @api\n     */\n    View.prototype.getProjection = function () {\n        return this.projection_;\n    };\n    /**\n     * Get the view resolution.\n     * @return {number|undefined} The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.getResolution = function () {\n        return /** @type {number|undefined} */ (this.get(ViewProperty.RESOLUTION));\n    };\n    /**\n     * Get the resolutions for the view. This returns the array of resolutions\n     * passed to the constructor of the View, or undefined if none were given.\n     * @return {Array<number>|undefined} The resolutions of the view.\n     * @api\n     */\n    View.prototype.getResolutions = function () {\n        return this.resolutions_;\n    };\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size} [opt_size] Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     * @api\n     */\n    View.prototype.getResolutionForExtent = function (extent, opt_size) {\n        return this.getResolutionForExtentInternal(fromUserExtent(extent, this.getProjection()), opt_size);\n    };\n    /**\n     * Get the resolution for a provided extent (in map units) and size (in pixels).\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {import(\"./size.js\").Size} [opt_size] Box pixel size.\n     * @return {number} The resolution at which the provided extent will render at\n     *     the given size.\n     */\n    View.prototype.getResolutionForExtentInternal = function (extent, opt_size) {\n        var size = opt_size || this.getViewportSizeMinusPadding_();\n        var xResolution = getWidth(extent) / size[0];\n        var yResolution = getHeight(extent) / size[1];\n        return Math.max(xResolution, yResolution);\n    };\n    /**\n     * Return a function that returns a value between 0 and 1 for a\n     * resolution. Exponential scaling is assumed.\n     * @param {number} [opt_power] Power.\n     * @return {function(number): number} Resolution for value function.\n     */\n    View.prototype.getResolutionForValueFunction = function (opt_power) {\n        var power = opt_power || 2;\n        var maxResolution = this.getConstrainedResolution(this.maxResolution_);\n        var minResolution = this.minResolution_;\n        var max = Math.log(maxResolution / minResolution) / Math.log(power);\n        return (\n        /**\n         * @param {number} value Value.\n         * @return {number} Resolution.\n         */\n        function (value) {\n            var resolution = maxResolution / Math.pow(power, value * max);\n            return resolution;\n        });\n    };\n    /**\n     * Get the view rotation.\n     * @return {number} The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.getRotation = function () {\n        return /** @type {number} */ (this.get(ViewProperty.ROTATION));\n    };\n    /**\n     * Return a function that returns a resolution for a value between\n     * 0 and 1. Exponential scaling is assumed.\n     * @param {number} [opt_power] Power.\n     * @return {function(number): number} Value for resolution function.\n     */\n    View.prototype.getValueForResolutionFunction = function (opt_power) {\n        var logPower = Math.log(opt_power || 2);\n        var maxResolution = this.getConstrainedResolution(this.maxResolution_);\n        var minResolution = this.minResolution_;\n        var max = Math.log(maxResolution / minResolution) / logPower;\n        return (\n        /**\n         * @param {number} resolution Resolution.\n         * @return {number} Value.\n         */\n        function (resolution) {\n            var value = Math.log(maxResolution / resolution) / logPower / max;\n            return value;\n        });\n    };\n    /**\n     * Returns the size of the viewport minus padding.\n     * @private\n     * @param {number} [opt_rotation] Take into account the rotation of the viewport when giving the size\n     * @return {import(\"./size.js\").Size} Viewport size reduced by the padding.\n     */\n    View.prototype.getViewportSizeMinusPadding_ = function (opt_rotation) {\n        var size = this.getViewportSize_(opt_rotation);\n        var padding = this.padding_;\n        if (padding) {\n            size = [\n                size[0] - padding[1] - padding[3],\n                size[1] - padding[0] - padding[2],\n            ];\n        }\n        return size;\n    };\n    /**\n     * @return {State} View state.\n     */\n    View.prototype.getState = function () {\n        var projection = this.getProjection();\n        var resolution = this.getResolution();\n        var rotation = this.getRotation();\n        var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (this.getCenterInternal());\n        var padding = this.padding_;\n        if (padding) {\n            var reducedSize = this.getViewportSizeMinusPadding_();\n            center = calculateCenterOn(center, this.getViewportSize_(), [reducedSize[0] / 2 + padding[3], reducedSize[1] / 2 + padding[0]], resolution, rotation);\n        }\n        return {\n            center: center.slice(0),\n            projection: projection !== undefined ? projection : null,\n            resolution: resolution,\n            nextCenter: this.nextCenter_,\n            nextResolution: this.nextResolution_,\n            nextRotation: this.nextRotation_,\n            rotation: rotation,\n            zoom: this.getZoom(),\n        };\n    };\n    /**\n     * Get the current zoom level. This method may return non-integer zoom levels\n     * if the view does not constrain the resolution, or if an interaction or\n     * animation is underway.\n     * @return {number|undefined} Zoom.\n     * @api\n     */\n    View.prototype.getZoom = function () {\n        var zoom;\n        var resolution = this.getResolution();\n        if (resolution !== undefined) {\n            zoom = this.getZoomForResolution(resolution);\n        }\n        return zoom;\n    };\n    /**\n     * Get the zoom level for a resolution.\n     * @param {number} resolution The resolution.\n     * @return {number|undefined} The zoom level for the provided resolution.\n     * @api\n     */\n    View.prototype.getZoomForResolution = function (resolution) {\n        var offset = this.minZoom_ || 0;\n        var max, zoomFactor;\n        if (this.resolutions_) {\n            var nearest = linearFindNearest(this.resolutions_, resolution, 1);\n            offset = nearest;\n            max = this.resolutions_[nearest];\n            if (nearest == this.resolutions_.length - 1) {\n                zoomFactor = 2;\n            }\n            else {\n                zoomFactor = max / this.resolutions_[nearest + 1];\n            }\n        }\n        else {\n            max = this.maxResolution_;\n            zoomFactor = this.zoomFactor_;\n        }\n        return offset + Math.log(max / resolution) / Math.log(zoomFactor);\n    };\n    /**\n     * Get the resolution for a zoom level.\n     * @param {number} zoom Zoom level.\n     * @return {number} The view resolution for the provided zoom level.\n     * @api\n     */\n    View.prototype.getResolutionForZoom = function (zoom) {\n        if (this.resolutions_) {\n            if (this.resolutions_.length <= 1) {\n                return 0;\n            }\n            var baseLevel = clamp(Math.floor(zoom), 0, this.resolutions_.length - 2);\n            var zoomFactor = this.resolutions_[baseLevel] / this.resolutions_[baseLevel + 1];\n            return (this.resolutions_[baseLevel] /\n                Math.pow(zoomFactor, clamp(zoom - baseLevel, 0, 1)));\n        }\n        else {\n            return (this.maxResolution_ / Math.pow(this.zoomFactor_, zoom - this.minZoom_));\n        }\n    };\n    /**\n     * Fit the given geometry or extent based on the given map size and border.\n     * The size is pixel dimensions of the box to fit the extent into.\n     * In most cases you will want to use the map size, that is `map.getSize()`.\n     * Takes care of the map angle.\n     * @param {import(\"./geom/SimpleGeometry.js\").default|import(\"./extent.js\").Extent} geometryOrExtent The geometry or\n     *     extent to fit the view to.\n     * @param {FitOptions} [opt_options] Options.\n     * @api\n     */\n    View.prototype.fit = function (geometryOrExtent, opt_options) {\n        /** @type {import(\"./geom/SimpleGeometry.js\").default} */\n        var geometry;\n        assert(Array.isArray(geometryOrExtent) ||\n            typeof ( /** @type {?} */(geometryOrExtent).getSimplifiedGeometry) ===\n                'function', 24); // Invalid extent or geometry provided as `geometry`\n        if (Array.isArray(geometryOrExtent)) {\n            assert(!isEmpty(geometryOrExtent), 25); // Cannot fit empty extent provided as `geometry`\n            var extent = fromUserExtent(geometryOrExtent, this.getProjection());\n            geometry = polygonFromExtent(extent);\n        }\n        else if (geometryOrExtent.getType() === 'Circle') {\n            var extent = fromUserExtent(geometryOrExtent.getExtent(), this.getProjection());\n            geometry = polygonFromExtent(extent);\n            geometry.rotate(this.getRotation(), getCenter(extent));\n        }\n        else {\n            var userProjection = getUserProjection();\n            if (userProjection) {\n                geometry = /** @type {import(\"./geom/SimpleGeometry.js\").default} */ (geometryOrExtent\n                    .clone()\n                    .transform(userProjection, this.getProjection()));\n            }\n            else {\n                geometry = geometryOrExtent;\n            }\n        }\n        this.fitInternal(geometry, opt_options);\n    };\n    /**\n     * Calculate rotated extent\n     * @param {import(\"./geom/SimpleGeometry.js\").default} geometry The geometry.\n     * @return {import(\"./extent\").Extent} The rotated extent for the geometry.\n     */\n    View.prototype.rotatedExtentForGeometry = function (geometry) {\n        var rotation = this.getRotation();\n        var cosAngle = Math.cos(rotation);\n        var sinAngle = Math.sin(-rotation);\n        var coords = geometry.getFlatCoordinates();\n        var stride = geometry.getStride();\n        var minRotX = +Infinity;\n        var minRotY = +Infinity;\n        var maxRotX = -Infinity;\n        var maxRotY = -Infinity;\n        for (var i = 0, ii = coords.length; i < ii; i += stride) {\n            var rotX = coords[i] * cosAngle - coords[i + 1] * sinAngle;\n            var rotY = coords[i] * sinAngle + coords[i + 1] * cosAngle;\n            minRotX = Math.min(minRotX, rotX);\n            minRotY = Math.min(minRotY, rotY);\n            maxRotX = Math.max(maxRotX, rotX);\n            maxRotY = Math.max(maxRotY, rotY);\n        }\n        return [minRotX, minRotY, maxRotX, maxRotY];\n    };\n    /**\n     * @param {import(\"./geom/SimpleGeometry.js\").default} geometry The geometry.\n     * @param {FitOptions} [opt_options] Options.\n     */\n    View.prototype.fitInternal = function (geometry, opt_options) {\n        var options = opt_options || {};\n        var size = options.size;\n        if (!size) {\n            size = this.getViewportSizeMinusPadding_();\n        }\n        var padding = options.padding !== undefined ? options.padding : [0, 0, 0, 0];\n        var nearest = options.nearest !== undefined ? options.nearest : false;\n        var minResolution;\n        if (options.minResolution !== undefined) {\n            minResolution = options.minResolution;\n        }\n        else if (options.maxZoom !== undefined) {\n            minResolution = this.getResolutionForZoom(options.maxZoom);\n        }\n        else {\n            minResolution = 0;\n        }\n        var rotatedExtent = this.rotatedExtentForGeometry(geometry);\n        // calculate resolution\n        var resolution = this.getResolutionForExtentInternal(rotatedExtent, [\n            size[0] - padding[1] - padding[3],\n            size[1] - padding[0] - padding[2],\n        ]);\n        resolution = isNaN(resolution)\n            ? minResolution\n            : Math.max(resolution, minResolution);\n        resolution = this.getConstrainedResolution(resolution, nearest ? 0 : 1);\n        // calculate center\n        var rotation = this.getRotation();\n        var sinAngle = Math.sin(rotation);\n        var cosAngle = Math.cos(rotation);\n        var centerRot = getCenter(rotatedExtent);\n        centerRot[0] += ((padding[1] - padding[3]) / 2) * resolution;\n        centerRot[1] += ((padding[0] - padding[2]) / 2) * resolution;\n        var centerX = centerRot[0] * cosAngle - centerRot[1] * sinAngle;\n        var centerY = centerRot[1] * cosAngle + centerRot[0] * sinAngle;\n        var center = this.getConstrainedCenter([centerX, centerY], resolution);\n        var callback = options.callback ? options.callback : VOID;\n        if (options.duration !== undefined) {\n            this.animateInternal({\n                resolution: resolution,\n                center: center,\n                duration: options.duration,\n                easing: options.easing,\n            }, callback);\n        }\n        else {\n            this.targetResolution_ = resolution;\n            this.targetCenter_ = center;\n            this.applyTargetState_(false, true);\n            animationCallback(callback, true);\n        }\n    };\n    /**\n     * Center on coordinate and view position.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     * @api\n     */\n    View.prototype.centerOn = function (coordinate, size, position) {\n        this.centerOnInternal(fromUserCoordinate(coordinate, this.getProjection()), size, position);\n    };\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"./size.js\").Size} size Box pixel size.\n     * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n     */\n    View.prototype.centerOnInternal = function (coordinate, size, position) {\n        this.setCenterInternal(calculateCenterOn(coordinate, size, position, this.getResolution(), this.getRotation()));\n    };\n    /**\n     * Calculates the shift between map and viewport center.\n     * @param {import(\"./coordinate.js\").Coordinate} center Center.\n     * @param {number} resolution Resolution.\n     * @param {number} rotation Rotation.\n     * @param {import(\"./size.js\").Size} size Size.\n     * @return {Array<number>|undefined} Center shift.\n     */\n    View.prototype.calculateCenterShift = function (center, resolution, rotation, size) {\n        var centerShift;\n        var padding = this.padding_;\n        if (padding && center) {\n            var reducedSize = this.getViewportSizeMinusPadding_(-rotation);\n            var shiftedCenter = calculateCenterOn(center, size, [reducedSize[0] / 2 + padding[3], reducedSize[1] / 2 + padding[0]], resolution, rotation);\n            centerShift = [\n                center[0] - shiftedCenter[0],\n                center[1] - shiftedCenter[1],\n            ];\n        }\n        return centerShift;\n    };\n    /**\n     * @return {boolean} Is defined.\n     */\n    View.prototype.isDef = function () {\n        return !!this.getCenterInternal() && this.getResolution() !== undefined;\n    };\n    /**\n     * Adds relative coordinates to the center of the view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate} deltaCoordinates Relative value to add.\n     * @api\n     */\n    View.prototype.adjustCenter = function (deltaCoordinates) {\n        var center = toUserCoordinate(this.targetCenter_, this.getProjection());\n        this.setCenter([\n            center[0] + deltaCoordinates[0],\n            center[1] + deltaCoordinates[1],\n        ]);\n    };\n    /**\n     * Adds relative coordinates to the center of the view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate} deltaCoordinates Relative value to add.\n     */\n    View.prototype.adjustCenterInternal = function (deltaCoordinates) {\n        var center = this.targetCenter_;\n        this.setCenterInternal([\n            center[0] + deltaCoordinates[0],\n            center[1] + deltaCoordinates[1],\n        ]);\n    };\n    /**\n     * Multiply the view resolution by a ratio, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} ratio The ratio to apply on the view resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     * @api\n     */\n    View.prototype.adjustResolution = function (ratio, opt_anchor) {\n        var anchor = opt_anchor && fromUserCoordinate(opt_anchor, this.getProjection());\n        this.adjustResolutionInternal(ratio, anchor);\n    };\n    /**\n     * Multiply the view resolution by a ratio, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} ratio The ratio to apply on the view resolution.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     */\n    View.prototype.adjustResolutionInternal = function (ratio, opt_anchor) {\n        var isMoving = this.getAnimating() || this.getInteracting();\n        var size = this.getViewportSize_(this.getRotation());\n        var newResolution = this.constraints_.resolution(this.targetResolution_ * ratio, 0, size, isMoving);\n        if (opt_anchor) {\n            this.targetCenter_ = this.calculateCenterZoom(newResolution, opt_anchor);\n        }\n        this.targetResolution_ *= ratio;\n        this.applyTargetState_();\n    };\n    /**\n     * Adds a value to the view zoom level, optionally using an anchor. Any resolution\n     * constraint will apply.\n     * @param {number} delta Relative value to add to the zoom level.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     * @api\n     */\n    View.prototype.adjustZoom = function (delta, opt_anchor) {\n        this.adjustResolution(Math.pow(this.zoomFactor_, -delta), opt_anchor);\n    };\n    /**\n     * Adds a value to the view rotation, optionally using an anchor. Any rotation\n     * constraint will apply.\n     * @param {number} delta Relative value to add to the zoom rotation, in radians.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The rotation center.\n     * @api\n     */\n    View.prototype.adjustRotation = function (delta, opt_anchor) {\n        if (opt_anchor) {\n            opt_anchor = fromUserCoordinate(opt_anchor, this.getProjection());\n        }\n        this.adjustRotationInternal(delta, opt_anchor);\n    };\n    /**\n     * @param {number} delta Relative value to add to the zoom rotation, in radians.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The rotation center.\n     */\n    View.prototype.adjustRotationInternal = function (delta, opt_anchor) {\n        var isMoving = this.getAnimating() || this.getInteracting();\n        var newRotation = this.constraints_.rotation(this.targetRotation_ + delta, isMoving);\n        if (opt_anchor) {\n            this.targetCenter_ = this.calculateCenterRotate(newRotation, opt_anchor);\n        }\n        this.targetRotation_ += delta;\n        this.applyTargetState_();\n    };\n    /**\n     * Set the center of the current view. Any extent constraint will apply.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setCenter = function (center) {\n        this.setCenterInternal(center ? fromUserCoordinate(center, this.getProjection()) : center);\n    };\n    /**\n     * Set the center using the view projection (not the user projection).\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n     */\n    View.prototype.setCenterInternal = function (center) {\n        this.targetCenter_ = center;\n        this.applyTargetState_();\n    };\n    /**\n     * @param {import(\"./ViewHint.js\").default} hint Hint.\n     * @param {number} delta Delta.\n     * @return {number} New value.\n     */\n    View.prototype.setHint = function (hint, delta) {\n        this.hints_[hint] += delta;\n        this.changed();\n        return this.hints_[hint];\n    };\n    /**\n     * Set the resolution for this view. Any resolution constraint will apply.\n     * @param {number|undefined} resolution The resolution of the view.\n     * @observable\n     * @api\n     */\n    View.prototype.setResolution = function (resolution) {\n        this.targetResolution_ = resolution;\n        this.applyTargetState_();\n    };\n    /**\n     * Set the rotation for this view. Any rotation constraint will apply.\n     * @param {number} rotation The rotation of the view in radians.\n     * @observable\n     * @api\n     */\n    View.prototype.setRotation = function (rotation) {\n        this.targetRotation_ = rotation;\n        this.applyTargetState_();\n    };\n    /**\n     * Zoom to a specific zoom level. Any resolution constrain will apply.\n     * @param {number} zoom Zoom level.\n     * @api\n     */\n    View.prototype.setZoom = function (zoom) {\n        this.setResolution(this.getResolutionForZoom(zoom));\n    };\n    /**\n     * Recompute rotation/resolution/center based on target values.\n     * Note: we have to compute rotation first, then resolution and center considering that\n     * parameters can influence one another in case a view extent constraint is present.\n     * @param {boolean} [opt_doNotCancelAnims] Do not cancel animations.\n     * @param {boolean} [opt_forceMoving] Apply constraints as if the view is moving.\n     * @private\n     */\n    View.prototype.applyTargetState_ = function (opt_doNotCancelAnims, opt_forceMoving) {\n        var isMoving = this.getAnimating() || this.getInteracting() || opt_forceMoving;\n        // compute rotation\n        var newRotation = this.constraints_.rotation(this.targetRotation_, isMoving);\n        var size = this.getViewportSize_(newRotation);\n        var newResolution = this.constraints_.resolution(this.targetResolution_, 0, size, isMoving);\n        var newCenter = this.constraints_.center(this.targetCenter_, newResolution, size, isMoving, this.calculateCenterShift(this.targetCenter_, newResolution, newRotation, size));\n        if (this.get(ViewProperty.ROTATION) !== newRotation) {\n            this.set(ViewProperty.ROTATION, newRotation);\n        }\n        if (this.get(ViewProperty.RESOLUTION) !== newResolution) {\n            this.set(ViewProperty.RESOLUTION, newResolution);\n            this.set('zoom', this.getZoom(), true);\n        }\n        if (!newCenter ||\n            !this.get(ViewProperty.CENTER) ||\n            !equals(this.get(ViewProperty.CENTER), newCenter)) {\n            this.set(ViewProperty.CENTER, newCenter);\n        }\n        if (this.getAnimating() && !opt_doNotCancelAnims) {\n            this.cancelAnimations();\n        }\n        this.cancelAnchor_ = undefined;\n    };\n    /**\n     * If any constraints need to be applied, an animation will be triggered.\n     * This is typically done on interaction end.\n     * Note: calling this with a duration of 0 will apply the constrained values straight away,\n     * without animation.\n     * @param {number} [opt_duration] The animation duration in ms.\n     * @param {number} [opt_resolutionDirection] Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     */\n    View.prototype.resolveConstraints = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        var duration = opt_duration !== undefined ? opt_duration : 200;\n        var direction = opt_resolutionDirection || 0;\n        var newRotation = this.constraints_.rotation(this.targetRotation_);\n        var size = this.getViewportSize_(newRotation);\n        var newResolution = this.constraints_.resolution(this.targetResolution_, direction, size);\n        var newCenter = this.constraints_.center(this.targetCenter_, newResolution, size, false, this.calculateCenterShift(this.targetCenter_, newResolution, newRotation, size));\n        if (duration === 0 && !this.cancelAnchor_) {\n            this.targetResolution_ = newResolution;\n            this.targetRotation_ = newRotation;\n            this.targetCenter_ = newCenter;\n            this.applyTargetState_();\n            return;\n        }\n        var anchor = opt_anchor || (duration === 0 ? this.cancelAnchor_ : undefined);\n        this.cancelAnchor_ = undefined;\n        if (this.getResolution() !== newResolution ||\n            this.getRotation() !== newRotation ||\n            !this.getCenterInternal() ||\n            !equals(this.getCenterInternal(), newCenter)) {\n            if (this.getAnimating()) {\n                this.cancelAnimations();\n            }\n            this.animateInternal({\n                rotation: newRotation,\n                center: newCenter,\n                resolution: newResolution,\n                duration: duration,\n                easing: easeOut,\n                anchor: anchor,\n            });\n        }\n    };\n    /**\n     * Notify the View that an interaction has started.\n     * The view state will be resolved to a stable one if needed\n     * (depending on its constraints).\n     * @api\n     */\n    View.prototype.beginInteraction = function () {\n        this.resolveConstraints(0);\n        this.setHint(ViewHint.INTERACTING, 1);\n    };\n    /**\n     * Notify the View that an interaction has ended. The view state will be resolved\n     * to a stable one if needed (depending on its constraints).\n     * @param {number} [opt_duration] Animation duration in ms.\n     * @param {number} [opt_resolutionDirection] Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     * @api\n     */\n    View.prototype.endInteraction = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        var anchor = opt_anchor && fromUserCoordinate(opt_anchor, this.getProjection());\n        this.endInteractionInternal(opt_duration, opt_resolutionDirection, anchor);\n    };\n    /**\n     * Notify the View that an interaction has ended. The view state will be resolved\n     * to a stable one if needed (depending on its constraints).\n     * @param {number} [opt_duration] Animation duration in ms.\n     * @param {number} [opt_resolutionDirection] Which direction to zoom.\n     * @param {import(\"./coordinate.js\").Coordinate} [opt_anchor] The origin of the transformation.\n     */\n    View.prototype.endInteractionInternal = function (opt_duration, opt_resolutionDirection, opt_anchor) {\n        this.setHint(ViewHint.INTERACTING, -1);\n        this.resolveConstraints(opt_duration, opt_resolutionDirection, opt_anchor);\n    };\n    /**\n     * Get a valid position for the view center according to the current constraints.\n     * @param {import(\"./coordinate.js\").Coordinate|undefined} targetCenter Target center position.\n     * @param {number} [opt_targetResolution] Target resolution. If not supplied, the current one will be used.\n     * This is useful to guess a valid center position at a different zoom level.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Valid center position.\n     */\n    View.prototype.getConstrainedCenter = function (targetCenter, opt_targetResolution) {\n        var size = this.getViewportSize_(this.getRotation());\n        return this.constraints_.center(targetCenter, opt_targetResolution || this.getResolution(), size);\n    };\n    /**\n     * Get a valid zoom level according to the current view constraints.\n     * @param {number|undefined} targetZoom Target zoom.\n     * @param {number} [opt_direction=0] Indicate which resolution should be used\n     * by a renderer if the view resolution does not match any resolution of the tile source.\n     * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n     * will be used. If -1, the nearest higher resolution will be used.\n     * @return {number|undefined} Valid zoom level.\n     */\n    View.prototype.getConstrainedZoom = function (targetZoom, opt_direction) {\n        var targetRes = this.getResolutionForZoom(targetZoom);\n        return this.getZoomForResolution(this.getConstrainedResolution(targetRes, opt_direction));\n    };\n    /**\n     * Get a valid resolution according to the current view constraints.\n     * @param {number|undefined} targetResolution Target resolution.\n     * @param {number} [opt_direction=0] Indicate which resolution should be used\n     * by a renderer if the view resolution does not match any resolution of the tile source.\n     * If 0, the nearest resolution will be used. If 1, the nearest lower resolution\n     * will be used. If -1, the nearest higher resolution will be used.\n     * @return {number|undefined} Valid resolution.\n     */\n    View.prototype.getConstrainedResolution = function (targetResolution, opt_direction) {\n        var direction = opt_direction || 0;\n        var size = this.getViewportSize_(this.getRotation());\n        return this.constraints_.resolution(targetResolution, direction, size);\n    };\n    return View;\n}(BaseObject));\n/**\n * @param {Function} callback Callback.\n * @param {*} returnValue Return value.\n */\nfunction animationCallback(callback, returnValue) {\n    setTimeout(function () {\n        callback(returnValue);\n    }, 0);\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./centerconstraint.js\").Type} The constraint.\n */\nexport function createCenterConstraint(options) {\n    if (options.extent !== undefined) {\n        var smooth = options.smoothExtentConstraint !== undefined\n            ? options.smoothExtentConstraint\n            : true;\n        return createExtent(options.extent, options.constrainOnlyCenter, smooth);\n    }\n    var projection = createProjection(options.projection, 'EPSG:3857');\n    if (options.multiWorld !== true && projection.isGlobal()) {\n        var extent = projection.getExtent().slice();\n        extent[0] = -Infinity;\n        extent[2] = Infinity;\n        return createExtent(extent, false, false);\n    }\n    return centerNone;\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {{constraint: import(\"./resolutionconstraint.js\").Type, maxResolution: number,\n *     minResolution: number, minZoom: number, zoomFactor: number}} The constraint.\n */\nexport function createResolutionConstraint(options) {\n    var resolutionConstraint;\n    var maxResolution;\n    var minResolution;\n    // TODO: move these to be ol constants\n    // see https://github.com/openlayers/openlayers/issues/2076\n    var defaultMaxZoom = 28;\n    var defaultZoomFactor = 2;\n    var minZoom = options.minZoom !== undefined ? options.minZoom : DEFAULT_MIN_ZOOM;\n    var maxZoom = options.maxZoom !== undefined ? options.maxZoom : defaultMaxZoom;\n    var zoomFactor = options.zoomFactor !== undefined ? options.zoomFactor : defaultZoomFactor;\n    var multiWorld = options.multiWorld !== undefined ? options.multiWorld : false;\n    var smooth = options.smoothResolutionConstraint !== undefined\n        ? options.smoothResolutionConstraint\n        : true;\n    var showFullExtent = options.showFullExtent !== undefined ? options.showFullExtent : false;\n    var projection = createProjection(options.projection, 'EPSG:3857');\n    var projExtent = projection.getExtent();\n    var constrainOnlyCenter = options.constrainOnlyCenter;\n    var extent = options.extent;\n    if (!multiWorld && !extent && projection.isGlobal()) {\n        constrainOnlyCenter = false;\n        extent = projExtent;\n    }\n    if (options.resolutions !== undefined) {\n        var resolutions = options.resolutions;\n        maxResolution = resolutions[minZoom];\n        minResolution =\n            resolutions[maxZoom] !== undefined\n                ? resolutions[maxZoom]\n                : resolutions[resolutions.length - 1];\n        if (options.constrainResolution) {\n            resolutionConstraint = createSnapToResolutions(resolutions, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n        else {\n            resolutionConstraint = createMinMaxResolution(maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n    }\n    else {\n        // calculate the default min and max resolution\n        var size = !projExtent\n            ? // use an extent that can fit the whole world if need be\n                (360 * METERS_PER_UNIT[Units.DEGREES]) / projection.getMetersPerUnit()\n            : Math.max(getWidth(projExtent), getHeight(projExtent));\n        var defaultMaxResolution = size / DEFAULT_TILE_SIZE / Math.pow(defaultZoomFactor, DEFAULT_MIN_ZOOM);\n        var defaultMinResolution = defaultMaxResolution /\n            Math.pow(defaultZoomFactor, defaultMaxZoom - DEFAULT_MIN_ZOOM);\n        // user provided maxResolution takes precedence\n        maxResolution = options.maxResolution;\n        if (maxResolution !== undefined) {\n            minZoom = 0;\n        }\n        else {\n            maxResolution = defaultMaxResolution / Math.pow(zoomFactor, minZoom);\n        }\n        // user provided minResolution takes precedence\n        minResolution = options.minResolution;\n        if (minResolution === undefined) {\n            if (options.maxZoom !== undefined) {\n                if (options.maxResolution !== undefined) {\n                    minResolution = maxResolution / Math.pow(zoomFactor, maxZoom);\n                }\n                else {\n                    minResolution = defaultMaxResolution / Math.pow(zoomFactor, maxZoom);\n                }\n            }\n            else {\n                minResolution = defaultMinResolution;\n            }\n        }\n        // given discrete zoom levels, minResolution may be different than provided\n        maxZoom =\n            minZoom +\n                Math.floor(Math.log(maxResolution / minResolution) / Math.log(zoomFactor));\n        minResolution = maxResolution / Math.pow(zoomFactor, maxZoom - minZoom);\n        if (options.constrainResolution) {\n            resolutionConstraint = createSnapToPower(zoomFactor, maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n        else {\n            resolutionConstraint = createMinMaxResolution(maxResolution, minResolution, smooth, !constrainOnlyCenter && extent, showFullExtent);\n        }\n    }\n    return {\n        constraint: resolutionConstraint,\n        maxResolution: maxResolution,\n        minResolution: minResolution,\n        minZoom: minZoom,\n        zoomFactor: zoomFactor,\n    };\n}\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./rotationconstraint.js\").Type} Rotation constraint.\n */\nexport function createRotationConstraint(options) {\n    var enableRotation = options.enableRotation !== undefined ? options.enableRotation : true;\n    if (enableRotation) {\n        var constrainRotation = options.constrainRotation;\n        if (constrainRotation === undefined || constrainRotation === true) {\n            return createSnapToZero();\n        }\n        else if (constrainRotation === false) {\n            return rotationNone;\n        }\n        else if (typeof constrainRotation === 'number') {\n            return createSnapToN(constrainRotation);\n        }\n        else {\n            return rotationNone;\n        }\n    }\n    else {\n        return disable;\n    }\n}\n/**\n * Determine if an animation involves no view change.\n * @param {Animation} animation The animation.\n * @return {boolean} The animation involves no view change.\n */\nexport function isNoopAnimation(animation) {\n    if (animation.sourceCenter && animation.targetCenter) {\n        if (!coordinatesEqual(animation.sourceCenter, animation.targetCenter)) {\n            return false;\n        }\n    }\n    if (animation.sourceResolution !== animation.targetResolution) {\n        return false;\n    }\n    if (animation.sourceRotation !== animation.targetRotation) {\n        return false;\n    }\n    return true;\n}\n/**\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {import(\"./size.js\").Size} size Box pixel size.\n * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @return {import(\"./coordinate.js\").Coordinate} Shifted center.\n */\nfunction calculateCenterOn(coordinate, size, position, resolution, rotation) {\n    // calculate rotated position\n    var cosAngle = Math.cos(-rotation);\n    var sinAngle = Math.sin(-rotation);\n    var rotX = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var rotY = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    rotX += (size[0] / 2 - position[0]) * resolution;\n    rotY += (position[1] - size[1] / 2) * resolution;\n    // go back to original angle\n    sinAngle = -sinAngle; // go back to original rotation\n    var centerX = rotX * cosAngle - rotY * sinAngle;\n    var centerY = rotY * cosAngle + rotX * sinAngle;\n    return [centerX, centerY];\n}\nexport default View;\n//# sourceMappingURL=View.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Map\n */\nimport Disposable from '../Disposable.js';\nimport { TRUE } from '../functions.js';\nimport { abstract } from '../util.js';\nimport { compose as composeTransform, makeInverse } from '../transform.js';\nimport { getWidth } from '../extent.js';\nimport { shared as iconImageCache } from '../style/IconImageCache.js';\nimport { inView } from '../layer/Layer.js';\nimport { wrapX } from '../coordinate.js';\n/**\n * @typedef HitMatch\n * @property {import(\"../Feature.js\").FeatureLike} feature Feature.\n * @property {import(\"../layer/Layer.js\").default} layer Layer.\n * @property {import(\"../geom/SimpleGeometry.js\").default} geometry Geometry.\n * @property {number} distanceSq Squared distance.\n * @property {import(\"./vector.js\").FeatureCallback<T>} callback Callback.\n * @template T\n */\n/**\n * @abstract\n */\nvar MapRenderer = /** @class */ (function (_super) {\n    __extends(MapRenderer, _super);\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    function MapRenderer(map) {\n        var _this = _super.call(this) || this;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default}\n         */\n        _this.map_ = map;\n        return _this;\n    }\n    /**\n     * @abstract\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.dispatchRenderEvent = function (type, frameState) {\n        abstract();\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @protected\n     */\n    MapRenderer.prototype.calculateMatrices2D = function (frameState) {\n        var viewState = frameState.viewState;\n        var coordinateToPixelTransform = frameState.coordinateToPixelTransform;\n        var pixelToCoordinateTransform = frameState.pixelToCoordinateTransform;\n        composeTransform(coordinateToPixelTransform, frameState.size[0] / 2, frameState.size[1] / 2, 1 / viewState.resolution, -1 / viewState.resolution, -viewState.rotation, -viewState.center[0], -viewState.center[1]);\n        makeInverse(pixelToCoordinateTransform, coordinateToPixelTransform);\n    };\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {boolean} checkWrapped Check for wrapped geometries.\n     * @param {import(\"./vector.js\").FeatureCallback<T>} callback Feature callback.\n     * @param {S} thisArg Value to use as `this` when executing `callback`.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg2 Value to use as `this` when executing `layerFilter`.\n     * @return {T|undefined} Callback result.\n     * @template S,T,U\n     */\n    MapRenderer.prototype.forEachFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, checkWrapped, callback, thisArg, layerFilter, thisArg2) {\n        var result;\n        var viewState = frameState.viewState;\n        /**\n         * @param {boolean} managed Managed layer.\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n         * @return {T|undefined} Callback result.\n         */\n        function forEachFeatureAtCoordinate(managed, feature, layer, geometry) {\n            return callback.call(thisArg, feature, managed ? layer : null, geometry);\n        }\n        var projection = viewState.projection;\n        var translatedCoordinate = wrapX(coordinate.slice(), projection);\n        var offsets = [[0, 0]];\n        if (projection.canWrapX() && checkWrapped) {\n            var projectionExtent = projection.getExtent();\n            var worldWidth = getWidth(projectionExtent);\n            offsets.push([-worldWidth, 0], [worldWidth, 0]);\n        }\n        var layerStates = frameState.layerStatesArray;\n        var numLayers = layerStates.length;\n        var matches = /** @type {Array<HitMatch<T>>} */ ([]);\n        var tmpCoord = [];\n        for (var i = 0; i < offsets.length; i++) {\n            for (var j = numLayers - 1; j >= 0; --j) {\n                var layerState = layerStates[j];\n                var layer = layerState.layer;\n                if (layer.hasRenderer() &&\n                    inView(layerState, viewState) &&\n                    layerFilter.call(thisArg2, layer)) {\n                    var layerRenderer = layer.getRenderer();\n                    var source = layer.getSource();\n                    if (layerRenderer && source) {\n                        var coordinates = source.getWrapX()\n                            ? translatedCoordinate\n                            : coordinate;\n                        var callback_1 = forEachFeatureAtCoordinate.bind(null, layerState.managed);\n                        tmpCoord[0] = coordinates[0] + offsets[i][0];\n                        tmpCoord[1] = coordinates[1] + offsets[i][1];\n                        result = layerRenderer.forEachFeatureAtCoordinate(tmpCoord, frameState, hitTolerance, callback_1, matches);\n                    }\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        if (matches.length === 0) {\n            return undefined;\n        }\n        var order = 1 / matches.length;\n        matches.forEach(function (m, i) { return (m.distanceSq += i * order); });\n        matches.sort(function (a, b) { return a.distanceSq - b.distanceSq; });\n        matches.some(function (m) {\n            return (result = m.callback(m.feature, m.layer, m.geometry));\n        });\n        return result;\n    };\n    /**\n     * @abstract\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    MapRenderer.prototype.forEachLayerAtPixel = function (pixel, frameState, hitTolerance, callback, layerFilter) {\n        return abstract();\n    };\n    /**\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {boolean} checkWrapped Check for wrapped geometries.\n     * @param {function(this: U, import(\"../layer/Layer.js\").default): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @param {U} thisArg Value to use as `this` when executing `layerFilter`.\n     * @return {boolean} Is there a feature at the given coordinate?\n     * @template U\n     */\n    MapRenderer.prototype.hasFeatureAtCoordinate = function (coordinate, frameState, hitTolerance, checkWrapped, layerFilter, thisArg) {\n        var hasFeature = this.forEachFeatureAtCoordinate(coordinate, frameState, hitTolerance, checkWrapped, TRUE, this, layerFilter, thisArg);\n        return hasFeature !== undefined;\n    };\n    /**\n     * @return {import(\"../PluggableMap.js\").default} Map.\n     */\n    MapRenderer.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Render.\n     * @abstract\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    MapRenderer.prototype.renderFrame = function (frameState) {\n        abstract();\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @protected\n     */\n    MapRenderer.prototype.scheduleExpireIconCache = function (frameState) {\n        if (iconImageCache.canExpireCache()) {\n            frameState.postRenderFunctions.push(expireIconCache);\n        }\n    };\n    return MapRenderer;\n}(Disposable));\n/**\n * @param {import(\"../PluggableMap.js\").default} map Map.\n * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n */\nfunction expireIconCache(map, frameState) {\n    iconImageCache.expire();\n}\nexport default MapRenderer;\n//# sourceMappingURL=Map.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/renderer/Composite\n */\nimport MapRenderer from './Map.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport RenderEvent from '../render/Event.js';\nimport RenderEventType from '../render/EventType.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { checkedFonts } from '../render/canvas.js';\nimport { inView } from '../layer/Layer.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { replaceChildren } from '../dom.js';\n/**\n * @classdesc\n * Canvas map renderer.\n * @api\n */\nvar CompositeMapRenderer = /** @class */ (function (_super) {\n    __extends(CompositeMapRenderer, _super);\n    /**\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    function CompositeMapRenderer(map) {\n        var _this = _super.call(this, map) || this;\n        /**\n         * @type {import(\"../events.js\").EventsKey}\n         */\n        _this.fontChangeListenerKey_ = listen(checkedFonts, ObjectEventType.PROPERTYCHANGE, map.redrawText.bind(map));\n        /**\n         * @private\n         * @type {HTMLDivElement}\n         */\n        _this.element_ = document.createElement('div');\n        var style = _this.element_.style;\n        style.position = 'absolute';\n        style.width = '100%';\n        style.height = '100%';\n        style.zIndex = '0';\n        _this.element_.className = CLASS_UNSELECTABLE + ' ol-layers';\n        var container = map.getViewport();\n        container.insertBefore(_this.element_, container.firstChild || null);\n        /**\n         * @private\n         * @type {Array<HTMLElement>}\n         */\n        _this.children_ = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = true;\n        return _this;\n    }\n    /**\n     * @param {import(\"../render/EventType.js\").default} type Event type.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CompositeMapRenderer.prototype.dispatchRenderEvent = function (type, frameState) {\n        var map = this.getMap();\n        if (map.hasListener(type)) {\n            var event_1 = new RenderEvent(type, undefined, frameState);\n            map.dispatchEvent(event_1);\n        }\n    };\n    CompositeMapRenderer.prototype.disposeInternal = function () {\n        unlistenByKey(this.fontChangeListenerKey_);\n        this.element_.parentNode.removeChild(this.element_);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Render.\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    CompositeMapRenderer.prototype.renderFrame = function (frameState) {\n        if (!frameState) {\n            if (this.renderedVisible_) {\n                this.element_.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        this.calculateMatrices2D(frameState);\n        this.dispatchRenderEvent(RenderEventType.PRECOMPOSE, frameState);\n        var layerStatesArray = frameState.layerStatesArray.sort(function (a, b) {\n            return a.zIndex - b.zIndex;\n        });\n        var viewState = frameState.viewState;\n        this.children_.length = 0;\n        /**\n         * @type {Array<import(\"../layer/BaseVector.js\").default>}\n         */\n        var declutterLayers = [];\n        var previousElement = null;\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layerState = layerStatesArray[i];\n            frameState.layerIndex = i;\n            var layer = layerState.layer;\n            var sourceState = layer.getSourceState();\n            if (!inView(layerState, viewState) ||\n                (sourceState != 'ready' && sourceState != 'undefined')) {\n                layer.unrender();\n                continue;\n            }\n            var element = layer.render(frameState, previousElement);\n            if (!element) {\n                continue;\n            }\n            if (element !== previousElement) {\n                this.children_.push(element);\n                previousElement = element;\n            }\n            if ('getDeclutter' in layer) {\n                declutterLayers.push(\n                /** @type {import(\"../layer/BaseVector.js\").default} */ (layer));\n            }\n        }\n        for (var i = declutterLayers.length - 1; i >= 0; --i) {\n            declutterLayers[i].renderDeclutter(frameState);\n        }\n        replaceChildren(this.element_, this.children_);\n        this.dispatchRenderEvent(RenderEventType.POSTCOMPOSE, frameState);\n        if (!this.renderedVisible_) {\n            this.element_.style.display = '';\n            this.renderedVisible_ = true;\n        }\n        this.scheduleExpireIconCache(frameState);\n    };\n    /**\n     * @param {import(\"../pixel.js\").Pixel} pixel Pixel.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState FrameState.\n     * @param {number} hitTolerance Hit tolerance in pixels.\n     * @param {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>, (Uint8ClampedArray|Uint8Array)): T} callback Layer\n     *     callback.\n     * @param {function(import(\"../layer/Layer.js\").default<import(\"../source/Source\").default>): boolean} layerFilter Layer filter\n     *     function, only layers which are visible and for which this function\n     *     returns `true` will be tested for features.  By default, all visible\n     *     layers will be tested.\n     * @return {T|undefined} Callback result.\n     * @template T\n     */\n    CompositeMapRenderer.prototype.forEachLayerAtPixel = function (pixel, frameState, hitTolerance, callback, layerFilter) {\n        var viewState = frameState.viewState;\n        var layerStates = frameState.layerStatesArray;\n        var numLayers = layerStates.length;\n        for (var i = numLayers - 1; i >= 0; --i) {\n            var layerState = layerStates[i];\n            var layer = layerState.layer;\n            if (layer.hasRenderer() &&\n                inView(layerState, viewState) &&\n                layerFilter(layer)) {\n                var layerRenderer = layer.getRenderer();\n                var data = layerRenderer.getDataAtPixel(pixel, frameState, hitTolerance);\n                if (data) {\n                    var result = callback(layer, data);\n                    if (result) {\n                        return result;\n                    }\n                }\n            }\n        }\n        return undefined;\n    };\n    return CompositeMapRenderer;\n}(MapRenderer));\nexport default CompositeMapRenderer;\n//# sourceMappingURL=Composite.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/MapEvent\n */\nimport Event from './events/Event.js';\n/**\n * @classdesc\n * Events emitted as map events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map event.\n */\nvar MapEvent = /** @class */ (function (_super) {\n    __extends(MapEvent, _super);\n    /**\n     * @param {string} type Event type.\n     * @param {import(\"./PluggableMap.js\").default} map Map.\n     * @param {?import(\"./PluggableMap.js\").FrameState} [opt_frameState] Frame state.\n     */\n    function MapEvent(type, map, opt_frameState) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The map where the event occurred.\n         * @type {import(\"./PluggableMap.js\").default}\n         * @api\n         */\n        _this.map = map;\n        /**\n         * The frame state at the time of the event.\n         * @type {?import(\"./PluggableMap.js\").FrameState}\n         * @api\n         */\n        _this.frameState = opt_frameState !== undefined ? opt_frameState : null;\n        return _this;\n    }\n    return MapEvent;\n}(Event));\nexport default MapEvent;\n//# sourceMappingURL=MapEvent.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/MapBrowserEvent\n */\nimport MapEvent from './MapEvent.js';\n/**\n * @classdesc\n * Events emitted as map browser events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map browser event.\n * @template {UIEvent} EVENT\n */\nvar MapBrowserEvent = /** @class */ (function (_super) {\n    __extends(MapBrowserEvent, _super);\n    /**\n     * @param {string} type Event type.\n     * @param {import(\"./PluggableMap.js\").default} map Map.\n     * @param {EVENT} originalEvent Original event.\n     * @param {boolean} [opt_dragging] Is the map currently being dragged?\n     * @param {import(\"./PluggableMap.js\").FrameState} [opt_frameState] Frame state.\n     * @param {Array<PointerEvent>} [opt_activePointers] Active pointers.\n     */\n    function MapBrowserEvent(type, map, originalEvent, opt_dragging, opt_frameState, opt_activePointers) {\n        var _this = _super.call(this, type, map, opt_frameState) || this;\n        /**\n         * The original browser event.\n         * @const\n         * @type {EVENT}\n         * @api\n         */\n        _this.originalEvent = originalEvent;\n        /**\n         * The map pixel relative to the viewport corresponding to the original browser event.\n         * @type {?import(\"./pixel.js\").Pixel}\n         */\n        _this.pixel_ = null;\n        /**\n         * The coordinate in the user projection corresponding to the original browser event.\n         * @type {?import(\"./coordinate.js\").Coordinate}\n         */\n        _this.coordinate_ = null;\n        /**\n         * Indicates if the map is currently being dragged. Only set for\n         * `POINTERDRAG` and `POINTERMOVE` events. Default is `false`.\n         *\n         * @type {boolean}\n         * @api\n         */\n        _this.dragging = opt_dragging !== undefined ? opt_dragging : false;\n        /**\n         * @type {Array<PointerEvent>|undefined}\n         */\n        _this.activePointers = opt_activePointers;\n        return _this;\n    }\n    Object.defineProperty(MapBrowserEvent.prototype, \"pixel\", {\n        /**\n         * The map pixel relative to the viewport corresponding to the original event.\n         * @type {import(\"./pixel.js\").Pixel}\n         * @api\n         */\n        get: function () {\n            if (!this.pixel_) {\n                this.pixel_ = this.map.getEventPixel(this.originalEvent);\n            }\n            return this.pixel_;\n        },\n        set: function (pixel) {\n            this.pixel_ = pixel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MapBrowserEvent.prototype, \"coordinate\", {\n        /**\n         * The coordinate corresponding to the original browser event.  This will be in the user\n         * projection if one is set.  Otherwise it will be in the view projection.\n         * @type {import(\"./coordinate.js\").Coordinate}\n         * @api\n         */\n        get: function () {\n            if (!this.coordinate_) {\n                this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel);\n            }\n            return this.coordinate_;\n        },\n        set: function (coordinate) {\n            this.coordinate_ = coordinate;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Prevents the default browser action.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.preventDefault.\n     * @api\n     */\n    MapBrowserEvent.prototype.preventDefault = function () {\n        _super.prototype.preventDefault.call(this);\n        if ('preventDefault' in this.originalEvent) {\n            /** @type {UIEvent} */ (this.originalEvent).preventDefault();\n        }\n    };\n    /**\n     * Prevents further propagation of the current event.\n     * See https://developer.mozilla.org/en-US/docs/Web/API/event.stopPropagation.\n     * @api\n     */\n    MapBrowserEvent.prototype.stopPropagation = function () {\n        _super.prototype.stopPropagation.call(this);\n        if ('stopPropagation' in this.originalEvent) {\n            /** @type {UIEvent} */ (this.originalEvent).stopPropagation();\n        }\n    };\n    return MapBrowserEvent;\n}(MapEvent));\nexport default MapBrowserEvent;\n//# sourceMappingURL=MapBrowserEvent.js.map","/**\n * @module ol/MapBrowserEventType\n */\nimport EventType from './events/EventType.js';\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n    /**\n     * A true single click with no dragging and no double click. Note that this\n     * event is delayed by 250 ms to ensure that it is not a double click.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n     * @api\n     */\n    SINGLECLICK: 'singleclick',\n    /**\n     * A click with no dragging. A double click will fire two of this.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n     * @api\n     */\n    CLICK: EventType.CLICK,\n    /**\n     * A true double click, with no dragging.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n     * @api\n     */\n    DBLCLICK: EventType.DBLCLICK,\n    /**\n     * Triggered when a pointer is dragged.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n     * @api\n     */\n    POINTERDRAG: 'pointerdrag',\n    /**\n     * Triggered when a pointer is moved. Note that on touch devices this is\n     * triggered when the map is panned, so is not the same as mousemove.\n     * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n     * @api\n     */\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel',\n};\n/***\n * @typedef {'singleclick'|'click'|'dblclick'|'pointerdrag'|'pointermove'} Types\n */\n//# sourceMappingURL=MapBrowserEventType.js.map","/**\n * @module ol/pointer/EventType\n */\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n    POINTERMOVE: 'pointermove',\n    POINTERDOWN: 'pointerdown',\n    POINTERUP: 'pointerup',\n    POINTEROVER: 'pointerover',\n    POINTEROUT: 'pointerout',\n    POINTERENTER: 'pointerenter',\n    POINTERLEAVE: 'pointerleave',\n    POINTERCANCEL: 'pointercancel',\n};\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/MapBrowserEventHandler\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport EventType from './events/EventType.js';\nimport MapBrowserEvent from './MapBrowserEvent.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport PointerEventType from './pointer/EventType.js';\nimport Target from './events/Target.js';\nimport { PASSIVE_EVENT_LISTENERS } from './has.js';\nimport { VOID } from './functions.js';\nimport { getValues } from './obj.js';\nimport { listen, unlistenByKey } from './events.js';\nvar MapBrowserEventHandler = /** @class */ (function (_super) {\n    __extends(MapBrowserEventHandler, _super);\n    /**\n     * @param {import(\"./PluggableMap.js\").default} map The map with the viewport to listen to events on.\n     * @param {number} [moveTolerance] The minimal distance the pointer must travel to trigger a move.\n     */\n    function MapBrowserEventHandler(map, moveTolerance) {\n        var _this = _super.call(this, map) || this;\n        /**\n         * This is the element that we will listen to the real events on.\n         * @type {import(\"./PluggableMap.js\").default}\n         * @private\n         */\n        _this.map_ = map;\n        /**\n         * @type {any}\n         * @private\n         */\n        _this.clickTimeoutId_;\n        /**\n         * Emulate dblclick and singleclick. Will be true when only one pointer is active.\n         * @type {boolean}\n         */\n        _this.emulateClicks_ = false;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.dragging_ = false;\n        /**\n         * @type {!Array<import(\"./events.js\").EventsKey>}\n         * @private\n         */\n        _this.dragListenerKeys_ = [];\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.moveTolerance_ = moveTolerance === undefined ? 1 : moveTolerance;\n        /**\n         * The most recent \"down\" type event (or null if none have occurred).\n         * Set on pointerdown.\n         * @type {PointerEvent|null}\n         * @private\n         */\n        _this.down_ = null;\n        var element = _this.map_.getViewport();\n        /**\n         * @type {Array<PointerEvent>}\n         * @private\n         */\n        _this.activePointers_ = [];\n        /**\n         * @type {!Object<number, Event>}\n         * @private\n         */\n        _this.trackedTouches_ = {};\n        _this.element_ = element;\n        /**\n         * @type {?import(\"./events.js\").EventsKey}\n         * @private\n         */\n        _this.pointerdownListenerKey_ = listen(element, PointerEventType.POINTERDOWN, _this.handlePointerDown_, _this);\n        /**\n         * @type {PointerEvent}\n         * @private\n         */\n        _this.originalPointerMoveEvent_;\n        /**\n         * @type {?import(\"./events.js\").EventsKey}\n         * @private\n         */\n        _this.relayedListenerKey_ = listen(element, PointerEventType.POINTERMOVE, _this.relayMoveEvent_, _this);\n        /**\n         * @private\n         */\n        _this.boundHandleTouchMove_ = _this.handleTouchMove_.bind(_this);\n        _this.element_.addEventListener(EventType.TOUCHMOVE, _this.boundHandleTouchMove_, PASSIVE_EVENT_LISTENERS ? { passive: false } : false);\n        return _this;\n    }\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.emulateClick_ = function (pointerEvent) {\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.CLICK, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n        if (this.clickTimeoutId_ !== undefined) {\n            // double-click\n            clearTimeout(this.clickTimeoutId_);\n            this.clickTimeoutId_ = undefined;\n            newEvent = new MapBrowserEvent(MapBrowserEventType.DBLCLICK, this.map_, pointerEvent);\n            this.dispatchEvent(newEvent);\n        }\n        else {\n            // click\n            this.clickTimeoutId_ = setTimeout(\n            /** @this {MapBrowserEventHandler} */\n            function () {\n                this.clickTimeoutId_ = undefined;\n                var newEvent = new MapBrowserEvent(MapBrowserEventType.SINGLECLICK, this.map_, pointerEvent);\n                this.dispatchEvent(newEvent);\n            }.bind(this), 250);\n        }\n    };\n    /**\n     * Keeps track on how many pointers are currently active.\n     *\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.updateActivePointers_ = function (pointerEvent) {\n        var event = pointerEvent;\n        var id = event.pointerId;\n        if (event.type == MapBrowserEventType.POINTERUP ||\n            event.type == MapBrowserEventType.POINTERCANCEL) {\n            delete this.trackedTouches_[id];\n            for (var pointerId in this.trackedTouches_) {\n                if (this.trackedTouches_[pointerId].target !== event.target) {\n                    // Some platforms assign a new pointerId when the target changes.\n                    // If this happens, delete one tracked pointer. If there is more\n                    // than one tracked pointer for the old target, it will be cleared\n                    // by subsequent POINTERUP events from other pointers.\n                    delete this.trackedTouches_[pointerId];\n                    break;\n                }\n            }\n        }\n        else if (event.type == MapBrowserEventType.POINTERDOWN ||\n            event.type == MapBrowserEventType.POINTERMOVE) {\n            this.trackedTouches_[id] = event;\n        }\n        this.activePointers_ = getValues(this.trackedTouches_);\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerUp_ = function (pointerEvent) {\n        this.updateActivePointers_(pointerEvent);\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERUP, this.map_, pointerEvent, undefined, undefined, this.activePointers_);\n        this.dispatchEvent(newEvent);\n        // We emulate click events on left mouse button click, touch contact, and pen\n        // contact. isMouseActionButton returns true in these cases (evt.button is set\n        // to 0).\n        // See http://www.w3.org/TR/pointerevents/#button-states\n        // We only fire click, singleclick, and doubleclick if nobody has called\n        // event.preventDefault().\n        if (this.emulateClicks_ &&\n            !newEvent.defaultPrevented &&\n            !this.dragging_ &&\n            this.isMouseActionButton_(pointerEvent)) {\n            this.emulateClick_(this.down_);\n        }\n        if (this.activePointers_.length === 0) {\n            this.dragListenerKeys_.forEach(unlistenByKey);\n            this.dragListenerKeys_.length = 0;\n            this.dragging_ = false;\n            this.down_ = null;\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @return {boolean} If the left mouse button was pressed.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMouseActionButton_ = function (pointerEvent) {\n        return pointerEvent.button === 0;\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerDown_ = function (pointerEvent) {\n        this.emulateClicks_ = this.activePointers_.length === 0;\n        this.updateActivePointers_(pointerEvent);\n        var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERDOWN, this.map_, pointerEvent, undefined, undefined, this.activePointers_);\n        this.dispatchEvent(newEvent);\n        // Store a copy of the down event\n        this.down_ = /** @type {PointerEvent} */ ({});\n        for (var property in pointerEvent) {\n            var value = pointerEvent[property];\n            this.down_[property] = typeof value === 'function' ? VOID : value;\n        }\n        if (this.dragListenerKeys_.length === 0) {\n            var doc = this.map_.getOwnerDocument();\n            this.dragListenerKeys_.push(listen(doc, MapBrowserEventType.POINTERMOVE, this.handlePointerMove_, this), listen(doc, MapBrowserEventType.POINTERUP, this.handlePointerUp_, this), \n            /* Note that the listener for `pointercancel is set up on\n             * `pointerEventHandler_` and not `documentPointerEventHandler_` like\n             * the `pointerup` and `pointermove` listeners.\n             *\n             * The reason for this is the following: `TouchSource.vacuumTouches_()`\n             * issues `pointercancel` events, when there was no `touchend` for a\n             * `touchstart`. Now, let's say a first `touchstart` is registered on\n             * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.\n             * But `documentPointerEventHandler_` doesn't know about the first\n             * `touchstart`. If there is no `touchend` for the `touchstart`, we can\n             * only receive a `touchcancel` from `pointerEventHandler_`, because it is\n             * only registered there.\n             */\n            listen(this.element_, MapBrowserEventType.POINTERCANCEL, this.handlePointerUp_, this));\n            if (this.element_.getRootNode && this.element_.getRootNode() !== doc) {\n                this.dragListenerKeys_.push(listen(this.element_.getRootNode(), MapBrowserEventType.POINTERUP, this.handlePointerUp_, this));\n            }\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handlePointerMove_ = function (pointerEvent) {\n        // Between pointerdown and pointerup, pointermove events are triggered.\n        // To avoid a 'false' touchmove event to be dispatched, we test if the pointer\n        // moved a significant distance.\n        if (this.isMoving_(pointerEvent)) {\n            this.updateActivePointers_(pointerEvent);\n            this.dragging_ = true;\n            var newEvent = new MapBrowserEvent(MapBrowserEventType.POINTERDRAG, this.map_, pointerEvent, this.dragging_, undefined, this.activePointers_);\n            this.dispatchEvent(newEvent);\n        }\n    };\n    /**\n     * Wrap and relay a pointermove event.\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.relayMoveEvent_ = function (pointerEvent) {\n        this.originalPointerMoveEvent_ = pointerEvent;\n        var dragging = !!(this.down_ && this.isMoving_(pointerEvent));\n        this.dispatchEvent(new MapBrowserEvent(MapBrowserEventType.POINTERMOVE, this.map_, pointerEvent, dragging));\n    };\n    /**\n     * Flexible handling of a `touch-action: none` css equivalent: because calling\n     * `preventDefault()` on a `pointermove` event does not stop native page scrolling\n     * and zooming, we also listen for `touchmove` and call `preventDefault()` on it\n     * when an interaction (currently `DragPan` handles the event.\n     * @param {TouchEvent} event Event.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.handleTouchMove_ = function (event) {\n        // Due to https://github.com/mpizenberg/elm-pep/issues/2, `this.originalPointerMoveEvent_`\n        // may not be initialized yet when we get here on a platform without native pointer events.\n        var originalEvent = this.originalPointerMoveEvent_;\n        if ((!originalEvent || originalEvent.defaultPrevented) &&\n            (typeof event.cancelable !== 'boolean' || event.cancelable === true)) {\n            event.preventDefault();\n        }\n    };\n    /**\n     * @param {PointerEvent} pointerEvent Pointer\n     * event.\n     * @return {boolean} Is moving.\n     * @private\n     */\n    MapBrowserEventHandler.prototype.isMoving_ = function (pointerEvent) {\n        return (this.dragging_ ||\n            Math.abs(pointerEvent.clientX - this.down_.clientX) >\n                this.moveTolerance_ ||\n            Math.abs(pointerEvent.clientY - this.down_.clientY) > this.moveTolerance_);\n    };\n    /**\n     * Clean up.\n     */\n    MapBrowserEventHandler.prototype.disposeInternal = function () {\n        if (this.relayedListenerKey_) {\n            unlistenByKey(this.relayedListenerKey_);\n            this.relayedListenerKey_ = null;\n        }\n        this.element_.removeEventListener(EventType.TOUCHMOVE, this.boundHandleTouchMove_);\n        if (this.pointerdownListenerKey_) {\n            unlistenByKey(this.pointerdownListenerKey_);\n            this.pointerdownListenerKey_ = null;\n        }\n        this.dragListenerKeys_.forEach(unlistenByKey);\n        this.dragListenerKeys_.length = 0;\n        this.element_ = null;\n        _super.prototype.disposeInternal.call(this);\n    };\n    return MapBrowserEventHandler;\n}(Target));\nexport default MapBrowserEventHandler;\n//# sourceMappingURL=MapBrowserEventHandler.js.map","/**\n * @module ol/MapProperty\n */\n/**\n * @enum {string}\n */\nexport default {\n    LAYERGROUP: 'layergroup',\n    SIZE: 'size',\n    TARGET: 'target',\n    VIEW: 'view',\n};\n//# sourceMappingURL=MapProperty.js.map","/**\n * @module ol/structs/PriorityQueue\n */\nimport { assert } from '../asserts.js';\nimport { clear } from '../obj.js';\n/**\n * @type {number}\n */\nexport var DROP = Infinity;\n/**\n * @classdesc\n * Priority queue.\n *\n * The implementation is inspired from the Closure Library's Heap class and\n * Python's heapq module.\n *\n * See https://github.com/google/closure-library/blob/master/closure/goog/structs/heap.js\n * and https://hg.python.org/cpython/file/2.7/Lib/heapq.py.\n *\n * @template T\n */\nvar PriorityQueue = /** @class */ (function () {\n    /**\n     * @param {function(T): number} priorityFunction Priority function.\n     * @param {function(T): string} keyFunction Key function.\n     */\n    function PriorityQueue(priorityFunction, keyFunction) {\n        /**\n         * @type {function(T): number}\n         * @private\n         */\n        this.priorityFunction_ = priorityFunction;\n        /**\n         * @type {function(T): string}\n         * @private\n         */\n        this.keyFunction_ = keyFunction;\n        /**\n         * @type {Array<T>}\n         * @private\n         */\n        this.elements_ = [];\n        /**\n         * @type {Array<number>}\n         * @private\n         */\n        this.priorities_ = [];\n        /**\n         * @type {!Object<string, boolean>}\n         * @private\n         */\n        this.queuedElements_ = {};\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.clear = function () {\n        this.elements_.length = 0;\n        this.priorities_.length = 0;\n        clear(this.queuedElements_);\n    };\n    /**\n     * Remove and return the highest-priority element. O(log N).\n     * @return {T} Element.\n     */\n    PriorityQueue.prototype.dequeue = function () {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[0];\n        if (elements.length == 1) {\n            elements.length = 0;\n            priorities.length = 0;\n        }\n        else {\n            elements[0] = elements.pop();\n            priorities[0] = priorities.pop();\n            this.siftUp_(0);\n        }\n        var elementKey = this.keyFunction_(element);\n        delete this.queuedElements_[elementKey];\n        return element;\n    };\n    /**\n     * Enqueue an element. O(log N).\n     * @param {T} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    PriorityQueue.prototype.enqueue = function (element) {\n        assert(!(this.keyFunction_(element) in this.queuedElements_), 31); // Tried to enqueue an `element` that was already added to the queue\n        var priority = this.priorityFunction_(element);\n        if (priority != DROP) {\n            this.elements_.push(element);\n            this.priorities_.push(priority);\n            this.queuedElements_[this.keyFunction_(element)] = true;\n            this.siftDown_(0, this.elements_.length - 1);\n            return true;\n        }\n        return false;\n    };\n    /**\n     * @return {number} Count.\n     */\n    PriorityQueue.prototype.getCount = function () {\n        return this.elements_.length;\n    };\n    /**\n     * Gets the index of the left child of the node at the given index.\n     * @param {number} index The index of the node to get the left child for.\n     * @return {number} The index of the left child.\n     * @private\n     */\n    PriorityQueue.prototype.getLeftChildIndex_ = function (index) {\n        return index * 2 + 1;\n    };\n    /**\n     * Gets the index of the right child of the node at the given index.\n     * @param {number} index The index of the node to get the right child for.\n     * @return {number} The index of the right child.\n     * @private\n     */\n    PriorityQueue.prototype.getRightChildIndex_ = function (index) {\n        return index * 2 + 2;\n    };\n    /**\n     * Gets the index of the parent of the node at the given index.\n     * @param {number} index The index of the node to get the parent for.\n     * @return {number} The index of the parent.\n     * @private\n     */\n    PriorityQueue.prototype.getParentIndex_ = function (index) {\n        return (index - 1) >> 1;\n    };\n    /**\n     * Make this a heap. O(N).\n     * @private\n     */\n    PriorityQueue.prototype.heapify_ = function () {\n        var i;\n        for (i = (this.elements_.length >> 1) - 1; i >= 0; i--) {\n            this.siftUp_(i);\n        }\n    };\n    /**\n     * @return {boolean} Is empty.\n     */\n    PriorityQueue.prototype.isEmpty = function () {\n        return this.elements_.length === 0;\n    };\n    /**\n     * @param {string} key Key.\n     * @return {boolean} Is key queued.\n     */\n    PriorityQueue.prototype.isKeyQueued = function (key) {\n        return key in this.queuedElements_;\n    };\n    /**\n     * @param {T} element Element.\n     * @return {boolean} Is queued.\n     */\n    PriorityQueue.prototype.isQueued = function (element) {\n        return this.isKeyQueued(this.keyFunction_(element));\n    };\n    /**\n     * @param {number} index The index of the node to move down.\n     * @private\n     */\n    PriorityQueue.prototype.siftUp_ = function (index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var count = elements.length;\n        var element = elements[index];\n        var priority = priorities[index];\n        var startIndex = index;\n        while (index < count >> 1) {\n            var lIndex = this.getLeftChildIndex_(index);\n            var rIndex = this.getRightChildIndex_(index);\n            var smallerChildIndex = rIndex < count && priorities[rIndex] < priorities[lIndex]\n                ? rIndex\n                : lIndex;\n            elements[index] = elements[smallerChildIndex];\n            priorities[index] = priorities[smallerChildIndex];\n            index = smallerChildIndex;\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n        this.siftDown_(startIndex, index);\n    };\n    /**\n     * @param {number} startIndex The index of the root.\n     * @param {number} index The index of the node to move up.\n     * @private\n     */\n    PriorityQueue.prototype.siftDown_ = function (startIndex, index) {\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var element = elements[index];\n        var priority = priorities[index];\n        while (index > startIndex) {\n            var parentIndex = this.getParentIndex_(index);\n            if (priorities[parentIndex] > priority) {\n                elements[index] = elements[parentIndex];\n                priorities[index] = priorities[parentIndex];\n                index = parentIndex;\n            }\n            else {\n                break;\n            }\n        }\n        elements[index] = element;\n        priorities[index] = priority;\n    };\n    /**\n     * FIXME empty description for jsdoc\n     */\n    PriorityQueue.prototype.reprioritize = function () {\n        var priorityFunction = this.priorityFunction_;\n        var elements = this.elements_;\n        var priorities = this.priorities_;\n        var index = 0;\n        var n = elements.length;\n        var element, i, priority;\n        for (i = 0; i < n; ++i) {\n            element = elements[i];\n            priority = priorityFunction(element);\n            if (priority == DROP) {\n                delete this.queuedElements_[this.keyFunction_(element)];\n            }\n            else {\n                priorities[index] = priority;\n                elements[index++] = element;\n            }\n        }\n        elements.length = index;\n        priorities.length = index;\n        this.heapify_();\n    };\n    return PriorityQueue;\n}());\nexport default PriorityQueue;\n//# sourceMappingURL=PriorityQueue.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/TileQueue\n */\nimport EventType from './events/EventType.js';\nimport PriorityQueue, { DROP } from './structs/PriorityQueue.js';\nimport TileState from './TileState.js';\n/**\n * @typedef {function(import(\"./Tile.js\").default, string, import(\"./coordinate.js\").Coordinate, number): number} PriorityFunction\n */\nvar TileQueue = /** @class */ (function (_super) {\n    __extends(TileQueue, _super);\n    /**\n     * @param {PriorityFunction} tilePriorityFunction Tile priority function.\n     * @param {function(): ?} tileChangeCallback Function called on each tile change event.\n     */\n    function TileQueue(tilePriorityFunction, tileChangeCallback) {\n        var _this = _super.call(this, \n        /**\n         * @param {Array} element Element.\n         * @return {number} Priority.\n         */\n        function (element) {\n            return tilePriorityFunction.apply(null, element);\n        }, \n        /**\n         * @param {Array} element Element.\n         * @return {string} Key.\n         */\n        function (element) {\n            return /** @type {import(\"./Tile.js\").default} */ (element[0]).getKey();\n        }) || this;\n        /** @private */\n        _this.boundHandleTileChange_ = _this.handleTileChange.bind(_this);\n        /**\n         * @private\n         * @type {function(): ?}\n         */\n        _this.tileChangeCallback_ = tileChangeCallback;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.tilesLoading_ = 0;\n        /**\n         * @private\n         * @type {!Object<string,boolean>}\n         */\n        _this.tilesLoadingKeys_ = {};\n        return _this;\n    }\n    /**\n     * @param {Array} element Element.\n     * @return {boolean} The element was added to the queue.\n     */\n    TileQueue.prototype.enqueue = function (element) {\n        var added = _super.prototype.enqueue.call(this, element);\n        if (added) {\n            var tile = element[0];\n            tile.addEventListener(EventType.CHANGE, this.boundHandleTileChange_);\n        }\n        return added;\n    };\n    /**\n     * @return {number} Number of tiles loading.\n     */\n    TileQueue.prototype.getTilesLoading = function () {\n        return this.tilesLoading_;\n    };\n    /**\n     * @param {import(\"./events/Event.js\").default} event Event.\n     * @protected\n     */\n    TileQueue.prototype.handleTileChange = function (event) {\n        var tile = /** @type {import(\"./Tile.js\").default} */ (event.target);\n        var state = tile.getState();\n        if (state === TileState.LOADED ||\n            state === TileState.ERROR ||\n            state === TileState.EMPTY) {\n            tile.removeEventListener(EventType.CHANGE, this.boundHandleTileChange_);\n            var tileKey = tile.getKey();\n            if (tileKey in this.tilesLoadingKeys_) {\n                delete this.tilesLoadingKeys_[tileKey];\n                --this.tilesLoading_;\n            }\n            this.tileChangeCallback_();\n        }\n    };\n    /**\n     * @param {number} maxTotalLoading Maximum number tiles to load simultaneously.\n     * @param {number} maxNewLoads Maximum number of new tiles to load.\n     */\n    TileQueue.prototype.loadMoreTiles = function (maxTotalLoading, maxNewLoads) {\n        var newLoads = 0;\n        var state, tile, tileKey;\n        while (this.tilesLoading_ < maxTotalLoading &&\n            newLoads < maxNewLoads &&\n            this.getCount() > 0) {\n            tile = /** @type {import(\"./Tile.js\").default} */ (this.dequeue()[0]);\n            tileKey = tile.getKey();\n            state = tile.getState();\n            if (state === TileState.IDLE && !(tileKey in this.tilesLoadingKeys_)) {\n                this.tilesLoadingKeys_[tileKey] = true;\n                ++this.tilesLoading_;\n                ++newLoads;\n                tile.load();\n            }\n        }\n    };\n    return TileQueue;\n}(PriorityQueue));\nexport default TileQueue;\n/**\n * @param {import('./PluggableMap.js').FrameState} frameState Frame state.\n * @param {import(\"./Tile.js\").default} tile Tile.\n * @param {string} tileSourceKey Tile source key.\n * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n * @param {number} tileResolution Tile resolution.\n * @return {number} Tile priority.\n */\nexport function getTilePriority(frameState, tile, tileSourceKey, tileCenter, tileResolution) {\n    // Filter out tiles at higher zoom levels than the current zoom level, or that\n    // are outside the visible extent.\n    if (!frameState || !(tileSourceKey in frameState.wantedTiles)) {\n        return DROP;\n    }\n    if (!frameState.wantedTiles[tileSourceKey][tile.getKey()]) {\n        return DROP;\n    }\n    // Prioritize the highest zoom level tiles closest to the focus.\n    // Tiles at higher zoom levels are prioritized using Math.log(tileResolution).\n    // Within a zoom level, tiles are prioritized by the distance in pixels between\n    // the center of the tile and the center of the viewport.  The factor of 65536\n    // means that the prioritization should behave as desired for tiles up to\n    // 65536 * Math.log(2) = 45426 pixels from the focus.\n    var center = frameState.viewState.center;\n    var deltaX = tileCenter[0] - center[0];\n    var deltaY = tileCenter[1] - center[1];\n    return (65536 * Math.log(tileResolution) +\n        Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution);\n}\n//# sourceMappingURL=TileQueue.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/PluggableMap\n */\nimport BaseObject from './Object.js';\nimport Collection from './Collection.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport EventType from './events/EventType.js';\nimport Layer from './layer/Layer.js';\nimport LayerGroup, { GroupEvent } from './layer/Group.js';\nimport MapBrowserEvent from './MapBrowserEvent.js';\nimport MapBrowserEventHandler from './MapBrowserEventHandler.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport MapEvent from './MapEvent.js';\nimport MapEventType from './MapEventType.js';\nimport MapProperty from './MapProperty.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport PointerEventType from './pointer/EventType.js';\nimport RenderEventType from './render/EventType.js';\nimport TileQueue, { getTilePriority } from './TileQueue.js';\nimport View from './View.js';\nimport ViewHint from './ViewHint.js';\nimport { DEVICE_PIXEL_RATIO, PASSIVE_EVENT_LISTENERS } from './has.js';\nimport { TRUE } from './functions.js';\nimport { apply as applyTransform, create as createTransform, } from './transform.js';\nimport { assert } from './asserts.js';\nimport { clone, createOrUpdateEmpty, equals, getForViewAndSize, isEmpty, } from './extent.js';\nimport { fromUserCoordinate, toUserCoordinate } from './proj.js';\nimport { getUid } from './util.js';\nimport { hasArea } from './size.js';\nimport { listen, unlistenByKey } from './events.js';\nimport { removeNode } from './dom.js';\n/**\n * State of the current frame. Only `pixelRatio`, `time` and `viewState` should\n * be used in applications.\n * @typedef {Object} FrameState\n * @property {number} pixelRatio The pixel ratio of the frame.\n * @property {number} time The time when rendering of the frame was requested.\n * @property {import(\"./View.js\").State} viewState The state of the current view.\n * @property {boolean} animate Animate.\n * @property {import(\"./transform.js\").Transform} coordinateToPixelTransform CoordinateToPixelTransform.\n * @property {import(\"rbush\").default} declutterTree DeclutterTree.\n * @property {null|import(\"./extent.js\").Extent} extent Extent.\n * @property {import(\"./extent.js\").Extent} [nextExtent] Next extent during an animation series.\n * @property {number} index Index.\n * @property {Array<import(\"./layer/Layer.js\").State>} layerStatesArray LayerStatesArray.\n * @property {number} layerIndex LayerIndex.\n * @property {import(\"./transform.js\").Transform} pixelToCoordinateTransform PixelToCoordinateTransform.\n * @property {Array<PostRenderFunction>} postRenderFunctions PostRenderFunctions.\n * @property {import(\"./size.js\").Size} size Size.\n * @property {TileQueue} tileQueue TileQueue.\n * @property {!Object<string, Object<string, boolean>>} usedTiles UsedTiles.\n * @property {Array<number>} viewHints ViewHints.\n * @property {!Object<string, Object<string, boolean>>} wantedTiles WantedTiles.\n * @property {string} mapId The id of the map.\n * @property {Object<string, boolean>} renderTargets Identifiers of previously rendered elements.\n */\n/**\n * @typedef {function(PluggableMap, ?FrameState): any} PostRenderFunction\n */\n/**\n * @typedef {Object} AtPixelOptions\n * @property {undefined|function(import(\"./layer/Layer.js\").default<import(\"./source/Source\").default>): boolean} [layerFilter] Layer filter\n * function. The filter function will receive one argument, the\n * {@link module:ol/layer/Layer~Layer layer-candidate} and it should return a boolean value.\n * Only layers which are visible and for which this function returns `true`\n * will be tested for features. By default, all visible layers will be tested.\n * @property {number} [hitTolerance=0] Hit-detection tolerance in css pixels. Pixels\n * inside the radius around the given position will be checked for features.\n * @property {boolean} [checkWrapped=true] Check-Wrapped Will check for for wrapped geometries inside the range of\n *   +/- 1 world width. Works only if a projection is used that can be wrapped.\n */\n/**\n * @typedef {Object} MapOptionsInternal\n * @property {Collection<import(\"./control/Control.js\").default>} [controls] Controls.\n * @property {Collection<import(\"./interaction/Interaction.js\").default>} [interactions] Interactions.\n * @property {HTMLElement|Document} keyboardEventTarget KeyboardEventTarget.\n * @property {Collection<import(\"./Overlay.js\").default>} overlays Overlays.\n * @property {Object<string, *>} values Values.\n */\n/**\n * @typedef {import(\"./ObjectEventType\").Types|'change:layergroup'|'change:size'|'change:target'|'change:view'} MapObjectEventTypes\n */\n/***\n * @template Return\n * @typedef {import(\"./Observable\").OnSignature<import(\"./Observable\").EventTypes, import(\"./events/Event.js\").default, Return> &\n *    import(\"./Observable\").OnSignature<MapObjectEventTypes, import(\"./Object\").ObjectEvent, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./MapBrowserEventType\").Types, import(\"./MapBrowserEvent\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./MapEventType\").Types, import(\"./MapEvent\").default, Return> &\n *    import(\"./Observable\").OnSignature<import(\"./render/EventType\").MapRenderEventTypes, import(\"./render/Event\").default, Return> &\n *    import(\"./Observable\").CombinedOnSignature<import(\"./Observable\").EventTypes|MapObjectEventTypes|\n *      import(\"./MapBrowserEventType\").Types|import(\"./MapEventType\").Types|\n *      import(\"./render/EventType\").MapRenderEventTypes, Return>} PluggableMapOnSignature\n */\n/**\n * Object literal with config options for the map.\n * @typedef {Object} MapOptions\n * @property {Collection<import(\"./control/Control.js\").default>|Array<import(\"./control/Control.js\").default>} [controls]\n * Controls initially added to the map. If not specified,\n * {@link module:ol/control.defaults} is used.\n * @property {number} [pixelRatio=window.devicePixelRatio] The ratio between\n * physical pixels and device-independent pixels (dips) on the device.\n * @property {Collection<import(\"./interaction/Interaction.js\").default>|Array<import(\"./interaction/Interaction.js\").default>} [interactions]\n * Interactions that are initially added to the map. If not specified,\n * {@link module:ol/interaction.defaults} is used.\n * @property {HTMLElement|Document|string} [keyboardEventTarget] The element to\n * listen to keyboard events on. This determines when the `KeyboardPan` and\n * `KeyboardZoom` interactions trigger. For example, if this option is set to\n * `document` the keyboard interactions will always trigger. If this option is\n * not specified, the element the library listens to keyboard events on is the\n * map target (i.e. the user-provided div for the map). If this is not\n * `document`, the target element needs to be focused for key events to be\n * emitted, requiring that the target element has a `tabindex` attribute.\n * @property {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>|LayerGroup} [layers]\n * Layers. If this is not defined, a map with no layers will be rendered. Note\n * that layers are rendered in the order supplied, so if you want, for example,\n * a vector layer to appear on top of a tile layer, it must come after the tile\n * layer.\n * @property {number} [maxTilesLoading=16] Maximum number tiles to load\n * simultaneously.\n * @property {number} [moveTolerance=1] The minimum distance in pixels the\n * cursor must move to be detected as a map move event instead of a click.\n * Increasing this value can make it easier to click on the map.\n * @property {Collection<import(\"./Overlay.js\").default>|Array<import(\"./Overlay.js\").default>} [overlays]\n * Overlays initially added to the map. By default, no overlays are added.\n * @property {HTMLElement|string} [target] The container for the map, either the\n * element itself or the `id` of the element. If not specified at construction\n * time, {@link module:ol/Map~Map#setTarget} must be called for the map to be\n * rendered. If passed by element, the container can be in a secondary document.\n * @property {View|Promise<import(\"./View.js\").ViewOptions>} [view] The map's view.  No layer sources will be\n * fetched unless this is specified at construction time or through\n * {@link module:ol/Map~Map#setView}.\n */\n/**\n * @param {import(\"./layer/Base.js\").default} layer Layer.\n */\nfunction removeLayerMapProperty(layer) {\n    if (layer instanceof Layer) {\n        layer.setMapInternal(null);\n        return;\n    }\n    if (layer instanceof LayerGroup) {\n        layer.getLayers().forEach(removeLayerMapProperty);\n    }\n}\n/**\n * @param {import(\"./layer/Base.js\").default} layer Layer.\n * @param {PluggableMap} map Map.\n */\nfunction setLayerMapProperty(layer, map) {\n    if (layer instanceof Layer) {\n        layer.setMapInternal(map);\n        return;\n    }\n    if (layer instanceof LayerGroup) {\n        var layers = layer.getLayers().getArray();\n        for (var i = 0, ii = layers.length; i < ii; ++i) {\n            setLayerMapProperty(layers[i], map);\n        }\n    }\n}\n/**\n * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n * @fires import(\"./MapEvent.js\").MapEvent\n * @fires import(\"./render/Event.js\").default#precompose\n * @fires import(\"./render/Event.js\").default#postcompose\n * @fires import(\"./render/Event.js\").default#rendercomplete\n * @api\n */\nvar PluggableMap = /** @class */ (function (_super) {\n    __extends(PluggableMap, _super);\n    /**\n     * @param {MapOptions} options Map options.\n     */\n    function PluggableMap(options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {PluggableMapOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {PluggableMapOnSignature<import(\"./events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {PluggableMapOnSignature<void>}\n         */\n        _this.un;\n        var optionsInternal = createOptionsInternal(options);\n        /**\n         * @private\n         * @type {boolean|undefined}\n         */\n        _this.renderComplete_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.loaded_ = true;\n        /** @private */\n        _this.boundHandleBrowserEvent_ = _this.handleBrowserEvent.bind(_this);\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.maxTilesLoading_ =\n            options.maxTilesLoading !== undefined ? options.maxTilesLoading : 16;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelRatio_ =\n            options.pixelRatio !== undefined\n                ? options.pixelRatio\n                : DEVICE_PIXEL_RATIO;\n        /**\n         * @private\n         * @type {*}\n         */\n        _this.postRenderTimeoutHandle_;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.animationDelayKey_;\n        /**\n         * @private\n         */\n        _this.animationDelay_ = /** @this {PluggableMap} */ function () {\n            this.animationDelayKey_ = undefined;\n            this.renderFrame_(Date.now());\n        }.bind(_this);\n        /**\n         * @private\n         * @type {import(\"./transform.js\").Transform}\n         */\n        _this.coordinateToPixelTransform_ = createTransform();\n        /**\n         * @private\n         * @type {import(\"./transform.js\").Transform}\n         */\n        _this.pixelToCoordinateTransform_ = createTransform();\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.frameIndex_ = 0;\n        /**\n         * @private\n         * @type {?FrameState}\n         */\n        _this.frameState_ = null;\n        /**\n         * The extent at the previous 'moveend' event.\n         * @private\n         * @type {import(\"./extent.js\").Extent}\n         */\n        _this.previousExtent_ = null;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.viewPropertyListenerKey_ = null;\n        /**\n         * @private\n         * @type {?import(\"./events.js\").EventsKey}\n         */\n        _this.viewChangeListenerKey_ = null;\n        /**\n         * @private\n         * @type {?Array<import(\"./events.js\").EventsKey>}\n         */\n        _this.layerGroupPropertyListenerKeys_ = null;\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.viewport_ = document.createElement('div');\n        _this.viewport_.className =\n            'ol-viewport' + ('ontouchstart' in window ? ' ol-touch' : '');\n        _this.viewport_.style.position = 'relative';\n        _this.viewport_.style.overflow = 'hidden';\n        _this.viewport_.style.width = '100%';\n        _this.viewport_.style.height = '100%';\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.overlayContainer_ = document.createElement('div');\n        _this.overlayContainer_.style.position = 'absolute';\n        _this.overlayContainer_.style.zIndex = '0';\n        _this.overlayContainer_.style.width = '100%';\n        _this.overlayContainer_.style.height = '100%';\n        _this.overlayContainer_.style.pointerEvents = 'none';\n        _this.overlayContainer_.className = 'ol-overlaycontainer';\n        _this.viewport_.appendChild(_this.overlayContainer_);\n        /**\n         * @private\n         * @type {!HTMLElement}\n         */\n        _this.overlayContainerStopEvent_ = document.createElement('div');\n        _this.overlayContainerStopEvent_.style.position = 'absolute';\n        _this.overlayContainerStopEvent_.style.zIndex = '0';\n        _this.overlayContainerStopEvent_.style.width = '100%';\n        _this.overlayContainerStopEvent_.style.height = '100%';\n        _this.overlayContainerStopEvent_.style.pointerEvents = 'none';\n        _this.overlayContainerStopEvent_.className = 'ol-overlaycontainer-stopevent';\n        _this.viewport_.appendChild(_this.overlayContainerStopEvent_);\n        /**\n         * @private\n         * @type {MapBrowserEventHandler}\n         */\n        _this.mapBrowserEventHandler_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.moveTolerance_ = options.moveTolerance;\n        /**\n         * @private\n         * @type {HTMLElement|Document}\n         */\n        _this.keyboardEventTarget_ = optionsInternal.keyboardEventTarget;\n        /**\n         * @private\n         * @type {?Array<import(\"./events.js\").EventsKey>}\n         */\n        _this.targetChangeHandlerKeys_ = null;\n        /**\n         * @type {Collection<import(\"./control/Control.js\").default>}\n         * @protected\n         */\n        _this.controls = optionsInternal.controls || new Collection();\n        /**\n         * @type {Collection<import(\"./interaction/Interaction.js\").default>}\n         * @protected\n         */\n        _this.interactions = optionsInternal.interactions || new Collection();\n        /**\n         * @type {Collection<import(\"./Overlay.js\").default>}\n         * @private\n         */\n        _this.overlays_ = optionsInternal.overlays;\n        /**\n         * A lookup of overlays by id.\n         * @private\n         * @type {Object<string, import(\"./Overlay.js\").default>}\n         */\n        _this.overlayIdIndex_ = {};\n        /**\n         * @type {import(\"./renderer/Map.js\").default|null}\n         * @private\n         */\n        _this.renderer_ = null;\n        /**\n         * @private\n         * @type {!Array<PostRenderFunction>}\n         */\n        _this.postRenderFunctions_ = [];\n        /**\n         * @private\n         * @type {TileQueue}\n         */\n        _this.tileQueue_ = new TileQueue(_this.getTilePriority.bind(_this), _this.handleTileChange_.bind(_this));\n        _this.addChangeListener(MapProperty.LAYERGROUP, _this.handleLayerGroupChanged_);\n        _this.addChangeListener(MapProperty.VIEW, _this.handleViewChanged_);\n        _this.addChangeListener(MapProperty.SIZE, _this.handleSizeChanged_);\n        _this.addChangeListener(MapProperty.TARGET, _this.handleTargetChanged_);\n        // setProperties will trigger the rendering of the map if the map\n        // is \"defined\" already.\n        _this.setProperties(optionsInternal.values);\n        var map = _this;\n        if (options.view && !(options.view instanceof View)) {\n            options.view.then(function (viewOptions) {\n                map.setView(new View(viewOptions));\n            });\n        }\n        _this.controls.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(this);\n        }.bind(_this));\n        _this.controls.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(null);\n        }.bind(_this));\n        _this.interactions.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(this);\n        }.bind(_this));\n        _this.interactions.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            event.element.setMap(null);\n        }.bind(_this));\n        _this.overlays_.addEventListener(CollectionEventType.ADD, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            this.addOverlayInternal_(\n            /** @type {import(\"./Overlay.js\").default} */ (event.element));\n        }.bind(_this));\n        _this.overlays_.addEventListener(CollectionEventType.REMOVE, \n        /**\n         * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n         */\n        function (event) {\n            var overlay = /** @type {import(\"./Overlay.js\").default} */ (event.element);\n            var id = overlay.getId();\n            if (id !== undefined) {\n                delete this.overlayIdIndex_[id.toString()];\n            }\n            event.element.setMap(null);\n        }.bind(_this));\n        _this.controls.forEach(\n        /**\n         * @param {import(\"./control/Control.js\").default} control Control.\n         * @this {PluggableMap}\n         */\n        function (control) {\n            control.setMap(this);\n        }.bind(_this));\n        _this.interactions.forEach(\n        /**\n         * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction.\n         * @this {PluggableMap}\n         */\n        function (interaction) {\n            interaction.setMap(this);\n        }.bind(_this));\n        _this.overlays_.forEach(_this.addOverlayInternal_.bind(_this));\n        return _this;\n    }\n    /**\n     * @abstract\n     * @return {import(\"./renderer/Map.js\").default} The map renderer\n     */\n    PluggableMap.prototype.createRenderer = function () {\n        throw new Error('Use a map type that has a createRenderer method');\n    };\n    /**\n     * Add the given control to the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @api\n     */\n    PluggableMap.prototype.addControl = function (control) {\n        this.getControls().push(control);\n    };\n    /**\n     * Add the given interaction to the map. If you want to add an interaction\n     * at another point of the collection use `getInteractions()` and the methods\n     * available on {@link module:ol/Collection~Collection}. This can be used to\n     * stop the event propagation from the handleEvent function. The interactions\n     * get to handle the events in the reverse order of this collection.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to add.\n     * @api\n     */\n    PluggableMap.prototype.addInteraction = function (interaction) {\n        this.getInteractions().push(interaction);\n    };\n    /**\n     * Adds the given layer to the top of this map. If you want to add a layer\n     * elsewhere in the stack, use `getLayers()` and the methods available on\n     * {@link module:ol/Collection~Collection}.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @api\n     */\n    PluggableMap.prototype.addLayer = function (layer) {\n        var layers = this.getLayerGroup().getLayers();\n        layers.push(layer);\n    };\n    /**\n     * @param {import(\"./layer/Group.js\").GroupEvent} event The layer add event.\n     * @private\n     */\n    PluggableMap.prototype.handleLayerAdd_ = function (event) {\n        setLayerMapProperty(event.layer, this);\n    };\n    /**\n     * Add the given overlay to the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @api\n     */\n    PluggableMap.prototype.addOverlay = function (overlay) {\n        this.getOverlays().push(overlay);\n    };\n    /**\n     * This deals with map's overlay collection changes.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @private\n     */\n    PluggableMap.prototype.addOverlayInternal_ = function (overlay) {\n        var id = overlay.getId();\n        if (id !== undefined) {\n            this.overlayIdIndex_[id.toString()] = overlay;\n        }\n        overlay.setMap(this);\n    };\n    /**\n     *\n     * Clean up.\n     */\n    PluggableMap.prototype.disposeInternal = function () {\n        this.controls.clear();\n        this.interactions.clear();\n        this.overlays_.clear();\n        this.setTarget(null);\n        _super.prototype.disposeInternal.call(this);\n    };\n    /**\n     * Detect features that intersect a pixel on the viewport, and execute a\n     * callback with each intersecting feature. Layers included in the detection can\n     * be configured through the `layerFilter` option in `opt_options`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(import(\"./Feature.js\").FeatureLike, import(\"./layer/Layer.js\").default<import(\"./source/Source\").default>, import(\"./geom/SimpleGeometry.js\").default): T} callback Feature callback. The callback will be\n     *     called with two arguments. The first argument is one\n     *     {@link module:ol/Feature~Feature feature} or\n     *     {@link module:ol/render/Feature~RenderFeature render feature} at the pixel, the second is\n     *     the {@link module:ol/layer/Layer~Layer layer} of the feature and will be null for\n     *     unmanaged layers. To stop detection, callback functions can return a\n     *     truthy value.\n     * @param {AtPixelOptions} [opt_options] Optional options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template T\n     * @api\n     */\n    PluggableMap.prototype.forEachFeatureAtPixel = function (pixel, callback, opt_options) {\n        if (!this.frameState_ || !this.renderer_) {\n            return;\n        }\n        var coordinate = this.getCoordinateFromPixelInternal(pixel);\n        opt_options = opt_options !== undefined ? opt_options : {};\n        var hitTolerance = opt_options.hitTolerance !== undefined ? opt_options.hitTolerance : 0;\n        var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n        var checkWrapped = opt_options.checkWrapped !== false;\n        return this.renderer_.forEachFeatureAtCoordinate(coordinate, this.frameState_, hitTolerance, checkWrapped, callback, null, layerFilter, null);\n    };\n    /**\n     * Get all features that intersect a pixel on the viewport.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions} [opt_options] Optional options.\n     * @return {Array<import(\"./Feature.js\").FeatureLike>} The detected features or\n     * an empty array if none were found.\n     * @api\n     */\n    PluggableMap.prototype.getFeaturesAtPixel = function (pixel, opt_options) {\n        var features = [];\n        this.forEachFeatureAtPixel(pixel, function (feature) {\n            features.push(feature);\n        }, opt_options);\n        return features;\n    };\n    /**\n     * Get all layers from all layer groups.\n     * @return {Array<import(\"./layer/Layer.js\").default>} Layers.\n     * @api\n     */\n    PluggableMap.prototype.getAllLayers = function () {\n        var layers = [];\n        function addLayersFrom(layerGroup) {\n            layerGroup.forEach(function (layer) {\n                if (layer instanceof LayerGroup) {\n                    addLayersFrom(layer.getLayers());\n                }\n                else {\n                    layers.push(layer);\n                }\n            });\n        }\n        addLayersFrom(this.getLayers());\n        return layers;\n    };\n    /**\n     * Please the `layer.getData()` method for {@link module:ol/layer/Tile~TileLayer#getData tile layers} or\n     * {@link module:ol/layer/Image~ImageLayer#getData image layers} instead of using this method.\n     *\n     * Detect layers that have a color value at a pixel on the viewport, and\n     * execute a callback with each matching layer. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     *\n     * Note: In maps with more than one layer, this method will typically return pixel data\n     * representing the composed image of all layers visible at the given pixel  because layers\n     * will generally share the same rendering context.  To force layers to render separately, and\n     * to get pixel data representing only one layer at a time, you can assign each layer a unique\n     * `className` in its constructor.\n     *\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {function(this: S, import(\"./layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback\n     *     Layer callback. This callback will receive two arguments: first is the\n     *     {@link module:ol/layer/Layer~Layer layer}, second argument is an array representing\n     *     [R, G, B, A] pixel values (0 - 255) and will be `null` for layer types\n     *     that do not currently support this argument. To stop detection, callback\n     *     functions can return a truthy value.\n     * @param {AtPixelOptions} [opt_options] Configuration options.\n     * @return {T|undefined} Callback result, i.e. the return value of last\n     * callback execution, or the first truthy callback return value.\n     * @template S,T\n     * @api\n     * @deprecated\n     */\n    PluggableMap.prototype.forEachLayerAtPixel = function (pixel, callback, opt_options) {\n        if (!this.frameState_ || !this.renderer_) {\n            return;\n        }\n        var options = opt_options || {};\n        var hitTolerance = options.hitTolerance !== undefined ? options.hitTolerance : 0;\n        var layerFilter = options.layerFilter || TRUE;\n        return this.renderer_.forEachLayerAtPixel(pixel, this.frameState_, hitTolerance, callback, layerFilter);\n    };\n    /**\n     * Detect if features intersect a pixel on the viewport. Layers included in the\n     * detection can be configured through `opt_layerFilter`.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n     * @param {AtPixelOptions} [opt_options] Optional options.\n     * @return {boolean} Is there a feature at the given pixel?\n     * @api\n     */\n    PluggableMap.prototype.hasFeatureAtPixel = function (pixel, opt_options) {\n        if (!this.frameState_ || !this.renderer_) {\n            return false;\n        }\n        var coordinate = this.getCoordinateFromPixelInternal(pixel);\n        opt_options = opt_options !== undefined ? opt_options : {};\n        var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n        var hitTolerance = opt_options.hitTolerance !== undefined ? opt_options.hitTolerance : 0;\n        var checkWrapped = opt_options.checkWrapped !== false;\n        return this.renderer_.hasFeatureAtCoordinate(coordinate, this.frameState_, hitTolerance, checkWrapped, layerFilter, null);\n    };\n    /**\n     * Returns the coordinate in user projection for a browser event.\n     * @param {MouseEvent} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     * @api\n     */\n    PluggableMap.prototype.getEventCoordinate = function (event) {\n        return this.getCoordinateFromPixel(this.getEventPixel(event));\n    };\n    /**\n     * Returns the coordinate in view projection for a browser event.\n     * @param {MouseEvent} event Event.\n     * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n     */\n    PluggableMap.prototype.getEventCoordinateInternal = function (event) {\n        return this.getCoordinateFromPixelInternal(this.getEventPixel(event));\n    };\n    /**\n     * Returns the map pixel position for a browser event relative to the viewport.\n     * @param {UIEvent} event Event.\n     * @return {import(\"./pixel.js\").Pixel} Pixel.\n     * @api\n     */\n    PluggableMap.prototype.getEventPixel = function (event) {\n        var viewportPosition = this.viewport_.getBoundingClientRect();\n        var eventPosition = \n        //FIXME Are we really calling this with a TouchEvent anywhere?\n        'changedTouches' in event\n            ? /** @type {TouchEvent} */ (event).changedTouches[0]\n            : /** @type {MouseEvent} */ (event);\n        return [\n            eventPosition.clientX - viewportPosition.left,\n            eventPosition.clientY - viewportPosition.top,\n        ];\n    };\n    /**\n     * Get the target in which this map is rendered.\n     * Note that this returns what is entered as an option or in setTarget:\n     * if that was an element, it returns an element; if a string, it returns that.\n     * @return {HTMLElement|string|undefined} The Element or id of the Element that the\n     *     map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getTarget = function () {\n        return /** @type {HTMLElement|string|undefined} */ (this.get(MapProperty.TARGET));\n    };\n    /**\n     * Get the DOM element into which this map is rendered. In contrast to\n     * `getTarget` this method always return an `Element`, or `null` if the\n     * map has no target.\n     * @return {HTMLElement} The element that the map is rendered in.\n     * @api\n     */\n    PluggableMap.prototype.getTargetElement = function () {\n        var target = this.getTarget();\n        if (target !== undefined) {\n            return typeof target === 'string'\n                ? document.getElementById(target)\n                : target;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * user projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     * @api\n     */\n    PluggableMap.prototype.getCoordinateFromPixel = function (pixel) {\n        return toUserCoordinate(this.getCoordinateFromPixelInternal(pixel), this.getView().getProjection());\n    };\n    /**\n     * Get the coordinate for a given pixel.  This returns a coordinate in the\n     * map view projection.\n     * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n     * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n     */\n    PluggableMap.prototype.getCoordinateFromPixelInternal = function (pixel) {\n        var frameState = this.frameState_;\n        if (!frameState) {\n            return null;\n        }\n        else {\n            return applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n        }\n    };\n    /**\n     * Get the map controls. Modifying this collection changes the controls\n     * associated with the map.\n     * @return {Collection<import(\"./control/Control.js\").default>} Controls.\n     * @api\n     */\n    PluggableMap.prototype.getControls = function () {\n        return this.controls;\n    };\n    /**\n     * Get the map overlays. Modifying this collection changes the overlays\n     * associated with the map.\n     * @return {Collection<import(\"./Overlay.js\").default>} Overlays.\n     * @api\n     */\n    PluggableMap.prototype.getOverlays = function () {\n        return this.overlays_;\n    };\n    /**\n     * Get an overlay by its identifier (the value returned by overlay.getId()).\n     * Note that the index treats string and numeric identifiers as the same. So\n     * `map.getOverlayById(2)` will return an overlay with id `'2'` or `2`.\n     * @param {string|number} id Overlay identifier.\n     * @return {import(\"./Overlay.js\").default} Overlay.\n     * @api\n     */\n    PluggableMap.prototype.getOverlayById = function (id) {\n        var overlay = this.overlayIdIndex_[id.toString()];\n        return overlay !== undefined ? overlay : null;\n    };\n    /**\n     * Get the map interactions. Modifying this collection changes the interactions\n     * associated with the map.\n     *\n     * Interactions are used for e.g. pan, zoom and rotate.\n     * @return {Collection<import(\"./interaction/Interaction.js\").default>} Interactions.\n     * @api\n     */\n    PluggableMap.prototype.getInteractions = function () {\n        return this.interactions;\n    };\n    /**\n     * Get the layergroup associated with this map.\n     * @return {LayerGroup} A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getLayerGroup = function () {\n        return /** @type {LayerGroup} */ (this.get(MapProperty.LAYERGROUP));\n    };\n    /**\n     * Clear any existing layers and add layers to the map.\n     * @param {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>} layers The layers to be added to the map.\n     * @api\n     */\n    PluggableMap.prototype.setLayers = function (layers) {\n        var group = this.getLayerGroup();\n        if (layers instanceof Collection) {\n            group.setLayers(layers);\n            return;\n        }\n        var collection = group.getLayers();\n        collection.clear();\n        collection.extend(layers);\n    };\n    /**\n     * Get the collection of layers associated with this map.\n     * @return {!Collection<import(\"./layer/Base.js\").default>} Layers.\n     * @api\n     */\n    PluggableMap.prototype.getLayers = function () {\n        var layers = this.getLayerGroup().getLayers();\n        return layers;\n    };\n    /**\n     * @return {boolean} Layers have sources that are still loading.\n     */\n    PluggableMap.prototype.getLoadingOrNotReady = function () {\n        var layerStatesArray = this.getLayerGroup().getLayerStatesArray();\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var state = layerStatesArray[i];\n            if (!state.visible) {\n                continue;\n            }\n            var renderer = state.layer.getRenderer();\n            if (renderer && !renderer.ready) {\n                return true;\n            }\n            var source = /** @type {import(\"./layer/Layer.js\").default} */ (state.layer).getSource();\n            if (source && source.loading) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the user\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.getPixelFromCoordinate = function (coordinate) {\n        var viewCoordinate = fromUserCoordinate(coordinate, this.getView().getProjection());\n        return this.getPixelFromCoordinateInternal(viewCoordinate);\n    };\n    /**\n     * Get the pixel for a coordinate.  This takes a coordinate in the map view\n     * projection and returns the corresponding pixel.\n     * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n     * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n     */\n    PluggableMap.prototype.getPixelFromCoordinateInternal = function (coordinate) {\n        var frameState = this.frameState_;\n        if (!frameState) {\n            return null;\n        }\n        else {\n            return applyTransform(frameState.coordinateToPixelTransform, coordinate.slice(0, 2));\n        }\n    };\n    /**\n     * Get the map renderer.\n     * @return {import(\"./renderer/Map.js\").default|null} Renderer\n     */\n    PluggableMap.prototype.getRenderer = function () {\n        return this.renderer_;\n    };\n    /**\n     * Get the size of this map.\n     * @return {import(\"./size.js\").Size|undefined} The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getSize = function () {\n        return /** @type {import(\"./size.js\").Size|undefined} */ (this.get(MapProperty.SIZE));\n    };\n    /**\n     * Get the view associated with this map. A view manages properties such as\n     * center and resolution.\n     * @return {View} The view that controls this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.getView = function () {\n        return /** @type {View} */ (this.get(MapProperty.VIEW));\n    };\n    /**\n     * Get the element that serves as the map viewport.\n     * @return {HTMLElement} Viewport.\n     * @api\n     */\n    PluggableMap.prototype.getViewport = function () {\n        return this.viewport_;\n    };\n    /**\n     * Get the element that serves as the container for overlays.  Elements added to\n     * this container will let mousedown and touchstart events through to the map,\n     * so clicks and gestures on an overlay will trigger {@link module:ol/MapBrowserEvent~MapBrowserEvent}\n     * events.\n     * @return {!HTMLElement} The map's overlay container.\n     */\n    PluggableMap.prototype.getOverlayContainer = function () {\n        return this.overlayContainer_;\n    };\n    /**\n     * Get the element that serves as a container for overlays that don't allow\n     * event propagation. Elements added to this container won't let mousedown and\n     * touchstart events through to the map, so clicks and gestures on an overlay\n     * don't trigger any {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n     * @return {!HTMLElement} The map's overlay container that stops events.\n     */\n    PluggableMap.prototype.getOverlayContainerStopEvent = function () {\n        return this.overlayContainerStopEvent_;\n    };\n    /**\n     * @return {!Document} The document where the map is displayed.\n     */\n    PluggableMap.prototype.getOwnerDocument = function () {\n        var targetElement = this.getTargetElement();\n        return targetElement ? targetElement.ownerDocument : document;\n    };\n    /**\n     * @param {import(\"./Tile.js\").default} tile Tile.\n     * @param {string} tileSourceKey Tile source key.\n     * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n     * @param {number} tileResolution Tile resolution.\n     * @return {number} Tile priority.\n     */\n    PluggableMap.prototype.getTilePriority = function (tile, tileSourceKey, tileCenter, tileResolution) {\n        return getTilePriority(this.frameState_, tile, tileSourceKey, tileCenter, tileResolution);\n    };\n    /**\n     * @param {UIEvent} browserEvent Browser event.\n     * @param {string} [opt_type] Type.\n     */\n    PluggableMap.prototype.handleBrowserEvent = function (browserEvent, opt_type) {\n        var type = opt_type || browserEvent.type;\n        var mapBrowserEvent = new MapBrowserEvent(type, this, browserEvent);\n        this.handleMapBrowserEvent(mapBrowserEvent);\n    };\n    /**\n     * @param {MapBrowserEvent} mapBrowserEvent The event to handle.\n     */\n    PluggableMap.prototype.handleMapBrowserEvent = function (mapBrowserEvent) {\n        if (!this.frameState_) {\n            // With no view defined, we cannot translate pixels into geographical\n            // coordinates so interactions cannot be used.\n            return;\n        }\n        var originalEvent = /** @type {PointerEvent} */ (mapBrowserEvent.originalEvent);\n        var eventType = originalEvent.type;\n        if (eventType === PointerEventType.POINTERDOWN ||\n            eventType === EventType.WHEEL ||\n            eventType === EventType.KEYDOWN) {\n            var doc = this.getOwnerDocument();\n            var rootNode = this.viewport_.getRootNode\n                ? this.viewport_.getRootNode()\n                : doc;\n            var target = /** @type {Node} */ (originalEvent.target);\n            if (\n            // Abort if the target is a child of the container for elements whose events are not meant\n            // to be handled by map interactions.\n            this.overlayContainerStopEvent_.contains(target) ||\n                // Abort if the event target is a child of the container that is no longer in the page.\n                // It's possible for the target to no longer be in the page if it has been removed in an\n                // event listener, this might happen in a Control that recreates it's content based on\n                // user interaction either manually or via a render in something like https://reactjs.org/\n                !(rootNode === doc ? doc.documentElement : rootNode).contains(target)) {\n                return;\n            }\n        }\n        mapBrowserEvent.frameState = this.frameState_;\n        if (this.dispatchEvent(mapBrowserEvent) !== false) {\n            var interactionsArray = this.getInteractions().getArray().slice();\n            for (var i = interactionsArray.length - 1; i >= 0; i--) {\n                var interaction = interactionsArray[i];\n                if (interaction.getMap() !== this ||\n                    !interaction.getActive() ||\n                    !this.getTargetElement()) {\n                    continue;\n                }\n                var cont = interaction.handleEvent(mapBrowserEvent);\n                if (!cont || mapBrowserEvent.propagationStopped) {\n                    break;\n                }\n            }\n        }\n    };\n    /**\n     * @protected\n     */\n    PluggableMap.prototype.handlePostRender = function () {\n        var frameState = this.frameState_;\n        // Manage the tile queue\n        // Image loads are expensive and a limited resource, so try to use them\n        // efficiently:\n        // * When the view is static we allow a large number of parallel tile loads\n        //   to complete the frame as quickly as possible.\n        // * When animating or interacting, image loads can cause janks, so we reduce\n        //   the maximum number of loads per frame and limit the number of parallel\n        //   tile loads to remain reactive to view changes and to reduce the chance of\n        //   loading tiles that will quickly disappear from view.\n        var tileQueue = this.tileQueue_;\n        if (!tileQueue.isEmpty()) {\n            var maxTotalLoading = this.maxTilesLoading_;\n            var maxNewLoads = maxTotalLoading;\n            if (frameState) {\n                var hints = frameState.viewHints;\n                if (hints[ViewHint.ANIMATING] || hints[ViewHint.INTERACTING]) {\n                    var lowOnFrameBudget = Date.now() - frameState.time > 8;\n                    maxTotalLoading = lowOnFrameBudget ? 0 : 8;\n                    maxNewLoads = lowOnFrameBudget ? 0 : 2;\n                }\n            }\n            if (tileQueue.getTilesLoading() < maxTotalLoading) {\n                tileQueue.reprioritize(); // FIXME only call if view has changed\n                tileQueue.loadMoreTiles(maxTotalLoading, maxNewLoads);\n            }\n        }\n        if (frameState && this.renderer_ && !frameState.animate) {\n            if (this.renderComplete_ === true) {\n                if (this.hasListener(RenderEventType.RENDERCOMPLETE)) {\n                    this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE, frameState);\n                }\n                if (this.loaded_ === false) {\n                    this.loaded_ = true;\n                    this.dispatchEvent(new MapEvent(MapEventType.LOADEND, this, frameState));\n                }\n            }\n            else if (this.loaded_ === true) {\n                this.loaded_ = false;\n                this.dispatchEvent(new MapEvent(MapEventType.LOADSTART, this, frameState));\n            }\n        }\n        var postRenderFunctions = this.postRenderFunctions_;\n        for (var i = 0, ii = postRenderFunctions.length; i < ii; ++i) {\n            postRenderFunctions[i](this, frameState);\n        }\n        postRenderFunctions.length = 0;\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleSizeChanged_ = function () {\n        if (this.getView() && !this.getView().getAnimating()) {\n            this.getView().resolveConstraints(0);\n        }\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTargetChanged_ = function () {\n        if (this.mapBrowserEventHandler_) {\n            for (var i = 0, ii = this.targetChangeHandlerKeys_.length; i < ii; ++i) {\n                unlistenByKey(this.targetChangeHandlerKeys_[i]);\n            }\n            this.targetChangeHandlerKeys_ = null;\n            this.viewport_.removeEventListener(EventType.CONTEXTMENU, this.boundHandleBrowserEvent_);\n            this.viewport_.removeEventListener(EventType.WHEEL, this.boundHandleBrowserEvent_);\n            this.mapBrowserEventHandler_.dispose();\n            this.mapBrowserEventHandler_ = null;\n            removeNode(this.viewport_);\n        }\n        // target may be undefined, null, a string or an Element.\n        // If it's a string we convert it to an Element before proceeding.\n        // If it's not now an Element we remove the viewport from the DOM.\n        // If it's an Element we append the viewport element to it.\n        var targetElement = this.getTargetElement();\n        if (!targetElement) {\n            if (this.renderer_) {\n                clearTimeout(this.postRenderTimeoutHandle_);\n                this.postRenderTimeoutHandle_ = undefined;\n                this.postRenderFunctions_.length = 0;\n                this.renderer_.dispose();\n                this.renderer_ = null;\n            }\n            if (this.animationDelayKey_) {\n                cancelAnimationFrame(this.animationDelayKey_);\n                this.animationDelayKey_ = undefined;\n            }\n        }\n        else {\n            targetElement.appendChild(this.viewport_);\n            if (!this.renderer_) {\n                this.renderer_ = this.createRenderer();\n            }\n            this.mapBrowserEventHandler_ = new MapBrowserEventHandler(this, this.moveTolerance_);\n            for (var key in MapBrowserEventType) {\n                this.mapBrowserEventHandler_.addEventListener(MapBrowserEventType[key], this.handleMapBrowserEvent.bind(this));\n            }\n            this.viewport_.addEventListener(EventType.CONTEXTMENU, this.boundHandleBrowserEvent_, false);\n            this.viewport_.addEventListener(EventType.WHEEL, this.boundHandleBrowserEvent_, PASSIVE_EVENT_LISTENERS ? { passive: false } : false);\n            var defaultView = this.getOwnerDocument().defaultView;\n            var keyboardEventTarget = !this.keyboardEventTarget_\n                ? targetElement\n                : this.keyboardEventTarget_;\n            this.targetChangeHandlerKeys_ = [\n                listen(keyboardEventTarget, EventType.KEYDOWN, this.handleBrowserEvent, this),\n                listen(keyboardEventTarget, EventType.KEYPRESS, this.handleBrowserEvent, this),\n                listen(defaultView, EventType.RESIZE, this.updateSize, this),\n            ];\n        }\n        this.updateSize();\n        // updateSize calls setSize, so no need to call this.render\n        // ourselves here.\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleTileChange_ = function () {\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewPropertyChanged_ = function () {\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleViewChanged_ = function () {\n        if (this.viewPropertyListenerKey_) {\n            unlistenByKey(this.viewPropertyListenerKey_);\n            this.viewPropertyListenerKey_ = null;\n        }\n        if (this.viewChangeListenerKey_) {\n            unlistenByKey(this.viewChangeListenerKey_);\n            this.viewChangeListenerKey_ = null;\n        }\n        var view = this.getView();\n        if (view) {\n            this.updateViewportSize_();\n            this.viewPropertyListenerKey_ = listen(view, ObjectEventType.PROPERTYCHANGE, this.handleViewPropertyChanged_, this);\n            this.viewChangeListenerKey_ = listen(view, EventType.CHANGE, this.handleViewPropertyChanged_, this);\n            view.resolveConstraints(0);\n        }\n        this.render();\n    };\n    /**\n     * @private\n     */\n    PluggableMap.prototype.handleLayerGroupChanged_ = function () {\n        if (this.layerGroupPropertyListenerKeys_) {\n            this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey);\n            this.layerGroupPropertyListenerKeys_ = null;\n        }\n        var layerGroup = this.getLayerGroup();\n        if (layerGroup) {\n            this.handleLayerAdd_(new GroupEvent('addlayer', layerGroup));\n            this.layerGroupPropertyListenerKeys_ = [\n                listen(layerGroup, ObjectEventType.PROPERTYCHANGE, this.render, this),\n                listen(layerGroup, EventType.CHANGE, this.render, this),\n                listen(layerGroup, 'addlayer', this.handleLayerAdd_, this),\n                listen(layerGroup, 'removelayer', this.handleLayerRemove_, this),\n            ];\n        }\n        this.render();\n    };\n    /**\n     * @return {boolean} Is rendered.\n     */\n    PluggableMap.prototype.isRendered = function () {\n        return !!this.frameState_;\n    };\n    /**\n     * Requests an immediate render in a synchronous manner.\n     * @api\n     */\n    PluggableMap.prototype.renderSync = function () {\n        if (this.animationDelayKey_) {\n            cancelAnimationFrame(this.animationDelayKey_);\n        }\n        this.animationDelay_();\n    };\n    /**\n     * Redraws all text after new fonts have loaded\n     */\n    PluggableMap.prototype.redrawText = function () {\n        var layerStates = this.getLayerGroup().getLayerStatesArray();\n        for (var i = 0, ii = layerStates.length; i < ii; ++i) {\n            var layer = layerStates[i].layer;\n            if (layer.hasRenderer()) {\n                layer.getRenderer().handleFontsChanged();\n            }\n        }\n    };\n    /**\n     * Request a map rendering (at the next animation frame).\n     * @api\n     */\n    PluggableMap.prototype.render = function () {\n        if (this.renderer_ && this.animationDelayKey_ === undefined) {\n            this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_);\n        }\n    };\n    /**\n     * Remove the given control from the map.\n     * @param {import(\"./control/Control.js\").default} control Control.\n     * @return {import(\"./control/Control.js\").default|undefined} The removed control (or undefined\n     *     if the control was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeControl = function (control) {\n        return this.getControls().remove(control);\n    };\n    /**\n     * Remove the given interaction from the map.\n     * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to remove.\n     * @return {import(\"./interaction/Interaction.js\").default|undefined} The removed interaction (or\n     *     undefined if the interaction was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeInteraction = function (interaction) {\n        return this.getInteractions().remove(interaction);\n    };\n    /**\n     * Removes the given layer from the map.\n     * @param {import(\"./layer/Base.js\").default} layer Layer.\n     * @return {import(\"./layer/Base.js\").default|undefined} The removed layer (or undefined if the\n     *     layer was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeLayer = function (layer) {\n        var layers = this.getLayerGroup().getLayers();\n        return layers.remove(layer);\n    };\n    /**\n     * @param {import(\"./layer/Group.js\").GroupEvent} event The layer remove event.\n     * @private\n     */\n    PluggableMap.prototype.handleLayerRemove_ = function (event) {\n        removeLayerMapProperty(event.layer);\n    };\n    /**\n     * Remove the given overlay from the map.\n     * @param {import(\"./Overlay.js\").default} overlay Overlay.\n     * @return {import(\"./Overlay.js\").default|undefined} The removed overlay (or undefined\n     *     if the overlay was not found).\n     * @api\n     */\n    PluggableMap.prototype.removeOverlay = function (overlay) {\n        return this.getOverlays().remove(overlay);\n    };\n    /**\n     * @param {number} time Time.\n     * @private\n     */\n    PluggableMap.prototype.renderFrame_ = function (time) {\n        var _this = this;\n        var size = this.getSize();\n        var view = this.getView();\n        var previousFrameState = this.frameState_;\n        /** @type {?FrameState} */\n        var frameState = null;\n        if (size !== undefined && hasArea(size) && view && view.isDef()) {\n            var viewHints = view.getHints(this.frameState_ ? this.frameState_.viewHints : undefined);\n            var viewState = view.getState();\n            frameState = {\n                animate: false,\n                coordinateToPixelTransform: this.coordinateToPixelTransform_,\n                declutterTree: null,\n                extent: getForViewAndSize(viewState.center, viewState.resolution, viewState.rotation, size),\n                index: this.frameIndex_++,\n                layerIndex: 0,\n                layerStatesArray: this.getLayerGroup().getLayerStatesArray(),\n                pixelRatio: this.pixelRatio_,\n                pixelToCoordinateTransform: this.pixelToCoordinateTransform_,\n                postRenderFunctions: [],\n                size: size,\n                tileQueue: this.tileQueue_,\n                time: time,\n                usedTiles: {},\n                viewState: viewState,\n                viewHints: viewHints,\n                wantedTiles: {},\n                mapId: getUid(this),\n                renderTargets: {},\n            };\n            if (viewState.nextCenter && viewState.nextResolution) {\n                var rotation = isNaN(viewState.nextRotation)\n                    ? viewState.rotation\n                    : viewState.nextRotation;\n                frameState.nextExtent = getForViewAndSize(viewState.nextCenter, viewState.nextResolution, rotation, size);\n            }\n        }\n        this.frameState_ = frameState;\n        /** @type {import(\"./renderer/Map.js\").default} */ (this.renderer_).renderFrame(frameState);\n        if (frameState) {\n            if (frameState.animate) {\n                this.render();\n            }\n            Array.prototype.push.apply(this.postRenderFunctions_, frameState.postRenderFunctions);\n            if (previousFrameState) {\n                var moveStart = !this.previousExtent_ ||\n                    (!isEmpty(this.previousExtent_) &&\n                        !equals(frameState.extent, this.previousExtent_));\n                if (moveStart) {\n                    this.dispatchEvent(new MapEvent(MapEventType.MOVESTART, this, previousFrameState));\n                    this.previousExtent_ = createOrUpdateEmpty(this.previousExtent_);\n                }\n            }\n            var idle = this.previousExtent_ &&\n                !frameState.viewHints[ViewHint.ANIMATING] &&\n                !frameState.viewHints[ViewHint.INTERACTING] &&\n                !equals(frameState.extent, this.previousExtent_);\n            if (idle) {\n                this.dispatchEvent(new MapEvent(MapEventType.MOVEEND, this, frameState));\n                clone(frameState.extent, this.previousExtent_);\n            }\n        }\n        this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER, this, frameState));\n        this.renderComplete_ =\n            this.hasListener(MapEventType.LOADSTART) ||\n                this.hasListener(MapEventType.LOADEND) ||\n                this.hasListener(RenderEventType.RENDERCOMPLETE)\n                ? !this.tileQueue_.getTilesLoading() &&\n                    !this.tileQueue_.getCount() &&\n                    !this.getLoadingOrNotReady()\n                : undefined;\n        if (!this.postRenderTimeoutHandle_) {\n            this.postRenderTimeoutHandle_ = setTimeout(function () {\n                _this.postRenderTimeoutHandle_ = undefined;\n                _this.handlePostRender();\n            }, 0);\n        }\n    };\n    /**\n     * Sets the layergroup of this map.\n     * @param {LayerGroup} layerGroup A layer group containing the layers in this map.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setLayerGroup = function (layerGroup) {\n        var oldLayerGroup = this.getLayerGroup();\n        if (oldLayerGroup) {\n            this.handleLayerRemove_(new GroupEvent('removelayer', oldLayerGroup));\n        }\n        this.set(MapProperty.LAYERGROUP, layerGroup);\n    };\n    /**\n     * Set the size of this map.\n     * @param {import(\"./size.js\").Size|undefined} size The size in pixels of the map in the DOM.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setSize = function (size) {\n        this.set(MapProperty.SIZE, size);\n    };\n    /**\n     * Set the target element to render this map into.\n     * @param {HTMLElement|string} [target] The Element or id of the Element\n     *     that the map is rendered in.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setTarget = function (target) {\n        this.set(MapProperty.TARGET, target);\n    };\n    /**\n     * Set the view for this map.\n     * @param {View|Promise<import(\"./View.js\").ViewOptions>} view The view that controls this map.\n     * It is also possible to pass a promise that resolves to options for constructing a view.  This\n     * alternative allows view properties to be resolved by sources or other components that load\n     * view-related metadata.\n     * @observable\n     * @api\n     */\n    PluggableMap.prototype.setView = function (view) {\n        if (!view || view instanceof View) {\n            this.set(MapProperty.VIEW, view);\n            return;\n        }\n        this.set(MapProperty.VIEW, new View());\n        var map = this;\n        view.then(function (viewOptions) {\n            map.setView(new View(viewOptions));\n        });\n    };\n    /**\n     * Force a recalculation of the map viewport size.  This should be called when\n     * third-party code changes the size of the map viewport.\n     * @api\n     */\n    PluggableMap.prototype.updateSize = function () {\n        var targetElement = this.getTargetElement();\n        var size = undefined;\n        if (targetElement) {\n            var computedStyle = getComputedStyle(targetElement);\n            var width = targetElement.offsetWidth -\n                parseFloat(computedStyle['borderLeftWidth']) -\n                parseFloat(computedStyle['paddingLeft']) -\n                parseFloat(computedStyle['paddingRight']) -\n                parseFloat(computedStyle['borderRightWidth']);\n            var height = targetElement.offsetHeight -\n                parseFloat(computedStyle['borderTopWidth']) -\n                parseFloat(computedStyle['paddingTop']) -\n                parseFloat(computedStyle['paddingBottom']) -\n                parseFloat(computedStyle['borderBottomWidth']);\n            if (!isNaN(width) && !isNaN(height)) {\n                size = [width, height];\n                if (!hasArea(size) &&\n                    !!(targetElement.offsetWidth ||\n                        targetElement.offsetHeight ||\n                        targetElement.getClientRects().length)) {\n                    // eslint-disable-next-line\n                    console.warn(\"No map visible because the map container's width or height are 0.\");\n                }\n            }\n        }\n        this.setSize(size);\n        this.updateViewportSize_();\n    };\n    /**\n     * Recomputes the viewport size and save it on the view object (if any)\n     * @private\n     */\n    PluggableMap.prototype.updateViewportSize_ = function () {\n        var view = this.getView();\n        if (view) {\n            var size = undefined;\n            var computedStyle = getComputedStyle(this.viewport_);\n            if (computedStyle.width && computedStyle.height) {\n                size = [\n                    parseInt(computedStyle.width, 10),\n                    parseInt(computedStyle.height, 10),\n                ];\n            }\n            view.setViewportSize(size);\n        }\n    };\n    return PluggableMap;\n}(BaseObject));\n/**\n * @param {MapOptions} options Map options.\n * @return {MapOptionsInternal} Internal map options.\n */\nfunction createOptionsInternal(options) {\n    /**\n     * @type {HTMLElement|Document}\n     */\n    var keyboardEventTarget = null;\n    if (options.keyboardEventTarget !== undefined) {\n        keyboardEventTarget =\n            typeof options.keyboardEventTarget === 'string'\n                ? document.getElementById(options.keyboardEventTarget)\n                : options.keyboardEventTarget;\n    }\n    /**\n     * @type {Object<string, *>}\n     */\n    var values = {};\n    var layerGroup = options.layers &&\n        typeof ( /** @type {?} */(options.layers).getLayers) === 'function'\n        ? /** @type {LayerGroup} */ (options.layers)\n        : new LayerGroup({ layers: /** @type {Collection} */ (options.layers) });\n    values[MapProperty.LAYERGROUP] = layerGroup;\n    values[MapProperty.TARGET] = options.target;\n    values[MapProperty.VIEW] =\n        options.view instanceof View ? options.view : new View();\n    var controls;\n    if (options.controls !== undefined) {\n        if (Array.isArray(options.controls)) {\n            controls = new Collection(options.controls.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.controls).getArray) === 'function', 47); // Expected `controls` to be an array or an `import(\"./Collection.js\").Collection`\n            controls = /** @type {Collection} */ (options.controls);\n        }\n    }\n    var interactions;\n    if (options.interactions !== undefined) {\n        if (Array.isArray(options.interactions)) {\n            interactions = new Collection(options.interactions.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.interactions).getArray) ===\n                'function', 48); // Expected `interactions` to be an array or an `import(\"./Collection.js\").Collection`\n            interactions = /** @type {Collection} */ (options.interactions);\n        }\n    }\n    var overlays;\n    if (options.overlays !== undefined) {\n        if (Array.isArray(options.overlays)) {\n            overlays = new Collection(options.overlays.slice());\n        }\n        else {\n            assert(typeof ( /** @type {?} */(options.overlays).getArray) === 'function', 49); // Expected `overlays` to be an array or an `import(\"./Collection.js\").Collection`\n            overlays = options.overlays;\n        }\n    }\n    else {\n        overlays = new Collection();\n    }\n    return {\n        controls: controls,\n        interactions: interactions,\n        keyboardEventTarget: keyboardEventTarget,\n        overlays: overlays,\n        values: values,\n    };\n}\nexport default PluggableMap;\n//# sourceMappingURL=PluggableMap.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Attribution\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_COLLAPSED, CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { equals } from '../array.js';\nimport { inView } from '../layer/Layer.js';\nimport { removeChildren, replaceNode } from '../dom.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-attribution'] CSS class name.\n * @property {HTMLElement|string} [target] Specify a target if you\n * want the control to be rendered outside of the map's\n * viewport.\n * @property {boolean} [collapsible] Specify if attributions can\n * be collapsed. If not specified, sources control this behavior with their\n * `attributionsCollapsible` setting.\n * @property {boolean} [collapsed=true] Specify if attributions should\n * be collapsed at startup.\n * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n * @property {string|HTMLElement} [label='i'] Text label to use for the\n * collapsed attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [expandClassName=className + '-expand'] CSS class name for the\n * collapsed attributions button.\n * @property {string|HTMLElement} [collapseLabel=''] Text label to use\n * for the expanded attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [collapseClassName=className + '-collapse'] CSS class name for the\n * expanded attributions button.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n */\n/**\n * @classdesc\n * Control to show all the attributions associated with the layer sources\n * in the map. This control is one of the default controls included in maps.\n * By default it will show in the bottom right portion of the map, but this can\n * be changed by using a css selector for `.ol-attribution`.\n *\n * @api\n */\nvar Attribution = /** @class */ (function (_super) {\n    __extends(Attribution, _super);\n    /**\n     * @param {Options} [opt_options] Attribution options.\n     */\n    function Attribution(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.ulElement_ = document.createElement('ul');\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsed_ =\n            options.collapsed !== undefined ? options.collapsed : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.userCollapsed_ = _this.collapsed_;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.overrideCollapsible_ = options.collapsible !== undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.collapsible_ =\n            options.collapsible !== undefined ? options.collapsible : true;\n        if (!_this.collapsible_) {\n            _this.collapsed_ = false;\n        }\n        var className = options.className !== undefined ? options.className : 'ol-attribution';\n        var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n        var expandClassName = options.expandClassName !== undefined\n            ? options.expandClassName\n            : className + '-expand';\n        var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u203A';\n        var collapseClassName = options.collapseClassName !== undefined\n            ? options.collapseClassName\n            : className + '-collapse';\n        if (typeof collapseLabel === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.collapseLabel_ = document.createElement('span');\n            _this.collapseLabel_.textContent = collapseLabel;\n            _this.collapseLabel_.className = collapseClassName;\n        }\n        else {\n            _this.collapseLabel_ = collapseLabel;\n        }\n        var label = options.label !== undefined ? options.label : 'i';\n        if (typeof label === 'string') {\n            /**\n             * @private\n             * @type {HTMLElement}\n             */\n            _this.label_ = document.createElement('span');\n            _this.label_.textContent = label;\n            _this.label_.className = expandClassName;\n        }\n        else {\n            _this.label_ = label;\n        }\n        var activeLabel = _this.collapsible_ && !_this.collapsed_ ? _this.collapseLabel_ : _this.label_;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.toggleButton_ = document.createElement('button');\n        _this.toggleButton_.setAttribute('type', 'button');\n        _this.toggleButton_.setAttribute('aria-expanded', String(!_this.collapsed_));\n        _this.toggleButton_.title = tipLabel;\n        _this.toggleButton_.appendChild(activeLabel);\n        _this.toggleButton_.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className +\n            ' ' +\n            CLASS_UNSELECTABLE +\n            ' ' +\n            CLASS_CONTROL +\n            (_this.collapsed_ && _this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n            (_this.collapsible_ ? '' : ' ol-uncollapsible');\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(_this.toggleButton_);\n        element.appendChild(_this.ulElement_);\n        /**\n         * A list of currently rendered resolutions.\n         * @type {Array<string>}\n         * @private\n         */\n        _this.renderedAttributions_ = [];\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = true;\n        return _this;\n    }\n    /**\n     * Collect a list of visible attributions and set the collapsible state.\n     * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     * @return {Array<string>} Attributions.\n     * @private\n     */\n    Attribution.prototype.collectSourceAttributions_ = function (frameState) {\n        /**\n         * Used to determine if an attribution already exists.\n         * @type {!Object<string, boolean>}\n         */\n        var lookup = {};\n        /**\n         * A list of visible attributions.\n         * @type {Array<string>}\n         */\n        var visibleAttributions = [];\n        var collapsible = true;\n        var layerStatesArray = frameState.layerStatesArray;\n        for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n            var layerState = layerStatesArray[i];\n            if (!inView(layerState, frameState.viewState)) {\n                continue;\n            }\n            var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n            if (!source) {\n                continue;\n            }\n            var attributionGetter = source.getAttributions();\n            if (!attributionGetter) {\n                continue;\n            }\n            var attributions = attributionGetter(frameState);\n            if (!attributions) {\n                continue;\n            }\n            collapsible =\n                collapsible && source.getAttributionsCollapsible() !== false;\n            if (Array.isArray(attributions)) {\n                for (var j = 0, jj = attributions.length; j < jj; ++j) {\n                    if (!(attributions[j] in lookup)) {\n                        visibleAttributions.push(attributions[j]);\n                        lookup[attributions[j]] = true;\n                    }\n                }\n            }\n            else {\n                if (!(attributions in lookup)) {\n                    visibleAttributions.push(attributions);\n                    lookup[attributions] = true;\n                }\n            }\n        }\n        if (!this.overrideCollapsible_) {\n            this.setCollapsible(collapsible);\n        }\n        return visibleAttributions;\n    };\n    /**\n     * @private\n     * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n     */\n    Attribution.prototype.updateElement_ = function (frameState) {\n        if (!frameState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var attributions = this.collectSourceAttributions_(frameState);\n        var visible = attributions.length > 0;\n        if (this.renderedVisible_ != visible) {\n            this.element.style.display = visible ? '' : 'none';\n            this.renderedVisible_ = visible;\n        }\n        if (equals(attributions, this.renderedAttributions_)) {\n            return;\n        }\n        removeChildren(this.ulElement_);\n        // append the attributions\n        for (var i = 0, ii = attributions.length; i < ii; ++i) {\n            var element = document.createElement('li');\n            element.innerHTML = attributions[i];\n            this.ulElement_.appendChild(element);\n        }\n        this.renderedAttributions_ = attributions;\n    };\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Attribution.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        this.handleToggle_();\n        this.userCollapsed_ = this.collapsed_;\n    };\n    /**\n     * @private\n     */\n    Attribution.prototype.handleToggle_ = function () {\n        this.element.classList.toggle(CLASS_COLLAPSED);\n        if (this.collapsed_) {\n            replaceNode(this.collapseLabel_, this.label_);\n        }\n        else {\n            replaceNode(this.label_, this.collapseLabel_);\n        }\n        this.collapsed_ = !this.collapsed_;\n        this.toggleButton_.setAttribute('aria-expanded', String(!this.collapsed_));\n    };\n    /**\n     * Return `true` if the attribution is collapsible, `false` otherwise.\n     * @return {boolean} True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.getCollapsible = function () {\n        return this.collapsible_;\n    };\n    /**\n     * Set whether the attribution should be collapsible.\n     * @param {boolean} collapsible True if the widget is collapsible.\n     * @api\n     */\n    Attribution.prototype.setCollapsible = function (collapsible) {\n        if (this.collapsible_ === collapsible) {\n            return;\n        }\n        this.collapsible_ = collapsible;\n        this.element.classList.toggle('ol-uncollapsible');\n        if (this.userCollapsed_) {\n            this.handleToggle_();\n        }\n    };\n    /**\n     * Collapse or expand the attribution according to the passed parameter. Will\n     * not do anything if the attribution isn't collapsible or if the current\n     * collapsed state is already the one requested.\n     * @param {boolean} collapsed True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.setCollapsed = function (collapsed) {\n        this.userCollapsed_ = collapsed;\n        if (!this.collapsible_ || this.collapsed_ === collapsed) {\n            return;\n        }\n        this.handleToggle_();\n    };\n    /**\n     * Return `true` when the attribution is currently collapsed or `false`\n     * otherwise.\n     * @return {boolean} True if the widget is collapsed.\n     * @api\n     */\n    Attribution.prototype.getCollapsed = function () {\n        return this.collapsed_;\n    };\n    /**\n     * Update the attribution element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Attribution.prototype.render = function (mapEvent) {\n        this.updateElement_(mapEvent.frameState);\n    };\n    return Attribution;\n}(Control));\nexport default Attribution;\n//# sourceMappingURL=Attribution.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label=''] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {string} [compassClassName='ol-compass'] CSS class name for the compass.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function():void} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nvar Rotate = /** @class */ (function (_super) {\n    __extends(Rotate, _super);\n    /**\n     * @param {Options} [opt_options] Rotate options.\n     */\n    function Rotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-rotate';\n        var label = options.label !== undefined ? options.label : '\\u21E7';\n        var compassClassName = options.compassClassName !== undefined\n            ? options.compassClassName\n            : 'ol-compass';\n        /**\n         * @type {HTMLElement}\n         * @private\n         */\n        _this.label_ = null;\n        if (typeof label === 'string') {\n            _this.label_ = document.createElement('span');\n            _this.label_.className = compassClassName;\n            _this.label_.textContent = label;\n        }\n        else {\n            _this.label_ = label;\n            _this.label_.classList.add(compassClassName);\n        }\n        var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n        var button = document.createElement('button');\n        button.className = className + '-reset';\n        button.setAttribute('type', 'button');\n        button.title = tipLabel;\n        button.appendChild(_this.label_);\n        button.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(button);\n        _this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @type {boolean}\n         * @private\n         */\n        _this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.rotation_ = undefined;\n        if (_this.autoHide_) {\n            _this.element.classList.add(CLASS_HIDDEN);\n        }\n        return _this;\n    }\n    /**\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Rotate.prototype.handleClick_ = function (event) {\n        event.preventDefault();\n        if (this.callResetNorth_ !== undefined) {\n            this.callResetNorth_();\n        }\n        else {\n            this.resetNorth_();\n        }\n    };\n    /**\n     * @private\n     */\n    Rotate.prototype.resetNorth_ = function () {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var rotation = view.getRotation();\n        if (rotation !== undefined) {\n            if (this.duration_ > 0 && rotation % (2 * Math.PI) !== 0) {\n                view.animate({\n                    rotation: 0,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setRotation(0);\n            }\n        }\n    };\n    /**\n     * Update the rotate control element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    Rotate.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            return;\n        }\n        var rotation = frameState.viewState.rotation;\n        if (rotation != this.rotation_) {\n            var transform = 'rotate(' + rotation + 'rad)';\n            if (this.autoHide_) {\n                var contains = this.element.classList.contains(CLASS_HIDDEN);\n                if (!contains && rotation === 0) {\n                    this.element.classList.add(CLASS_HIDDEN);\n                }\n                else if (contains && rotation !== 0) {\n                    this.element.classList.remove(CLASS_HIDDEN);\n                }\n            }\n            this.label_.style.transform = transform;\n        }\n        this.rotation_ = rotation;\n    };\n    return Rotate;\n}(Control));\nexport default Rotate;\n//# sourceMappingURL=Rotate.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/Zoom\n */\nimport Control from './Control.js';\nimport EventType from '../events/EventType.js';\nimport { CLASS_CONTROL, CLASS_UNSELECTABLE } from '../css.js';\nimport { easeOut } from '../easing.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {string} [className='ol-zoom'] CSS class name.\n * @property {string} [zoomInClassName=className + '-in'] CSS class name for the zoom-in button.\n * @property {string} [zoomOutClassName=className + '-out'] CSS class name for the zoom-out button.\n * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n * button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|HTMLElement} [zoomOutLabel=''] Text label to use for the zoom-out button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n * @property {number} [delta=1] The zoom delta applied on each click.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n/**\n * @classdesc\n * A control with 2 buttons, one for zoom in and one for zoom out.\n * This control is one of the default controls of a map. To style this control\n * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n *\n * @api\n */\nvar Zoom = /** @class */ (function (_super) {\n    __extends(Zoom, _super);\n    /**\n     * @param {Options} [opt_options] Zoom options.\n     */\n    function Zoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            target: options.target,\n        }) || this;\n        var className = options.className !== undefined ? options.className : 'ol-zoom';\n        var delta = options.delta !== undefined ? options.delta : 1;\n        var zoomInClassName = options.zoomInClassName !== undefined\n            ? options.zoomInClassName\n            : className + '-in';\n        var zoomOutClassName = options.zoomOutClassName !== undefined\n            ? options.zoomOutClassName\n            : className + '-out';\n        var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n        var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2013';\n        var zoomInTipLabel = options.zoomInTipLabel !== undefined ? options.zoomInTipLabel : 'Zoom in';\n        var zoomOutTipLabel = options.zoomOutTipLabel !== undefined\n            ? options.zoomOutTipLabel\n            : 'Zoom out';\n        var inElement = document.createElement('button');\n        inElement.className = zoomInClassName;\n        inElement.setAttribute('type', 'button');\n        inElement.title = zoomInTipLabel;\n        inElement.appendChild(typeof zoomInLabel === 'string'\n            ? document.createTextNode(zoomInLabel)\n            : zoomInLabel);\n        inElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, delta), false);\n        var outElement = document.createElement('button');\n        outElement.className = zoomOutClassName;\n        outElement.setAttribute('type', 'button');\n        outElement.title = zoomOutTipLabel;\n        outElement.appendChild(typeof zoomOutLabel === 'string'\n            ? document.createTextNode(zoomOutLabel)\n            : zoomOutLabel);\n        outElement.addEventListener(EventType.CLICK, _this.handleClick_.bind(_this, -delta), false);\n        var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n        var element = _this.element;\n        element.className = cssClasses;\n        element.appendChild(inElement);\n        element.appendChild(outElement);\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * @param {number} delta Zoom delta.\n     * @param {MouseEvent} event The event to handle\n     * @private\n     */\n    Zoom.prototype.handleClick_ = function (delta, event) {\n        event.preventDefault();\n        this.zoomByDelta_(delta);\n    };\n    /**\n     * @param {number} delta Zoom delta.\n     * @private\n     */\n    Zoom.prototype.zoomByDelta_ = function (delta) {\n        var map = this.getMap();\n        var view = map.getView();\n        if (!view) {\n            // the map does not have a view, so we can't act\n            // upon it\n            return;\n        }\n        var currentZoom = view.getZoom();\n        if (currentZoom !== undefined) {\n            var newZoom = view.getConstrainedZoom(currentZoom + delta);\n            if (this.duration_ > 0) {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.animate({\n                    zoom: newZoom,\n                    duration: this.duration_,\n                    easing: easeOut,\n                });\n            }\n            else {\n                view.setZoom(newZoom);\n            }\n        }\n    };\n    return Zoom;\n}(Control));\nexport default Zoom;\n//# sourceMappingURL=Zoom.js.map","/**\n * @module ol/interaction/Property\n */\n/**\n * @enum {string}\n */\nexport default {\n    ACTIVE: 'active',\n};\n//# sourceMappingURL=Property.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/Interaction\n */\nimport BaseObject from '../Object.js';\nimport InteractionProperty from './Property.js';\nimport { easeOut, linear } from '../easing.js';\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active', Return>} InteractionOnSignature\n */\n/**\n * Object literal with config options for interactions.\n * @typedef {Object} InteractionOptions\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} handleEvent\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. If the function returns a falsy value, propagation of\n * the event to other interactions in the map's interactions chain will be\n * prevented (this includes functions with no explicit return). The interactions\n * are traversed in reverse order of the interactions collection of the map.\n */\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * User actions that change the state of the map. Some are similar to controls,\n * but are not associated with a DOM element.\n * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n * by a keyboard event not a button element event.\n * Although interactions do not have a DOM element, some of them do render\n * vectors and so are visible on the screen.\n * @api\n */\nvar Interaction = /** @class */ (function (_super) {\n    __extends(Interaction, _super);\n    /**\n     * @param {InteractionOptions} [opt_options] Options.\n     */\n    function Interaction(opt_options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {InteractionOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {InteractionOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {InteractionOnSignature<void>}\n         */\n        _this.un;\n        if (opt_options && opt_options.handleEvent) {\n            _this.handleEvent = opt_options.handleEvent;\n        }\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default|null}\n         */\n        _this.map_ = null;\n        _this.setActive(true);\n        return _this;\n    }\n    /**\n     * Return whether the interaction is currently active.\n     * @return {boolean} `true` if the interaction is active, `false` otherwise.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.getActive = function () {\n        return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n    };\n    /**\n     * Get the map associated with this interaction.\n     * @return {import(\"../PluggableMap.js\").default|null} Map.\n     * @api\n     */\n    Interaction.prototype.getMap = function () {\n        return this.map_;\n    };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event}.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    Interaction.prototype.handleEvent = function (mapBrowserEvent) {\n        return true;\n    };\n    /**\n     * Activate or deactivate the interaction.\n     * @param {boolean} active Active.\n     * @observable\n     * @api\n     */\n    Interaction.prototype.setActive = function (active) {\n        this.set(InteractionProperty.ACTIVE, active);\n    };\n    /**\n     * Remove the interaction from its current map and attach it to the new map.\n     * Subclasses may set up event handlers to get notified about changes to\n     * the map here.\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     */\n    Interaction.prototype.setMap = function (map) {\n        this.map_ = map;\n    };\n    return Interaction;\n}(BaseObject));\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n * @param {number} [opt_duration] Duration.\n */\nexport function pan(view, delta, opt_duration) {\n    var currentCenter = view.getCenterInternal();\n    if (currentCenter) {\n        var center = [currentCenter[0] + delta[0], currentCenter[1] + delta[1]];\n        view.animateInternal({\n            duration: opt_duration !== undefined ? opt_duration : 250,\n            easing: linear,\n            center: view.getConstrainedCenter(center),\n        });\n    }\n}\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number} delta Delta from previous zoom level.\n * @param {import(\"../coordinate.js\").Coordinate} [opt_anchor] Anchor coordinate in the user projection.\n * @param {number} [opt_duration] Duration.\n */\nexport function zoomByDelta(view, delta, opt_anchor, opt_duration) {\n    var currentZoom = view.getZoom();\n    if (currentZoom === undefined) {\n        return;\n    }\n    var newZoom = view.getConstrainedZoom(currentZoom + delta);\n    var newResolution = view.getResolutionForZoom(newZoom);\n    if (view.getAnimating()) {\n        view.cancelAnimations();\n    }\n    view.animate({\n        resolution: newResolution,\n        anchor: opt_anchor,\n        duration: opt_duration !== undefined ? opt_duration : 250,\n        easing: easeOut,\n    });\n}\nexport default Interaction;\n//# sourceMappingURL=Interaction.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DoubleClickZoom\n */\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [delta=1] The zoom delta applied on each double click.\n */\n/**\n * @classdesc\n * Allows the user to zoom by double-clicking on the map.\n * @api\n */\nvar DoubleClickZoom = /** @class */ (function (_super) {\n    __extends(DoubleClickZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function DoubleClickZoom(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.delta_ = options.delta ? options.delta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a\n     * doubleclick) and eventually zooms the map.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    DoubleClickZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n            var browserEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n            var map = mapBrowserEvent.map;\n            var anchor = mapBrowserEvent.coordinate;\n            var delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n            var view = map.getView();\n            zoomByDelta(view, delta, anchor, this.duration_);\n            browserEvent.preventDefault();\n            stopEvent = true;\n        }\n        return !stopEvent;\n    };\n    return DoubleClickZoom;\n}(Interaction));\nexport default DoubleClickZoom;\n//# sourceMappingURL=DoubleClickZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/Pointer\n */\nimport Interaction from './Interaction.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\n/**\n * @typedef {Object} Options\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleDownEvent]\n * Function handling \"down\" events. If the function returns `true` then a drag\n * sequence is started.\n * @property {function(import(\"../MapBrowserEvent.js\").default):void} [handleDragEvent]\n * Function handling \"drag\" events. This function is called on \"move\" events\n * during a drag sequence.\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. The function may return `false` to prevent the\n * propagation of the event to other interactions in the map's interactions\n * chain.\n * @property {function(import(\"../MapBrowserEvent.js\").default):void} [handleMoveEvent]\n * Function handling \"move\" events. This function is called on \"move\" events.\n * This functions is also called during a drag sequence, so during a drag\n * sequence both the `handleDragEvent` function and this function are called.\n * If `handleDownEvent` is defined and it returns true this function will not\n * be called during a drag sequence.\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleUpEvent]\n *  Function handling \"up\" events. If the function returns `false` then the\n * current drag sequence is stopped.\n * @property {function(boolean):boolean} [stopDown]\n * Should the down event be propagated to other interactions, or should be\n * stopped?\n */\n/**\n * @classdesc\n * Base class that calls user-defined functions on `down`, `move` and `up`\n * events. This class also manages \"drag sequences\".\n *\n * When the `handleDownEvent` user function returns `true` a drag sequence is\n * started. During a drag sequence the `handleDragEvent` user function is\n * called on `move` events. The drag sequence ends when the `handleUpEvent`\n * user function is called and returns `false`.\n * @api\n */\nvar PointerInteraction = /** @class */ (function (_super) {\n    __extends(PointerInteraction, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function PointerInteraction(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, \n        /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)) || this;\n        if (options.handleDownEvent) {\n            _this.handleDownEvent = options.handleDownEvent;\n        }\n        if (options.handleDragEvent) {\n            _this.handleDragEvent = options.handleDragEvent;\n        }\n        if (options.handleMoveEvent) {\n            _this.handleMoveEvent = options.handleMoveEvent;\n        }\n        if (options.handleUpEvent) {\n            _this.handleUpEvent = options.handleUpEvent;\n        }\n        if (options.stopDown) {\n            _this.stopDown = options.stopDown;\n        }\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _this.handlingDownUpSequence = false;\n        /**\n         * @type {Array<PointerEvent>}\n         * @protected\n         */\n        _this.targetPointers = [];\n        return _this;\n    }\n    /**\n     * Returns the current number of pointers involved in the interaction,\n     * e.g. `2` when two fingers are used.\n     * @return {number} The number of pointers.\n     * @api\n     */\n    PointerInteraction.prototype.getPointerCount = function () {\n        return this.targetPointers.length;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDownEvent = function (mapBrowserEvent) {\n        return false;\n    };\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleDragEvent = function (mapBrowserEvent) { };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} and may call into\n     * other functions, if event sequences like e.g. 'drag' or 'down-up' etc. are\n     * detected.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @api\n     */\n    PointerInteraction.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!mapBrowserEvent.originalEvent) {\n            return true;\n        }\n        var stopEvent = false;\n        this.updateTrackedPointers_(mapBrowserEvent);\n        if (this.handlingDownUpSequence) {\n            if (mapBrowserEvent.type == MapBrowserEventType.POINTERDRAG) {\n                this.handleDragEvent(mapBrowserEvent);\n                // prevent page scrolling during dragging\n                mapBrowserEvent.originalEvent.preventDefault();\n            }\n            else if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n                var handledUp = this.handleUpEvent(mapBrowserEvent);\n                this.handlingDownUpSequence =\n                    handledUp && this.targetPointers.length > 0;\n            }\n        }\n        else {\n            if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n                var handled = this.handleDownEvent(mapBrowserEvent);\n                this.handlingDownUpSequence = handled;\n                stopEvent = this.stopDown(handled);\n            }\n            else if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE) {\n                this.handleMoveEvent(mapBrowserEvent);\n            }\n        }\n        return !stopEvent;\n    };\n    /**\n     * Handle pointer move events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @protected\n     */\n    PointerInteraction.prototype.handleMoveEvent = function (mapBrowserEvent) { };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     * @protected\n     */\n    PointerInteraction.prototype.handleUpEvent = function (mapBrowserEvent) {\n        return false;\n    };\n    /**\n     * This function is used to determine if \"down\" events should be propagated\n     * to other interactions or should be stopped.\n     * @param {boolean} handled Was the event handled by the interaction?\n     * @return {boolean} Should the `down` event be stopped?\n     */\n    PointerInteraction.prototype.stopDown = function (handled) {\n        return handled;\n    };\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @private\n     */\n    PointerInteraction.prototype.updateTrackedPointers_ = function (mapBrowserEvent) {\n        if (mapBrowserEvent.activePointers) {\n            this.targetPointers = mapBrowserEvent.activePointers;\n        }\n    };\n    return PointerInteraction;\n}(Interaction));\n/**\n * @param {Array<PointerEvent>} pointerEvents List of events.\n * @return {import(\"../pixel.js\").Pixel} Centroid pixel.\n */\nexport function centroid(pointerEvents) {\n    var length = pointerEvents.length;\n    var clientX = 0;\n    var clientY = 0;\n    for (var i = 0; i < length; i++) {\n        clientX += pointerEvents[i].clientX;\n        clientY += pointerEvents[i].clientY;\n    }\n    return [clientX / length, clientY / length];\n}\nexport default PointerInteraction;\n//# sourceMappingURL=Pointer.js.map","/**\n * @module ol/events/condition\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport { FALSE, TRUE } from '../functions.js';\nimport { MAC, WEBKIT } from '../has.js';\nimport { assert } from '../asserts.js';\n/**\n * A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * `{boolean}`. If the condition is met, true should be returned.\n *\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n */\n/**\n * Creates a condition function that passes when all provided conditions pass.\n * @param {...Condition} var_args Conditions to check.\n * @return {Condition} Condition function.\n */\nexport function all(var_args) {\n    var conditions = arguments;\n    /**\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     * @return {boolean} All conditions passed.\n     */\n    return function (event) {\n        var pass = true;\n        for (var i = 0, ii = conditions.length; i < ii; ++i) {\n            pass = pass && conditions[i](event);\n            if (!pass) {\n                break;\n            }\n        }\n        return pass;\n    };\n}\n/**\n * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n * additionally the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt key is pressed.\n * @api\n */\nexport var altKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n * (e.g. when additionally the platform-modifier-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt and shift keys are pressed.\n * @api\n */\nexport var altShiftKeysOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the map has the focus. This condition requires a map target\n * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map has the focus.\n * @api\n */\nexport var focus = function (event) {\n    var targetElement = event.map.getTargetElement();\n    var activeElement = event.map.getOwnerDocument().activeElement;\n    return targetElement.contains(activeElement);\n};\n/**\n * Return `true` if the map has the focus or no 'tabindex' attribute set.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map container has the focus or no 'tabindex' attribute.\n */\nexport var focusWithTabindex = function (event) {\n    return event.map.getTargetElement().hasAttribute('tabindex')\n        ? focus(event)\n        : true;\n};\n/**\n * Return always true.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True.\n * @api\n */\nexport var always = TRUE;\n/**\n * Return `true` if the event is a `click` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `click` event.\n * @api\n */\nexport var click = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.CLICK;\n};\n/**\n * Return `true` if the event has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} The result.\n */\nexport var mouseActionButton = function (mapBrowserEvent) {\n    var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    return originalEvent.button == 0 && !(WEBKIT && MAC && originalEvent.ctrlKey);\n};\n/**\n * Return always false.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} False.\n * @api\n */\nexport var never = FALSE;\n/**\n * Return `true` if the browser event is a `pointermove` event, `false`\n * otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the browser event is a `pointermove` event.\n * @api\n */\nexport var pointerMove = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == 'pointermove';\n};\n/**\n * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `singleclick` event.\n * @api\n */\nexport var singleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n};\n/**\n * Return `true` if the event is a map `dblclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `dblclick` event.\n * @api\n */\nexport var doubleClick = function (mapBrowserEvent) {\n    return mapBrowserEvent.type == MapBrowserEventType.DBLCLICK;\n};\n/**\n * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n * pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if there no modifier keys are pressed.\n * @api\n */\nexport var noModifierKeys = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed, `false` otherwise (e.g. when additionally\n * the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @api\n */\nexport var platformModifierKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\n        !originalEvent.shiftKey);\n};\n/**\n * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n * additionally the alt-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the shift key is pressed.\n * @api\n */\nexport var shiftKeyOnly = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    return (!originalEvent.altKey &&\n        !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n        originalEvent.shiftKey);\n};\n/**\n * Return `true` if the target element is not editable, i.e. not an `input`,\n * `select`, or `textarea` element and no `contenteditable` attribute is\n * set or inherited, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if the target element is not editable.\n * @api\n */\nexport var targetNotEditable = function (mapBrowserEvent) {\n    var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n    var tagName = /** @type {Element} */ (originalEvent.target).tagName;\n    return (tagName !== 'INPUT' &&\n        tagName !== 'SELECT' &&\n        tagName !== 'TEXTAREA' &&\n        // `isContentEditable` is only available on `HTMLElement`, but it may also be a\n        // different type like `SVGElement`.\n        // @ts-ignore\n        !originalEvent.target.isContentEditable);\n};\n/**\n * Return `true` if the event originates from a mouse device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a mouse device.\n * @api\n */\nexport var mouseOnly = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvent.pointerType == 'mouse';\n};\n/**\n * Return `true` if the event originates from a touchable device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a touchable device.\n * @api\n */\nexport var touchOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'touch';\n};\n/**\n * Return `true` if the event originates from a digital pen.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a digital pen.\n * @api\n */\nexport var penOnly = function (mapBrowserEvent) {\n    var pointerEvt = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvt !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    // see https://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n    return pointerEvt.pointerType === 'pen';\n};\n/**\n * Return `true` if the event originates from a primary pointer in\n * contact with the surface or if the left mouse button is pressed.\n * See https://www.w3.org/TR/pointerevents/#button-states.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a primary pointer.\n * @api\n */\nexport var primaryAction = function (mapBrowserEvent) {\n    var pointerEvent = /** @type {import(\"../MapBrowserEvent\").default} */ (mapBrowserEvent).originalEvent;\n    assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n    return pointerEvent.isPrimary && pointerEvent.button === 0;\n};\n//# sourceMappingURL=condition.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragPan\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { all, focusWithTabindex, noModifierKeys, primaryAction, } from '../events/condition.js';\nimport { easeOut } from '../easing.js';\nimport { rotate as rotateCoordinate, scale as scaleCoordinate, } from '../coordinate.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.noModifierKeys} and {@link module:ol/events/condition.primaryAction}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n */\n/**\n * @classdesc\n * Allows the user to pan the map by dragging the map.\n * @api\n */\nvar DragPan = /** @class */ (function (_super) {\n    __extends(DragPan, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function DragPan(opt_options) {\n        var _this = _super.call(this, {\n            stopDown: FALSE,\n        }) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {import(\"../Kinetic.js\").default|undefined}\n         */\n        _this.kinetic_ = options.kinetic;\n        /**\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.lastCentroid = null;\n        /**\n         * @type {number}\n         */\n        _this.lastPointersCount_;\n        /**\n         * @type {boolean}\n         */\n        _this.panning_ = false;\n        var condition = options.condition\n            ? options.condition\n            : all(noModifierKeys, primaryAction);\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.onFocusOnly\n            ? all(focusWithTabindex, condition)\n            : condition;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.noKinetic_ = false;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragPan.prototype.handleDragEvent = function (mapBrowserEvent) {\n        if (!this.panning_) {\n            this.panning_ = true;\n            this.getMap().getView().beginInteraction();\n        }\n        var targetPointers = this.targetPointers;\n        var centroid = centroidFromPointers(targetPointers);\n        if (targetPointers.length == this.lastPointersCount_) {\n            if (this.kinetic_) {\n                this.kinetic_.update(centroid[0], centroid[1]);\n            }\n            if (this.lastCentroid) {\n                var delta = [\n                    this.lastCentroid[0] - centroid[0],\n                    centroid[1] - this.lastCentroid[1],\n                ];\n                var map = mapBrowserEvent.map;\n                var view = map.getView();\n                scaleCoordinate(delta, view.getResolution());\n                rotateCoordinate(delta, view.getRotation());\n                view.adjustCenterInternal(delta);\n            }\n        }\n        else if (this.kinetic_) {\n            // reset so we don't overestimate the kinetic energy after\n            // after one finger down, tiny drag, second finger down\n            this.kinetic_.begin();\n        }\n        this.lastCentroid = centroid;\n        this.lastPointersCount_ = targetPointers.length;\n        mapBrowserEvent.originalEvent.preventDefault();\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragPan.prototype.handleUpEvent = function (mapBrowserEvent) {\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (this.targetPointers.length === 0) {\n            if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n                var distance = this.kinetic_.getDistance();\n                var angle = this.kinetic_.getAngle();\n                var center = view.getCenterInternal();\n                var centerpx = map.getPixelFromCoordinateInternal(center);\n                var dest = map.getCoordinateFromPixelInternal([\n                    centerpx[0] - distance * Math.cos(angle),\n                    centerpx[1] - distance * Math.sin(angle),\n                ]);\n                view.animateInternal({\n                    center: view.getConstrainedCenter(dest),\n                    duration: 500,\n                    easing: easeOut,\n                });\n            }\n            if (this.panning_) {\n                this.panning_ = false;\n                view.endInteraction();\n            }\n            return false;\n        }\n        else {\n            if (this.kinetic_) {\n                // reset so we don't overestimate the kinetic energy after\n                // after one finger up, tiny drag, second finger up\n                this.kinetic_.begin();\n            }\n            this.lastCentroid = null;\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragPan.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            this.lastCentroid = null;\n            // stop any current animation\n            if (view.getAnimating()) {\n                view.cancelAnimations();\n            }\n            if (this.kinetic_) {\n                this.kinetic_.begin();\n            }\n            // No kinetic as soon as more than one pointer on the screen is\n            // detected. This is to prevent nasty pans after pinch.\n            this.noKinetic_ = this.targetPointers.length > 1;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return DragPan;\n}(PointerInteraction));\nexport default DragPan;\n//# sourceMappingURL=DragPan.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragRotate\n */\nimport PointerInteraction from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { altShiftKeysOnly, mouseActionButton, mouseOnly, } from '../events/condition.js';\nimport { disable } from '../rotationconstraint.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an\n * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.altShiftKeysOnly}.\n * @property {number} [duration=250] Animation duration in milliseconds.\n */\n/**\n * @classdesc\n * Allows the user to rotate the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the alt and shift keys are held down.\n *\n * This interaction is only supported for mouse devices.\n * @api\n */\nvar DragRotate = /** @class */ (function (_super) {\n    __extends(DragRotate, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function DragRotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, {\n            stopDown: FALSE,\n        }) || this;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastAngle_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragRotate.prototype.handleDragEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return;\n        }\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (view.getConstraints().rotation === disable) {\n            return;\n        }\n        var size = map.getSize();\n        var offset = mapBrowserEvent.pixel;\n        var theta = Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n        if (this.lastAngle_ !== undefined) {\n            var delta = theta - this.lastAngle_;\n            view.adjustRotationInternal(-delta);\n        }\n        this.lastAngle_ = theta;\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragRotate.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return true;\n        }\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        view.endInteraction(this.duration_);\n        return false;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragRotate.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (!mouseOnly(mapBrowserEvent)) {\n            return false;\n        }\n        if (mouseActionButton(mapBrowserEvent) &&\n            this.condition_(mapBrowserEvent)) {\n            var map = mapBrowserEvent.map;\n            map.getView().beginInteraction();\n            this.lastAngle_ = undefined;\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return DragRotate;\n}(PointerInteraction));\nexport default DragRotate;\n//# sourceMappingURL=DragRotate.js.map","/**\n * @module ol/render/Box\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\nvar RenderBox = /** @class */ (function (_super) {\n    __extends(RenderBox, _super);\n    /**\n     * @param {string} className CSS class name.\n     */\n    function RenderBox(className) {\n        var _this = _super.call(this) || this;\n        /**\n         * @type {import(\"../geom/Polygon.js\").default}\n         * @private\n         */\n        _this.geometry_ = null;\n        /**\n         * @type {HTMLDivElement}\n         * @private\n         */\n        _this.element_ = document.createElement('div');\n        _this.element_.style.position = 'absolute';\n        _this.element_.style.pointerEvents = 'auto';\n        _this.element_.className = 'ol-box ' + className;\n        /**\n         * @private\n         * @type {import(\"../PluggableMap.js\").default|null}\n         */\n        _this.map_ = null;\n        /**\n         * @private\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.startPixel_ = null;\n        /**\n         * @private\n         * @type {import(\"../pixel.js\").Pixel}\n         */\n        _this.endPixel_ = null;\n        return _this;\n    }\n    /**\n     * Clean up.\n     */\n    RenderBox.prototype.disposeInternal = function () {\n        this.setMap(null);\n    };\n    /**\n     * @private\n     */\n    RenderBox.prototype.render_ = function () {\n        var startPixel = this.startPixel_;\n        var endPixel = this.endPixel_;\n        var px = 'px';\n        var style = this.element_.style;\n        style.left = Math.min(startPixel[0], endPixel[0]) + px;\n        style.top = Math.min(startPixel[1], endPixel[1]) + px;\n        style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n        style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n    };\n    /**\n     * @param {import(\"../PluggableMap.js\").default|null} map Map.\n     */\n    RenderBox.prototype.setMap = function (map) {\n        if (this.map_) {\n            this.map_.getOverlayContainer().removeChild(this.element_);\n            var style = this.element_.style;\n            style.left = 'inherit';\n            style.top = 'inherit';\n            style.width = 'inherit';\n            style.height = 'inherit';\n        }\n        this.map_ = map;\n        if (this.map_) {\n            this.map_.getOverlayContainer().appendChild(this.element_);\n        }\n    };\n    /**\n     * @param {import(\"../pixel.js\").Pixel} startPixel Start pixel.\n     * @param {import(\"../pixel.js\").Pixel} endPixel End pixel.\n     */\n    RenderBox.prototype.setPixels = function (startPixel, endPixel) {\n        this.startPixel_ = startPixel;\n        this.endPixel_ = endPixel;\n        this.createOrUpdateGeometry();\n        this.render_();\n    };\n    /**\n     * Creates or updates the cached geometry.\n     */\n    RenderBox.prototype.createOrUpdateGeometry = function () {\n        var startPixel = this.startPixel_;\n        var endPixel = this.endPixel_;\n        var pixels = [\n            startPixel,\n            [startPixel[0], endPixel[1]],\n            endPixel,\n            [endPixel[0], startPixel[1]],\n        ];\n        var coordinates = pixels.map(this.map_.getCoordinateFromPixelInternal, this.map_);\n        // close the polygon\n        coordinates[4] = coordinates[0].slice();\n        if (!this.geometry_) {\n            this.geometry_ = new Polygon([coordinates]);\n        }\n        else {\n            this.geometry_.setCoordinates([coordinates]);\n        }\n    };\n    /**\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     */\n    RenderBox.prototype.getGeometry = function () {\n        return this.geometry_;\n    };\n    return RenderBox;\n}(Disposable));\nexport default RenderBox;\n//# sourceMappingURL=Box.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragBox\n */\n// FIXME draw drag box\nimport Event from '../events/Event.js';\nimport PointerInteraction from './Pointer.js';\nimport RenderBox from '../render/Box.js';\nimport { mouseActionButton } from '../events/condition.js';\n/**\n * A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s and returns a `{boolean}`. If the condition is met,\n * true should be returned.\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default, import(\"../pixel.js\").Pixel, import(\"../pixel.js\").Pixel):boolean} EndCondition\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragbox'] CSS class name for styling the box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link ol/events/condition~mouseActionButton}.\n * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the default\n * `boxEndCondition` function.\n * @property {EndCondition} [boxEndCondition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s to indicate whether a `boxend` event should be fired.\n * Default is `true` if the area of the box is bigger than the `minArea` option.\n * @property {function(this:DragBox, import(\"../MapBrowserEvent.js\").default):void} [onBoxEnd] Code to execute just\n * before `boxend` is fired.\n */\n/**\n * @enum {string}\n */\nvar DragBoxEventType = {\n    /**\n     * Triggered upon drag box start.\n     * @event DragBoxEvent#boxstart\n     * @api\n     */\n    BOXSTART: 'boxstart',\n    /**\n     * Triggered on drag when box is active.\n     * @event DragBoxEvent#boxdrag\n     * @api\n     */\n    BOXDRAG: 'boxdrag',\n    /**\n     * Triggered upon drag box end.\n     * @event DragBoxEvent#boxend\n     * @api\n     */\n    BOXEND: 'boxend',\n    /**\n     * Triggered upon drag box canceled.\n     * @event DragBoxEvent#boxcancel\n     * @api\n     */\n    BOXCANCEL: 'boxcancel',\n};\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/DragBox~DragBox} instances are instances of\n * this type.\n */\nvar DragBoxEvent = /** @class */ (function (_super) {\n    __extends(DragBoxEvent, _super);\n    /**\n     * @param {string} type The event type.\n     * @param {import(\"../coordinate.js\").Coordinate} coordinate The event coordinate.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Originating event.\n     */\n    function DragBoxEvent(type, coordinate, mapBrowserEvent) {\n        var _this = _super.call(this, type) || this;\n        /**\n         * The coordinate of the drag event.\n         * @const\n         * @type {import(\"../coordinate.js\").Coordinate}\n         * @api\n         */\n        _this.coordinate = coordinate;\n        /**\n         * @const\n         * @type {import(\"../MapBrowserEvent.js\").default}\n         * @api\n         */\n        _this.mapBrowserEvent = mapBrowserEvent;\n        return _this;\n    }\n    return DragBoxEvent;\n}(Event));\nexport { DragBoxEvent };\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'boxcancel'|'boxdrag'|'boxend'|'boxstart', DragBoxEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'boxcancel'|'boxdrag'|'boxend', Return>} DragBoxOnSignature\n */\n/**\n * @classdesc\n * Allows the user to draw a vector box by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the shift or other key is held down. This is used, for example,\n * for zooming to a specific area of the map\n * (see {@link module:ol/interaction/DragZoom~DragZoom} and\n * {@link module:ol/interaction/DragRotateAndZoom~DragRotateAndZoom}).\n *\n * @fires DragBoxEvent\n * @api\n */\nvar DragBox = /** @class */ (function (_super) {\n    __extends(DragBox, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function DragBox(opt_options) {\n        var _this = _super.call(this) || this;\n        /***\n         * @type {DragBoxOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {DragBoxOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {DragBoxOnSignature<void>}\n         */\n        _this.un;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @type {import(\"../render/Box.js\").default}\n         * @private\n         */\n        _this.box_ = new RenderBox(options.className || 'ol-dragbox');\n        /**\n         * @type {number}\n         * @private\n         */\n        _this.minArea_ = options.minArea !== undefined ? options.minArea : 64;\n        if (options.onBoxEnd) {\n            _this.onBoxEnd = options.onBoxEnd;\n        }\n        /**\n         * @type {import(\"../pixel.js\").Pixel}\n         * @private\n         */\n        _this.startPixel_ = null;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : mouseActionButton;\n        /**\n         * @private\n         * @type {EndCondition}\n         */\n        _this.boxEndCondition_ = options.boxEndCondition\n            ? options.boxEndCondition\n            : _this.defaultBoxEndCondition;\n        return _this;\n    }\n    /**\n     * The default condition for determining whether the boxend event\n     * should fire.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent The originating MapBrowserEvent\n     *     leading to the box end.\n     * @param {import(\"../pixel.js\").Pixel} startPixel The starting pixel of the box.\n     * @param {import(\"../pixel.js\").Pixel} endPixel The end pixel of the box.\n     * @return {boolean} Whether or not the boxend condition should be fired.\n     */\n    DragBox.prototype.defaultBoxEndCondition = function (mapBrowserEvent, startPixel, endPixel) {\n        var width = endPixel[0] - startPixel[0];\n        var height = endPixel[1] - startPixel[1];\n        return width * width + height * height >= this.minArea_;\n    };\n    /**\n     * Returns geometry of last drawn box.\n     * @return {import(\"../geom/Polygon.js\").default} Geometry.\n     * @api\n     */\n    DragBox.prototype.getGeometry = function () {\n        return this.box_.getGeometry();\n    };\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    DragBox.prototype.handleDragEvent = function (mapBrowserEvent) {\n        this.box_.setPixels(this.startPixel_, mapBrowserEvent.pixel);\n        this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG, mapBrowserEvent.coordinate, mapBrowserEvent));\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragBox.prototype.handleUpEvent = function (mapBrowserEvent) {\n        this.box_.setMap(null);\n        var completeBox = this.boxEndCondition_(mapBrowserEvent, this.startPixel_, mapBrowserEvent.pixel);\n        if (completeBox) {\n            this.onBoxEnd(mapBrowserEvent);\n        }\n        this.dispatchEvent(new DragBoxEvent(completeBox ? DragBoxEventType.BOXEND : DragBoxEventType.BOXCANCEL, mapBrowserEvent.coordinate, mapBrowserEvent));\n        return false;\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    DragBox.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.condition_(mapBrowserEvent)) {\n            this.startPixel_ = mapBrowserEvent.pixel;\n            this.box_.setMap(mapBrowserEvent.map);\n            this.box_.setPixels(this.startPixel_, this.startPixel_);\n            this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART, mapBrowserEvent.coordinate, mapBrowserEvent));\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Function to execute just before `onboxend` is fired\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     */\n    DragBox.prototype.onBoxEnd = function (event) { };\n    return DragBox;\n}(PointerInteraction));\nexport default DragBox;\n//# sourceMappingURL=DragBox.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/DragZoom\n */\nimport DragBox from './DragBox.js';\nimport { easeOut } from '../easing.js';\nimport { shiftKeyOnly } from '../events/condition.js';\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragzoom'] CSS class name for styling the\n * box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.shiftKeyOnly}.\n * @property {number} [duration=200] Animation duration in milliseconds.\n * @property {boolean} [out=false] Use interaction for zooming out.\n * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the parent default\n * `boxEndCondition` function.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when a key, shift by default, is held down.\n *\n * To change the style of the box, use CSS and the `.ol-dragzoom` selector, or\n * your custom one configured with `className`.\n * @api\n */\nvar DragZoom = /** @class */ (function (_super) {\n    __extends(DragZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function DragZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var condition = options.condition ? options.condition : shiftKeyOnly;\n        _this = _super.call(this, {\n            condition: condition,\n            className: options.className || 'ol-dragzoom',\n            minArea: options.minArea,\n        }) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 200;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.out_ = options.out !== undefined ? options.out : false;\n        return _this;\n    }\n    /**\n     * Function to execute just before `onboxend` is fired\n     * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n     */\n    DragZoom.prototype.onBoxEnd = function (event) {\n        var map = this.getMap();\n        var view = /** @type {!import(\"../View.js\").default} */ (map.getView());\n        var geometry = this.getGeometry();\n        if (this.out_) {\n            var rotatedExtent = view.rotatedExtentForGeometry(geometry);\n            var resolution = view.getResolutionForExtentInternal(rotatedExtent);\n            var factor = view.getResolution() / resolution;\n            geometry = geometry.clone();\n            geometry.scale(factor * factor);\n        }\n        view.fitInternal(geometry, {\n            duration: this.duration_,\n            easing: easeOut,\n        });\n    };\n    return DragZoom;\n}(DragBox));\nexport default DragZoom;\n//# sourceMappingURL=DragZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/KeyboardPan\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { pan } from './Interaction.js';\nimport KeyCode from '../events/KeyCode.js';\nimport { noModifierKeys, targetNotEditable } from '../events/condition.js';\nimport { rotate as rotateCoordinate } from '../coordinate.js';\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.noModifierKeys} and\n * {@link module:ol/events/condition.targetNotEditable}.\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n * press.\n */\n/**\n * @classdesc\n * Allows the user to pan the map using keyboard arrows.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n * @api\n */\nvar KeyboardPan = /** @class */ (function (_super) {\n    __extends(KeyboardPan, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function KeyboardPan(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options || {};\n        /**\n         * @private\n         * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n         * @return {boolean} Combined condition result.\n         */\n        _this.defaultCondition_ = function (mapBrowserEvent) {\n            return (noModifierKeys(mapBrowserEvent) && targetNotEditable(mapBrowserEvent));\n        };\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ =\n            options.condition !== undefined\n                ? options.condition\n                : _this.defaultCondition_;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 100;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.pixelDelta_ =\n            options.pixelDelta !== undefined ? options.pixelDelta : 128;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} if it was a\n     * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n     * pressed).\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @this {KeyboardPan}\n     */\n    KeyboardPan.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == EventType.KEYDOWN) {\n            var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n            var keyCode = keyEvent.keyCode;\n            if (this.condition_(mapBrowserEvent) &&\n                (keyCode == KeyCode.DOWN ||\n                    keyCode == KeyCode.LEFT ||\n                    keyCode == KeyCode.RIGHT ||\n                    keyCode == KeyCode.UP)) {\n                var map = mapBrowserEvent.map;\n                var view = map.getView();\n                var mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n                var deltaX = 0, deltaY = 0;\n                if (keyCode == KeyCode.DOWN) {\n                    deltaY = -mapUnitsDelta;\n                }\n                else if (keyCode == KeyCode.LEFT) {\n                    deltaX = -mapUnitsDelta;\n                }\n                else if (keyCode == KeyCode.RIGHT) {\n                    deltaX = mapUnitsDelta;\n                }\n                else {\n                    deltaY = mapUnitsDelta;\n                }\n                var delta = [deltaX, deltaY];\n                rotateCoordinate(delta, view.getRotation());\n                pan(view, delta, this.duration_);\n                keyEvent.preventDefault();\n                stopEvent = true;\n            }\n        }\n        return !stopEvent;\n    };\n    return KeyboardPan;\n}(Interaction));\nexport default KeyboardPan;\n//# sourceMappingURL=KeyboardPan.js.map","/**\n * @module ol/events/KeyCode\n */\n/**\n * @enum {number}\n * @const\n */\nexport default {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n};\n//# sourceMappingURL=KeyCode.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/KeyboardZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { targetNotEditable } from '../events/condition.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.targetNotEditable}.\n * @property {number} [delta=1] The zoom level delta on each key press.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map using keyboard + and -.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n * @api\n */\nvar KeyboardZoom = /** @class */ (function (_super) {\n    __extends(KeyboardZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function KeyboardZoom(opt_options) {\n        var _this = _super.call(this) || this;\n        var options = opt_options ? opt_options : {};\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.condition ? options.condition : targetNotEditable;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.delta_ = options.delta ? options.delta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 100;\n        return _this;\n    }\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} if it was a\n     * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n     * key pressed was '+' or '-').\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     * @this {KeyboardZoom}\n     */\n    KeyboardZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        var stopEvent = false;\n        if (mapBrowserEvent.type == EventType.KEYDOWN ||\n            mapBrowserEvent.type == EventType.KEYPRESS) {\n            var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n            var charCode = keyEvent.charCode;\n            if (this.condition_(mapBrowserEvent) &&\n                (charCode == '+'.charCodeAt(0) || charCode == '-'.charCodeAt(0))) {\n                var map = mapBrowserEvent.map;\n                var delta = charCode == '+'.charCodeAt(0) ? this.delta_ : -this.delta_;\n                var view = map.getView();\n                zoomByDelta(view, delta, undefined, this.duration_);\n                keyEvent.preventDefault();\n                stopEvent = true;\n            }\n        }\n        return !stopEvent;\n    };\n    return KeyboardZoom;\n}(Interaction));\nexport default KeyboardZoom;\n//# sourceMappingURL=KeyboardZoom.js.map","/**\n * @module ol/Kinetic\n */\n/**\n * @classdesc\n * Implementation of inertial deceleration for map movement.\n *\n * @api\n */\nvar Kinetic = /** @class */ (function () {\n    /**\n     * @param {number} decay Rate of decay (must be negative).\n     * @param {number} minVelocity Minimum velocity (pixels/millisecond).\n     * @param {number} delay Delay to consider to calculate the kinetic\n     *     initial values (milliseconds).\n     */\n    function Kinetic(decay, minVelocity, delay) {\n        /**\n         * @private\n         * @type {number}\n         */\n        this.decay_ = decay;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.minVelocity_ = minVelocity;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.delay_ = delay;\n        /**\n         * @private\n         * @type {Array<number>}\n         */\n        this.points_ = [];\n        /**\n         * @private\n         * @type {number}\n         */\n        this.angle_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        this.initialVelocity_ = 0;\n    }\n    /**\n     * FIXME empty description for jsdoc\n     */\n    Kinetic.prototype.begin = function () {\n        this.points_.length = 0;\n        this.angle_ = 0;\n        this.initialVelocity_ = 0;\n    };\n    /**\n     * @param {number} x X.\n     * @param {number} y Y.\n     */\n    Kinetic.prototype.update = function (x, y) {\n        this.points_.push(x, y, Date.now());\n    };\n    /**\n     * @return {boolean} Whether we should do kinetic animation.\n     */\n    Kinetic.prototype.end = function () {\n        if (this.points_.length < 6) {\n            // at least 2 points are required (i.e. there must be at least 6 elements\n            // in the array)\n            return false;\n        }\n        var delay = Date.now() - this.delay_;\n        var lastIndex = this.points_.length - 3;\n        if (this.points_[lastIndex + 2] < delay) {\n            // the last tracked point is too old, which means that the user stopped\n            // panning before releasing the map\n            return false;\n        }\n        // get the first point which still falls into the delay time\n        var firstIndex = lastIndex - 3;\n        while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n            firstIndex -= 3;\n        }\n        var duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n        // we don't want a duration of 0 (divide by zero)\n        // we also make sure the user panned for a duration of at least one frame\n        // (1/60s) to compute sane displacement values\n        if (duration < 1000 / 60) {\n            return false;\n        }\n        var dx = this.points_[lastIndex] - this.points_[firstIndex];\n        var dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n        this.angle_ = Math.atan2(dy, dx);\n        this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n        return this.initialVelocity_ > this.minVelocity_;\n    };\n    /**\n     * @return {number} Total distance travelled (pixels).\n     */\n    Kinetic.prototype.getDistance = function () {\n        return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n    };\n    /**\n     * @return {number} Angle of the kinetic panning animation (radians).\n     */\n    Kinetic.prototype.getAngle = function () {\n        return this.angle_;\n    };\n    return Kinetic;\n}());\nexport default Kinetic;\n//# sourceMappingURL=Kinetic.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport EventType from '../events/EventType.js';\nimport Interaction, { zoomByDelta } from './Interaction.js';\nimport { DEVICE_PIXEL_RATIO, FIREFOX } from '../has.js';\nimport { all, always, focusWithTabindex } from '../events/condition.js';\nimport { clamp } from '../math.js';\n/**\n * @enum {string}\n */\nexport var Mode = {\n    TRACKPAD: 'trackpad',\n    WHEEL: 'wheel',\n};\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition.always}.\n * @property {boolean} [onFocusOnly=false] When the map's target has a `tabindex` attribute set,\n * the interaction will only handle events when the map has the focus.\n * @property {number} [maxDelta=1] Maximum mouse wheel delta.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n * @property {boolean} [constrainResolution=false] If true, the mouse wheel zoom\n * event will always animate to the closest zoom level after an interaction;\n * false means intermediary zoom levels are allowed.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nvar MouseWheelZoom = /** @class */ (function (_super) {\n    __extends(MouseWheelZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function MouseWheelZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        _this = _super.call(this, \n        /** @type {import(\"./Interaction.js\").InteractionOptions} */ (options)) || this;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.totalDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.lastDelta_ = 0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.maxDelta_ = options.maxDelta !== undefined ? options.maxDelta : 1;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.useAnchor_ =\n            options.useAnchor !== undefined ? options.useAnchor : true;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.constrainResolution_ =\n            options.constrainResolution !== undefined\n                ? options.constrainResolution\n                : false;\n        var condition = options.condition ? options.condition : always;\n        /**\n         * @private\n         * @type {import(\"../events/condition.js\").Condition}\n         */\n        _this.condition_ = options.onFocusOnly\n            ? all(focusWithTabindex, condition)\n            : condition;\n        /**\n         * @private\n         * @type {?import(\"../coordinate.js\").Coordinate}\n         */\n        _this.lastAnchor_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.startTime_ = undefined;\n        /**\n         * @private\n         * @type {?}\n         */\n        _this.timeoutId_;\n        /**\n         * @private\n         * @type {Mode|undefined}\n         */\n        _this.mode_ = undefined;\n        /**\n         * Trackpad events separated by this delay will be considered separate\n         * interactions.\n         * @type {number}\n         */\n        _this.trackpadEventGap_ = 400;\n        /**\n         * @type {?}\n         */\n        _this.trackpadTimeoutId_;\n        /**\n         * The number of delta values per zoom level\n         * @private\n         * @type {number}\n         */\n        _this.deltaPerZoom_ = 300;\n        return _this;\n    }\n    /**\n     * @private\n     */\n    MouseWheelZoom.prototype.endInteraction_ = function () {\n        this.trackpadTimeoutId_ = undefined;\n        var map = this.getMap();\n        if (!map) {\n            return;\n        }\n        var view = map.getView();\n        view.endInteraction(undefined, this.lastDelta_ ? (this.lastDelta_ > 0 ? 1 : -1) : 0, this.lastAnchor_);\n    };\n    /**\n     * Handles the {@link module:ol/MapBrowserEvent~MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n     * zooms the map.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n     * @return {boolean} `false` to stop event propagation.\n     */\n    MouseWheelZoom.prototype.handleEvent = function (mapBrowserEvent) {\n        if (!this.condition_(mapBrowserEvent)) {\n            return true;\n        }\n        var type = mapBrowserEvent.type;\n        if (type !== EventType.WHEEL) {\n            return true;\n        }\n        var map = mapBrowserEvent.map;\n        var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n        wheelEvent.preventDefault();\n        if (this.useAnchor_) {\n            this.lastAnchor_ = mapBrowserEvent.coordinate;\n        }\n        // Delta normalisation inspired by\n        // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n        var delta;\n        if (mapBrowserEvent.type == EventType.WHEEL) {\n            delta = wheelEvent.deltaY;\n            if (FIREFOX && wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n                delta /= DEVICE_PIXEL_RATIO;\n            }\n            if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n                delta *= 40;\n            }\n        }\n        if (delta === 0) {\n            return false;\n        }\n        else {\n            this.lastDelta_ = delta;\n        }\n        var now = Date.now();\n        if (this.startTime_ === undefined) {\n            this.startTime_ = now;\n        }\n        if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n            this.mode_ = Math.abs(delta) < 4 ? Mode.TRACKPAD : Mode.WHEEL;\n        }\n        var view = map.getView();\n        if (this.mode_ === Mode.TRACKPAD &&\n            !(view.getConstrainResolution() || this.constrainResolution_)) {\n            if (this.trackpadTimeoutId_) {\n                clearTimeout(this.trackpadTimeoutId_);\n            }\n            else {\n                if (view.getAnimating()) {\n                    view.cancelAnimations();\n                }\n                view.beginInteraction();\n            }\n            this.trackpadTimeoutId_ = setTimeout(this.endInteraction_.bind(this), this.timeout_);\n            view.adjustZoom(-delta / this.deltaPerZoom_, this.lastAnchor_);\n            this.startTime_ = now;\n            return false;\n        }\n        this.totalDelta_ += delta;\n        var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n        clearTimeout(this.timeoutId_);\n        this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n        return false;\n    };\n    /**\n     * @private\n     * @param {import(\"../PluggableMap.js\").default} map Map.\n     */\n    MouseWheelZoom.prototype.handleWheelZoom_ = function (map) {\n        var view = map.getView();\n        if (view.getAnimating()) {\n            view.cancelAnimations();\n        }\n        var delta = -clamp(this.totalDelta_, -this.maxDelta_ * this.deltaPerZoom_, this.maxDelta_ * this.deltaPerZoom_) / this.deltaPerZoom_;\n        if (view.getConstrainResolution() || this.constrainResolution_) {\n            // view has a zoom constraint, zoom by 1\n            delta = delta ? (delta > 0 ? 1 : -1) : 0;\n        }\n        zoomByDelta(view, delta, this.lastAnchor_, this.duration_);\n        this.mode_ = undefined;\n        this.totalDelta_ = 0;\n        this.lastAnchor_ = null;\n        this.startTime_ = undefined;\n        this.timeoutId_ = undefined;\n    };\n    /**\n     * Enable or disable using the mouse's location as an anchor when zooming\n     * @param {boolean} useAnchor true to zoom to the mouse's location, false\n     * to zoom to the center of the map\n     * @api\n     */\n    MouseWheelZoom.prototype.setMouseAnchor = function (useAnchor) {\n        this.useAnchor_ = useAnchor;\n        if (!useAnchor) {\n            this.lastAnchor_ = null;\n        }\n    };\n    return MouseWheelZoom;\n}(Interaction));\nexport default MouseWheelZoom;\n//# sourceMappingURL=MouseWheelZoom.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/PinchRotate\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\nimport { disable } from '../rotationconstraint.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] The duration of the animation in\n * milliseconds.\n * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n */\n/**\n * @classdesc\n * Allows the user to rotate the map by twisting with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchRotate = /** @class */ (function (_super) {\n    __extends(PinchRotate, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function PinchRotate(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n        if (!pointerOptions.stopDown) {\n            pointerOptions.stopDown = FALSE;\n        }\n        _this = _super.call(this, pointerOptions) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastAngle_ = undefined;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.rotating_ = false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.rotationDelta_ = 0.0;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 250;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    PinchRotate.prototype.handleDragEvent = function (mapBrowserEvent) {\n        var rotationDelta = 0.0;\n        var touch0 = this.targetPointers[0];\n        var touch1 = this.targetPointers[1];\n        // angle between touches\n        var angle = Math.atan2(touch1.clientY - touch0.clientY, touch1.clientX - touch0.clientX);\n        if (this.lastAngle_ !== undefined) {\n            var delta = angle - this.lastAngle_;\n            this.rotationDelta_ += delta;\n            if (!this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_) {\n                this.rotating_ = true;\n            }\n            rotationDelta = delta;\n        }\n        this.lastAngle_ = angle;\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (view.getConstraints().rotation === disable) {\n            return;\n        }\n        // rotate anchor point.\n        // FIXME: should be the intersection point between the lines:\n        //     touch0,touch1 and previousTouch0,previousTouch1\n        var viewportPosition = map.getViewport().getBoundingClientRect();\n        var centroid = centroidFromPointers(this.targetPointers);\n        centroid[0] -= viewportPosition.left;\n        centroid[1] -= viewportPosition.top;\n        this.anchor_ = map.getCoordinateFromPixelInternal(centroid);\n        // rotate\n        if (this.rotating_) {\n            map.render();\n            view.adjustRotationInternal(rotationDelta, this.anchor_);\n        }\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchRotate.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length < 2) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            view.endInteraction(this.duration_);\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchRotate.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length >= 2) {\n            var map = mapBrowserEvent.map;\n            this.anchor_ = null;\n            this.lastAngle_ = undefined;\n            this.rotating_ = false;\n            this.rotationDelta_ = 0.0;\n            if (!this.handlingDownUpSequence) {\n                map.getView().beginInteraction();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return PinchRotate;\n}(PointerInteraction));\nexport default PinchRotate;\n//# sourceMappingURL=PinchRotate.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/interaction/PinchZoom\n */\nimport PointerInteraction, { centroid as centroidFromPointers, } from './Pointer.js';\nimport { FALSE } from '../functions.js';\n/**\n * @typedef {Object} Options\n * @property {number} [duration=400] Animation duration in milliseconds.\n */\n/**\n * @classdesc\n * Allows the user to zoom the map by pinching with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchZoom = /** @class */ (function (_super) {\n    __extends(PinchZoom, _super);\n    /**\n     * @param {Options} [opt_options] Options.\n     */\n    function PinchZoom(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n        if (!pointerOptions.stopDown) {\n            pointerOptions.stopDown = FALSE;\n        }\n        _this = _super.call(this, pointerOptions) || this;\n        /**\n         * @private\n         * @type {import(\"../coordinate.js\").Coordinate}\n         */\n        _this.anchor_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.duration_ = options.duration !== undefined ? options.duration : 400;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.lastDistance_ = undefined;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.lastScaleDelta_ = 1;\n        return _this;\n    }\n    /**\n     * Handle pointer drag events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     */\n    PinchZoom.prototype.handleDragEvent = function (mapBrowserEvent) {\n        var scaleDelta = 1.0;\n        var touch0 = this.targetPointers[0];\n        var touch1 = this.targetPointers[1];\n        var dx = touch0.clientX - touch1.clientX;\n        var dy = touch0.clientY - touch1.clientY;\n        // distance between touches\n        var distance = Math.sqrt(dx * dx + dy * dy);\n        if (this.lastDistance_ !== undefined) {\n            scaleDelta = this.lastDistance_ / distance;\n        }\n        this.lastDistance_ = distance;\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        if (scaleDelta != 1.0) {\n            this.lastScaleDelta_ = scaleDelta;\n        }\n        // scale anchor point.\n        var viewportPosition = map.getViewport().getBoundingClientRect();\n        var centroid = centroidFromPointers(this.targetPointers);\n        centroid[0] -= viewportPosition.left;\n        centroid[1] -= viewportPosition.top;\n        this.anchor_ = map.getCoordinateFromPixelInternal(centroid);\n        // scale, bypass the resolution constraint\n        map.render();\n        view.adjustResolutionInternal(scaleDelta, this.anchor_);\n    };\n    /**\n     * Handle pointer up events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchZoom.prototype.handleUpEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length < 2) {\n            var map = mapBrowserEvent.map;\n            var view = map.getView();\n            var direction = this.lastScaleDelta_ > 1 ? 1 : -1;\n            view.endInteraction(this.duration_, direction);\n            return false;\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Handle pointer down events.\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n     * @return {boolean} If the event was consumed.\n     */\n    PinchZoom.prototype.handleDownEvent = function (mapBrowserEvent) {\n        if (this.targetPointers.length >= 2) {\n            var map = mapBrowserEvent.map;\n            this.anchor_ = null;\n            this.lastDistance_ = undefined;\n            this.lastScaleDelta_ = 1;\n            if (!this.handlingDownUpSequence) {\n                map.getView().beginInteraction();\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    return PinchZoom;\n}(PointerInteraction));\nexport default PinchZoom;\n//# sourceMappingURL=PinchZoom.js.map","/**\n * @module ol/interaction\n */\nimport Collection from './Collection.js';\nimport DoubleClickZoom from './interaction/DoubleClickZoom.js';\nimport DragPan from './interaction/DragPan.js';\nimport DragRotate from './interaction/DragRotate.js';\nimport DragZoom from './interaction/DragZoom.js';\nimport KeyboardPan from './interaction/KeyboardPan.js';\nimport KeyboardZoom from './interaction/KeyboardZoom.js';\nimport Kinetic from './Kinetic.js';\nimport MouseWheelZoom from './interaction/MouseWheelZoom.js';\nimport PinchRotate from './interaction/PinchRotate.js';\nimport PinchZoom from './interaction/PinchZoom.js';\nexport { default as DoubleClickZoom } from './interaction/DoubleClickZoom.js';\nexport { default as DragAndDrop } from './interaction/DragAndDrop.js';\nexport { default as DragBox } from './interaction/DragBox.js';\nexport { default as DragPan } from './interaction/DragPan.js';\nexport { default as DragRotate } from './interaction/DragRotate.js';\nexport { default as DragRotateAndZoom } from './interaction/DragRotateAndZoom.js';\nexport { default as DragZoom } from './interaction/DragZoom.js';\nexport { default as Draw } from './interaction/Draw.js';\nexport { default as Extent } from './interaction/Extent.js';\nexport { default as Interaction } from './interaction/Interaction.js';\nexport { default as KeyboardPan } from './interaction/KeyboardPan.js';\nexport { default as KeyboardZoom } from './interaction/KeyboardZoom.js';\nexport { default as Modify } from './interaction/Modify.js';\nexport { default as MouseWheelZoom } from './interaction/MouseWheelZoom.js';\nexport { default as PinchRotate } from './interaction/PinchRotate.js';\nexport { default as PinchZoom } from './interaction/PinchZoom.js';\nexport { default as Pointer } from './interaction/Pointer.js';\nexport { default as Select } from './interaction/Select.js';\nexport { default as Snap } from './interaction/Snap.js';\nexport { default as Translate } from './interaction/Translate.js';\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n * desired.\n * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n * useful when page scroll is desired for maps that do not have the browser's\n * focus.\n * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n * desired.\n * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n * @property {boolean} [dragPan=true] Whether drag pan is desired.\n * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n * @property {number} [zoomDelta] Zoom level delta when using keyboard or double click zoom.\n * @property {number} [zoomDuration] Duration of the zoom animation in\n * milliseconds.\n */\n/**\n * Set of interactions included in maps by default. Specific interactions can be\n * excluded by setting the appropriate option to false in the constructor\n * options, but the order of the interactions is fixed.  If you want to specify\n * a different order for interactions, you will need to create your own\n * {@link module:ol/interaction/Interaction~Interaction} instances and insert\n * them into a {@link module:ol/Collection~Collection} in the order you want\n * before creating your {@link module:ol/Map~Map} instance. Changing the order can\n * be of interest if the event propagation needs to be stopped at a point.\n * The default set of interactions, in sequence, is:\n * * {@link module:ol/interaction/DragRotate~DragRotate}\n * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n * * {@link module:ol/interaction/DragPan~DragPan}\n * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n * * {@link module:ol/interaction/DragZoom~DragZoom}\n *\n * @param {DefaultsOptions} [opt_options] Defaults options.\n * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n * A collection of interactions to be used with the {@link module:ol/Map~Map}\n * constructor's `interactions` option.\n * @api\n */\nexport function defaults(opt_options) {\n    var options = opt_options ? opt_options : {};\n    var interactions = new Collection();\n    var kinetic = new Kinetic(-0.005, 0.05, 100);\n    var altShiftDragRotate = options.altShiftDragRotate !== undefined\n        ? options.altShiftDragRotate\n        : true;\n    if (altShiftDragRotate) {\n        interactions.push(new DragRotate());\n    }\n    var doubleClickZoom = options.doubleClickZoom !== undefined ? options.doubleClickZoom : true;\n    if (doubleClickZoom) {\n        interactions.push(new DoubleClickZoom({\n            delta: options.zoomDelta,\n            duration: options.zoomDuration,\n        }));\n    }\n    var dragPan = options.dragPan !== undefined ? options.dragPan : true;\n    if (dragPan) {\n        interactions.push(new DragPan({\n            onFocusOnly: options.onFocusOnly,\n            kinetic: kinetic,\n        }));\n    }\n    var pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate : true;\n    if (pinchRotate) {\n        interactions.push(new PinchRotate());\n    }\n    var pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n    if (pinchZoom) {\n        interactions.push(new PinchZoom({\n            duration: options.zoomDuration,\n        }));\n    }\n    var keyboard = options.keyboard !== undefined ? options.keyboard : true;\n    if (keyboard) {\n        interactions.push(new KeyboardPan());\n        interactions.push(new KeyboardZoom({\n            delta: options.zoomDelta,\n            duration: options.zoomDuration,\n        }));\n    }\n    var mouseWheelZoom = options.mouseWheelZoom !== undefined ? options.mouseWheelZoom : true;\n    if (mouseWheelZoom) {\n        interactions.push(new MouseWheelZoom({\n            onFocusOnly: options.onFocusOnly,\n            duration: options.zoomDuration,\n        }));\n    }\n    var shiftDragZoom = options.shiftDragZoom !== undefined ? options.shiftDragZoom : true;\n    if (shiftDragZoom) {\n        interactions.push(new DragZoom({\n            duration: options.zoomDuration,\n        }));\n    }\n    return interactions;\n}\n//# sourceMappingURL=interaction.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/Map\n */\nimport CompositeMapRenderer from './renderer/Composite.js';\nimport PluggableMap from './PluggableMap.js';\nimport { assign } from './obj.js';\nimport { defaults as defaultControls } from './control.js';\nimport { defaults as defaultInteractions } from './interaction.js';\n/**\n * @classdesc\n * The map is the core component of OpenLayers. For a map to render, a view,\n * one or more layers, and a target container are needed:\n *\n *     import Map from 'ol/Map';\n *     import View from 'ol/View';\n *     import TileLayer from 'ol/layer/Tile';\n *     import OSM from 'ol/source/OSM';\n *\n *     var map = new Map({\n *       view: new View({\n *         center: [0, 0],\n *         zoom: 1\n *       }),\n *       layers: [\n *         new TileLayer({\n *           source: new OSM()\n *         })\n *       ],\n *       target: 'map'\n *     });\n *\n * The above snippet creates a map using a {@link module:ol/layer/Tile~TileLayer} to\n * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n * element with the id `map`.\n *\n * The constructor places a viewport container (with CSS class name\n * `ol-viewport`) in the target element (see `getViewport()`), and then two\n * further elements within the viewport: one with CSS class name\n * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n * itself is placed in a further element within the viewport.\n *\n * Layers are stored as a {@link module:ol/Collection~Collection} in\n * layerGroups. A top-level group is provided by the library. This is what is\n * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n * options are added to this group, and `addLayer` and `removeLayer` change the\n * layer collection in the group. `getLayers` is a convenience function for\n * `getLayerGroup().getLayers()`. Note that {@link module:ol/layer/Group~LayerGroup}\n * is a subclass of {@link module:ol/layer/Base~BaseLayer}, so layers entered in the\n * options or added with `addLayer` can be groups, which can contain further\n * groups, and so on.\n *\n * @api\n */\nvar Map = /** @class */ (function (_super) {\n    __extends(Map, _super);\n    /**\n     * @param {import(\"./PluggableMap.js\").MapOptions} options Map options.\n     */\n    function Map(options) {\n        options = assign({}, options);\n        if (!options.controls) {\n            options.controls = defaultControls();\n        }\n        if (!options.interactions) {\n            options.interactions = defaultInteractions({\n                onFocusOnly: true,\n            });\n        }\n        return _super.call(this, options) || this;\n    }\n    Map.prototype.createRenderer = function () {\n        return new CompositeMapRenderer(this);\n    };\n    return Map;\n}(PluggableMap));\nexport default Map;\n//# sourceMappingURL=Map.js.map","/**\n * @module ol/control\n */\nimport Attribution from './control/Attribution.js';\nimport Collection from './Collection.js';\nimport Rotate from './control/Rotate.js';\nimport Zoom from './control/Zoom.js';\nexport { default as Attribution } from './control/Attribution.js';\nexport { default as Control } from './control/Control.js';\nexport { default as FullScreen } from './control/FullScreen.js';\nexport { default as MousePosition } from './control/MousePosition.js';\nexport { default as OverviewMap } from './control/OverviewMap.js';\nexport { default as Rotate } from './control/Rotate.js';\nexport { default as ScaleLine } from './control/ScaleLine.js';\nexport { default as Zoom } from './control/Zoom.js';\nexport { default as ZoomSlider } from './control/ZoomSlider.js';\nexport { default as ZoomToExtent } from './control/ZoomToExtent.js';\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [attribution=true] Include\n * {@link module:ol/control/Attribution~Attribution}.\n * @property {import(\"./control/Attribution.js\").Options} [attributionOptions]\n * Options for {@link module:ol/control/Attribution~Attribution}.\n * @property {boolean} [rotate=true] Include\n * {@link module:ol/control/Rotate~Rotate}.\n * @property {import(\"./control/Rotate.js\").Options} [rotateOptions] Options\n * for {@link module:ol/control/Rotate~Rotate}.\n * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n * @property {import(\"./control/Zoom.js\").Options} [zoomOptions] Options for\n * {@link module:ol/control/Zoom~Zoom}.\n * @api\n */\n/**\n * Set of controls included in maps by default. Unless configured otherwise,\n * this returns a collection containing an instance of each of the following\n * controls:\n * * {@link module:ol/control/Zoom~Zoom}\n * * {@link module:ol/control/Rotate~Rotate}\n * * {@link module:ol/control/Attribution~Attribution}\n *\n * @param {DefaultsOptions} [opt_options]\n * Defaults options.\n * @return {Collection<import(\"./control/Control.js\").default>}\n * Controls.\n * @api\n */\nexport function defaults(opt_options) {\n    var options = opt_options ? opt_options : {};\n    var controls = new Collection();\n    var zoomControl = options.zoom !== undefined ? options.zoom : true;\n    if (zoomControl) {\n        controls.push(new Zoom(options.zoomOptions));\n    }\n    var rotateControl = options.rotate !== undefined ? options.rotate : true;\n    if (rotateControl) {\n        controls.push(new Rotate(options.rotateOptions));\n    }\n    var attributionControl = options.attribution !== undefined ? options.attribution : true;\n    if (attributionControl) {\n        controls.push(new Attribution(options.attributionOptions));\n    }\n    return controls;\n}\n//# sourceMappingURL=control.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * @module ol/control/ScaleLine\n */\nimport Control from './Control.js';\nimport ProjUnits from '../proj/Units.js';\nimport { CLASS_UNSELECTABLE } from '../css.js';\nimport { METERS_PER_UNIT, getPointResolution } from '../proj.js';\nimport { assert } from '../asserts.js';\n/**\n * @type {string}\n */\nvar UNITS_PROP = 'units';\n/**\n * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n * `'nautical'`, `'metric'`, `'us'`.\n * @enum {string}\n */\nexport var Units = {\n    DEGREES: 'degrees',\n    IMPERIAL: 'imperial',\n    NAUTICAL: 'nautical',\n    METRIC: 'metric',\n    US: 'us',\n};\n/**\n * @const\n * @type {Array<number>}\n */\nvar LEADING_DIGITS = [1, 2, 5];\n/**\n * @const\n * @type {number}\n */\nvar DEFAULT_DPI = 25.4 / 0.28;\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:units', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types\n *     |'change:units', Return>} ScaleLineOnSignature\n */\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-scale-line'] CSS Class name.\n * @property {number} [minWidth=64] Minimum width in pixels at the OGC default dpi. The width will be\n * adjusted to match the dpi used.\n * @property {number} [maxWidth] Maximum width in pixels at the OGC default dpi. The width will be\n * adjusted to match the dpi used.\n * @property {function(import(\"../MapEvent.js\").default):void} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {HTMLElement|string} [target] Specify a target if you want the control\n * to be rendered outside of the map's viewport.\n * @property {import(\"./ScaleLine.js\").Units|string} [units='metric'] Units.\n * @property {boolean} [bar=false] Render scalebars instead of a line.\n * @property {number} [steps=4] Number of steps the scalebar should use. Use even numbers\n * for best results. Only applies when `bar` is `true`.\n * @property {boolean} [text=false] Render the text scale above of the scalebar. Only applies\n * when `bar` is `true`.\n * @property {number|undefined} [dpi=undefined] dpi of output device such as printer. Only applies\n * when `bar` is `true`. If undefined the OGC default screen pixel size of 0.28mm will be assumed.\n */\n/**\n * @classdesc\n * A control displaying rough y-axis distances, calculated for the center of the\n * viewport. For conformal projections (e.g. EPSG:3857, the default view\n * projection in OpenLayers), the scale is valid for all directions.\n * No scale line will be shown when the y-axis distance of a pixel at the\n * viewport center cannot be calculated in the view projection.\n * By default the scale line will show in the bottom left portion of the map,\n * but this can be changed by using the css selector `.ol-scale-line`.\n * When specifying `bar` as `true`, a scalebar will be rendered instead\n * of a scaleline.\n *\n * @api\n */\nvar ScaleLine = /** @class */ (function (_super) {\n    __extends(ScaleLine, _super);\n    /**\n     * @param {Options} [opt_options] Scale line options.\n     */\n    function ScaleLine(opt_options) {\n        var _this = this;\n        var options = opt_options ? opt_options : {};\n        var className = options.className !== undefined\n            ? options.className\n            : options.bar\n                ? 'ol-scale-bar'\n                : 'ol-scale-line';\n        _this = _super.call(this, {\n            element: document.createElement('div'),\n            render: options.render,\n            target: options.target,\n        }) || this;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.on;\n        /***\n         * @type {ScaleLineOnSignature<import(\"../events\").EventsKey>}\n         */\n        _this.once;\n        /***\n         * @type {ScaleLineOnSignature<void>}\n         */\n        _this.un;\n        /**\n         * @private\n         * @type {HTMLElement}\n         */\n        _this.innerElement_ = document.createElement('div');\n        _this.innerElement_.className = className + '-inner';\n        _this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n        _this.element.appendChild(_this.innerElement_);\n        /**\n         * @private\n         * @type {?import(\"../View.js\").State}\n         */\n        _this.viewState_ = null;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.maxWidth_ = options.maxWidth;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.renderedVisible_ = false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.renderedWidth_ = undefined;\n        /**\n         * @private\n         * @type {string}\n         */\n        _this.renderedHTML_ = '';\n        _this.addChangeListener(UNITS_PROP, _this.handleUnitsChanged_);\n        _this.setUnits(options.units || Units.METRIC);\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBar_ = options.bar || false;\n        /**\n         * @private\n         * @type {number}\n         */\n        _this.scaleBarSteps_ = options.steps || 4;\n        /**\n         * @private\n         * @type {boolean}\n         */\n        _this.scaleBarText_ = options.text || false;\n        /**\n         * @private\n         * @type {number|undefined}\n         */\n        _this.dpi_ = options.dpi || undefined;\n        return _this;\n    }\n    /**\n     * Return the units to use in the scale line.\n     * @return {import(\"./ScaleLine.js\").Units} The units\n     * to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.getUnits = function () {\n        return this.get(UNITS_PROP);\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.handleUnitsChanged_ = function () {\n        this.updateElement_();\n    };\n    /**\n     * Set the units to use in the scale line.\n     * @param {import(\"./ScaleLine.js\").Units} units The units to use in the scale line.\n     * @observable\n     * @api\n     */\n    ScaleLine.prototype.setUnits = function (units) {\n        this.set(UNITS_PROP, units);\n    };\n    /**\n     * Specify the dpi of output device such as printer.\n     * @param {number|undefined} dpi The dpi of output device.\n     * @api\n     */\n    ScaleLine.prototype.setDpi = function (dpi) {\n        this.dpi_ = dpi;\n    };\n    /**\n     * @private\n     */\n    ScaleLine.prototype.updateElement_ = function () {\n        var viewState = this.viewState_;\n        if (!viewState) {\n            if (this.renderedVisible_) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n            }\n            return;\n        }\n        var center = viewState.center;\n        var projection = viewState.projection;\n        var units = this.getUnits();\n        var pointResolutionUnits = units == Units.DEGREES ? ProjUnits.DEGREES : ProjUnits.METERS;\n        var pointResolution = getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n        var minWidth = (this.minWidth_ * (this.dpi_ || DEFAULT_DPI)) / DEFAULT_DPI;\n        var maxWidth = this.maxWidth_ !== undefined\n            ? (this.maxWidth_ * (this.dpi_ || DEFAULT_DPI)) / DEFAULT_DPI\n            : undefined;\n        var nominalCount = minWidth * pointResolution;\n        var suffix = '';\n        if (units == Units.DEGREES) {\n            var metersPerDegree = METERS_PER_UNIT[ProjUnits.DEGREES];\n            nominalCount *= metersPerDegree;\n            if (nominalCount < metersPerDegree / 60) {\n                suffix = '\\u2033'; // seconds\n                pointResolution *= 3600;\n            }\n            else if (nominalCount < metersPerDegree) {\n                suffix = '\\u2032'; // minutes\n                pointResolution *= 60;\n            }\n            else {\n                suffix = '\\u00b0'; // degrees\n            }\n        }\n        else if (units == Units.IMPERIAL) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution /= 0.0254;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.3048;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.344;\n            }\n        }\n        else if (units == Units.NAUTICAL) {\n            pointResolution /= 1852;\n            suffix = 'NM';\n        }\n        else if (units == Units.METRIC) {\n            if (nominalCount < 0.001) {\n                suffix = 'm';\n                pointResolution *= 1000000;\n            }\n            else if (nominalCount < 1) {\n                suffix = 'mm';\n                pointResolution *= 1000;\n            }\n            else if (nominalCount < 1000) {\n                suffix = 'm';\n            }\n            else {\n                suffix = 'km';\n                pointResolution /= 1000;\n            }\n        }\n        else if (units == Units.US) {\n            if (nominalCount < 0.9144) {\n                suffix = 'in';\n                pointResolution *= 39.37;\n            }\n            else if (nominalCount < 1609.344) {\n                suffix = 'ft';\n                pointResolution /= 0.30480061;\n            }\n            else {\n                suffix = 'mi';\n                pointResolution /= 1609.3472;\n            }\n        }\n        else {\n            assert(false, 33); // Invalid units\n        }\n        var i = 3 * Math.floor(Math.log(minWidth * pointResolution) / Math.log(10));\n        var count, width, decimalCount;\n        var previousCount, previousWidth, previousDecimalCount;\n        while (true) {\n            decimalCount = Math.floor(i / 3);\n            var decimal = Math.pow(10, decimalCount);\n            count = LEADING_DIGITS[((i % 3) + 3) % 3] * decimal;\n            width = Math.round(count / pointResolution);\n            if (isNaN(width)) {\n                this.element.style.display = 'none';\n                this.renderedVisible_ = false;\n                return;\n            }\n            if (maxWidth !== undefined && width >= maxWidth) {\n                count = previousCount;\n                width = previousWidth;\n                decimalCount = previousDecimalCount;\n                break;\n            }\n            else if (width >= minWidth) {\n                break;\n            }\n            previousCount = count;\n            previousWidth = width;\n            previousDecimalCount = decimalCount;\n            ++i;\n        }\n        var html;\n        if (this.scaleBar_) {\n            html = this.createScaleBar(width, count, suffix);\n        }\n        else {\n            html = count.toFixed(decimalCount < 0 ? -decimalCount : 0) + ' ' + suffix;\n        }\n        if (this.renderedHTML_ != html) {\n            this.innerElement_.innerHTML = html;\n            this.renderedHTML_ = html;\n        }\n        if (this.renderedWidth_ != width) {\n            this.innerElement_.style.width = width + 'px';\n            this.renderedWidth_ = width;\n        }\n        if (!this.renderedVisible_) {\n            this.element.style.display = '';\n            this.renderedVisible_ = true;\n        }\n    };\n    /**\n     * @private\n     * @param {number} width The current width of the scalebar.\n     * @param {number} scale The current scale.\n     * @param {string} suffix The suffix to append to the scale text.\n     * @return {string} The stringified HTML of the scalebar.\n     */\n    ScaleLine.prototype.createScaleBar = function (width, scale, suffix) {\n        var mapScale = '1 : ' + Math.round(this.getScaleForResolution()).toLocaleString();\n        var scaleSteps = [];\n        var stepWidth = width / this.scaleBarSteps_;\n        var backgroundColor = 'ol-scale-singlebar-odd';\n        for (var i = 0; i < this.scaleBarSteps_; i++) {\n            if (i === 0) {\n                // create the first marker at position 0\n                scaleSteps.push(this.createMarker('absolute', i));\n            }\n            scaleSteps.push('<div>' +\n                '<div ' +\n                'class=\"ol-scale-singlebar ' +\n                backgroundColor +\n                '\" ' +\n                'style=' +\n                '\"width: ' +\n                stepWidth +\n                'px;\"' +\n                '>' +\n                '</div>' +\n                this.createMarker('relative', i) +\n                /*render text every second step, except when only 2 steps */\n                (i % 2 === 0 || this.scaleBarSteps_ === 2\n                    ? this.createStepText(i, width, false, scale, suffix)\n                    : '') +\n                '</div>');\n            if (i === this.scaleBarSteps_ - 1) {\n                {\n                    /*render text at the end */\n                }\n                scaleSteps.push(this.createStepText(i + 1, width, true, scale, suffix));\n            }\n            // switch style of steps\n            backgroundColor =\n                backgroundColor === 'ol-scale-singlebar-odd'\n                    ? 'ol-scale-singlebar-even'\n                    : 'ol-scale-singlebar-odd';\n        }\n        var scaleBarText;\n        if (this.scaleBarText_) {\n            scaleBarText =\n                '<div ' +\n                    'class=\"ol-scale-text\" ' +\n                    'style=\"width: ' +\n                    width +\n                    'px;\">' +\n                    mapScale +\n                    '</div>';\n        }\n        else {\n            scaleBarText = '';\n        }\n        var container = '<div ' +\n            'style=\"display: flex;\">' +\n            scaleBarText +\n            scaleSteps.join('') +\n            '</div>';\n        return container;\n    };\n    /**\n     * Creates a marker at given position\n     * @param {string} position The position, absolute or relative\n     * @param {number} i The iterator\n     * @return {string} The stringified div containing the marker\n     */\n    ScaleLine.prototype.createMarker = function (position, i) {\n        var top = position === 'absolute' ? 3 : -10;\n        return ('<div ' +\n            'class=\"ol-scale-step-marker\" ' +\n            'style=\"position: ' +\n            position +\n            ';' +\n            'top: ' +\n            top +\n            'px;\"' +\n            '></div>');\n    };\n    /**\n     * Creates the label for a marker marker at given position\n     * @param {number} i The iterator\n     * @param {number} width The width the scalebar will currently use\n     * @param {boolean} isLast Flag indicating if we add the last step text\n     * @param {number} scale The current scale for the whole scalebar\n     * @param {string} suffix The suffix for the scale\n     * @return {string} The stringified div containing the step text\n     */\n    ScaleLine.prototype.createStepText = function (i, width, isLast, scale, suffix) {\n        var length = i === 0 ? 0 : Math.round((scale / this.scaleBarSteps_) * i * 100) / 100;\n        var lengthString = length + (i === 0 ? '' : ' ' + suffix);\n        var margin = i === 0 ? -3 : (width / this.scaleBarSteps_) * -1;\n        var minWidth = i === 0 ? 0 : (width / this.scaleBarSteps_) * 2;\n        return ('<div ' +\n            'class=\"ol-scale-step-text\" ' +\n            'style=\"' +\n            'margin-left: ' +\n            margin +\n            'px;' +\n            'text-align: ' +\n            (i === 0 ? 'left' : 'center') +\n            '; ' +\n            'min-width: ' +\n            minWidth +\n            'px;' +\n            'left: ' +\n            (isLast ? width + 'px' : 'unset') +\n            ';\"' +\n            '>' +\n            lengthString +\n            '</div>');\n    };\n    /**\n     * Returns the appropriate scale for the given resolution and units.\n     * @return {number} The appropriate scale.\n     */\n    ScaleLine.prototype.getScaleForResolution = function () {\n        var resolution = getPointResolution(this.viewState_.projection, this.viewState_.resolution, this.viewState_.center, ProjUnits.METERS);\n        var dpi = this.dpi_ || DEFAULT_DPI;\n        var inchesPerMeter = 1000 / 25.4;\n        return parseFloat(resolution.toString()) * inchesPerMeter * dpi;\n    };\n    /**\n     * Update the scale line element.\n     * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n     * @override\n     */\n    ScaleLine.prototype.render = function (mapEvent) {\n        var frameState = mapEvent.frameState;\n        if (!frameState) {\n            this.viewState_ = null;\n        }\n        else {\n            this.viewState_ = frameState.viewState;\n        }\n        this.updateElement_();\n    };\n    return ScaleLine;\n}(Control));\nexport default ScaleLine;\n//# sourceMappingURL=ScaleLine.js.map","import { Registry, RegistryItem } from '@grafana/data';\n\ninterface MapCenterItems extends RegistryItem {\n  lat?: number;\n  lon?: number;\n  zoom?: number;\n}\n\nexport enum MapCenterID {\n  Zero = 'zero',\n  Coordinates = 'coords',\n  Auto = 'auto',\n}\n\nexport const centerPointRegistry = new Registry<MapCenterItems>(() => [\n  {\n    id: MapCenterID.Zero as string,\n    name: '(0, 0)',\n    lat: 0,\n    lon: 0,\n  },\n  {\n    id: 'north-america',\n    name: 'North America',\n    lat: 40,\n    lon: -100,\n    zoom: 4,\n  },\n  {\n    id: 'europe',\n    name: 'Europe',\n    lat: 46,\n    lon: 14,\n    zoom: 4,\n  },\n  {\n    id: 'west-asia',\n    name: 'West Asia',\n    lat: 26,\n    lon: 53,\n    zoom: 4,\n  },\n  {\n    id: 'se-asia',\n    name: 'South-east Asia',\n    lat: 10,\n    lon: 106,\n    zoom: 4,\n  },\n  {\n    id: MapCenterID.Coordinates as string,\n    name: 'Coordinates',\n  },\n  {\n    id: MapCenterID.Auto as string,\n    name: 'Auto center',\n  },\n]);\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./GeomapPanel.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./GeomapPanel.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { PureComponent } from 'react';\nimport { GrafanaTheme } from '@grafana/data';\nimport { config } from '@grafana/runtime';\nimport { stylesFactory } from '@grafana/ui';\nimport { css } from '@emotion/css';\n\nexport interface OverlayProps {\n  topRight?: React.ReactNode[];\n  bottomLeft?: React.ReactNode[];\n}\n\nexport class GeomapOverlay extends PureComponent<OverlayProps> {\n  style = getStyles(config.theme);\n\n  constructor(props: OverlayProps) {\n    super(props);\n  }\n\n  render() {\n    const { topRight, bottomLeft } = this.props;\n    return (\n      <div className={this.style.overlay}>\n        {Boolean(topRight?.length) && <div className={this.style.TR}>{topRight}</div>}\n        {Boolean(bottomLeft?.length) && <div className={this.style.BL}>{bottomLeft}</div>}\n      </div>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => ({\n  overlay: css`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 500;\n    pointer-events: none;\n  `,\n  TR: css`\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    pointer-events: auto;\n  `,\n  BL: css`\n    position: absolute;\n    bottom: 8px;\n    left: 8px;\n    pointer-events: auto;\n  `,\n}));\n","import React, { PureComponent } from 'react';\nimport { Map } from 'ol';\nimport { transform } from 'ol/proj';\nimport { stylesFactory } from '@grafana/ui';\nimport { GrafanaTheme } from '@grafana/data';\nimport { css } from '@emotion/css';\nimport { config } from '../config';\nimport tinycolor from 'tinycolor2';\nimport { Coordinate } from 'ol/coordinate';\n\ninterface Props {\n  map: Map;\n}\n\ninterface State {\n  zoom?: number;\n  center: Coordinate;\n}\n\nexport class DebugOverlay extends PureComponent<Props, State> {\n  style = getStyles(config.theme);\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { zoom: 0, center: [0, 0] };\n  }\n\n  updateViewState = () => {\n    const view = this.props.map.getView();\n    this.setState({\n      zoom: view.getZoom(),\n      center: transform(view.getCenter()!, view.getProjection(), 'EPSG:4326'),\n    });\n  };\n\n  componentDidMount() {\n    this.props.map.on('moveend', this.updateViewState);\n    this.updateViewState();\n  }\n\n  render() {\n    const { zoom, center } = this.state;\n\n    return (\n      <div className={this.style.infoWrap}>\n        <table>\n          <tbody>\n            <tr>\n              <th>Zoom:</th>\n              <td>{zoom?.toFixed(1)}</td>\n            </tr>\n            <tr>\n              <th>Center:&nbsp;</th>\n              <td>\n                {center[0].toFixed(5)}, {center[1].toFixed(5)}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => ({\n  infoWrap: css`\n    color: ${theme.colors.text};\n    background: ${tinycolor(theme.colors.panelBg).setAlpha(0.7).toString()};\n    border-radius: 2px;\n    padding: 8px;\n  `,\n}));\n","\n      import API from \"!../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../css-loader/dist/cjs.js!./ol.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../css-loader/dist/cjs.js!./ol.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { PureComponent } from 'react';\nimport { stylesFactory } from '@grafana/ui';\nimport { DataFrame, Field, formattedValueToString, getFieldDisplayName, GrafanaTheme2, Vector } from '@grafana/data';\nimport { css } from '@emotion/css';\nimport { config } from '../config';\n\nexport interface Props {\n  data?: DataFrame; // source data\n  rowIndex?: number; // the hover row\n  columnIndex?: number; // the hover column\n  propsToShow?: any;\n  icon?: string;\n  titleField?: any;\n  timeField?: any;\n}\n\nexport class DataHoverView extends PureComponent<Props> {\n  style = getStyles(config.theme2);\n\n  render() {\n    const { data, rowIndex, columnIndex, propsToShow, timeField, titleField, icon } = this.props;\n\n    if (!data || rowIndex == null) {\n      return null;\n    }\n    if (propsToShow && propsToShow.length > 1) {\n      return (\n        <div className={this.style.infoWrap}>\n          {titleField.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`}>\n              <div className={this.style.singleDisplay}>\n                <h5>\n                  <i className={'fa ' + icon + ' ' + this.style.icon} />\n                  {fmt(f, rowIndex)}\n                </h5>\n              </div>\n            </div>\n          ))}\n          {propsToShow.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={this.style.row}>\n              <span>{getFieldDisplayName(f, data)}:</span>\n              <span>{fmt(f, rowIndex)}</span>\n            </div>\n          ))}\n        </div>\n      );\n    } else if (propsToShow) {\n      return (\n        <div className={this.style.infoWrap}>\n          {propsToShow.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={i === columnIndex ? this.style.highlight : ''}>\n              <div className={this.style.singleDisplay}>\n                <h5>{getFieldDisplayName(f, data)}</h5>\n              </div>\n              <div className={this.style.singleDisplay}>\n                <h1>\n                  <i className={'fa ' + icon + ' ' + this.style.icon} />\n                  {fmt(f, rowIndex)}\n                </h1>\n              </div>\n            </div>\n          ))}\n          {timeField.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={this.style.rightDisplay}>\n              <h6>{fmt(f, rowIndex)}</h6>\n            </div>\n          ))}\n          {titleField.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={this.style.rightDisplay}>\n              <h6>{fmt(f, rowIndex)}</h6>\n            </div>\n          ))}\n        </div>\n      );\n    } else {\n      return (\n        <div className={this.style.infoWrap}>\n          {timeField.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={this.style.rightDisplay}>\n              <h6>{fmt(f, rowIndex)}</h6>\n            </div>\n          ))}\n          {titleField.map((f: Field<any, Vector<any>>, i: number | undefined) => (\n            <div key={`${i}/${rowIndex}`} className={this.style.rightDisplay}>\n              <h6>{fmt(f, rowIndex)}</h6>\n            </div>\n          ))}\n        </div>\n      );\n    }\n  }\n}\n\nfunction fmt(field: Field, row: number): string {\n  const v = field.values.get(row);\n  if (field.display) {\n    return formattedValueToString(field.display(v));\n  }\n  return `${v}`;\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme2) => ({\n  infoWrap: css`\n    padding: 0px;\n    div {\n      font-weight: ${theme.typography.fontWeightMedium};\n      padding: ${theme.spacing(0.25, 2)};\n    }\n  `,\n  row: css`\n    padding: 2px;\n    display: flex;\n    justify-content: space-between;\n  `,\n  highlight: css`\n    background: ${theme.colors.action.hover};\n  `,\n  singleDisplay: css`\n    text-align: center;\n    h1 {\n      font-size: 3.5rem;\n      font-weight: ${theme.typography.fontWeightBold};\n      margin: 0px;\n    }\n  `,\n  rightDisplay: css`\n    padding-top: 0px;\n    padding-bottom: 0px;\n    text-align: right;\n    h6 {\n      font-height: 1;\n      margin: 0px;\n    }\n  `,\n  leftDisplay: css`\n    text-align: left;\n  `,\n  icon: css`\n    margin-right: 5px;\n  `,\n}));\n","import React, { Component, ReactNode } from 'react';\nimport { DEFAULT_BASEMAP_CONFIG, geomapLayerRegistry, defaultBaseLayer } from './layers/registry';\nimport { Map, MapBrowserEvent, View } from 'ol';\nimport Attribution from 'ol/control/Attribution';\nimport Zoom from 'ol/control/Zoom';\nimport ScaleLine from 'ol/control/ScaleLine';\nimport BaseLayer from 'ol/layer/Base';\nimport { defaults as interactionDefaults } from 'ol/interaction';\nimport MouseWheelZoom from 'ol/interaction/MouseWheelZoom';\nimport { createEmpty, extend } from 'ol/extent';\nimport VectorLayer from 'ol/layer/Vector';\nimport { Vector } from 'ol/source';\nimport LayerSwitcher from 'ol-layerswitcher';\nimport { isArray, isEqual } from 'lodash';\nimport './GeomapPanel.css';\n\nimport {\n  PanelData,\n  MapLayerHandler,\n  PanelProps,\n  GrafanaTheme,\n  DataHoverEvent,\n  DataFrame,\n} from '@grafana/data';\nimport { config } from '@grafana/runtime';\n\nimport { ControlsOptions, GeomapPanelOptions, MapViewConfig } from './types';\nimport { centerPointRegistry, MapCenterID } from './view';\nimport { fromLonLat, toLonLat } from 'ol/proj';\nimport { Coordinate } from 'ol/coordinate';\nimport { css } from '@emotion/css';\nimport { Portal, stylesFactory, VizTooltipContainer } from '@grafana/ui';\nimport { GeomapOverlay, OverlayProps } from './GeomapOverlay';\nimport { DebugOverlay } from './components/DebugOverlay';\nimport { getGlobalStyles } from './globalStyles';\nimport { GeomapHoverFeature, GeomapHoverPayload } from './event';\nimport { DataHoverView } from './components/DataHoverView';\nimport { ExtendMapLayerOptions } from './extension';\n\ninterface MapLayerState {\n  config: ExtendMapLayerOptions;\n  handler: MapLayerHandler;\n  layer: BaseLayer; // used to add|remove\n}\n\n// Allows multiple panels to share the same view instance\nlet sharedView: View | undefined = undefined;\nexport let lastGeomapPanelInstance: GeomapPanel | undefined = undefined;\n\ntype Props = PanelProps<GeomapPanelOptions>;\ninterface State extends OverlayProps {\n  ttip?: GeomapHoverPayload;\n}\n\nexport class GeomapPanel extends Component<Props, State> {\n  globalCSS = getGlobalStyles(config.theme2);\n\n  counter = 0;\n  hitToler?: number;\n  map?: Map;\n  layerSwitcher?: LayerSwitcher;\n  basemap?: BaseLayer;\n  layers: MapLayerState[] = [];\n  mouseWheelZoom?: MouseWheelZoom;\n  style = getStyles(config.theme);\n  hoverPayload: GeomapHoverPayload = { point: {}, pageX: -1, pageY: -1 };\n  readonly hoverEvent = new DataHoverEvent(this.hoverPayload);\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n    lastGeomapPanelInstance = this;\n  }\n\n  shouldComponentUpdate(nextProps: Props) {\n    if (!this.map) {\n      return true; // not yet initalized\n    }\n\n    // Check for resize\n    if (this.props.height !== nextProps.height || this.props.width !== nextProps.width) {\n      this.map.updateSize();\n    }\n\n    // External configuration changed\n    let layersChanged = false;\n    if (this.props.options !== nextProps.options) {\n      layersChanged = this.optionsChanged(nextProps.options);\n    }\n\n    // External data changed\n    if (layersChanged || this.props.data !== nextProps.data) {\n      this.dataChanged(nextProps.data);\n    }\n\n    return true; // always?\n  }\n\n  /**\n   * Called when the panel options change\n   */\n  optionsChanged(options: GeomapPanelOptions): boolean {\n    let layersChanged = false;\n    const oldOptions = this.props.options;\n\n    if (options.view !== oldOptions.view) {\n      this.map!.setView(this.initMapView(options.view));\n    }\n\n    if (options.controls !== oldOptions.controls) {\n      this.initControls(options.controls ?? { showZoom: true, showAttribution: true, showLayercontrol: true });\n    }\n    \n    if (options.basemap !== oldOptions.basemap) {\n      this.initBasemap(options.basemap);\n      layersChanged = true;\n    }\n\n    if (options.layers !== oldOptions.layers) {\n      this.initLayers(options.layers ?? []); // async\n      layersChanged = true;\n    }\n    return layersChanged;\n  }\n\n  /**\n   * Called when PanelData changes (query results etc)\n   */\n  dataChanged(data: PanelData) {\n    for (const state of this.layers) {\n      if (state.handler.update) {\n        state.handler.update(data);\n      }\n    }\n    if (this.props.options.view.id === MapCenterID.Auto && this.map) {\n      let extent = createEmpty();\n      const layers = this.map.getLayers().getArray();\n      for (let layer of layers) {\n        if (layer instanceof VectorLayer) {\n          let source = layer.getSource();\n          if (source !== undefined && source instanceof Vector) {\n            let features = source.getFeatures();\n            for (let feature of features) {\n              let geo = feature.getGeometry();\n              if (geo) {\n                extend(extent, geo.getExtent());\n              }\n            }\n          }\n        }\n      }\n      if (!isEqual(extent, createEmpty())) {\n        this.map.getView().fit(extent);\n        let zoom = this.map.getView().getZoom();\n        if (zoom) {\n          this.map.getView().setZoom(zoom - 0.5);\n        }\n      }\n    }\n  }\n\n  initMapRef = async (div: HTMLDivElement) => {\n    if (this.map) {\n      this.map.dispose();\n    }\n\n    if (!div) {\n      this.map = undefined as unknown as Map;\n      return;\n    }\n    const { options } = this.props;\n    this.map = new Map({\n      view: this.initMapView(options.view),\n      pixelRatio: 1, // or zoom?\n      layers: [], // loaded explicitly below\n      controls: [],\n      target: div,\n      interactions: interactionDefaults({\n        mouseWheelZoom: false, // managed by initControls\n      }),\n    });\n    this.mouseWheelZoom = new MouseWheelZoom();\n    this.map.addInteraction(this.mouseWheelZoom);\n    this.initControls(options.controls);\n    this.hitToler = options.controls.hitTolerance;\n    this.initBasemap(options.basemap);\n    await this.initLayers(options.layers);\n    this.forceUpdate(); // first render \n\n    // Tooltip listener\n    this.map.on('singleclick', this.pointerClickListener);\n    // Hide all layers but the first base map and the first layer\n    const layers = this.map.getLayers().getArray();\n    let i = 0;\n    for (let layer of layers) {\n      if(i++>1) {\n        layer.setVisible(false);\n      }\n    }\n  };\n\n  pointerClickListener = (evt: MapBrowserEvent<UIEvent>) => {\n    if (!this.map) {\n      return;\n    }\n    const mouse = evt.originalEvent as any;\n    const pixel = this.map.getEventPixel(mouse);    \n    this.map.forEachFeatureAtPixel(pixel, (feature, layer, geo) => {\n      console.log(\"click\");\n      let props = feature.getProperties()['frame'];\n      console.log(props);\n      const fields = props[\"fields\"];\n      if (fields && isArray(fields)) {\n        let hasLink = false;\n        const linkFieldName = \"link\";\n        let i=0;\n        for(;i<fields.length&&!hasLink;i++) { \n          hasLink = (fields[i].name === linkFieldName);\n        }\n        if(hasLink) {\n          const rowIndex = feature.getProperties()['rowIndex'];\n          const uri = fields[i-1].values.buffer[rowIndex];\n          console.log(\"rowIndex \"+rowIndex);\n          console.log(\"link \"+uri);\n          window.open(uri,\"_self\");\n        } else {\n          console.log(\"no link\");\n        }  \n      }\n      //console.log(feature);\n      //console.log(feature.getProperties()['frame']);\n      //console.log(feature.getProperties()['rowIndex']);\n    },\n    {\n      hitTolerance: this.hitToler\n    });\n  };\n\n  pointerMoveListener = (evt: MapBrowserEvent<UIEvent>) => {\n    if (!this.map) {\n      return;\n    }\n    const mouse = evt.originalEvent as any;\n    const pixel = this.map.getEventPixel(mouse);\n    const hover = toLonLat(this.map.getCoordinateFromPixel(pixel));\n\n    const { hoverPayload } = this;\n    hoverPayload.pageX = mouse.pageX;\n    hoverPayload.pageY = mouse.pageY;\n    hoverPayload.point = {\n      lat: hover[1],\n      lon: hover[0],\n    };\n    hoverPayload.data = undefined;\n    hoverPayload.rowIndex = undefined;\n    hoverPayload.propsToShow = undefined;\n    let ttip: GeomapHoverPayload = {} as GeomapHoverPayload;\n    const features: GeomapHoverFeature[] = [];\n    this.map.forEachFeatureAtPixel(pixel, (feature, layer, geo) => {\n      let propsToShow = [];\n      if (!hoverPayload.data) {\n        let props = feature.getProperties();\n        if (props['features'] && isArray(props['features']) && props['features'].length === 1) {\n          props = props['features'][0].getProperties();\n        }\n        let frame = props['frame'];\n        const thisLayer = layer.getProperties();\n        if (frame) {\n          for (let thisLayerName of typeof thisLayer.displayProperties !== 'undefined'\n            ? thisLayer.displayProperties\n            : []) {\n            let found = frame.fields.filter((obj: { name: string }) => {\n              return obj.name === thisLayerName;\n            });\n            propsToShow.push(found[0]);\n          }\n          hoverPayload.icon = thisLayer.icon ? thisLayer.icon : '';\n          hoverPayload.data = ttip.data = frame as DataFrame;\n          hoverPayload.propsToShow = propsToShow.length > 0 ? propsToShow : frame.fields;\n          hoverPayload.titleField = frame.fields.filter((obj: { name: any }) => {\n            return obj.name === thisLayer.titleField;\n          });\n          hoverPayload.timeField = frame.fields.filter((obj: { name: any }) => {\n            return obj.name === thisLayer.timeField;\n          });\n          hoverPayload.rowIndex = ttip.rowIndex = props['rowIndex'];\n        }\n      }\n      features.push({ feature, layer, geo });\n    });\n    this.hoverPayload.features = features.length ? features : undefined;\n    this.props.eventBus.publish(this.hoverEvent);\n\n    const currentTTip = this.state.ttip;\n    if (ttip.data !== currentTTip?.data || ttip.rowIndex !== currentTTip?.rowIndex) {\n      this.setState({ ttip: { ...hoverPayload } });\n    }\n  };\n\n  async initBasemap(cfg: ExtendMapLayerOptions) {\n    if (!this.map) {\n      return;\n    }\n\n    if (!cfg?.type || config.geomapDisableCustomBaseLayer) {\n      cfg = DEFAULT_BASEMAP_CONFIG;\n    }\n    const item = geomapLayerRegistry.getIfExists(cfg.type) ?? defaultBaseLayer;\n    const handler = await item.create(this.map, cfg, config.theme2);\n    const layer = handler.init();\n    if (this.basemap) {\n      this.map.removeLayer(this.basemap);\n      this.basemap.dispose();\n    }\n    this.basemap = layer;\n    this.map.getLayers().insertAt(0, this.basemap);\n  }\n\n  async initLayers(layers: ExtendMapLayerOptions[]) {\n    // 1st remove existing layers\n    for (const state of this.layers) {\n      this.map!.removeLayer(state.layer);\n      state.layer.dispose();\n    }\n\n    if (!layers) {\n      layers = [];\n    }\n\n    const legends: React.ReactNode[] = [];\n    this.layers = [];\n    for (const overlay of layers) {\n      const item = geomapLayerRegistry.getIfExists(overlay.type);\n      if (!item) {\n        console.warn('unknown layer type: ', overlay);\n        continue; // TODO -- panel warning?\n      }\n\n      const handler = await item.create(this.map!, overlay, config.theme2);\n      const layer = handler.init();\n      (layer as any).___handler = handler;\n      this.map!.addLayer(layer);\n      this.layers.push({\n        config: overlay,\n        layer,\n        handler,\n      });\n      \n      if (handler.legend) {\n        let str = `legend_${this.counter++}`;\n        legends.push(<div id={str} key={str}>{handler.legend}</div>);\n        layer.on('change:visible', function() { \n          let x = document.getElementById(str);\n          if(x) {\n            if (x.style.display === \"none\") {\n              x.style.display = \"block\";\n            } else {\n              x.style.display = \"none\";\n            }\n          }\n        });\n      }\n    }\n    this.setState({ bottomLeft: legends });\n\n    // Update data after init layers\n    this.dataChanged(this.props.data);\n  }\n\n  initMapView(config: MapViewConfig): View {\n    let view = new View({\n      center: [0, 0],\n      zoom: 1,\n      showFullExtent: true, // alows zooming so the full range is visiable\n    });\n\n    // With shared views, all panels use the same view instance\n    if (config.shared) {\n      if (!sharedView) {\n        sharedView = view;\n      } else {\n        view = sharedView;\n      }\n    }\n\n    const v = centerPointRegistry.getIfExists(config.id);\n    if (v) {\n      let coord: Coordinate | undefined = undefined;\n      if (v.lat == null) {\n        if (v.id === MapCenterID.Coordinates || v.id === MapCenterID.Auto) {\n          coord = [config.lon ?? 0, config.lat ?? 0];\n        } else {\n          console.log('TODO, view requires special handling', v);\n        }\n      } else {\n        coord = [v.lon ?? 0, v.lat ?? 0];\n      }\n      if (coord) {\n        view.setCenter(fromLonLat(coord));\n      }\n    }\n\n    if (config.maxZoom) {\n      view.setMaxZoom(config.maxZoom);\n    }\n    if (config.minZoom) {\n      view.setMaxZoom(config.minZoom);\n    }\n    if (config.zoom) {\n      view.setZoom(config.zoom);\n    }\n    return view;\n  }\n\n  initControls(options: ControlsOptions) {\n    if (!this.map) {\n      return;\n    }\n    this.map.getControls().clear();\n\n    if (options.showZoom) {\n      this.map.addControl(new Zoom());\n    }\n\n    if (options.showScale) {\n      this.map.addControl(\n        new ScaleLine({\n          units: options.scaleUnits,\n          minWidth: 100,\n        })\n      );\n    }\n\n    if (options.showLayercontrol) {\n      this.layerSwitcher = new LayerSwitcher({\n        label: 'L',\n        tipLabel: 'Select layers',\n        groupSelectStyle: 'none',\n        activationMode: 'click',\n      });\n      this.map.addControl(this.layerSwitcher);\n    }\n\n    const map = this.map;\n\n    let zoomCluster = function (pixel: number[]) {\n      let feature = map.forEachFeatureAtPixel(pixel, function (feature) {\n        return feature;\n      });\n\n      if (feature) {\n        let features = feature.get('features');\n        if (features && features.length > 1) {\n          let extent = createEmpty();\n          features.forEach(function (f: any) {\n            extend(extent, f.getGeometry().getExtent());\n          });\n          const view = map.getView();\n          view.fit(extent);\n          const currentZoom = view.getZoom();\n          if (currentZoom) {\n            map.getView().setZoom(currentZoom - 2);\n          }\n        }\n      }\n    };\n\n    this.map.on('click', function (evt: MapBrowserEvent<any>) {\n      zoomCluster(evt.pixel);\n    });\n\n    this.mouseWheelZoom!.setActive(Boolean(options.mouseWheelZoom));\n\n    if (options.showAttribution) {\n      this.map.addControl(new Attribution({ collapsed: true, collapsible: true }));\n    }\n\n    // Update the react overlays\n    let topRight: ReactNode[] = [];\n    if (options.showDebug) {\n      topRight = [<DebugOverlay key=\"debug\" map={this.map} />];\n    }\n\n    this.setState({ topRight });\n  }\n\n  render() {\n    const { ttip, topRight, bottomLeft } = this.state;\n\n    return (\n      <>\n        {\n          //<Global styles={this.globalCSS} />\n        }\n        <div className={this.style.wrap}>\n          <div className={this.style.map} ref={this.initMapRef}></div>\n          <GeomapOverlay bottomLeft={bottomLeft} topRight={topRight} />\n        </div>\n        <Portal>\n          {ttip && ttip.data && (\n            <VizTooltipContainer\n              className={this.style.viz}\n              position={{ x: ttip.pageX, y: ttip.pageY }}\n              offset={{ x: 10, y: 10 }}\n            >\n              <DataHoverView {...ttip} />\n            </VizTooltipContainer>\n          )}\n        </Portal>\n      </>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => ({\n  wrap: css`\n    position: relative;\n    width: 100%;\n    height: 100%;\n  `,\n  map: css`\n    position: absolute;\n    z-index: 0;\n    width: 100%;\n    height: 100%;\n  `,\n  viz: css`\n    border-radius: 10px;\n  `,\n}));\n","import { css } from '@emotion/css';\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport 'ol/ol.css';\n\n/**\n * Will be loaded *after* the css above\n */\nexport function getGlobalStyles(theme: GrafanaTheme2) {\n  // NOTE: this works with\n  //  node_modules/ol/ol.css\n  // use !important;\n  // This file keeps the rules\n\n  // .ol-box {\n  //   border: 2px solid blue;\n  // }\n\n  // .ol-scale-step-marker {\n  //   background-color: #000000;\n  // }\n  // .ol-scale-step-text {\n  //   color: #000000;\n  //   text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n  // }\n  // .ol-scale-text {\n  //   color: #000000;\n  //   text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n  // }\n  // .ol-scale-singlebar {\n  //   border: 1px solid black;\n  // }\n  // .ol-viewport, .ol-unselectable {\n  //   -webkit-tap-highlight-color: rgba(0,0,0,0);\n  // }\n\n  // .ol-overviewmap .ol-overviewmap-map {\n  //   border: 1px solid #7b98bc;\n  // }\n  // .ol-overviewmap:not(.ol-collapsed) {\n  //   background: rgba(255,255,255,0.8);\n  // }\n  // .ol-overviewmap-box {\n  //   border: 2px dotted rgba(0,60,136,0.7);\n  // }\n\n  return css`\n    .ol-scale-line {\n      background: ${theme.colors.border.weak}; // rgba(0,60,136,0.3);\n    }\n    .ol-scale-line-inner {\n      border: 1px solid ${theme.colors.text.primary}; // #eee;\n      border-top: 0px;\n      color: ${theme.colors.text.primary}; //  #eee;\n    }\n    .ol-control {\n      background-color: ${theme.colors.background.secondary}; //rgba(255,255,255,0.4);\n    }\n    .ol-control:hover {\n      background-color: ${theme.colors.action.hover}; // rgba(255,255,255,0.6);\n    }\n    .ol-control button {\n      color: ${theme.colors.secondary.text}; // white;\n      background-color: ${theme.colors.secondary.main}; // rgba(0,60,136,0.5);\n    }\n    .ol-control button:hover {\n      background-color: ${theme.colors.secondary.shade}; // rgba(0,60,136,0.5);\n    }\n    .ol-control button:focus {\n      background-color: ${theme.colors.secondary.main}; // rgba(0,60,136,0.5);\n    }\n    .ol-attribution ul {\n      color: ${theme.colors.text.primary}; //  #000;\n      text-shadow: none;\n    }\n    .ol-attribution:not(.ol-collapsed) {\n      background-color: ${theme.colors.background.secondary}; // rgba(255,255,255,0.8);\n    }\n  `;\n}\n","import React, { FC, useMemo, useCallback } from 'react';\nimport { StandardEditorProps, SelectableValue } from '@grafana/data';\nimport { Button, InlineField, InlineFieldRow, Select, VerticalGroup } from '@grafana/ui';\nimport { GeomapPanelOptions, MapViewConfig } from '../types';\nimport { centerPointRegistry, MapCenterID } from '../view';\nimport { NumberInput } from '../dimensions/editors/NumberInput';\nimport { lastGeomapPanelInstance } from '../GeomapPanel';\nimport { toLonLat } from 'ol/proj';\nimport { createEmpty, extend, getCenter } from 'ol/extent';\nimport VectorLayer from 'ol/layer/Vector';\nimport { Vector } from 'ol/source';\nimport LayerGroup from 'ol/layer/Group';\nimport { isEqual } from 'lodash';\n\nexport const MapViewEditor: FC<StandardEditorProps<MapViewConfig, any, GeomapPanelOptions>> = ({\n  value,\n  onChange,\n  context,\n}) => {\n  const labelWidth = 10;\n\n  const views = useMemo(() => {\n    const ids: string[] = [];\n    if (value?.id) {\n      ids.push(value.id);\n    } else {\n      ids.push(centerPointRegistry.list()[0].id);\n    }\n    return centerPointRegistry.selectOptions(ids);\n  }, [value?.id]);\n\n  const onSetCurrentView = useCallback(() => {\n    const map = lastGeomapPanelInstance?.map;\n    if (map) {\n      const view = map.getView();\n      const coords = view.getCenter();\n      if (coords) {\n        const center = toLonLat(coords, view.getProjection());\n        onChange({\n          ...value,\n          id: MapCenterID.Coordinates,\n          lon: +center[0].toFixed(6),\n          lat: +center[1].toFixed(6),\n          zoom: +view.getZoom()!.toFixed(2),\n        });\n      }\n    }\n  }, [value, onChange]);\n\n  const computeExtent: any = (layer: any, extent: number[]) => {\n    if (layer instanceof VectorLayer) {\n      let source = layer.getSource();\n      if (source !== undefined && source instanceof Vector) {\n        let features = source.getFeatures();\n        for (let feature of features) {\n          let geo = feature.getGeometry();\n          if (geo) {\n            extend(extent, geo.getExtent());\n          }\n        }\n      }\n    }\n  };\n\n  const onSelectView = useCallback(\n    (selection: SelectableValue<string>) => {\n      const v = centerPointRegistry.getIfExists(selection.value);\n      if (v && v.id !== MapCenterID.Auto) {\n        onChange({\n          ...value,\n          id: v.id,\n          lat: v.lat ?? value?.lat,\n          lon: v.lon ?? value?.lon,\n          zoom: v.zoom ?? value?.zoom,\n        });\n      } else if (v && v.id === MapCenterID.Auto) {\n        const map = lastGeomapPanelInstance?.map;\n        if (map) {\n          let extent = createEmpty();\n          const layers = map.getLayers().getArray();\n          for (let layer of layers) {\n            computeExtent(layer, extent);\n            if (layer instanceof LayerGroup) {\n              const groupLayers = layer.getLayersArray();\n              for (let l of groupLayers) {\n                computeExtent(l, extent);\n              }\n            }\n          }\n          if (!isEqual(extent, createEmpty())) {\n            let view = map.getView();\n            let coords = view.getCenter();\n            coords = getCenter(extent);\n            view.fit(extent);\n            let zoom = view.getZoom();\n            if (coords && zoom) {\n              const center = toLonLat(coords, view.getProjection());\n              onChange({\n                ...value,\n                id: v.id,\n                lon: +center[0].toFixed(6),\n                lat: +center[1].toFixed(6),\n                zoom: +zoom.toFixed(0),\n              });\n            }\n          }\n        }\n      }\n    },\n    [value, onChange]\n  );\n\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"View\" labelWidth={labelWidth} grow={true}>\n          <Select menuShouldPortal options={views.options} value={views.current} onChange={onSelectView} />\n        </InlineField>\n      </InlineFieldRow>\n      {value?.id === MapCenterID.Coordinates && (\n        <>\n          <InlineFieldRow>\n            <InlineField label=\"Latitude\" labelWidth={labelWidth} grow={true}>\n              <NumberInput\n                value={value.lat}\n                min={-90}\n                max={90}\n                step={0.001}\n                onChange={(v) => {\n                  onChange({ ...value, lat: v });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow>\n            <InlineField label=\"Longitude\" labelWidth={labelWidth} grow={true}>\n              <NumberInput\n                value={value.lon}\n                min={-180}\n                max={180}\n                step={0.001}\n                onChange={(v) => {\n                  onChange({ ...value, lon: v });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        </>\n      )}\n\n      <InlineFieldRow>\n        <InlineField label=\"Zoom\" labelWidth={labelWidth} grow={true}>\n          <NumberInput\n            value={value?.zoom ?? 1}\n            min={1}\n            max={18}\n            step={0.01}\n            onChange={(v) => {\n              onChange({ ...value, zoom: v });\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <VerticalGroup>\n        <Button variant=\"secondary\" size=\"sm\" fullWidth onClick={onSetCurrentView}>\n          <span>Use current map settings</span>\n        </Button>\n      </VerticalGroup>\n    </>\n  );\n};\n","import Units from 'ol/proj/Units';\nimport { MapCenterID } from './view';\nimport { ExtendMapLayerOptions } from 'extension';\n\nexport interface ControlsOptions {\n  // Zoom (upper left)\n  showZoom?: boolean;\n\n  // let the mouse wheel zoom\n  mouseWheelZoom?: boolean;\n\n  // Lower right\n  showAttribution?: boolean;\n\n  // Scale options\n  showScale?: boolean;\n  scaleUnits?: Units;\n\n  // Layer options\n  showLayercontrol?: boolean;\n\n  // Show debug\n  showDebug?: boolean;\n\n  // hitTolerance\n  hitTolerance?: number;\n}\n\nexport interface MapViewConfig {\n  id: string; // placename > lookup\n  lat?: number;\n  lon?: number;\n  zoom?: number;\n  minZoom?: number;\n  maxZoom?: number;\n  shared?: boolean;\n}\n\nexport const defaultView: MapViewConfig = {\n  id: MapCenterID.Zero,\n  lat: 0,\n  lon: 0,\n  zoom: 1,\n};\n\nexport interface GeomapPanelOptions {\n  view: MapViewConfig;\n  controls: ControlsOptions;\n  basemap: ExtendMapLayerOptions;\n  layers: ExtendMapLayerOptions[];\n}\n","import { FieldConfigSource, PanelTypeChangedHandler, Threshold, ThresholdsMode } from '@grafana/data';\nimport { GeomapPanelOptions } from './types';\nimport { MapCenterID } from './view';\n\n/**\n * This is called when the panel changes from another panel\n */\nexport const mapPanelChangedHandler: PanelTypeChangedHandler = (panel, prevPluginId, prevOptions, prevFieldConfig) => {\n  // Changing from angular/worldmap panel to react/openlayers\n  if (prevPluginId === 'grafana-worldmap-panel' && prevOptions.angular) {\n    const { fieldConfig, options } = worldmapToGeomapOptions({\n      ...prevOptions.angular,\n      fieldConfig: prevFieldConfig,\n    });\n    panel.fieldConfig = fieldConfig; // Mutates the incoming panel\n    return options;\n  }\n\n  return {};\n};\n\nexport function worldmapToGeomapOptions(angular: any): { fieldConfig: FieldConfigSource; options: GeomapPanelOptions } {\n  const fieldConfig: FieldConfigSource = {\n    defaults: {},\n    overrides: [],\n  };\n\n  const options: GeomapPanelOptions = {\n    view: {\n      id: MapCenterID.Zero,\n    },\n    controls: {\n      showZoom: true,\n      mouseWheelZoom: Boolean(angular.mouseWheelZoom),\n    },\n    basemap: {\n      type: 'default', // was carto\n    },\n    layers: [\n      // TODO? depends on current configs\n    ],\n  };\n\n  let v = asNumber(angular.decimals);\n  if (v) {\n    fieldConfig.defaults.decimals = v;\n  }\n\n  // Convert thresholds and color values\n  if (angular.thresholds && angular.colors) {\n    const levels = angular.thresholds.split(',').map((strVale: string) => {\n      return Number(strVale.trim());\n    });\n\n    // One more color than threshold\n    const thresholds: Threshold[] = [];\n    for (const color of angular.colors) {\n      const idx = thresholds.length - 1;\n      if (idx >= 0) {\n        thresholds.push({ value: levels[idx], color });\n      } else {\n        thresholds.push({ value: -Infinity, color });\n      }\n    }\n\n    fieldConfig.defaults.thresholds = {\n      mode: ThresholdsMode.Absolute,\n      steps: thresholds,\n    };\n  }\n\n  v = asNumber(angular.initialZoom);\n  if (v) {\n    options.view.zoom = v;\n  }\n\n  // mapCenter: 'Europe',\n  // mapCenterLatitude: 46,\n  // mapCenterLongitude: 14,\n  //\n  // Map center (from worldmap)\n  const mapCenters: any = {\n    '(0, 0)': MapCenterID.Zero,\n    'North America': 'north-america',\n    Europe: 'europe',\n    'West Asia': 'west-asia',\n    'SE Asia': 'se-asia',\n    'Last GeoHash': MapCenterID.Coordinates, // MapCenterID.LastPoint,\n  };\n  options.view.id = mapCenters[angular.mapCenter as any];\n  options.view.lat = asNumber(angular.mapCenterLatitude);\n  options.view.lon = asNumber(angular.mapCenterLongitude);\n  return { fieldConfig, options };\n}\n\nfunction asNumber(v: any): number | undefined {\n  const num = +v;\n  return isNaN(num) ? undefined : num;\n}\n","import { PanelPlugin } from '@grafana/data';\nimport { BaseLayerEditor } from './editor/BaseLayerEditor';\nimport { DataLayersEditor } from './editor/DataLayersEditor';\nimport { GeomapPanel } from './GeomapPanel';\nimport { MapViewEditor } from './editor/MapViewEditor';\nimport { defaultView, GeomapPanelOptions } from './types';\nimport { mapPanelChangedHandler } from './migrations';\nimport { DEFAULT_BASEMAP_CONFIG } from './layers/registry';\n\nexport const plugin = new PanelPlugin<GeomapPanelOptions>(GeomapPanel)\n  .setNoPadding()\n  .setPanelChangeHandler(mapPanelChangedHandler)\n  .useFieldConfig()\n  .setPanelOptions((builder) => {\n    let category = ['Map view'];\n    builder.addCustomEditor({\n      category,\n      id: 'view',\n      path: 'view',\n      name: 'Initial view', // don't show it\n      description: 'This location will show when the panel first loads',\n      editor: MapViewEditor,\n      defaultValue: defaultView,\n    });\n\n    builder.addBooleanSwitch({\n      category,\n      path: 'view.shared',\n      description: 'Use the same view across multiple panels.  Note: this may require a dashboard reload.',\n      name: 'Share view',\n      defaultValue: defaultView.shared,\n    });\n\n    builder.addCustomEditor({\n      category: ['Base layer'],\n      id: 'basemap',\n      path: 'basemap',\n      name: 'Base layer',\n      editor: BaseLayerEditor,\n      defaultValue: DEFAULT_BASEMAP_CONFIG,\n    });\n\n    builder.addCustomEditor({\n      category: ['Data layer'],\n      id: 'layers',\n      path: 'layers',\n      name: 'Data layer',\n      editor: DataLayersEditor,\n    });\n\n    // The controls section\n    category = ['Map controls'];\n    builder\n      .addBooleanSwitch({\n        category,\n        path: 'controls.showZoom',\n        description: 'show buttons in the upper left',\n        name: 'Show zoom control',\n        defaultValue: true,\n      })\n      .addBooleanSwitch({\n        category,\n        path: 'controls.mouseWheelZoom',\n        name: 'Mouse wheel zoom',\n        defaultValue: true,\n      })\n      .addBooleanSwitch({\n        category,\n        path: 'controls.showAttribution',\n        name: 'Show attribution',\n        description: 'Show the map source attribution info in the lower right',\n        defaultValue: true,\n      })\n      .addBooleanSwitch({\n        category,\n        path: 'controls.showLayercontrol',\n        name: 'Show layer control',\n        description: 'Allow to select layers',\n        defaultValue: true,\n      })\n      .addBooleanSwitch({\n        category,\n        path: 'controls.showScale',\n        name: 'Show scale',\n        description: 'Indicate map scale',\n        defaultValue: false,\n      })\n      .addBooleanSwitch({\n        category,\n        path: 'controls.showDebug',\n        name: 'Show debug',\n        description: 'show map info',\n        defaultValue: false,\n      })\n      .addNumberInput({\n        category,\n        path: 'controls.hitTolerance',\n        name: 'Hit tolerance',\n        description: 'Hit tolerance',\n        defaultValue: 0,\n      })\n  });\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","hash","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","sourceURLs","sources","source","sourceRoot","Control","ol_Observable","LayerGroup","CSS_PREFIX","LayerSwitcher","constructor","opt_options","Object","assign","element","document","createElement","super","target","activationMode","startActive","label","collapseLabel","tipLabel","collapseTipLabel","groupSelectStyle","getGroupSelectStyle","reverse","mapListeners","hiddenClassName","isTouchDevice_","shownClassName","className","button","appendChild","panel","enableTouchScroll_","classList","add","onclick","e","evt","window","event","contains","hidePanel","showPanel","preventDefault","onmouseover","onmouseout","relatedTarget","updateButton","setMap","unByKey","renderPanel","on","dispatchEvent","remove","textContent","setAttribute","getMap","static","render_event","Event","ensureTopVisibleBaseLayerShown","firstChild","removeChild","forEachRecursive","l","_idx","_a","set","setGroupVisibility","setChildVisibility","ul","renderLayers_","_changedLyr","rendercomplete_event","grp","lyrs","getLayers","getArray","get","getGroupsAndLayers","isBaseGroup","forEach","descendantVisibility","getLayersArray","getVisible","every","v","setVisible","group","groupVisible","groupIndeterminate","lastVisibleBaseLyr","lyr","_arr","setVisible_","filterFn","layers","_lyr","idx","arr","visible","render","li","lyrTitle","checkboxId","uuid","btn","toggleFold_","input","type","checked","indeterminate","onchange","htmlFor","innerHTML","rsl","getView","getResolution","getMaxResolution","getMinResolution","getMinZoom","getMaxZoom","zoom","getZoom","elm","renderLayer_","fn","a","c","r","Math","random","scrollStartPos","addEventListener","scrollTop","touches","pageY","createEvent","indexOf","factory","t","h","n","o","s","log","f","exp","u","sqrt","max","floor","min","p","d","x","_maxEntries","_minEntries","ceil","clear","children","minX","minY","maxX","maxY","leaf","m","height","pop","prototype","all","_all","search","toBBox","collides","load","insert","_build","_splitRoot","_insert","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","pow","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","M","_allDistMargin","sort","installedModules","moduleId","loaded","call","defineProperty","value","obj","_Highlighter2","_extends","arguments","key","hasOwnProperty","_interopRequireDefault","Highlighter","_highlightWordsCore","_propTypes2","_react","_memoizeOne2","_ref","_ref$activeClassName","activeClassName","_ref$activeIndex","activeIndex","activeStyle","autoEscape","_ref$caseSensitive","caseSensitive","findChunks","_ref$highlightClassName","highlightClassName","_ref$highlightStyle","highlightStyle","_ref$highlightTag","highlightTag","sanitize","searchWords","textToHighlight","_ref$unhighlightClassName","unhighlightClassName","unhighlightStyle","rest","keys","_objectWithoutProperties","chunks","findAll","HighlightTag","highlightIndex","highlightClassNames","highlightStyles","memoizedLowercaseProps","object","mapped","toLowerCase","chunk","index","text","substr","start","end","highlight","highlightClass","isActive","props","style","propTypes","string","number","bool","func","oneOfType","node","arrayOf","instanceOf","RegExp","isRequired","_utils","enumerable","combineChunks","fillInChunks","_ref$findChunks","defaultFindChunks","chunksToHighlight","totalLength","_ref2","first","second","reduce","processedChunks","nextChunk","prevChunk","endIndex","_ref3","_ref3$sanitize","identity","filter","searchWord","regex","match","exec","lastIndex","_ref4","allChunks","append","process","env","NODE_ENV","REACT_ELEMENT_TYPE","Symbol","for","$$typeof","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","title","browser","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","emptyFunction","invariant","warning","ReactPropTypesSecret","checkPropTypes","isValidElement","throwOnDirectAccess","ITERATOR_SYMBOL","iterator","ANONYMOUS","ReactPropTypes","createPrimitiveTypeChecker","symbol","any","createChainableTypeChecker","thatReturnsNull","typeChecker","propName","componentName","location","propFullName","PropTypeError","propValue","isArray","getPropType","error","expectedClass","expectedClassName","isNode","objectOf","propType","oneOf","expectedValues","y","arrayOfTypeCheckers","checker","getPostfixForTypeWarning","shape","shapeTypes","exact","allKeys","message","stack","validate","manualPropTypeCallCache","manualPropTypeWarningCount","checkType","secret","console","cacheKey","chainedCheckType","bind","expectedType","getPreciseType","iteratorFn","maybeIterable","getIteratorFn","step","entries","next","done","entry","isSymbol","Date","PropTypes","makeEmptyFunction","arg","thatReturns","thatReturnsFalse","thatReturnsTrue","thatReturnsThis","thatReturnsArgument","validateFormat","format","condition","b","argIndex","framesToPop","printWarning","_len","_key","_len2","_key2","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","test1","getOwnPropertyNames","test2","fromCharCode","test3","split","letter","err","shouldUseNative","from","symbols","to","loggedTypeFailures","typeSpecs","values","getStack","typeSpecName","ex","shim","getShim","simpleIsEqual","resultFn","isEqual","lastThis","lastArgs","lastResult","calledOnce","isNewArgEqualToLast","newArg","result","newArgs","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","css","sourceMap","references","updater","addElementStyle","byIndex","api","domAPI","update","newObj","lastIdentifiers","newList","newLastIdentifiers","_i","_index","memo","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","getTarget","setAttributes","attributes","styleElement","nonce","insertStyleElement","styleTagTransform","parentNode","removeStyleElement","styleSheet","cssText","createTextNode","trimLeft","trimRight","tinyCounter","mathRound","round","mathMin","mathMax","mathRandom","tinycolor","color","opts","rgb","g","ok","named","names","matchers","rgba","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","convertHexToDecimal","hex6","hex4","hex3","stringInputToObject","isValidCSSUnit","bound01","convertToPercentage","q","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","rgbToHsl","rgbToHsv","rgbToHex","allow3Char","hex","pad2","charAt","rgbaToArgbHex","convertDecimalToHex","desaturate","amount","toHsl","clamp01","saturate","greyscale","lighten","brighten","toRgb","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","toHsv","modification","isDark","getBrightness","isLight","isValid","getOriginalInput","getFormat","getAlpha","getLuminance","RsRGB","GsRGB","BsRGB","setAlpha","toHsvString","toHslString","toHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","secondHex8String","formatSet","formattedString","hasAlpha","clone","_applyModification","_applyCombination","fromRatio","newColor","equals","color1","color2","mix","rgb1","rgb2","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","parms","level","size","toUpperCase","mostReadable","baseColor","colorList","includeFallbackColors","bestColor","bestScore","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","parseFloat","isNaN","isOnePointZero","processPercent","isPercentage","parseInt","abs","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","__WEBPACK_EXTERNAL_MODULE__7644__","__WEBPACK_EXTERNAL_MODULE__3305__","__WEBPACK_EXTERNAL_MODULE__3545__","__WEBPACK_EXTERNAL_MODULE__7388__","__WEBPACK_EXTERNAL_MODULE__5980__","__WEBPACK_EXTERNAL_MODULE__2650__","__WEBPACK_EXTERNAL_MODULE__1177__","extendStatics","__extends","setPrototypeOf","__proto__","__","create","_super","AssertionError","code","_this","Property","CollectionEvent","opt_element","opt_index","Collection","opt_array","un","unique_","unique","array_","ii","assertUnique_","updateLength_","getLength","extend","insertAt","elem","removeAt","prev","setAt","j","opt_except","ADD","REMOVE","Disposable","disposed","dispose","disposeInternal","POSTRENDER","MOVESTART","MOVEEND","LOADSTART","LOADEND","ObjectEvent","oldValue","BaseObject","opt_values","values_","setProperties","getKeys","getProperties","hasProperties","notify","eventType","hasListener","addChangeListener","listener","removeChangeListener","removeEventListener","opt_silent","applyProperties","unset","PROPERTYCHANGE","Observable","revision_","changed","getRevision","onInternal","onceInternal","ol_key","unInternal","binarySearch","haystack","needle","opt_comparator","mid","cmp","comparator","numberSafeCompareFunction","low","high","found","linearFindNearest","direction","reverseSubArray","begin","tmp","extension","arr1","arr2","len1","isSorted","opt_func","opt_strict","compare","currentVal","res","assert","assertion","errorCode","pointerEvents","target_","map_","listenerKeys","setTarget","getOverlayContainerStopEvent","mapEvent","getElementById","createCanvasContext2D","opt_width","opt_height","opt_canvasPool","opt_Context2DSettings","canvas","shift","OffscreenCanvas","width","getContext","releaseCanvas","context","clearRect","replaceNode","newNode","oldNode","parent","replaceChild","removeNode","removeChildren","lastChild","replaceChildren","oldChildren","childNodes","oldChild","newChild","insertBefore","listen","opt_this","opt_once","originalListener_1","eventsKey","listenOnce","unlistenByKey","BaseEvent","propagationStopped","defaultPrevented","stopPropagation","CHANGE","ERROR","BLUR","CLEAR","CONTEXTMENU","CLICK","DBLCLICK","DRAGENTER","DRAGOVER","DROP","FOCUS","KEYDOWN","KEYPRESS","LOAD","RESIZE","TOUCHMOVE","WHEEL","Target","opt_target","eventTarget_","pendingRemovals_","dispatching_","listeners_","listenersForType","isString","propagate","dispatching","pendingRemovals","handleEvent","pr","getListeners","opt_type","boundingExtent","coordinates","extent","Infinity","extendCoordinate","buffer","opt_extent","closestSquaredDistanceXY","dx","dy","containsCoordinate","coordinate","containsXY","containsExtent","extent1","extent2","coordinateRelationship","relationship","createEmpty","createOrUpdate","createOrUpdateEmpty","createOrUpdateFromCoordinate","createOrUpdateFromFlatCoordinates","flatCoordinates","offset","stride","extendFlatCoordinates","extendXY","forEachCorner","callback","getBottomLeft","getBottomRight","getTopRight","getTopLeft","getArea","area","isEmpty","getWidth","getHeight","getCenter","getCorner","corner","getForViewAndSize","center","resolution","rotation","getRotatedViewport","x0","y0","x1","y1","x2","y2","x3","y3","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","getIntersection","intersection","intersects","returnOrUpdate","scaleFromCenter","deltaX","deltaY","intersectsSegment","startRel","endRel","startX","startY","endX","endY","slope","applyTransform","transformFn","opt_stops","xs","ys","_boundingExtentXYs","wrapX","projection","projectionExtent","getExtent","canWrapX","worldWidth","wrapAndSliceX","isFinite","UNKNOWN","INTERSECTING","ABOVE","RIGHT","BELOW","LEFT","TRUE","FALSE","VOID","memoizeOne","called","nextArgs","ua","navigator","userAgent","FIREFOX","SAFARI_BUG_237906","WEBKIT","MAC","DEVICE_PIXEL_RATIO","devicePixelRatio","WORKER_OFFSCREEN_CANVAS","WorkerGlobalScope","self","IMAGE_DECODE","Image","decode","PASSIVE_EVENT_LISTENERS","passive","BaseLayer","background_","background","properties","opacity","zIndex","maxResolution","minResolution","minZoom","maxZoom","className_","state_","getBackground","getClassName","getLayerState","opt_managed","state","managed","getZIndex","getOpacity","getLayerStatesArray","opt_states","getSourceState","setBackground","opt_background","setExtent","setMaxResolution","setMinResolution","setMaxZoom","setMinZoom","setOpacity","setZIndex","zindex","GroupEvent","baseOptions","layersListenerKeys_","listenerKeys_","handleLayersChanged_","setLayers","handleLayerChange_","handleLayersAdd_","handleLayersRemove_","layersArray","registerLayerListeners_","handleLayerGroupAdd_","handleLayerGroupRemove_","collectionEvent","collection","currentLayers","states","pos","ownLayerState","defaultZIndex","layerState","OPACITY","VISIBLE","EXTENT","Z_INDEX","MAX_RESOLUTION","MIN_RESOLUTION","MAX_ZOOM","MIN_ZOOM","SOURCE","MAP","clamp","cosh","log2","LOG2E","squaredSegmentDistance","squaredDistance","solveLinearSystem","mat","maxRow","maxEl","absValue","coef","toRadians","angleInDegrees","PI","modulo","lerp","toFixed","decimals","factor","var_sources","output","property","getValues","abstract","uidCounter_","getUid","ol_uid","VERSION","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","getter","definition","prop","toStringTag","baseURI","href","nc","easeIn","easeOut","inAndOut","linear","Tile","tileCoord","interimTile","transition_","transition","transitionStarts_","interpolate","EventType","release","getKey","getInterimTile","tile","getState","refreshInterimChain","getTileCoord","setState","time","delta","inTransition","endTransition","ImageBase","pixelRatio","pixelRatio_","getImage","getPixelRatio","listenImage","image","loadHandler","errorHandler","img","listening","decoding","src","then","catch","ImageWrapper","crossOrigin","imageLoadFunction","src_","image_","unlisten_","imageLoadFunction_","handleImageError_","unlistenImage_","handleImageLoad_","setImage","ImageTile","tileLoadFunction","crossOrigin_","tileLoadFunction_","ctx","fillStyle","fillRect","naturalWidth","naturalHeight","Units","RADIANS","DEGREES","FEET","METERS","PIXELS","TILE_PIXELS","USFEET","Projection","code_","units_","extent_","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","global","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","getCode","getUnits","getMetersPerUnit","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setWorldExtent","setGetPointResolution","getPointResolutionFunc","RADIUS","HALF_SIZE","WORLD_EXTENT","MAX_SAFE_Y","EPSG3857Projection","units","point","PROJECTIONS","EPSG4326Projection","opt_axisOrientation","cache","transforms","destination","sourceCode","destinationCode","coordinate1","coordinate2","rotate","angle","cosAngle","sinAngle","scale","worldsAway","opt_sourceExtentWidth","sourceExtentWidth","getDistance","opt_radius","radius","lat1","lat2","deltaLatBy2","deltaLonBy2","atan2","showCoordinateWarning","disableCoordinateWarning","opt_disable","cloneTransform","opt_output","opt_dimension","identityTransform","addProjection","projectionLike","opt_units","pointResolution","toEPSG4326_1","getTransformFromProjections","vertices","addEquivalentProjections","projections","addProjections","createProjection","defaultCode","fromLonLat","opt_projection","transform","toLonLat","lonLat","lon","equivalent","projection1","projection2","equalUnits","sourceProjection","destinationProjection","transformFunc","getTransform","projections2","forwardTransform","inverseTransform","userProjection","getUserProjection","toUserCoordinate","fromUserCoordinate","destProjection","warn","toUserResolution","dimension","atan","Triangulation","sourceProj","targetProj","targetExtent","maxSourceExtent","errorThreshold","opt_destinationResolution","sourceProj_","targetProj_","transformInvCache","transformInv","transformInv_","maxSourceExtent_","errorThresholdSquared_","triangles_","wrapsXInSource_","canWrapXInSource_","sourceWorldWidth_","targetWorldWidth_","destinationTopLeft","destinationTopRight","destinationBottomRight","destinationBottomLeft","sourceTopLeft","sourceTopRight","sourceBottomRight","sourceBottomLeft","maxSubdivision","addQuad_","leftBound_1","triangle","newTriangle","addTriangle_","aSrc","bSrc","cSrc","dSrc","sourceQuadExtent","sourceCoverageX","sourceWorldWidth","wrapsX","needsSubdivision","targetQuadExtent","isNotFinite","centerSrc","bc","bcSrc","da","daSrc","ab","abSrc","cd","cdSrc","calculateSourceExtent","getTriangles","brokenDiagonalRendering_","IMAGE_SMOOTHING_DISABLED","imageSmoothingEnabled","msImageSmoothingEnabled","IMAGE_SMOOTHING_ENABLED","canvasPool","drawTestTriangle","u1","v1","u2","v2","beginPath","moveTo","lineTo","closePath","save","clip","restore","verifyBrokenDiagonalRendering","calculateSourceResolution","targetCenter","targetResolution","sourceCenter","sourceResolution","targetMetersPerUnit","sourceMetersPerUnit","sourceExtent","compensationFactor","triangulation","gutter","opt_renderEdges","opt_interpolate","pixelRound","globalCompositeOperation","sourceDataExtent","canvasWidthInUnits","canvasHeightInUnits","stitchContext","stitchScale","xPos","yPos","srcWidth","srcHeight","drawImage","targetTopLeft","u0","v0","sourceNumericalShiftX","sourceNumericalShiftY","augmentedMatrix","affineCoefs","getImageData","isBrokenDiagonalRendering","ud","vd","steps","translate","strokeStyle","lineWidth","stroke","ReprojTile","sourceTileGrid","targetTileGrid","wrappedTileCoord","getTileFunction","opt_errorThreshold","renderEdges_","gutter_","canvas_","sourceTileGrid_","targetTileGrid_","wrappedTileCoord_","sourceTiles_","sourcesListenerKeys_","sourceZ_","getTileCoordExtent","maxTargetExtent","limitedTargetExtent","sourceProjExtent","calculateSourceExtentResolution","errorThresholdInPixels","triangulation_","getZForResolution","sourceRange","getTileRangeForExtentAndZ","srcX","srcY","reproject_","z","getTileSize","leftToLoad_1","sourceListenKey_1","unlistenSources_","LRUCache","opt_highWaterMark","highWaterMark","count_","entries_","oldest_","newest_","canExpireCache","getCount","expireCache","keep","containsKey","value_","key_","newer","older","peekLast","peekLastKey","peekFirstKey","peek","setSize","opt_tileCoord","getKeyZXY","fromKey","Number","TileCache","usedTiles","pruneExceptNewestZ","Source","attributions_","adaptAttributions","attributions","attributionsCollapsible_","attributionsCollapsible","loading","wrapX_","interpolate_","viewResolver","viewRejector","viewPromise_","Promise","resolve","reject","getAttributions","getAttributionsCollapsible","getProjection","getResolutions","getWrapX","getInterpolate","refresh","setAttributions","attributionLike","frameState","TileRange","containsTileRange","tileRange","getSize","linearRingContainsExtent","linearRingContainsXY","wn","linearRingsContainsXY","ends","intersectsLineString","coordinatesExtent","point1","point2","intersectsLinearRing","intersectsLinearRingArray","hasArea","toSize","opt_size","tmpTileCoord","TileGrid","zoomFactor","resolutions_","resolutions","origins","zoomFactor_","origin_","origin","origins_","tileSizes_","tileSizes","tileSize_","tileSize","fullTileRanges_","tmpSize_","tmpExtent_","sizes","restrictedTileRange","calculateTileRanges_","forEachTileCoord","jj","forEachTileCoordParentTileRange","opt_tileRange","tileCoordExtent","getOrigin","getTileCoordChildTileRange","getTileRangeForTileCoordAndZ","tileCoordZ","tileCoordX","tileCoordY","getTileRangeExtent","getTileCoordForXYAndZ_","getTileCoordCenter","getTileCoordForCoordAndResolution","getTileCoordForXYAndResolution_","reverseIntersectionPolicy","getTileCoordForCoordAndZ","getTileCoordResolution","getFullTileRange","opt_direction","tileCoordIntersectsViewport","viewport","fullTileRanges","getForProjection","opt_maxZoom","opt_tileSize","opt_corner","resolutionsFromExtent","createForExtent","extentFromProjection","createForProjection","createXYZ","xyzOptions","gridOptions","opt_maxResolution","half","TileSource","opaque_","opaque","tilePixelRatio_","tilePixelRatio","tileCache","cacheSize","tmpSize","tileOptions","zDirection","getTileCacheForProjection","forEachLoadedTile","tileCoordKey","covered","getGutterForProjection","setKey","getOpaque","getTile","getTileGrid","getTileGridForProjection","getTilePixelRatio","getTilePixelSize","ratio","getTileCoordForTileUrlFunction","withinExtentAndZ","updateCacheSize","tileCount","useTile","TileSourceEvent","createFromTemplate","template","zRegEx","xRegEx","yRegEx","dashYRegEx","range","UrlTile","generateTileUrlFunction_","tileUrlFunction","urls","setUrls","setUrl","tileLoadingKeys_","getTileLoadFunction","getTileUrlFunction","getPrototypeOf","getUrls","handleTileChange","uid","tileState","setTileLoadFunction","setTileUrlFunction","startCharCode","charCodeAt","stopCharCode","charCode","stop_1","expandUrl","templates","tileUrlFunctions","createFromTileUrlFunctions","createFromTemplates","TileImage","imageSmoothing","defaultTileLoadFunction","tileClass","tileCacheForProjection","tileGridForProjection","reprojectionErrorThreshold_","reprojectionErrorThreshold","renderReprojectionEdges_","usedTileCache","getGutter","thisProj","projKey","createTile_","urlTileCoord","tileUrl","newTile","getTileInternal","setRenderReprojectionEdges","setTileGridForProjection","tilegrid","proj","imageTile","XYZ","Layer","mapPrecomposeKey_","mapRenderKey_","sourceChangeKey_","renderer_","rendered","handleSourcePropertyChange_","setSource","getSource","getRenderSource","handleSourceChange_","getFeatures","pixel","getData","layerRenderer","getRenderer","prepareFrame","renderFrame","unrender","setMapInternal","getMapInternal","layerStatesArray","some","arrayLayerState","createRenderer","hasRenderer","Base","inView","viewState","BaseTileLayer","preload","useInterimTilesOnError","setPreload","setUseInterimTilesOnError","getPreload","TileProperty","getUseInterimTilesOnError","LayerRenderer","ready","boundHandleImageChange_","handleImageChange_","layer_","declutterExecutorGroup","loadedTileCallback","tiles","createLoadedTileFinder","forEachFeatureAtCoordinate","hitTolerance","matches","getDataAtPixel","getLayer","handleFontsChanged","renderIfReadyAndVisible","loadImage","imageState","RenderEvent","opt_inversePixelTransform","opt_frameState","opt_context","inversePixelTransform","transformStringDiv","tmp_","multiply","transform1","transform2","a1","b1","d1","e1","f1","a2","b2","d2","e2","f2","compose","dx1","dy1","sx","sy","dx2","dy2","makeInverse","det","transformString","HEX_COLOR_RE_","NAMED_COLOR_RE_","asString","fromString","el","body","getComputedStyle","fromNamed","normalize","fromStringInternal_","asArray","pixelContext","CanvasLayerRenderer","container","renderedResolution","tempTransform","pixelTransform","containerReused","pixelContext_","col","row","useContainer","opt_backgroundColor","layerClassName","backgroundColor","firstElementChild","HTMLCanvasElement","position","left","transformOrigin","clipUnrotated","topLeft","topRight","bottomRight","bottomLeft","coordinateToPixelTransform","inverted","dispatchRenderEvent_","event_1","preRender","postRender","getRenderTransform","offsetX","renderPixel","layerExtent","renderCoordinate","pixelToCoordinateTransform","pixelCanvas","Uint8Array","CanvasTileLayerRenderer","tileLayer","extentChanged","renderedExtent_","renderedPixelRatio","renderedProjection","renderedRevision","renderedTiles","newTiles_","tmpExtent","tmpTileRange_","isDrawableTile","tileOrigin","tileResolution","layerIndex","viewResolution","viewCenter","tileSource","sourceRevision","canvasExtent","tilesToDrawByZ","findLoadedTiles","tmpTileRange","childTileRange","canvasScale","canvasTransform","clips","clipZs","currentClip","zs","currentZ","currentTilePixelSize","currentScale","dx_1","dy_1","originTileCoord","originTileExtent","origin_1","tileGutter","tilesToDraw","xIndex","nextX","yIndex","nextY","w","contextSaved","i_1","drawTileImage","unshift","updateUsedTiles","manageTilePyramid","scheduleExpireCache","getTileImage","alpha","alphaChanged","globalAlpha","animate","postRenderFunction","tileSourceKey","postRenderFunctions","opt_tileCallback","wantedTiles","tileQueue","isKeyQueued","enqueue","TileLayer","BaseTile","LayerTheme","Auto","Light","Dark","defaultCartoConfig","theme","showLabels","carto","isBaseMap","defaultOptions","init","cfg","config","registerOptionsUI","builder","addRadio","path","settings","description","defaultValue","addBooleanSwitch","cartoLayers","hasAlphaPanels","Boolean","debug","PluginState","sampleURL","defaultXYZConfig","attribution","xyzTiles","addTextInput","placeholder","genericLayers","CUSTOM_SERVICE","DEFAULT_SERVICE","publicServiceRegistry","Registry","slug","esriXYZTiles","svc","getIfExists","server","addSelect","selectOptions","showIf","esriLayers","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","geometry","setGeometry","setGeometryName","getGeometryName","getGeometry","getStyle","setStyle","getId","getStyleFunction","handleGeometryChange_","opt_style","styles_1","createStyleFunction","setId","FeatureFormat","dataProjection","defaultFeatureProjection","supportedMediaTypes","getReadOptions","readProjection","featureProjection","adaptOptions","getType","readFeature","readFeatures","readGeometry","writeFeature","feature","writeFeatures","features","writeGeometry","transformGeometryWithOptions","write","transformed","power_1","getObject","parse","JSONFeature","readFeatureFromObject","readFeaturesFromObject","readGeometryFromObject","readProjectionFromObject","writeFeatureObject","writeFeaturesObject","writeGeometryObject","transform2D","opt_dest","dest","anchor","anchorX","anchorY","tmpTransform","Geometry","extentRevision_","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometryRevision","simplifyTransformedInternal","revision","squaredTolerance","opt_transform","getSimplifiedGeometry","simplifyTransformed","closestPointXY","closestPoint","minSquaredDistance","coord","getClosestPoint","opt_closestPoint","NaN","intersectsCoordinate","computeExtent","opt_sy","opt_anchor","simplify","tolerance","intersectsExtent","inCoordinates","outCoordinates","pixelExtent","projectedExtent","SimpleGeometry","layout","getCoordinates","getFirstCoordinate","getFlatCoordinates","getLastCoordinate","getLayout","simplifiedGeometry","getSimplifiedGeometryInternal","getStride","setFlatCoordinates","getStrideForLayout","setCoordinates","opt_layout","setLayout","nesting","getLayoutForStride","assignClosest","offset1","offset2","maxSquaredDelta","squaredDelta","arrayMaxSquaredDelta","assignClosestPoint","maxDelta","isRing","opt_tmpPoint","tmpPoint","assignClosestArrayPoint","deflateCoordinates","deflateCoordinatesArray","coordinatess","opt_ends","douglasPeucker","simplifiedFlatCoordinates","simplifiedOffset","markers","last","maxSquaredDistance","squaredDistance_1","snap","quantize","quantizeArray","simplifiedEnds","inflateCoordinates","opt_coordinates","inflateCoordinatesArray","opt_coordinatess","inflateMultiCoordinatesArray","endss","opt_coordinatesss","coordinatesss","interpolatePoint","fraction","length_1","cumulativeLengths","lineStringCoordinateAtM","extrapolate","lo","hi","m0","lineStringLength","LineString","flatMidpoint_","flatMidpointRevision_","maxDelta_","maxDeltaRevision_","appendCoordinate","lineString","forEachSegment","getCoordinateAtM","opt_extrapolate","getCoordinateAt","getFlatMidpoint","MultiLineString","ends_","lineStrings","appendLineString","multiLineString","lineStringsCoordinateAtM","getEnds","getLineString","getLineStrings","getFlatMidpoints","midpoints","midpoint","douglasPeuckerArray","intersectsLineStringArray","Point","deflateCoordinate","MultiPoint","appendPoint","multiPoint","getPoint","getPoints","points","linearRing","twiceArea","linearRings","LinearRing","getInteriorPointOfArray","flatCenters","flatCentersOffset","intersections","rr","pointX","maxSegmentLength","segmentLength","linearRingIsClockwise","edge","linearRingsAreOriented","opt_right","right","isClockwise","orientLinearRings","orientLinearRingsArray","Polygon","flatInteriorPointRevision_","flatInteriorPoint_","orientedRevision_","orientedFlatCoordinates_","appendLinearRing","polygon","getOrientedFlatCoordinates","getFlatInteriorPoint","flatCenter","getInteriorPoint","getLinearRingCount","getLinearRing","getLinearRings","fromExtent","MultiPolygon","opt_endss","endss_","flatInteriorPointsRevision_","flatInteriorPoints_","polygons","appendPolygon","newEndss","multiPolygon","multiArrayMaxSquaredDelta","assignClosestMultiArrayPoint","linearRingssContainsXY","linearRingss","getEndss","getFlatInteriorPoints","interiorPoints","getInteriorPointsOfMultiArray","getInteriorPoints","linearRingssAreOriented","simplifiedEndss","quantizeMultiArray","getPolygon","prevEnds","getPolygons","intersectsLinearRingMultiArray","deflateMultiCoordinatesArray","lastEnds","TopoJSON","layerName_","layerName","layers_","topoJSONTopology","arcs","transformArc","transformArcs","topoJSONFeatures","objectName","readFeaturesFromGeometryCollection","readFeatureFromGeometry","GEOMETRY_READERS","transformVertex","concatenateArcs","polyArray","ringCoords","indices","arc","geometries","geometryReader","vertex","ImageStyle","opacity_","rotateWithView_","rotateWithView","rotation_","scale_","scaleArray_","displacement_","displacement","declutterMode_","declutterMode","getScale","getRotation","getRotateWithView","getDisplacement","getDeclutterMode","getScaleArray","getAnchor","getHitDetectionImage","getImageState","getImageSize","setDisplacement","setRotateWithView","setRotation","setScale","listenImageChange","unlistenImageChange","asColorLike","CLASS_HIDDEN","CLASS_CONTROL","fontRegEx","fontRegExMatchIndex","getFontParameters","fontSpec","lineHeight","weight","variant","families","family","defaultFont","defaultFillStyle","defaultLineCap","defaultLineDash","defaultLineJoin","defaultStrokeStyle","defaultTextAlign","defaultTextBaseline","defaultPadding","checkedFonts","measureFont","measureElement","measureContext","textHeights","registerFont","interval","referenceWidth","referenceFonts","isAvailable","fontStyle","fontWeight","fontFamily","available","referenceFont","measureTextWidth","check","fonts","font","clearInterval","setInterval","measureTextHeight","metrics","measureText","actualBoundingBoxAscent","actualBoundingBoxDescent","minHeight","maxHeight","padding","border","display","offsetHeight","measureAndCacheTextWidth","curr","RegularShape","hitDetectionCanvas_","fill_","fill","points_","radius_","radius1","radius2_","radius2","angle_","stroke_","size_","renderOptions_","getFill","getRadius","getRadius2","getAngle","getStroke","setFill","createHitDetectionCanvas_","renderOptions","draw_","setStroke","calculateLineJoinSize_","lineJoin","strokeWidth","miterLimit","r1","r2","miterRatio","bevelAdd","aa","dd","innerMiterRatio","innerLength","createRenderOptions","lineDash","lineDashOffset","getColor","getLineDash","getLineDashOffset","getLineJoin","getMiterLimit","maxRadius","createPath_","setLineDash","drawHitDetectionCanvas_","startAngle","angle0","radiusC","CircleStyle","setRadius","Fill","color_","setColor","Stroke","lineCap_","lineCap","lineDash_","lineDashOffset_","lineJoin_","miterLimit_","width_","getLineCap","setLineCap","setLineDashOffset","setLineJoin","setMiterLimit","setWidth","Style","geometry_","geometryFunction_","defaultGeometryFunction","renderer","hitDetectionRenderer_","hitDetectionRenderer","text_","zIndex_","getText","setRenderer","setHitDetectionRenderer","getHitDetectionRenderer","getGeometryFunction","setText","defaultStyles","createDefaultStyle","Circle","BaseVectorLayer","renderBuffer","updateWhileAnimating","updateWhileInteracting","declutter_","declutter","renderBuffer_","updateWhileAnimating_","updateWhileInteracting_","getDeclutter","getRenderBuffer","getRenderOrder","getUpdateWhileAnimating","getUpdateWhileInteracting","renderDeclutter","declutterTree","setRenderOrder","renderOrder","styleFunction","Instruction","BEGIN_GEOMETRY","BEGIN_PATH","CIRCLE","CLOSE_PATH","CUSTOM","DRAW_CHARS","DRAW_IMAGE","END_GEOMETRY","FILL","MOVE_TO_LINE_TO","SET_FILL_STYLE","SET_STROKE_STYLE","STROKE","fillInstruction","strokeInstruction","beginPathInstruction","closePathInstruction","VectorContext","drawCustom","drawGeometry","drawCircle","circleGeometry","drawFeature","drawGeometryCollection","geometryCollectionGeometry","drawLineString","lineStringGeometry","drawMultiLineString","multiLineStringGeometry","drawMultiPoint","multiPointGeometry","drawMultiPolygon","multiPolygonGeometry","drawPoint","pointGeometry","drawPolygon","polygonGeometry","drawText","setFillStrokeStyle","setImageStyle","imageStyle","opt_declutterImageWithText","setTextStyle","textStyle","CanvasBuilder","maxExtent","maxLineWidth","beginGeometryInstruction1_","beginGeometryInstruction2_","bufferedMaxExtent_","instructions","tmpCoordinate_","hitDetectionInstructions","applyPixelRatio","dashArray","dash","appendFlatPointCoordinates","getBufferedMaxExtent","tmpCoord","myEnd","appendFlatLineCoordinates","closed","skipFirst","lastRel","nextRel","lastXCoord","lastYCoord","nextCoord","skipped","Relationship","drawCustomCoordinates_","builderEnds","builderEnd","beginGeometry","builderEndss","builderBegin","myEnds","endGeometry","finish","reverseHitDetectionInstructions","instruction","fillStyleColor","strokeStyleColor","strokeStyleLineCap","strokeStyleLineDash","strokeStyleLineDashOffset","strokeStyleLineJoin","strokeStyleWidth","strokeStyleMiterLimit","createFill","applyStroke","createStroke","updateFillStyle","currentFillStyle","updateStrokeStyle","currentStrokeStyle","currentLineCap","currentLineDash","currentLineDashOffset","currentLineJoin","currentLineWidth","currentMiterLimit","endGeometryInstruction","CanvasImageBuilder","hitDetectionImage_","imagePixelRatio_","anchorX_","anchorY_","height_","originX_","originY_","declutterImageWithText_","myBegin","opt_sharedData","CanvasLineStringBuilder","drawFlatCoordinates_","moveToLineToInstruction","lastStroke","CanvasPolygonBuilder","drawFlatCoordinatess_","numEnds","setFillStrokeStyles_","circleInstruction","matchingChunk","maxAngle","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","acos","TEXT_ALIGN","CanvasTextBuilder","labels_","textOffsetX_","textOffsetY_","textRotateWithView_","textRotation_","textFillState_","fillStates","textStrokeState_","strokeStates","textState_","textStates","textKey_","fillKey_","strokeKey_","fillState","strokeState","textState","geometryType","placement","geometryWidths","overflow","beg_1","saveTextStates_","backgroundFill","backgroundStroke","p0","p1","p2","p3","pixelRatio_1","textAlign","flatOffset","flatEnd","oo","drawChars_","strokeKey","textKey","justify","textBaseline","fillKey","baseline","offsetY","textFillStyle","textStrokeStyle","getFont","textScale","getOverflow","getMaxAngle","getPlacement","getTextAlign","getJustify","getTextBaseline","getBackgroundFill","getBackgroundStroke","getPadding","textOffsetX","getOffsetX","textOffsetY","getOffsetY","textRotateWithView","textRotation","BATCH_CONSTRUCTORS","PolygonBuilder","Builder","ImageBuilder","LineStringBuilder","BuilderGroup","tolerance_","maxExtent_","resolution_","buildersByZIndex_","builderInstructions","zKey","builders","builderKey","builderInstruction","getBuilder","builderType","zIndexKey","replays","replay","Constructor","drawTextOnPath","startM","segmentM","advance","beginX","beginY","startOffset","startLength","endM","flat","previousAngle","singleSegment","iStart","charLength","chars","substring","p4","getDeclutterBox","replayImageOrLabelArgs","declutterBox","rtlRegEx","horizontalTextAlign","align","createTextChunks","acc","line","Executor","overlaps","alignFill_","coordinateCache_","renderedTransform_","pixelCoordinates_","viewRotation_","widths_","createLabel","textIsArray","baseStyle","widths","heights","lineWidths","currentWidth","currentHeight","getTextDimensions","renderWidth","contextInstructions","OffscreenCanvasRenderingContext2D","CanvasRenderingContext2D","previousFont","leftRight","strokeInstructions","fillInstructions","lineOffset","widthHeightIndex","lineWidthIndex","text_1","fillStrokeArgs","replayTextBackground_","setStrokeStyle_","calculateImageOrLabelDimensions_","sheetWidth","sheetHeight","centerX","centerY","originX","originY","snapToPixel","fillStroke","boxW","boxH","boxX","boxY","drawImageX","drawImageY","drawImageW","drawImageH","replayImageOrLabel_","contextScale","imageOrLabel","dimensions","box","strokePadding","labelOrImage","setTransform","executeLabelInstructions","drawImageOrLabel","repeatSize","drawLabelWithPointPlacement_","execute_","opt_featureCallback","opt_hitExtent","opt_declutterTree","pixelCoordinates","prevX","prevY","roundX","roundY","currentGeometry","pendingFill","pendingStroke","lastFillInstruction","lastStrokeInstruction","coordinateCache","viewRotation","viewRotationFromTransform","batchSize","coords","declutterImageWithText","labelWithAnchor","widthIndex","imageArgs","imageDeclutterBox","measurePixelRatio","pixelRatioScale","cachedWidths","pathLength","textLength","parts","drawChars","cc","ii_1","execute","executeHitDetection","ORDER","ExecutorGroup","allInstructions","opt_renderBuffer","overlaps_","executorsByZIndex_","hitDetectionContext_","hitDetectionTransform_","createExecutors_","flatClipCoords","getClipCoords","executors","instructionByZindex","hasExecutors","candidates","declutteredFeatures","contextSize","newContext","hitExtent","indexes","circlePixelIndexArrayCache","maxDistanceSq","distances","distanceSq","distance","pixelIndex","getPixelIndexArray","featureCallback","imageData","result_1","executor","opt_builderTypes","builderTypes","CanvasImmediateRenderer","opt_squaredTolerance","opt_userTransform","context_","transform_","squaredTolerance_","userTransform_","contextFillState_","contextStrokeState_","contextTextState_","fillState_","strokeState_","imageAnchorX_","imageAnchorY_","imageHeight_","imageOpacity_","imageOriginX_","imageOriginY_","imageRotateWithView_","imageRotation_","imageScale_","imageWidth_","textScale_","tmpLocalTransform_","drawImages_","localTransform","drawText_","setContextFillState_","setContextStrokeState_","setContextTextState_","strokeText","fillText","moveToLineTo_","close","drawRings_","simpleGeometry","transformGeom2D","getGeometriesArray","flatMidpoint","geometryExtent","flatMidpoints","flatInteriorPoint","flatInteriorPoints","contextFillState","contextStrokeState","contextTextState","imageSize","imageAnchor","imageOrigin","textFillStyleColor","textStrokeStyleColor","textStrokeStyleLineCap","textStrokeStyleLineDash","textStrokeStyleLineDashOffset","textStrokeStyleLineJoin","textStrokeStyleWidth","textStrokeStyleMiterLimit","textFont","textText","textTextAlign","textTextBaseline","shared","IconImageCache","cache_","cacheSize_","maxCacheSize_","expire","iconImage","maxCacheSize","taintedTestContext","IconImage","imageState_","tainted_","isTainted_","dispatchChangeEvent_","replaceColor_","getSrc","imgData","putImageData","Icon","anchor_","normalizedAnchor_","anchorOrigin_","anchorOrigin","IconOrigin","anchorXUnits_","anchorXUnits","IconAnchorUnits","anchorYUnits_","anchorYUnits","imgSize_","imgSize","iconImage_","offset_","offsetOrigin_","offsetOrigin","setAnchor","iconImageSize","HIT_DETECT_RESOLUTION","createHitDetectionImageData","featureCount","indexFactor","featuresByZIndex","featureStyleFunction","styles","originalStyle","imgContext","byGeometryType","zIndexKeys","geomAndStyle","kk","hitDetect","resultFeatures","GEOMETRY_RENDERERS","builderGroup","opt_declutterBuilderGroup","imageBuilderGroup","imageReplay_1","imageReplay","textBuilderGroup","textReplay","lineStringReplay","polygonReplay","imageReplay_2","replayGroup","geometryRenderer","circleReplay","defaultOrder","feature1","feature2","getSquaredTolerance","getTolerance","renderFeature","renderGeometry","renderFeatureInternal","getGeometries","IMAGE_REPLAYS","VECTOR_REPLAYS","CanvasVectorTileLayerRenderer","boundHandleStyleImageChange_","handleStyleImageChange_","renderedLayerRevision_","renderedPixelToCoordinateTransform_","renderedRotation_","tmpTransform_","prepareTile","updateExecutorGroup_","tileImageNeedsRender_","viewHints","hifi","wantedResolution","now","getRenderMode","VectorTileRenderType","renderTileImage_","executorGroups","hasContext","layerRevision","builderState","getReplayState","dirty","renderedRenderOrder","tileExtent","sourceTiles","getSourceTiles","layerUid","hitDetectionImageData","declutterExecutorGroups","_loop_1","tt","sourceTile","sourceTileCoord","sourceTileExtent","sharedExtent","builderExtent","this_1","bufferedExtent","declutterBuilderGroup","executorGroupInstructions","replayExtent","renderingReplayGroup","getOverlaps","lastIndexOf","_loop_2","executorGroup","extent_1","loadingSourceTiles","tilePixel","accumulator","animatingOrInteracting_","getTileRenderTransform","worldOffset","renderMode","replayTypes","replayState","renderedTileResolution","renderedTileRevision","renderPixelRatio","renderScale","pixelScale","VectorTileLayer","renderMode_","BaseVector","VectorTile","format_","features_","loader_","url_","onLoad","setFeatures","onError","setLoader","loader","VectorRenderTile","replayState_","errorTileKeys","renderedTileZ","loadFeaturesXhr","success","failure","xhr","XMLHttpRequest","open","responseType","withCredentials","onload","status","responseText","responseXML","DOMParser","parseFromString","onerror","send","addFeatures","defaultLoadFunction","sourceTileCache","tileGrids_","getFeaturesInExtent","tileFeatures","candidate","usedSourceTiles","tileKey","sourceTileGrid_1","sourceZ","sourceTileState","listenChange_1","sourceTileKey","coordKey","empty","sourceTileGrid_2","DEFAULT_MAX_ZOOM","createOLStyle","kind","nexten","VectorTileSource","apiKey","nextenLayers","OSM","standard","basemapLayers","ol","ext","ol_ext_inherits","child","inherits","NodeList","Element","_color","_fontSize","fontSize","_fontStyle","_stroke","_fill","_radius","_form","form","_gradient","gradient","_offset","glyph","_glyph","getGlyph","getTextGlyph","toDataURL","defs","addDefs","glyphs","thefont","copyright","fontname","char","getGlyphName","getFontInfo","pixelratio","drawMarker_","drawPath_","transfo","fac","posX","posY","quadraticCurveTo","pts","fcolor","scolor","tr","grd","createLinearGradient","addColorStop","getChecksum","strokeChecksum","fillChecksum","checksums_","glyphs_","checksum","ol_style_Shadow","_blur","blur","resetTransform","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","RBush","opt_maxEntries","rbush_","items_","extents","items","bbox","getAll","getInExtent","forEach_","forEachInExtent","rbush","VectorSourceEvent","opt_feature","opt_features","VectorSource","strategy_","strategy","useSpatialIndex","featuresRtree_","loadedExtentsRtree_","loadingExtentsCount_","nullGeometryFeatures_","idIndex_","uidIndex_","featureChangeKeys_","featuresCollection_","addFeaturesInternal","bindFeaturesCollection_","addFeature","addFeatureInternal","featureKey","addToIndex_","setupChangeEvents_","VectorEventType","handleFeatureChange_","ObjectEventType","valid","newFeatures","geometryFeatures","length_2","length_3","modifyingCollection","CollectionEventType","removeFeature","opt_fast","featureId","removeAndIgnoreReturn","removeFeatureInternal","clearEvent","forEachFeature","forEachFeatureAtCoordinateDirect","forEachFeatureInExtent","forEachFeatureIntersectingExtent","getFeaturesCollection","getFeaturesAtCoordinate","anExtent","getClosestFeatureToCoordinate","opt_filter","closestFeature","previousMinSquaredDistance","minDistance","getFeatureById","getFeatureByUid","getUrl","sid","removeFromIdIndex_","hasFeature","loadFeatures","loadedExtentsRtree","extentsToLoad","extentToLoad","removeLoadedExtent","featureChangeKeys","removed","Cluster","interpolationRatio","geometryFunction","createCustomCluster_","createCluster","boundRefresh_","updateDistance","setDistance","setMinDistance","getMinDistance","cluster","mapDistance","clustered","neighbors","neighbor","centroid","geometry_1","searchCenter","Vector","CanvasVectorLayerRenderer","vectorLayer","hitDetectionImageData_","renderedFeatures_","renderedRevision_","renderedResolution_","wrappedRenderedExtent_","renderedCenter_","renderedProjection_","renderedRenderOrder_","replayGroup_","replayGroupChanged","clipping","compositionContext_","renderWorlds","vectorSource","multiWorld","endWorld","world","setupCompositionContext_","compositionContext","releaseCompositionContext_","makeScale","clipped","animating","interacting","frameStateExtent","vectorLayerRevision","vectorLayerRenderBuffer","vectorLayerRenderOrder","renderedExtent","loadExtents","loadExtent","userTransform","userExtent_1","userExtent","replayGroupInstructions","VectorLayer","loadGazetteer","latitude","longitude","Map","info","find","examples","loadWorldmapPoints","registry","COUNTRIES_GAZETTEER_PATH","getGazetteer","lookup","getBackendSrv","decodeGeohash","geohash","BITS","isEven","lat","base32Decoded","mask","refineInterval","latCenter","cloneGeometries","clonedGeometries","GeometryCollection","opt_geometries","geometries_","changeEventsKeys_","listenGeometriesChange_","unlistenGeometriesChange_","geometryCollection","setGeometries","getGeometriesArrayRecursive","geometriesArray","simplifiedGeometries","simplified","simplifiedGeometryCollection","setGeometriesArray","GeoJSON","geometryName","extractGeometryName_","extractGeometryName","geoJSONFeature","geoJSONFeatures","crs","objects","readGeometryCollectionGeometry","geoJSON","writePointGeometry","writeLineStringGeometry","rightHanded","writePolygonGeometry","writeMultiPointGeometry","writeMultiLineStringGeometry","writeMultiPolygonGeometry","writeGeometryCollectionGeometry","GeojsonFrameGeometrySourceMode","Geojson","Geohash","Coords","Lookup","ExtendFrameGeometrySourceMode","getFieldFinder","matcher","frame","field","fields","matchLowerNames","has","disp","getFieldDisplayName","defaultMatchers","mode","geojson","Set","h3","wkt","getLocationMatchers","getFieldMatcher","FieldMatcherID","gazetteer","dataFrameToPoints","getLocationFields","getGeometryFromGeoJSON","getPointsFromLonLat","getPointsFromGeohash","gaz","getPointsFromGazetteer","TextDimensionMode","ScalarDimensionMode","ScaleDimensionMode","Linear","Quadratic","Mod","Clamped","Fixed","Field","Template","freeze","fixed","ResourceDimensionMode","Mapping","ResourceFolderName","IOT","Marker","BG","MediaType","PickerTabType","Folder","Upload","ResourcePickerSize","SMALL","NORMAL","findField","getLastNotNullFieldValue","calcs","ReducerID","getColorDimension","visualization","getColorByName","isAssumed","getFieldColorModeForField","isByValue","mappings","getDisplayProcessor","getCalculator","getColorDimensionForField","getScaledDimension","FieldType","isNumber","stats","reduceField","reducers","getMinMaxAndDelta","scaled","percent","getScaledDimensionForField","maxArea","minArea","deltaArea","validateScaleOptions","useFieldDisplayNames","useMemo","raw","getFrameFieldsDisplayNames","useSelectOptions","displayNames","currentName","firstItem","fieldType","icon","getFieldTypeIcon","NumberInput","PureComponent","componentDidMount","componentDidUpdate","oldProps","renderInput","Input","ref","inputRef","autoFocus","onChange","onBlur","updateValue","onKeyPress","inputCorrected","invalid","validationMessageHorizontalOverflow","React","txt","current","updateValueDebounced","debounce","newValue","corrected","currValue","currentTarget","valueAsNumber","fixedValueOption","ScaleDimensionEditor","useStyles2","getStyles","fieldName","isFixed","minMaxStep","validateAndDoChange","useCallback","copy","validateScaleConfig","onSelectChange","selection","onMinChange","onMaxChange","onValueChange","selectedOption","div","Select","noOptionsMessage","InlineFieldRow","InlineField","labelWidth","grow","hideRange","fixedColorOption","ColorDimensionEditor","defaultColor","onColorChange","picker","ColorPicker","enableNamedColors","ObservablePropsWrapper","Component","sub","watch","subscribe","subProps","complete","componentWillUnmount","unsubscribe","initialSubProps","MarkersLegend","unit","useTheme2","fmt","formattedValueToString","colorMode","isContinuous","getColors","colors","colorRange","Label","gradientContainer","backgroundImage","getContrastText","thresholds","fieldConfig","getValueFormat","ThresholdsMode","startVal","endVal","yAxis","getThresholdItems","infoWrap","legend","legendItem","stylesFactory","secondary","spacing","typography","bodySmall","circleMarker","hasFill","make","fillColor","markerMakers","Text","font_","textAlign_","justify_","textBaseline_","maxAngle_","placement_","overflow_","offsetX_","offsetY_","backgroundFill_","backgroundStroke_","padding_","setOverflow","setFont","setMaxAngle","setOffsetX","setOffsetY","setPlacement","setTextAlign","setJustify","setTextBaseline","setBackgroundFill","setBackgroundStroke","setPadding","geoJsonStrokeSize","fillOpacity","showLegend","showPin","enableGradient","enableShadow","pinShape","iconSize","clusterDistance","clusterMinDistance","clusterValue","legendName","legendUnit","MARKERS_LAYER_ID","defaultMarkersConfig","pinshape","circle","poi","bubble","coma","shield","blazon","bookmark","hexagon","diamond","sign","ban","lozenge","square","markersLayer","showLocation","geometryLayer","displayProperties","selectIcon","titleField","timeField","clusterStyle","customStyle","customValue","pin","FontSymbol","computeSum","sum","configSize","rowIndex","formatValue","markerStyle","Shadow","addOnLayer","computeClusterValue","getScaleCalculator","computeColor","formatClusterValue","combine","legendProps","ReplaySubject","series","pinFeatures","thresholdOverride","newThresholds","override","thresholdJson","getNewThreshold","replaceThresholdInData","query","refId","meta","colorDim","sizeDim","geoType","strokeSize","geometrySource","pinSource","clusterSource","iconType","iconValues","addCustomEditor","editor","addSliderInput","addNumberInput","geojsonMapper","allowCustomValue","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","DYNAMIC_DRAW","CONTEXT_IDS","opt_attributes","preserveDrawingBuffer","antialias","WebGLArrayBuffer","opt_usage","usage","ofSize","getArrayClassForType","fromArray","arrayClass","fromArrayBuffer","getUsage","Float32Array","Uint32Array","WebGLPostProcessingPass","gl_","webGlContext","gl","scaleRatio_","scaleRatio","renderTargetTexture_","createTexture","renderTargetTextureSize_","frameBuffer_","createFramebuffer","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","renderTargetProgram_","createProgram","attachShader","linkProgram","renderTargetVerticesBuffer_","createBuffer","bindBuffer","bufferData","STATIC_DRAW","renderTargetAttribLocation_","getAttribLocation","renderTargetUniformLocation_","getUniformLocation","renderTargetOpacityLocation_","renderTargetTextureLocation_","uniforms_","uniforms","getGL","textureSize","drawingBufferWidth","drawingBufferHeight","bindFramebuffer","FRAMEBUFFER","getFrameBuffer","internalFormat","RGBA","UNSIGNED_BYTE","bindTexture","TEXTURE_2D","texImage2D","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","framebufferTexture2D","COLOR_ATTACHMENT0","nextPass","preCompose","postCompose","activeTexture","TEXTURE0","canvasId","renderTargets","getContextAttributes","clearColor","COLOR_BUFFER_BIT","enable","BLEND","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","useProgram","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform2f","uniform1i","uniform1f","applyUniforms","drawArrays","TRIANGLES","textureSlot","uniform","ImageData","texture","uniform3f","uniform4f","fromTransform","mat4","AttributeType","UNSIGNED_SHORT","UNSIGNED_INT","canvasCache","getSharedCanvasCacheKey","uniqueCanvasCacheKeyCount","WebGLHelper","boundHandleWebGLContextLost_","handleWebGLContextLost","boundHandleWebGLContextRestored_","handleWebGLContextRestored","canvasCacheKey_","canvasCacheKey","cacheItem","users","getCanvas","bufferCache_","extensionCache_","currentProgram_","ContextEventType","offsetRotateMatrix_","offsetScaleMatrix_","tmpMat4_","uniformLocations_","attribLocations_","setUniforms","postProcessPasses_","postProcesses","shaderCompileErrors_","startTime_","name_1","canvasCacheKeyMatches","getExtension","bufferKey","bufferCache","webGlBuffer","flushBufferData","deleteBuffer","buf","bufferCacheEntry","isContextLost","loseContext","prepareDraw","opt_disableAlphaBlend","ZERO","applyFrameState","prepareDrawToRenderTarget","renderTarget","getFramebuffer","getTexture","drawElements","elementType","numItems","offsetInBytes","finalizeDraw","offsetScaleMatrix","offsetRotateMatrix","setUniformMatrixValue","setUniformFloatValue","HTMLImageElement","prevValue","program","shader","getProgram","fragmentShaderSource","vertexShaderSource","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","getProgramParameter","LINK_STATUS","getAttributeLocation","makeProjectionTransform","setUniformFloatVec4","uniform4fv","uniformMatrix4fv","enableAttributeArray_","attribName","enableAttributes","attr","getByteSizeFromType","computeAttributesStride","opt_data","opt_texture","BYTES_PER_ELEMENT","Uint16Array","WebGLWorkerMessageType","WebGLLayerRenderer","inversePixelTransform_","postProcesses_","helper","removeHelper","dispatchPreComposeEvent","dispatchPostComposeEvent","event_2","reset","incrementGroup","groupNumber","mapId","afterHelperCreated","prepareFrameInternal","event_3","colorEncodeId","radix","divide","tmpArray4","WebGLRenderTarget","helper_","texture_","framebuffer_","data_","dataCacheDirty_","updateSize_","clearCachedData","readAll","readPixels","readPixel","WebGLPointsLayerRenderer","projectionMatrixTransform","sourceRevision_","verticesBuffer_","hitVerticesBuffer_","indicesBuffer_","vertexShader_","fragmentShader_","program_","hitDetectionEnabled_","hitFragmentShader","hitVertexShader","hitVertexShader_","hitFragmentShader_","hitProgram_","customAttributes","attribute","hitDetectionAttributes","previousExtent_","currentTransform_","renderTransform_","invertRenderTransform_","renderInstructions_","hitRenderInstructions_","hitRenderTarget_","generateBuffersRun_","worker_","Worker","Blob","Buffer","createObjectURL","received","projectionTransform","hitDetection","vertexBuffer","indexBuffer","renderInstructions","generateBuffersRun","featureCache_","featureCount_","sourceListenKeys_","handleSourceFeatureAdded_","handleSourceFeatureChanged_","handleSourceFeatureDelete_","handleSourceFeatureClear_","startWorld","renderCount","renderHitDetection","viewNotMoving","sourceChanged","rebuildBuffers_","featureCache","totalInstructionsCount","totalHitInstructionsCount","hitColor","tmpCoords","tmpColor","renderIndex","hitIndex","featureUid","customAttributesCount","postMessage","hitMessage","mult","terminate","DEFAULT_GRADIENT","Heatmap","gradient_","handleGradientChanged_","setGradient","setBlur","weightFunction_","getBlur","getGradient","createGradient","u_size","u_blurSlope","u_gradientTexture","u_opacity","FrameVectorSource","heatmapLayer","WEIGHT_KEY","weightDim","lastPointTracker","ImageCanvas","opt_loader","error_","getError","handleLoad_","ReprojImage","getImageFunction","sourceImage","sourcePixelRatio","targetResolution_","targetExtent_","sourceImage_","sourcePixelRatio_","sourceListenerKey_","unlistenSource_","sourceState","ImageSourceEvent","ImageSource","reprojectedImage_","reprojectedRevision_","findNearestResolution","getImageInternal","handleImageChange","ImageCanvasSource","canvasFunction_","canvasFunction","ratio_","canvasElement","ol_source_IDW","calculateImage","_source","_canvas","useWorker","worker","ol_ext_Worker","computeImage","onMessage","onImageData","_position","_weight","setData","getValue","pt","Uint8ClampedArray","inv","_updated","dw","dh","xy","_internal","BaseImageLayer","CanvasImageLayerRenderer","imageLayer","imageSource","hints","imageExtent","imageMapWidth","imageMapHeight","imageResolution","imagePixelRatio","previousAlpha","ImageLayer","BaseImage","showData","showPopup","idwmapLayer","idw","IDW","dataLayer","dataLayers","DEFAULT_BASEMAP_CONFIG","defaultBaseLayer","serverLayerType","geomapLayerRegistry","isBrowser","Components","TimePicker","openButton","fromField","toField","applyTimeRange","calendar","closeButton","absoluteTimeRangeTitle","DataSource","TestData","QueryTab","scenarioSelectContainer","scenarioSelect","noise","seriesCount","spread","startValue","drop","DataSourceHttpSettings","urlInput","Jaeger","traceIDInput","Prometheus","configPage","exemplarsAddButton","internalLinkSwitch","exemplarMarker","Menu","MenuComponent","MenuGroup","MenuItem","SubMenu","Panels","Panel","headerItems","containerByTitle","headerCornerInfo","Visualization","Graph","VisualizationTab","legendSection","Legend","legendItemAlias","showLegendSwitch","xAxis","labels","BarGauge","valueV2","PieChart","svgSlice","Table","header","footer","VizLegend","seriesName","Drawer","General","expand","contract","rcContentWrapper","PanelEditor","OptionsPane","select","fieldLabel","DataPane","applyButton","toggleVizPicker","toggleVizOptions","toggleTableView","measureButton","PanelInspector","Data","Stats","Json","Query","refreshButton","jsonObjectKeys","Tab","active","RefreshPicker","runButton","intervalButton","runButtonV2","intervalButtonV2","queryInspectorButton","queryHistoryButton","addQuery","QueryHistory","queryText","QueryEditorRows","rows","QueryEditorRow","actionButton","AlertTab","Alert","alert","severity","alertV2","TransformTab","newTransform","transformationEditor","transformationEditorDebugger","Transforms","card","Reduce","modeLabel","calculationsLabel","SpatialOperations","actionLabel","locationLabel","autoOption","option","latitudeFieldLabel","longitudeFieldLabel","geohashFieldLabel","lookupFieldLabel","gazetteerFieldLabel","searchInput","PageToolbar","tooltip","QueryEditorToolbarItem","BackButton","backArrow","OptionsGroup","toggle","PluginVisualization","singleValue","FieldConfigEditor","OverridesConfigEditor","FolderPicker","containerV2","ReadonlyFolderPicker","DataSourcePicker","inputV2","TimeZonePicker","WeekStartPicker","TraceViewer","spanBar","QueryField","QueryBuilder","queryPatterns","labelSelect","valueSelect","matchOperatorSelect","ValuePicker","Search","section","sectionV2","itemsV2","cards","collapseFolder","sectionId","expandFolder","dashboardItem","dashboardItems","dashboardCard","folderHeader","folderName","folderContent","DashboardLinks","dropDown","link","LoadingIndicator","CallToActionCard","buttonV2","DataLinksContextMenu","singleLink","CodeEditor","DashboardImportPage","textarea","submit","ImportDashboardForm","PanelAlertTabContent","VisualizationPreview","ColorSwatch","DashboardRow","UserProfile","profileSaveButton","preferencesSaveButton","orgsTable","sessionsTable","FileUpload","inputField","fileNameSpan","DebugOverlay","wrapper","selectors","pages","Login","username","password","skip","Home","delete","readOnly","saveAndTest","DataSources","dataSources","dataSourceName","AddDataSource","dataSourcePlugins","pluginName","dataSourcePluginsV2","ConfirmModal","AddDashboard","addNewPanel","addNewRow","addNewPanelLibrary","Dashboard","DashNav","nav","navV2","publicDashboardTag","submenu","submenuItem","submenuItemLabels","submenuItemValueDropDownValueLinkTexts","submenuItemValueDropDownDropDown","submenuItemValueDropDownOptionTexts","Settings","deleteDashBoard","sectionItems","saveDashBoard","saveAsDashBoard","timezone","Annotations","List","addAnnotationCTA","addAnnotationCTAV2","Variables","addVariableCTA","addVariableCTAV2","newButton","table","tableRowNameFields","variableName","tableRowDefinitionFields","tableRowArrowUpButtons","tableRowArrowDownButtons","tableRowDuplicateButtons","tableRowRemoveButtons","Edit","headerLink","modeLabelNew","modeLabelEdit","generalNameInput","generalNameInputV2","generalTypeSelect","generalTypeSelectV2","generalLabelInput","generalLabelInputV2","generalHideSelect","generalHideSelectV2","selectionOptionsMultiSwitch","selectionOptionsIncludeAllSwitch","selectionOptionsCustomAllInput","selectionOptionsCustomAllInputV2","previewOfValuesOption","submitButton","QueryVariable","queryOptionsDataSourceSelect","queryOptionsRefreshSelect","queryOptionsRefreshSelectV2","queryOptionsRegExInput","queryOptionsRegExInputV2","queryOptionsSortSelect","queryOptionsSortSelectV2","queryOptionsQueryInput","valueGroupsTagsEnabledSwitch","valueGroupsTagsTagsQueryInput","valueGroupsTagsTagsValuesQueryInput","ConstantVariable","constantOptionsQueryInput","constantOptionsQueryInputV2","DatasourceVariable","datasourceSelect","TextBoxVariable","textBoxOptionsQueryInput","textBoxOptionsQueryInputV2","CustomVariable","customValueInput","IntervalVariable","intervalsValueInput","Dashboards","dashboards","SaveDashboardAsModal","newName","SaveDashboardModal","saveVariables","saveTimerange","SharePanelModal","linkToRenderedImage","ShareDashboardModal","shareButton","PublicDashboard","WillBePublicCheckbox","LimitedDSCheckbox","CostIncreaseCheckbox","EnableSwitch","EnableAnnotationsSwitch","SaveConfigButton","DeleteButton","CopyUrlInput","CopyUrlButton","TemplateVariablesWarningAlert","Explore","graph","scrollView","SoloPanel","page","PluginsList","listItem","signatureErrorNotice","PluginPage","signatureInfo","disabledInfo","PlaylistForm","itemDelete","FolderView","PublicDashboards","ListItem","linkButton","configButton","trashcanButton","components","OptionsPaneCategory","forceOpen","isOpenDefault","renderTitle","itemsCount","isNested","initialIsExpanded","savedState","setSavedState","initialValue","deserializer","initializer","useRef","serializer","localStorageValue","localStorage","getItem","setItem","useState","useLayoutEffect","valOrFunc","newState","removeItem","useLocalStorage","getOptionGroupStorageKey","isExpanded","setIsExpanded","useEffect","onToggle","span","Counter","boxStyles","cx","boxNestedExpanded","headerStyles","headerExpanded","headerNested","bodyStyles","bodyNested","data-testid","aria-label","onClick","role","displayName","weak","primary","fontWeightMedium","emphasize","OptionsPaneCategoryDescriptor","addItem","addCategory","category","categories","searchQuery","customRender","setOptionImmutably","splat","endsWith","propKey","OptionsPaneItemDescriptor","getLabel","highlightWord","word","skipField","paths","GazetteerPathEditor","setGaz","fetchData","menuShouldPortal","formatCreateLabel","FrameSelectionEditor","listOfRefId","priorSelectionState","updatePriorSelectionState","refIds","currentValue","newRefIds","oldRefIds","previousValue","refId2","recoverRefIdMissing","onFilterChange","FrameMatcherID","isClearable","LayerEditor","layerTypes","optionsEditorBuilder","showOpacity","PanelOptionsEditorBuilder","addFieldNamePicker","noFieldsMessage","addMultiSelect","getOptions","frames","layerOptions","currentOptions","optionEditors","getOptionsPaneCategory","onValueChanged","pluginOption","Editor","lodashGet","fillOptionsPaneItems","getRegistry","categoryNames","br","baseMapFilter","BaseLayerEditor","dataLayerFilter","DataLayersEditor","ToolbarButton","newData","_","CollapsableSection","isOpen","onDeleteLayer","CENTER","RESOLUTION","ROTATION","createExtent","onlyCenter","smooth","opt_isMoving","opt_centerShift","viewWidth","viewHeight","shiftX","shiftY","none","getViewportClampedResolution","viewportSize","showFullExtent","xResolution","yResolution","getSmoothClampedResolution","createMinMaxResolution","opt_smooth","opt_maxExtent","opt_showFullExtent","cappedMaxRes","disable","View","hints_","animations_","updateAnimationKey_","projection_","viewportSize_","targetCenter_","targetRotation_","nextCenter_","nextResolution_","nextRotation_","cancelAnchor_","applyOptions_","ViewProperty","resolutionConstraintInfo","resolutionConstraint","smoothResolutionConstraint","projExtent","constrainOnlyCenter","constrainResolution","capped","createSnapToResolutions","defaultMaxResolution","defaultMinResolution","defaultMaxZoom","power","opt_minResolution","minZoomLevel","cappedZoomLevel","zoomLevel","newResolution","createSnapToPower","constraint","createResolutionConstraint","maxResolution_","minResolution_","minZoom_","centerConstraint","smoothExtentConstraint","createCenterConstraint","rotationConstraint","enableRotation","constrainRotation","theta","createRotationConstraint","constraints_","setCenterInternal","setResolution","setZoom","oldPadding","newPadding","configurable","getUpdatedOptions_","newOptions","getCenterInternal","var_args","isDef","getAnimating","resolveConstraints","animateInternal","animationCount","animation","duration","easing","getResolutionForZoom","sourceRotation","targetRotation","isNoopAnimation","setHint","updateAnimations_","animationCallback","getInteracting","cancelAnimations","cancelAnimationFrame","more","seriesComplete","elapsed","progress","getViewportSize_","constrainedResolution","calculateCenterZoom","applyTargetState_","constrainedRotation","calculateCenterRotate","requestAnimationFrame","currentCenter","currentResolution","opt_rotation","setViewportSize","getConstraints","getConstrainResolution","getHints","opt_hints","calculateExtent","calculateExtentInternal","getViewportSizeMinusPadding_","getZoomForResolution","setConstrainResolution","enabled","getResolutionForExtent","getResolutionForExtentInternal","getResolutionForValueFunction","opt_power","getConstrainedResolution","getValueForResolutionFunction","logPower","reducedSize","calculateCenterOn","nextCenter","nextResolution","nextRotation","nearest","baseLevel","fit","geometryOrExtent","fitInternal","rotatedExtentForGeometry","minRotX","minRotY","maxRotX","maxRotY","rotX","rotY","rotatedExtent","centerRot","getConstrainedCenter","centerOn","centerOnInternal","calculateCenterShift","centerShift","shiftedCenter","adjustCenter","deltaCoordinates","setCenter","adjustCenterInternal","adjustResolution","adjustResolutionInternal","isMoving","adjustZoom","adjustRotation","adjustRotationInternal","newRotation","hint","opt_doNotCancelAnims","opt_forceMoving","newCenter","opt_duration","opt_resolutionDirection","beginInteraction","endInteraction","endInteractionInternal","opt_targetResolution","getConstrainedZoom","targetZoom","targetRes","returnValue","MapRenderer","dispatchRenderEvent","calculateMatrices2D","checkWrapped","thisArg","layerFilter","thisArg2","translatedCoordinate","offsets","layerStates","numLayers","callback_1","order","forEachLayerAtPixel","hasFeatureAtCoordinate","scheduleExpireIconCache","expireIconCache","CompositeMapRenderer","fontChangeListenerKey_","redrawText","element_","CLASS_UNSELECTABLE","getViewport","children_","renderedVisible_","declutterLayers","previousElement","MapEvent","MapBrowserEvent","originalEvent","opt_dragging","opt_activePointers","pixel_","coordinate_","dragging","activePointers","getEventPixel","getCoordinateFromPixel","SINGLECLICK","POINTERDRAG","POINTERMOVE","POINTERDOWN","POINTERUP","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","MapBrowserEventHandler","moveTolerance","clickTimeoutId_","emulateClicks_","dragging_","dragListenerKeys_","moveTolerance_","down_","activePointers_","trackedTouches_","pointerdownListenerKey_","handlePointerDown_","originalPointerMoveEvent_","relayedListenerKey_","relayMoveEvent_","boundHandleTouchMove_","handleTouchMove_","emulateClick_","pointerEvent","newEvent","updateActivePointers_","pointerId","handlePointerUp_","isMouseActionButton_","doc","getOwnerDocument","handlePointerMove_","getRootNode","isMoving_","cancelable","clientX","clientY","PriorityQueue","priorityFunction","keyFunction","priorityFunction_","keyFunction_","elements_","priorities_","queuedElements_","dequeue","elements","priorities","siftUp_","elementKey","priority","siftDown_","getLeftChildIndex_","getRightChildIndex_","getParentIndex_","heapify_","isQueued","startIndex","lIndex","rIndex","smallerChildIndex","parentIndex","reprioritize","TileQueue","tilePriorityFunction","tileChangeCallback","boundHandleTileChange_","tileChangeCallback_","tilesLoading_","tilesLoadingKeys_","added","getTilesLoading","loadMoreTiles","maxTotalLoading","maxNewLoads","newLoads","removeLayerMapProperty","setLayerMapProperty","PluggableMap","optionsInternal","keyboardEventTarget","controls","interactions","overlays","layerGroup","view","createOptionsInternal","renderComplete_","loaded_","boundHandleBrowserEvent_","handleBrowserEvent","maxTilesLoading_","maxTilesLoading","postRenderTimeoutHandle_","animationDelayKey_","animationDelay_","renderFrame_","coordinateToPixelTransform_","pixelToCoordinateTransform_","frameIndex_","frameState_","viewPropertyListenerKey_","viewChangeListenerKey_","layerGroupPropertyListenerKeys_","viewport_","overlayContainer_","overlayContainerStopEvent_","mapBrowserEventHandler_","keyboardEventTarget_","targetChangeHandlerKeys_","overlays_","overlayIdIndex_","postRenderFunctions_","tileQueue_","getTilePriority","handleTileChange_","MapProperty","handleLayerGroupChanged_","handleViewChanged_","handleSizeChanged_","handleTargetChanged_","viewOptions","setView","addOverlayInternal_","control","interaction","addControl","getControls","addInteraction","getInteractions","addLayer","getLayerGroup","handleLayerAdd_","addOverlay","overlay","getOverlays","forEachFeatureAtPixel","getCoordinateFromPixelInternal","getFeaturesAtPixel","getAllLayers","addLayersFrom","hasFeatureAtPixel","getEventCoordinate","getEventCoordinateInternal","viewportPosition","getBoundingClientRect","eventPosition","changedTouches","top","getTargetElement","getOverlayById","getLoadingOrNotReady","getPixelFromCoordinate","viewCoordinate","getPixelFromCoordinateInternal","getOverlayContainer","targetElement","ownerDocument","tileCenter","browserEvent","mapBrowserEvent","handleMapBrowserEvent","rootNode","documentElement","interactionsArray","getActive","handlePostRender","lowOnFrameBudget","MapEventType","defaultView","updateSize","handleViewPropertyChanged_","updateViewportSize_","Group","handleLayerRemove_","isRendered","renderSync","removeControl","removeInteraction","removeLayer","removeOverlay","previousFrameState","nextExtent","setLayerGroup","oldLayerGroup","computedStyle","offsetWidth","getClientRects","Attribution","ulElement_","collapsed_","collapsed","userCollapsed_","overrideCollapsible_","collapsible","collapsible_","expandClassName","collapseClassName","collapseLabel_","label_","activeLabel","toggleButton_","handleClick_","cssClasses","renderedAttributions_","collectSourceAttributions_","visibleAttributions","attributionGetter","setCollapsible","updateElement_","handleToggle_","getCollapsible","setCollapsed","getCollapsed","Rotate","compassClassName","callResetNorth_","resetNorth","duration_","autoHide_","autoHide","resetNorth_","Zoom","zoomInClassName","zoomOutClassName","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","outElement","zoomByDelta_","currentZoom","newZoom","zoomByDelta","Interaction","setActive","DoubleClickZoom","delta_","stopEvent","shiftKey","PointerInteraction","handleDownEvent","handleDragEvent","handleMoveEvent","handleUpEvent","stopDown","handlingDownUpSequence","targetPointers","getPointerCount","updateTrackedPointers_","handledUp","handled","conditions","pass","altShiftKeysOnly","altKey","metaKey","ctrlKey","focusWithTabindex","hasAttribute","activeElement","always","mouseActionButton","noModifierKeys","shiftKeyOnly","targetNotEditable","tagName","isContentEditable","mouseOnly","pointerType","primaryAction","isPrimary","DragPan","kinetic_","kinetic","lastCentroid","lastPointersCount_","panning_","condition_","onFocusOnly","noKinetic_","centerpx","Pointer","DragRotate","lastAngle_","RenderBox","startPixel_","endPixel_","render_","startPixel","endPixel","px","setPixels","createOrUpdateGeometry","DragBoxEvent","DragBox","box_","minArea_","onBoxEnd","boxEndCondition_","boxEndCondition","defaultBoxEndCondition","completeBox","DragZoom","out_","KeyboardPan","defaultCondition_","pixelDelta_","pixelDelta","keyEvent","keyCode","mapUnitsDelta","pan","KeyboardZoom","Kinetic","decay","minVelocity","delay","decay_","minVelocity_","delay_","initialVelocity_","firstIndex","Mode","MouseWheelZoom","totalDelta_","lastDelta_","timeout_","useAnchor_","useAnchor","constrainResolution_","lastAnchor_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","deltaPerZoom_","endInteraction_","wheelEvent","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","timeLeft","handleWheelZoom_","setMouseAnchor","PinchRotate","pointerOptions","rotating_","rotationDelta_","threshold_","threshold","rotationDelta","touch0","touch1","PinchZoom","lastDistance_","lastScaleDelta_","scaleDelta","altShiftDragRotate","doubleClickZoom","zoomDelta","zoomDuration","dragPan","pinchRotate","pinchZoom","keyboard","mouseWheelZoom","shiftDragZoom","zoomOptions","rotateOptions","attributionOptions","Composite","UNITS_PROP","LEADING_DIGITS","DEFAULT_DPI","ScaleLine","bar","innerElement_","viewState_","minWidth_","minWidth","maxWidth_","maxWidth","renderedWidth_","renderedHTML_","handleUnitsChanged_","setUnits","scaleBar_","scaleBarSteps_","scaleBarText_","dpi_","dpi","setDpi","pointResolutionUnits","nominalCount","suffix","metersPerDegree","decimalCount","previousCount","previousWidth","previousDecimalCount","html","decimal","createScaleBar","mapScale","getScaleForResolution","toLocaleString","scaleSteps","stepWidth","createMarker","createStepText","isLast","lengthString","MapCenterID","Zero","Coordinates","centerPointRegistry","GeomapOverlay","TR","BL","updateViewState","tbody","th","td","panelBg","DataHoverView","columnIndex","propsToShow","singleDisplay","h5","h1","rightDisplay","h6","action","hover","fontWeightBold","leftDisplay","sharedView","lastGeomapPanelInstance","GeomapPanel","shouldComponentUpdate","nextProps","layersChanged","optionsChanged","dataChanged","oldOptions","initMapView","initControls","showZoom","showAttribution","showLayercontrol","basemap","initBasemap","initLayers","handler","geo","legends","___handler","str","counter","showScale","scaleUnits","layerSwitcher","zoomCluster","showDebug","ttip","wrap","initMapRef","Portal","VizTooltipContainer","viz","pageX","globalCSS","main","shade","hitToler","hoverPayload","hoverEvent","DataHoverEvent","interactionDefaults","forceUpdate","pointerClickListener","mouse","hasLink","linkFieldName","uri","pointerMoveListener","thisLayer","thisLayerName","eventBus","publish","currentTTip","MapViewEditor","views","ids","onSetCurrentView","onSelectView","groupLayers","VerticalGroup","Button","fullWidth","asNumber","num","plugin","PanelPlugin","setNoPadding","setPanelChangeHandler","prevPluginId","prevOptions","prevFieldConfig","angular","defaults","overrides","levels","strVale","trim","initialZoom","mapCenters","Europe","mapCenter","mapCenterLatitude","mapCenterLongitude","worldmapToGeomapOptions","useFieldConfig","setPanelOptions"],"sourceRoot":""}